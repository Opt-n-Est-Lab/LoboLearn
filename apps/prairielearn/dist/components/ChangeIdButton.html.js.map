{"version":3,"file":"ChangeIdButton.html.js","sourceRoot":"","sources":["../../src/components/ChangeIdButton.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,EAAE,IAAI,MAAM,EAAE,MAAM,MAAM,CAAC;AAEpC,OAAO,EAAkB,UAAU,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAEtE,MAAM,UAAU,cAAc,CAAC,EAC7B,KAAK,EACL,YAAY,EACZ,WAAW,EACX,aAAa,EACb,SAAS,EACT,MAAM,GAQP;IACC,MAAM,EAAE,GAAG,aAAa,MAAM,EAAE,EAAE,CAAC;IACnC,OAAO,IAAI,CAAA;;YAED,EAAE;;;6BAGe,YAAY;2BACd,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;8BACxB,KAAK;yBACV,UAAU,CAC3B,YAAY,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,aAAa,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAC5E;;;qBAGc,KAAK;;GAEvB,CAAC;AACJ,CAAC;AAED,SAAS,YAAY,CAAC,EACpB,EAAE,EACF,KAAK,EACL,YAAY,EACZ,aAAa,EACb,SAAS,EACT,MAAM,GAQP;IACC,OAAO,IAAI,CAAA;;oDAEuC,MAAM,IAAI,WAAW;wDACjB,SAAS;;;2CAGtB,aAAa,IAAI,EAAE;;;+CAGf,EAAE,KAAK,KAAK;;;;sBAIrC,EAAE;;mBAEL,YAAY;;;;;;;;;;GAU5B,CAAC;AACJ,CAAC","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\n\nimport { type HtmlValue, escapeHtml, html } from '@prairielearn/html';\n\nexport function ChangeIdButton({\n  label,\n  currentValue,\n  otherValues,\n  extraHelpText,\n  csrfToken,\n  action,\n}: {\n  label: string;\n  currentValue: string;\n  otherValues: string[];\n  extraHelpText?: HtmlValue;\n  csrfToken: string;\n  action?: string;\n}) {\n  const id = `change-id-${uuidv4()}`;\n  return html`\n    <button\n      id=\"${id}\"\n      class=\"btn btn-xs btn-secondary js-change-id-button\"\n      type=\"button\"\n      data-previous-value=\"${currentValue}\"\n      data-other-values=\"${JSON.stringify(otherValues)}\"\n      data-bs-title=\"Change ${label}\"\n      data-bs-content=\"${escapeHtml(\n        ChangeIdForm({ id, label, currentValue, extraHelpText, csrfToken, action }),\n      )}\"\n    >\n      <i class=\"fa fa-i-cursor\"></i>\n      <span>Change ${label}</span>\n    </button>\n  `;\n}\n\nfunction ChangeIdForm({\n  id,\n  label,\n  currentValue,\n  extraHelpText,\n  csrfToken,\n  action,\n}: {\n  id: string;\n  label: string;\n  currentValue: string;\n  extraHelpText?: HtmlValue;\n  csrfToken: string;\n  action?: string;\n}) {\n  return html`\n    <form name=\"change-id-form\" class=\"needs-validation\" method=\"POST\" novalidate>\n      <input type=\"hidden\" name=\"__action\" value=\"${action ?? 'change_id'}\" />\n      <input type=\"hidden\" name=\"__csrf_token\" value=\"${csrfToken}\" />\n      <div class=\"container p-0 mb-4\">\n        Use only letters, numbers, dashes, and underscores, with no spaces. You may use forward\n        slashes to separate directories. ${extraHelpText ?? ''}\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\" for=\"input-${id}\">${label}:</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"input-${id}\"\n          name=\"id\"\n          value=\"${currentValue}\"\n          pattern=\"[\\\\-A-Za-z0-9_\\\\/]+\"\n          required\n        />\n      </div>\n      <div class=\"text-right\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"popover\">Cancel</button>\n        <button type=\"submit\" class=\"btn btn-primary\">Change</button>\n      </div>\n    </form>\n  `;\n}\n"]}