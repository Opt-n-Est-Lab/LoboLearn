{"version":3,"file":"StudentAccessRulesPopover.html.js","sourceRoot":"","sources":["../../src/components/StudentAccessRulesPopover.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAExB,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAEtD,OAAO,EAAE,cAAc,EAAE,MAAM,oBAAoB,CAAC;AAEpD,MAAM,CAAC,MAAM,qBAAqB,GAAG,CAAC,CAAC,MAAM,CAAC;IAC5C,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE;IAClB,cAAc,EAAE,CAAC,CAAC,MAAM,EAAE;IAC1B,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE;IACtB,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE;IACpB,IAAI,EAAE,cAAc,CAAC,QAAQ,EAAE;IAC/B,MAAM,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;CAC/B,CAAC,CAAC;AAGH,MAAM,UAAU,yBAAyB,CAAC,EAAE,WAAW,EAAsC;IAC3F,OAAO,IAAI,CAAA;;;;;;;;yBAQY,UAAU,CAAC,gCAAgC,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC;;;;GAInF,CAAC;AACJ,CAAC;AAED,SAAS,gCAAgC,CAAC,EAAE,WAAW,EAAsC;IAC3F,OAAO,IAAI,CAAA;;;;;;;QAOL,WAAW,CAAC,GAAG,CACf,CAAC,UAAU,EAAE,EAAE,CAAC,IAAI,CAAA;;kBAEV,UAAU,CAAC,MAAM;kBACjB,UAAU,CAAC,UAAU;kBACrB,UAAU,CAAC,QAAQ;;SAE5B,CACF;;GAEJ,CAAC;AACJ,CAAC","sourcesContent":["import { z } from 'zod';\n\nimport { escapeHtml, html } from '@prairielearn/html';\n\nimport { EnumModeSchema } from '../lib/db-types.js';\n\nexport const AuthzAccessRuleSchema = z.object({\n  credit: z.string(),\n  time_limit_min: z.string(),\n  start_date: z.string(),\n  end_date: z.string(),\n  mode: EnumModeSchema.nullable(),\n  active: z.boolean().nullable(),\n});\nexport type AuthzAccessRule = z.infer<typeof AuthzAccessRuleSchema>;\n\nexport function StudentAccessRulesPopover({ accessRules }: { accessRules: AuthzAccessRule[] }) {\n  return html`\n    <button\n      type=\"button\"\n      class=\"btn btn-xs btn-ghost\"\n      data-bs-toggle=\"popover\"\n      data-bs-container=\"body\"\n      data-bs-html=\"true\"\n      data-bs-title=\"Access details\"\n      data-bs-content=\"${escapeHtml(StudentAccessRulesPopoverContent({ accessRules }))}\"\n    >\n      <i class=\"fa fa-question-circle\"></i>\n    </button>\n  `;\n}\n\nfunction StudentAccessRulesPopoverContent({ accessRules }: { accessRules: AuthzAccessRule[] }) {\n  return html`\n    <table class=\"table\" aria-label=\"Access details\">\n      <tr>\n        <th>Credit</th>\n        <th>Start</th>\n        <th>End</th>\n      </tr>\n      ${accessRules.map(\n        (accessRule) => html`\n          <tr>\n            <td>${accessRule.credit}</td>\n            <td>${accessRule.start_date}</td>\n            <td>${accessRule.end_date}</td>\n          </tr>\n        `,\n      )}\n    </table>\n  `;\n}\n"]}