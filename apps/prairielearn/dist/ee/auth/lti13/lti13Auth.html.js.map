{"version":3,"file":"lti13Auth.html.js","sourceRoot":"","sources":["../../../../src/ee/auth/lti13/lti13Auth.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAE1C,OAAO,EAAE,YAAY,EAAE,MAAM,0CAA0C,CAAC;AACxE,OAAO,EAAqB,MAAM,uBAAuB,CAAC;AAC1D,OAAO,EAAsB,MAAM,0BAA0B,CAAC;AAE9D,MAAM,CAAC,MAAM,SAAS,GAAG,CAAC,EACxB,SAAS,EACT,YAAY,EACZ,QAAQ,EACR,cAAc,EACd,GAAG,GAOJ,EAAE,EAAE;IACH,OAAO,IAAI,CAAA;;;;UAIH,YAAY,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE,CAAC;;;;;;;uBAOzC,GAAG,CAAC,IAAI;;;;;;8BAMD,QAAQ,CAAC,GAAG,WAAW,cAAc,CAAC,aAAa;8BACnD,QAAQ,CAAC,GAAG,WAAW,cAAc,CAAC,aAAa;+BAClD,QAAQ,CAAC,IAAI,WAAW,cAAc,CAAC,cAAc;gCACpD,QAAQ,CAAC,KAAK,WAAW,cAAc,CAAC,eAAe;;;uBAGhE,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;;;;GAIzD,CAAC,QAAQ,EAAE,CAAC;AACf,CAAC,CAAC","sourcesContent":["import { html } from '@prairielearn/html';\n\nimport { HeadContents } from '../../../components/HeadContents.html.js';\nimport { type LoadUserAuth } from '../../../lib/authn.js';\nimport { type Lti13Instance } from '../../../lib/db-types.js';\n\nexport const Lti13Test = ({\n  resLocals,\n  lti13_claims,\n  userInfo,\n  lti13_instance,\n  url,\n}: {\n  resLocals: Record<string, any>;\n  lti13_claims: Record<string, any>;\n  userInfo: LoadUserAuth;\n  lti13_instance: Lti13Instance;\n  url: URL;\n}) => {\n  return html`\n    <!DOCTYPE html>\n    <html lang=\"en\">\n      <head>\n        ${HeadContents({ resLocals, pageTitle: 'LTI 1.3 test' })}\n      </head>\n      <body>\n        <main class=\"container mb-4\">\n          <h1>LTI 1.3 authentication testing</h1>\n          <p>\n            Once you're satisfied, remove <code>?test</code> from the end of your configured\n            <a href=\"${url.href}\">OpenID Connection Initiation URL</a>\n            to bypass this debugging report and continue to authentication.\n          </p>\n          <h2>Mapped LTI 1.3 claims</h2>\n          <p>The user would be authenticated as:</p>\n          <ul>\n            <li><b>UID:</b> ${userInfo.uid} (<code>${lti13_instance.uid_attribute}</code>)\n            <li><b>UIN:</b> ${userInfo.uin} (<code>${lti13_instance.uin_attribute}</code>)\n            <li><b>Name:</b> ${userInfo.name} (<code>${lti13_instance.name_attribute}</code>)\n            <li><b>Email:</b> ${userInfo.email} (<code>${lti13_instance.email_attribute}</code>)\n          </ul>\n          <h2>All LTI 1.3 claims</h1>\n          <pre><code>${JSON.stringify(lti13_claims, null, 2)}</code></pre>\n        </main>\n      </body>\n    </html>\n  `.toString();\n};\n"]}