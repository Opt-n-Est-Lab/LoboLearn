{"version":3,"file":"instructorInstanceAdminBilling.html.js","sourceRoot":"","sources":["../../../../src/ee/pages/instructorInstanceAdminBilling/instructorInstanceAdminBilling.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,iBAAiB,EAAE,MAAM,+BAA+B,CAAC;AAClE,OAAO,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAE1C,OAAO,EAAE,UAAU,EAAE,MAAM,wCAAwC,CAAC;AACpE,OAAO,EAAE,kCAAkC,EAAE,MAAM,yEAAyE,CAAC;AAC7H,OAAO,EAAiB,MAAM,kCAAkC,CAAC;AAIjE,MAAM,UAAU,+BAA+B,CAAC,EAC9C,aAAa,EACb,qBAAqB,EACrB,wBAAwB,EACxB,eAAe,EACf,eAAe,EACf,qBAAqB,EACrB,4BAA4B,GAAG,CAAC,EAChC,sBAAsB,GAAG,CAAC,EAC1B,QAAQ,EACR,SAAS,GAYV;IACC,OAAO,UAAU,CAAC;QAChB,SAAS;QACT,SAAS,EAAE,SAAS;QACpB,UAAU,EAAE;YACV,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,gBAAgB;YACtB,OAAO,EAAE,SAAS;SACnB;QACD,WAAW,EAAE,CAAC,iBAAiB,CAAC,yCAAyC,CAAC,CAAC;QAC3E,OAAO,EAAE,IAAI,CAAA;QACT,CAAC,QAAQ;YACT,CAAC,CAAC,IAAI,CAAA;;WAEH;YACH,CAAC,CAAC,IAAI;;;;YAIF,kCAAkC,CAAC;YACnC,oBAAoB,EAAE,aAAa;YACnC,oBAAoB,EAAE,aAAa;YACnC,qBAAqB;YACrB,wBAAwB;YACxB,eAAe;YACf,eAAe;YACf,qBAAqB;YACrB,4BAA4B;YAC5B,sBAAsB;YACtB,QAAQ;YACR,SAAS,EAAE,SAAS,CAAC,YAAY;SAClC,CAAC;;;KAGP;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { compiledScriptTag } from '@prairielearn/compiled-assets';\nimport { html } from '@prairielearn/html';\n\nimport { PageLayout } from '../../../components/PageLayout.html.js';\nimport { InstructorInstanceAdminBillingForm } from '../../lib/billing/components/InstructorInstanceAdminBillingForm.html.js';\nimport { type PlanName } from '../../lib/billing/plans-types.js';\n\nexport type EnrollmentLimitSource = 'course_instance' | 'institution';\n\nexport function InstructorCourseInstanceBilling({\n  requiredPlans,\n  institutionPlanGrants,\n  courseInstancePlanGrants,\n  enrollmentCount,\n  enrollmentLimit,\n  enrollmentLimitSource,\n  externalGradingQuestionCount = 0,\n  workspaceQuestionCount = 0,\n  editable,\n  resLocals,\n}: {\n  requiredPlans: PlanName[];\n  institutionPlanGrants: PlanName[];\n  courseInstancePlanGrants: PlanName[];\n  enrollmentCount: number;\n  enrollmentLimit: number;\n  enrollmentLimitSource: EnrollmentLimitSource;\n  externalGradingQuestionCount: number;\n  workspaceQuestionCount: number;\n  editable: boolean;\n  resLocals: Record<string, any>;\n}) {\n  return PageLayout({\n    resLocals,\n    pageTitle: 'Billing',\n    navContext: {\n      type: 'instructor',\n      page: 'instance_admin',\n      subPage: 'billing',\n    },\n    headContent: [compiledScriptTag('instructorInstanceAdminBillingClient.ts')],\n    content: html`\n      ${!editable\n        ? html`\n            <div class=\"alert alert-warning\">Only course owners can change billing settings.</div>\n          `\n        : null}\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white d-flex\">Billing</div>\n        <div class=\"card-body\">\n          ${InstructorInstanceAdminBillingForm({\n            initialRequiredPlans: requiredPlans,\n            desiredRequiredPlans: requiredPlans,\n            institutionPlanGrants,\n            courseInstancePlanGrants,\n            enrollmentCount,\n            enrollmentLimit,\n            enrollmentLimitSource,\n            externalGradingQuestionCount,\n            workspaceQuestionCount,\n            editable,\n            csrfToken: resLocals.__csrf_token,\n          })}\n        </div>\n      </div>\n    `,\n  });\n}\n"]}