{"version":3,"file":"institutionAdmin.js","sourceRoot":"","sources":["../../../src/ee/routers/institutionAdmin.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEjC,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AACvD,OAAO,YAAY,MAAM,2DAA2D,CAAC;AACrF,OAAO,aAAa,MAAM,6DAA6D,CAAC;AAExF,MAAM,MAAM,GAAG,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;AAE7C,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IAClC,sCAAsC;IACtC,GAAG,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC;IAEnC,MAAM,qBAAqB,GAAG,MAAM,QAAQ,CAAC,OAAO,CAAC,qBAAqB,EAAE;QAC1E,cAAc,EAAE,GAAG,CAAC,MAAM,CAAC,cAAc;QACzC,OAAO,EAAE,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;KACvC,CAAC,CAAC;IACH,GAAG,CAAC,MAAM,CAAC,uBAAuB,GAAG,qBAAqB,CAAC;IAE3D,IAAI,EAAE,CAAC;AACT,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;AACpC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;AAEtC,eAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\n\nimport { features } from '../../lib/features/index.js';\nimport adminsRouter from '../pages/institutionAdminAdmins/institutionAdminAdmins.js';\nimport coursesRouter from '../pages/institutionAdminCourses/institutionAdminCourses.js';\n\nconst router = Router({ mergeParams: true });\n\nrouter.use(async (req, res, next) => {\n  // The navbar relies on this property.\n  res.locals.urlPrefix = req.baseUrl;\n\n  const hasEnhancedNavigation = await features.enabled('enhanced-navigation', {\n    institution_id: req.params.institution_id,\n    user_id: res.locals.authn_user.user_id,\n  });\n  res.locals.has_enhanced_navigation = hasEnhancedNavigation;\n\n  next();\n});\n\nrouter.use('/admins', adminsRouter);\nrouter.use('/courses', coursesRouter);\n\nexport default router;\n"]}