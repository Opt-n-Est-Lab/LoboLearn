{"version":3,"file":"server-jobs.types.js","sourceRoot":"","sources":["../../src/lib/server-jobs.types.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAExB,OAAO,EAAE,SAAS,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAEzE,MAAM,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC;IACpC,QAAQ,EAAE,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE;IACzC,cAAc,EAAE,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE;CAChD,CAAC,CAAC;AAGH,MAAM,CAAC,MAAM,yBAAyB,GAAG,iBAAiB,CAAC,MAAM,CAAC;IAChE,QAAQ,EAAE,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE;IACzC,cAAc,EAAE,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE;IAC/C,SAAS,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,IAAI,EAAE,YAAY,CAAC,KAAK,EAAE;CAC3B,CAAC,CAAC","sourcesContent":["import { z } from 'zod';\n\nimport { JobSchema, JobSequenceSchema, UserSchema } from './db-types.js';\n\nconst JobRowSchema = JobSchema.extend({\n  user_uid: UserSchema.shape.uid.nullable(),\n  authn_user_uid: UserSchema.shape.uid.nullable(),\n});\ntype JobRow = z.infer<typeof JobRowSchema>;\n\nexport const JobSequenceWithJobsSchema = JobSequenceSchema.extend({\n  user_uid: UserSchema.shape.uid.nullable(),\n  authn_user_uid: UserSchema.shape.uid.nullable(),\n  job_count: z.coerce.number(),\n  jobs: JobRowSchema.array(),\n});\nexport type JobSequenceWithJobs = z.infer<typeof JobSequenceWithJobsSchema>;\n\nexport type JobWithToken = JobRow & { token: string };\nexport type JobSequenceWithTokens = Omit<JobSequenceWithJobs, 'jobs'> & {\n  token: string;\n  jobs: JobWithToken[];\n};\n"]}