{"version":3,"file":"forbidAccessInExamMode.js","sourceRoot":"","sources":["../../src/middlewares/forbidAccessInExamMode.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,uBAAuB,CAAC;AAEjD,OAAO,EAAE,eAAe,EAAE,MAAM,qBAAqB,CAAC;AAEtD,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AAExD,eAAe,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IACnD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,iBAAiB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAEnD,IAAI,IAAI,KAAK,QAAQ,EAAE,CAAC;QACtB,MAAM,IAAI,eAAe,CAAC,GAAG,EAAE,6BAA6B,CAAC,CAAC;IAChE,CAAC;IAED,IAAI,EAAE,CAAC;AACT,CAAC,CAAC,CAAC","sourcesContent":["import asyncHandler from 'express-async-handler';\n\nimport { HttpStatusError } from '@prairielearn/error';\n\nimport { getModeForRequest } from '../lib/exam-mode.js';\n\nexport default asyncHandler(async (req, res, next) => {\n  const { mode } = await getModeForRequest(req, res);\n\n  if (mode !== 'Public') {\n    throw new HttpStatusError(403, 'Access denied in exam mode.');\n  }\n\n  next();\n});\n"]}