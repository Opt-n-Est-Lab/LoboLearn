{"version":3,"file":"selectGettingStartedTasksCounts.js","sourceRoot":"","sources":["../../src/middlewares/selectGettingStartedTasksCounts.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,uBAAuB,CAAC;AAEjD,OAAO,EAAE,sBAAsB,EAAE,MAAM,2BAA2B,CAAC;AAEnE,eAAe,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IACnD,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,oBAAoB,EAAE,CAAC;QAC5C,MAAM,KAAK,GAAG,MAAM,sBAAsB,CAAC;YACzC,SAAS,EAAE,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;SAChC,CAAC,CAAC;QAEH,GAAG,CAAC,MAAM,CAAC,sCAAsC,GAAG,KAAK,CAAC,MAAM,CAC9D,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAC1B,CAAC,MAAM,CAAC;QACT,GAAG,CAAC,MAAM,CAAC,mCAAmC,GAAG,KAAK,CAAC,MAAM,CAAC;IAChE,CAAC;IACD,IAAI,EAAE,CAAC;AACT,CAAC,CAAC,CAAC","sourcesContent":["import asyncHandler from 'express-async-handler';\n\nimport { getGettingStartedTasks } from '../lib/getting-started.js';\n\nexport default asyncHandler(async (req, res, next) => {\n  if (res.locals.course?.show_getting_started) {\n    const tasks = await getGettingStartedTasks({\n      course_id: res.locals.course.id,\n    });\n\n    res.locals.navbarCompleteGettingStartedTasksCount = tasks.filter(\n      (task) => task.isComplete,\n    ).length;\n    res.locals.navbarTotalGettingStartedTasksCount = tasks.length;\n  }\n  next();\n});\n"]}