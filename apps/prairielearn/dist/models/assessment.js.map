{"version":3,"file":"assessment.js","sourceRoot":"","sources":["../../src/models/assessment.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAExB,OAAO,EAAE,YAAY,EAAE,gBAAgB,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAC;AAElF,OAAO,EAAmB,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAEvE,MAAM,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAE1C,MAAM,CAAC,KAAK,UAAU,wBAAwB,CAAC,aAAqB;IAClE,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,GAAG,CAAC,0BAA0B,EAAE,EAAE,aAAa,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IAChG,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,oBAAoB,CAAC,aAAqB;IAC9D,OAAO,MAAM,QAAQ,CAAC,GAAG,CAAC,uBAAuB,EAAE,EAAE,aAAa,EAAE,EAAE,gBAAgB,CAAC,CAAC;AAC1F,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,4BAA4B,CAChD,aAAqB;IAErB,OAAO,MAAM,gBAAgB,CAAC,GAAG,CAAC,uBAAuB,EAAE,EAAE,aAAa,EAAE,EAAE,gBAAgB,CAAC,CAAC;AAClG,CAAC","sourcesContent":["import { z } from 'zod';\n\nimport { loadSqlEquiv, queryOptionalRow, queryRow } from '@prairielearn/postgres';\n\nimport { type Assessment, AssessmentSchema } from '../lib/db-types.js';\n\nconst sql = loadSqlEquiv(import.meta.url);\n\nexport async function selectAssessmentIsPublic(assessment_id: string): Promise<boolean> {\n  const isPublic = await queryRow(sql.check_assessment_is_public, { assessment_id }, z.boolean());\n  return isPublic;\n}\n\nexport async function selectAssessmentById(assessment_id: string): Promise<Assessment> {\n  return await queryRow(sql.select_assessment_by_id, { assessment_id }, AssessmentSchema);\n}\n\nexport async function selectOptionalAssessmentById(\n  assessment_id: string,\n): Promise<Assessment | null> {\n  return await queryOptionalRow(sql.select_assessment_by_id, { assessment_id }, AssessmentSchema);\n}\n"]}