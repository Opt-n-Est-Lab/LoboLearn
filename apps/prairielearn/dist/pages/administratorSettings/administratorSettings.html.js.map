{"version":3,"file":"administratorSettings.html.js","sourceRoot":"","sources":["../../../src/pages/administratorSettings/administratorSettings.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAE1C,OAAO,EAAE,UAAU,EAAE,MAAM,qCAAqC,CAAC;AACjE,OAAO,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAC7C,OAAO,EAAE,YAAY,EAAE,MAAM,sBAAsB,CAAC;AAEpD,MAAM,UAAU,qBAAqB,CAAC,EAAE,SAAS,EAAE;IACjD,MAAM,cAAc,GAAG,YAAY,EAAE,IAAI,MAAM,CAAC,YAAY,IAAI,MAAM,CAAC,kBAAkB,CAAC;IAE1F,OAAO,UAAU,CAAC;QAChB,SAAS;QACT,SAAS,EAAE,wBAAwB;QACnC,UAAU,EAAE;YACV,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,UAAU;SACpB;QACD,OAAO,EAAE;YACP,SAAS,EAAE,IAAI;SAChB;QACD,OAAO,EAAE,IAAI,CAAA;;;;;;;;;;8DAU6C,SAAS,CAAC,YAAY;;;;;;;;;;;;;;;;;;;;;;;;8DAwBtB,SAAS,CAAC,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAmC5E,cAAc;YACd,CAAC,CAAC,IAAI,CAAA;;;;;oEAKsD,SAAS,CAAC,YAAY;;;;;oBAKtE,MAAM,CAAC,OAAO;gBACd,CAAC,CAAC,IAAI,CAAA;;;;;;;;;;;;;;uBAcH;gBACH,CAAC,CAAC,EAAE;;;;WAIb;YACH,CAAC,CAAC,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAiFP;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { html } from '@prairielearn/html';\n\nimport { PageLayout } from '../../components/PageLayout.html.js';\nimport { config } from '../../lib/config.js';\nimport { isEnterprise } from '../../lib/license.js';\n\nexport function AdministratorSettings({ resLocals }) {\n  const showAiSettings = isEnterprise() && config.openAiApiKey && config.openAiOrganization;\n\n  return PageLayout({\n    resLocals,\n    pageTitle: 'Administrator Settings',\n    navContext: {\n      type: 'plain',\n      page: 'admin',\n      subPage: 'settings',\n    },\n    options: {\n      fullWidth: true,\n    },\n    content: html`\n      <h1 class=\"visually-hidden\">Administrator Settings</h1>\n      <!-- Chunk generation -->\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white d-flex align-items-center\">\n          <h2>Chunk generation</h2>\n        </div>\n        <div class=\"card-body\">\n          <form name=\"generate_chunks_form\" method=\"POST\">\n            <input type=\"hidden\" name=\"__action\" value=\"generate_chunks\" />\n            <input type=\"hidden\" name=\"__csrf_token\" value=\"${resLocals.__csrf_token}\" />\n            <div class=\"mb-3\">\n              <label class=\"form-label\" for=\"generateChunksCourseIds\">Course IDs:</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"generateChunksCourseIds\"\n                name=\"course_ids\"\n                placeholder=\"1,2,3\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Generate</button>\n          </form>\n        </div>\n      </div>\n\n      <!-- Actions -->\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white\">\n          <h2>Actions</h2>\n        </div>\n        <div class=\"card-body\">\n          <form name=\"invalidate-question-cache-form\" method=\"POST\">\n            <input type=\"hidden\" name=\"__action\" value=\"invalidate_question_cache\" />\n            <input type=\"hidden\" name=\"__csrf_token\" value=\"${resLocals.__csrf_token}\" />\n            <button id=\"invalidate-render-cache\" type=\"button\" class=\"btn btn-danger\">\n              Invalidate question render cache\n            </button>\n            <div\n              id=\"confirm-invalidate-cache-container\"\n              class=\"confirm-invalidate-cache\"\n              style=\"display: none;\"\n            >\n              <button id=\"confirm-invalidate-render-cache\" type=\"submit\" class=\"btn btn-danger\">\n                Confirm invalidate cache\n              </button>\n              <button id=\"cancel-invalidate-render-cache\" type=\"button\" class=\"btn btn-secondary\">\n                Cancel\n              </button>\n            </div>\n          </form>\n          <script type=\"text/javascript\">\n            $(function () {\n              var invalidateButton = $('#invalidate-render-cache');\n              var confirmInvalidateContainer = $('#confirm-invalidate-cache-container');\n              var cancelInvalidateButton = $('#cancel-invalidate-render-cache');\n              invalidateButton.click(function () {\n                confirmInvalidateContainer.show();\n                invalidateButton.hide();\n              });\n              cancelInvalidateButton.click(function () {\n                invalidateButton.show();\n                confirmInvalidateContainer.hide();\n              });\n            });\n          </script>\n        </div>\n      </div>\n\n      ${showAiSettings\n        ? html`\n            <div class=\"card mb-4\">\n              <div class=\"card-header bg-primary text-white\">LLM</div>\n              <div class=\"card-body\">\n                <form method=\"POST\">\n                  <input type=\"hidden\" name=\"__csrf_token\" value=\"${resLocals.__csrf_token}\" />\n                  <button class=\"btn btn-primary\" name=\"__action\" value=\"sync_context_documents\">\n                    Resync context documents\n                  </button>\n\n                  ${config.devMode\n                    ? html`\n                        <hr />\n                        <p>\n                          Benchmarking the AI will generate questions from a set of sample prompts\n                          and ask an LLM to evaluate their quality, including comparing them to gold\n                          standard implementations.\n                        </p>\n                        <button\n                          class=\"btn btn-primary\"\n                          name=\"__action\"\n                          value=\"benchmark_question_generation\"\n                        >\n                          Benchmark question generation\n                        </button>\n                      `\n                    : ''}\n                </form>\n              </div>\n            </div>\n          `\n        : ''}\n\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white\">\n          <h2>Bootstrap playground</h2>\n        </div>\n        <div class=\"card-body\">\n          <p>\n            This serves as a testing ground for custom focus styles that are meant to comply with\n            stricter accessibility requirements.\n          </p>\n          <div class=\"mb-4\" style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;\">\n            <button type=\"button\" class=\"btn btn-primary\">Primary</button>\n            <button type=\"button\" class=\"btn btn-secondary\">Secondary</button>\n            <button type=\"button\" class=\"btn btn-success\">Success</button>\n            <button type=\"button\" class=\"btn btn-danger\">Danger</button>\n            <button type=\"button\" class=\"btn btn-warning\">Warning</button>\n            <button type=\"button\" class=\"btn btn-info\">Info</button>\n            <button type=\"button\" class=\"btn btn-light\">Light</button>\n            <button type=\"button\" class=\"btn btn-med-light\">Medium Light</button>\n            <button type=\"button\" class=\"btn btn-dark\">Dark</button>\n            <button type=\"button\" class=\"btn btn-link\">Link</button>\n          </div>\n          <div class=\"mb-4\" style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;\">\n            <button type=\"button\" class=\"btn btn-outline-primary\">Primary</button>\n            <button type=\"button\" class=\"btn btn-outline-secondary\">Secondary</button>\n            <button type=\"button\" class=\"btn btn-outline-success\">Success</button>\n            <button type=\"button\" class=\"btn btn-outline-danger\">Danger</button>\n            <button type=\"button\" class=\"btn btn-outline-warning\">Warning</button>\n            <button type=\"button\" class=\"btn btn-outline-info\">Info</button>\n            <button type=\"button\" class=\"btn btn-outline-dark\">Dark</button>\n          </div>\n          <div class=\"mb-4 p-4 bg-dark\">\n            <button type=\"button\" class=\"btn btn-outline-light\">Light</button>\n          </div>\n          <h3>Custom colors</h3>\n          <div class=\"mb-4\" style=\"display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;\">\n            <button type=\"button\" class=\"btn color-red1\">Red 1</button>\n            <button type=\"button\" class=\"btn color-red2\">Red 2</button>\n            <button type=\"button\" class=\"btn color-red3\">Red 3</button>\n            <button type=\"button\" class=\"btn color-pink1\">Pink 1</button>\n            <button type=\"button\" class=\"btn color-pink2\">Pink 2</button>\n            <button type=\"button\" class=\"btn color-pink3\">Pink 3</button>\n            <button type=\"button\" class=\"btn color-purple1\">Purple 1</button>\n            <button type=\"button\" class=\"btn color-purple2\">Purple 2</button>\n            <button type=\"button\" class=\"btn color-purple3\">Purple 3</button>\n            <button type=\"button\" class=\"btn color-blue1\">Blue 1</button>\n            <button type=\"button\" class=\"btn color-blue2\">Blue 2</button>\n            <button type=\"button\" class=\"btn color-blue3\">Blue 3</button>\n            <button type=\"button\" class=\"btn color-turquoise1\">Turquoise 1</button>\n            <button type=\"button\" class=\"btn color-turquoise2\">Turquoise 2</button>\n            <button type=\"button\" class=\"btn color-turquoise3\">Turquoise 3</button>\n            <button type=\"button\" class=\"btn color-green1\">Green 1</button>\n            <button type=\"button\" class=\"btn color-green2\">Green 2</button>\n            <button type=\"button\" class=\"btn color-green3\">Green 3</button>\n            <button type=\"button\" class=\"btn color-yellow1\">Yellow 1</button>\n            <button type=\"button\" class=\"btn color-yellow2\">Yellow 2</button>\n            <button type=\"button\" class=\"btn color-yellow3\">Yellow 3</button>\n            <button type=\"button\" class=\"btn color-orange1\">Orange 1</button>\n            <button type=\"button\" class=\"btn color-orange2\">Orange 2</button>\n            <button type=\"button\" class=\"btn color-orange3\">Orange 3</button>\n            <button type=\"button\" class=\"btn color-brown1\">Brown 1</button>\n            <button type=\"button\" class=\"btn color-brown2\">Brown 2</button>\n            <button type=\"button\" class=\"btn color-brown3\">Brown 3</button>\n            <button type=\"button\" class=\"btn color-gray1\">Gray 1</button>\n            <button type=\"button\" class=\"btn color-gray2\">Gray 2</button>\n            <button type=\"button\" class=\"btn color-gray3\">Gray 3</button>\n          </div>\n          <h3>Ghost button</h3>\n          <p>\n            This is a custom button style that's meant to be used when we don't want the full visual\n            weight of a typical button. Useful for popover triggers.\n          </p>\n          <div>\n            <button type=\"button\" class=\"btn btn-xs btn-ghost\">Extra small</button>\n            <button type=\"button\" class=\"btn btn-sm btn-ghost\">Small</button>\n            <button type=\"button\" class=\"btn btn-ghost\">Default</button>\n            <button type=\"button\" class=\"btn btn-lg btn-ghost\">Large</button>\n          </div>\n        </div>\n      </div>\n    `,\n  });\n}\n"]}