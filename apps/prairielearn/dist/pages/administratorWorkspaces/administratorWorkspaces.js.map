{"version":3,"file":"administratorWorkspaces.js","sourceRoot":"","sources":["../../../src/pages/administratorWorkspaces/administratorWorkspaces.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,OAAO,MAAM,SAAS,CAAC;AACnC,OAAO,YAAY,MAAM,uBAAuB,CAAC;AAEjD,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AAEjE,OAAO,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAE7C,OAAO,EAAE,uBAAuB,EAAE,sBAAsB,EAAE,MAAM,mCAAmC,CAAC;AAEpG,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAChC,MAAM,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAE1C,MAAM,CAAC,GAAG,CACR,GAAG,EACH,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IAC9B,MAAM,iBAAiB,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,sBAAsB,EAAE,sBAAsB,CAAC,CAAC;IAC9F,GAAG,CAAC,IAAI,CACN,uBAAuB,CAAC;QACtB,iBAAiB;QACjB,yBAAyB,EAAE,MAAM,CAAC,yBAAyB;QAC3D,SAAS,EAAE,GAAG,CAAC,MAAM;KACtB,CAAC,CACH,CAAC;AACJ,CAAC,CAAC,CACH,CAAC;AAEF,eAAe,MAAM,CAAC","sourcesContent":["import * as express from 'express';\nimport asyncHandler from 'express-async-handler';\n\nimport { loadSqlEquiv, queryRows } from '@prairielearn/postgres';\n\nimport { config } from '../../lib/config.js';\n\nimport { AdministratorWorkspaces, WorkspaceHostRowSchema } from './administratorWorkspaces.html.js';\n\nconst router = express.Router();\nconst sql = loadSqlEquiv(import.meta.url);\n\nrouter.get(\n  '/',\n  asyncHandler(async (req, res) => {\n    const workspaceHostRows = await queryRows(sql.select_workspace_hosts, WorkspaceHostRowSchema);\n    res.send(\n      AdministratorWorkspaces({\n        workspaceHostRows,\n        workspaceLoadHostCapacity: config.workspaceLoadHostCapacity,\n        resLocals: res.locals,\n      }),\n    );\n  }),\n);\n\nexport default router;\n"]}