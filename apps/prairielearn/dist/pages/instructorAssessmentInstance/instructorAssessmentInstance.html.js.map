{"version":3,"file":"instructorAssessmentInstance.html.js","sourceRoot":"","sources":["../../../src/pages/instructorAssessmentInstance/instructorAssessmentInstance.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AACxC,OAAO,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAExB,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,GAAG,EAAE,MAAM,mBAAmB,CAAC;AAExC,OAAO,EAAE,6BAA6B,EAAE,MAAM,kDAAkD,CAAC;AACjG,OAAO,EAAE,KAAK,EAAE,MAAM,gCAAgC,CAAC;AACvD,OAAO,EAAE,UAAU,EAAE,MAAM,qCAAqC,CAAC;AACjE,OAAO,EAAE,sBAAsB,EAAE,MAAM,wCAAwC,CAAC;AAChF,OAAO,EAAE,QAAQ,EAAE,MAAM,mCAAmC,CAAC;AAC7D,OAAO,EAAE,+BAA+B,EAAE,MAAM,gDAAgD,CAAC;AACjG,OAAO,EAAyB,MAAM,yBAAyB,CAAC;AAChE,OAAO,EAAE,iBAAiB,EAAE,oBAAoB,EAAE,MAAM,qBAAqB,CAAC;AAC9E,OAAO,EACL,wBAAwB,EAExB,QAAQ,EACR,sBAAsB,GACvB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,qBAAqB,CAAC;AAEhE,MAAM,CAAC,MAAM,6BAA6B,GAAG,CAAC,CAAC,MAAM,CAAC;IACpD,sBAAsB,EAAE,QAAQ;IAChC,wBAAwB,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC/C,kCAAkC,EAAE,CAAC,CAAC,MAAM,EAAE;IAC9C,sBAAsB,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC7C,mCAAmC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE;IAC9E,kCAAkC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE;IAC7E,oBAAoB,EAAE,QAAQ;IAC9B,qBAAqB,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC5C,oBAAoB,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC3C,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC7B,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;IACf,WAAW,EAAE,QAAQ;IACrB,uBAAuB,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;IAC/C,uBAAuB,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;IAC/C,eAAe,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;IACvC,sBAAsB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE;IACjE,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAC7B,CAAC,CAAC;AAGH,MAAM,CAAC,MAAM,yBAAyB,GAAG,sBAAsB,CAAC,MAAM,CAAC;IACrE,0BAA0B,EAAE,CAAC,CAAC,MAAM,EAAE;IACtC,mBAAmB,EAAE,wBAAwB;IAC7C,WAAW,EAAE,CAAC,CAAC,MAAM,EAAE;IACvB,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC1B,WAAW,EAAE,QAAQ;IACrB,eAAe,EAAE,CAAC,CAAC,MAAM,EAAE;IAC3B,cAAc,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACrC,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE;IACrB,cAAc,EAAE,CAAC,CAAC,OAAO,EAAE;IAC3B,mBAAmB,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC1C,uBAAuB,EAAE,CAAC,CAAC,OAAO,EAAE;IACpC,mBAAmB,EAAE,CAAC,CAAC,OAAO,EAAE;IAChC,OAAO,EAAE,QAAQ;IACjB,eAAe,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACtC,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAClC,CAAC,CAAC;AAGH,MAAM,kBAAkB,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;AAE3F,MAAM,UAAU,4BAA4B,CAAC,EAC3C,SAAS,EACT,cAAc,EACd,yBAAyB,EACzB,kCAAkC,EAClC,4BAA4B,EAC5B,kBAAkB,EAClB,qBAAqB,GAStB;IACC,OAAO,UAAU,CAAC;QAChB,SAAS;QACT,SAAS,EAAE,SAAS,CAAC,cAAc,EAAE,IAAI,IAAI,SAAS,CAAC,aAAa,EAAE,GAAG;QACzE,UAAU,EAAE;YACV,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,YAAY;YAClB,OAAO,EAAE,qBAAqB;SAC/B;QACD,OAAO,EAAE;YACP,SAAS,EAAE,IAAI;SAChB;QACD,WAAW,EAAE,IAAI,CAAA;;gBAEL,oBAAoB,CAAC,8CAA8C,CAAC;;;QAG5E,iBAAiB,CAAC,uCAAuC,CAAC;qBAC7C,oBAAoB,CAC/B,+CAA+C,CAChD;qBACY,oBAAoB,CAC/B,uDAAuD,CACxD;KACJ;QACD,OAAO,EAAE,IAAI,CAAA;;UAEP,SAAS,CAAC,yBAAyB;UACnC,SAAS,CAAC,cAAc;YACxB,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,cAAc,CAAC,IAAI,EAAE;YACxC,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE;;QAEzC,0BAA0B,CAAC;YAC3B,SAAS,EAAE,SAAS,CAAC,YAAY;YACjC,SAAS,EAAE,SAAS,CAAC,UAAU,CAAC,UAAU;SAC3C,CAAC;QACA,+BAA+B,CAAC;YAChC,UAAU,EAAE,SAAS,CAAC,UAAU;YAChC,UAAU,EAAE,SAAS,CAAC,UAAU;YAChC,cAAc,EAAE,SAAS,CAAC,eAAe;YACzC,MAAM,EAAE,SAAS,CAAC,MAAM;YACxB,SAAS,EAAE,SAAS,CAAC,SAAS;SAC/B,CAAC;;;;cAIM,SAAS,CAAC,yBAAyB;cACnC,SAAS,CAAC,cAAc;YACxB,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,cAAc,CAAC,IAAI,+BAA+B;YACrE,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,KAAK,SAAS,CAAC,aAAa,CAAC,GAAG,GAAG;;;;;;;;;cASxE,SAAS,CAAC,cAAc;YACxB,CAAC,CAAC,IAAI,CAAA;;;sCAGkB,SAAS,CAAC,cAAc,CAAC,IAAI;;;;sCAI7B,SAAS,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC;;iBAEjE;YACH,CAAC,CAAC,IAAI,CAAA;;;sCAGkB,SAAS,CAAC,aAAa,CAAC,GAAG;;;;sCAI3B,SAAS,CAAC,aAAa,CAAC,IAAI;;;;sCAI5B,SAAS,CAAC,aAAa;;iBAE5C;;;;kBAIC,SAAS,CAAC,mBAAmB,CAAC,MAAM;0BAC5B,SAAS,CAAC,cAAc,oBAAoB,SAAS,CAAC,eAAe;aAC1E,EAAE,wBAAwB,SAAS,CAAC,mBAAmB,CAAC,EAAE;;;;;cAKjE,SAAS,CAAC,aAAa;YACvB,CAAC,CAAC,IAAI,CAAA;;;;wBAII,SAAS,CAAC,mBAAmB,CAAC,kCAAkC;;;;;;;;;;;;;;;iBAevE;YACH,CAAC,CAAC,EAAE;;;;;;oBAME,YAAY,CAAC,SAAS,CAAC,mBAAmB,CAAC,MAAM,CAAC;;;;uBAI/C,YAAY,CAAC,SAAS,CAAC,mBAAmB,CAAC,UAAU,CAAC;;;kBAG3D,SAAS,CAAC,UAAU,CAAC,mCAAmC;YACxD,CAAC,CAAC,IAAI,CAAA;;;;;;;;;;2CAUmB,UAAU,CAC3B,mBAAmB,CAAC;gBAClB,SAAS;aACV,CAAC,CACH;;;;qBAIJ;YACH,CAAC,CAAC,EAAE;;;;;;kBAMJ,QAAQ,CAAC,SAAS,CAAC,mBAAmB,CAAC,UAAU,CAAC;;;kBAGlD,SAAS,CAAC,UAAU,CAAC,mCAAmC;YACxD,CAAC,CAAC,IAAI,CAAA;;;;;;;;;;2CAUmB,UAAU,CAC3B,sBAAsB,CAAC;gBACrB,SAAS;aACV,CAAC,CACH;;;;qBAIJ;YACH,CAAC,CAAC,EAAE;;;;;;kBAMJ,SAAS,CAAC,mBAAmB,CAAC,qBAAqB;YACnD,CAAC,CAAC,IAAI,CAAA;;;;;;;;;;;;;qBAaH;YACH,CAAC,CAAC,IAAI,CAAA;;;;;;;;;;;;;qBAaH;;;;;gCAKW,kCAAkC;;;;gCAIlC,4BAA4B;;;;;;;;;cAS9C,SAAS,CAAC,yBAAyB;cACnC,SAAS,CAAC,cAAc;YACxB,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,cAAc,CAAC,IAAI,+BAA+B;YACrE,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,KAAK,SAAS,CAAC,aAAa,CAAC,GAAG,GAAG;;;;;;;;;;;;;;;;;;;;;;cAsBxE,kBAAkB,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,EAAE;YAC7C,OAAO,IAAI,CAAA;kBACP,iBAAiB,CAAC,cAAc,IAAI,iBAAiB,CAAC,UAAU;gBAChE,CAAC,CAAC,IAAI,CAAA;;;4BAGI,iBAAiB,CAAC,UAAU;4BAC5B,iBAAiB,CAAC,mBAAmB;oBACrC,CAAC,CAAC,IAAI,CAAA,YAAY,iBAAiB,CAAC,eAAe,WAAW;oBAC9D,CAAC,CAAC,EAAE;4BACJ,iBAAiB,CAAC,uBAAuB;oBACzC,CAAC,CAAC,IAAI,CAAA,SAAS,iBAAiB,CAAC,mBAAmB,cAAc;oBAClE,CAAC,CAAC,EAAE;;;qBAGX;gBACH,CAAC,CAAC,EAAE;;;wBAGE,iBAAiB,CAAC,eAAe;8BAC3B,SAAS,CAAC,cAAc,oBAAoB,SAAS,CAAC,eAAe;iBAC1E,EAAE,sBAAsB,iBAAiB,CAAC,EAAE;;;;;wBAK7C,iBAAiB,CAAC,0BAA0B,KAAK,iBAAiB,CAAC,GAAG;sBACxE,SAAS,CAAC,UAAU,CAAC,6BAA6B;gBAClD,CAAC,CAAC,IAAI,CAAA;;oCAEQ,SAAS,CAAC,SAAS,aAAa,iBAAiB,CAAC,WAAW;;;yBAGxE;gBACH,CAAC,CAAC,EAAE;;;sBAGJ,sBAAsB,CAAC;gBACvB,iBAAiB;gBACjB,mBAAmB,EAAE,iBAAiB,CAAC,mBAAmB;gBAC1D,SAAS,EAAE,MAAM;aAClB,CAAC;sBACA,SAAS,CAAC,UAAU,CAAC,mCAAmC;gBACxD,CAAC,CAAC,6BAA6B,CAAC;oBAC5B,KAAK,EAAE,aAAa;oBACpB,iBAAiB;oBACjB,mBAAmB,EAAE,iBAAiB,CAAC,mBAAmB;oBAC1D,SAAS,EAAE,SAAS,CAAC,SAAS;oBAC9B,SAAS,EAAE,SAAS,CAAC,YAAY;iBAClC,CAAC;gBACJ,CAAC,CAAC,EAAE;;;sBAGJ,sBAAsB,CAAC;gBACvB,iBAAiB;gBACjB,mBAAmB,EAAE,iBAAiB,CAAC,mBAAmB;gBAC1D,SAAS,EAAE,QAAQ;aACpB,CAAC;sBACA,SAAS,CAAC,UAAU,CAAC,mCAAmC;gBACxD,CAAC,CAAC,6BAA6B,CAAC;oBAC5B,KAAK,EAAE,eAAe;oBACtB,iBAAiB;oBACjB,mBAAmB,EAAE,iBAAiB,CAAC,mBAAmB;oBAC1D,SAAS,EAAE,SAAS,CAAC,SAAS;oBAC9B,SAAS,EAAE,SAAS,CAAC,YAAY;iBAClC,CAAC;gBACJ,CAAC,CAAC,EAAE;;;sBAGJ,sBAAsB,CAAC;gBACvB,iBAAiB;gBACjB,mBAAmB,EAAE,iBAAiB,CAAC,mBAAmB;gBAC1D,SAAS,EAAE,OAAO;aACnB,CAAC;sBACA,SAAS,CAAC,UAAU,CAAC,mCAAmC;gBACxD,CAAC,CAAC,6BAA6B,CAAC;oBAC5B,KAAK,EAAE,QAAQ;oBACf,iBAAiB;oBACjB,mBAAmB,EAAE,iBAAiB,CAAC,mBAAmB;oBAC1D,SAAS,EAAE,SAAS,CAAC,SAAS;oBAC9B,SAAS,EAAE,SAAS,CAAC,YAAY;iBAClC,CAAC;gBACJ,CAAC,CAAC,EAAE;;;sBAGJ,QAAQ,CAAC,iBAAiB,CAAC,UAAU,CAAC;;;sBAGtC,SAAS,CAAC,UAAU,CAAC,mCAAmC;gBACxD,CAAC,CAAC,6BAA6B,CAAC;oBAC5B,KAAK,EAAE,YAAY;oBACnB,iBAAiB;oBACjB,mBAAmB,EAAE,iBAAiB,CAAC,mBAAmB;oBAC1D,SAAS,EAAE,SAAS,CAAC,SAAS;oBAC9B,SAAS,EAAE,SAAS,CAAC,YAAY;iBAClC,CAAC;gBACJ,CAAC,CAAC,EAAE;;;sBAGJ,SAAS,CAAC,UAAU,CAAC,mCAAmC;gBAC1D,iBAAiB,CAAC,MAAM,KAAK,YAAY;gBACvC,CAAC,CAAC,IAAI,CAAA;;;oCAGQ,SAAS,CAAC,SAAS,eAAe,SAAS,CAAC,UAAU;qBAC3D,EAAE,qCAAqC,iBAAiB,CAAC,EAAE;;;yBAGjE;gBACH,CAAC,CAAC,EAAE;;;;;;;;;;;;;;0BAcA,SAAS,CAAC,UAAU,CAAC,mCAAmC;gBACxD,CAAC,CAAC,IAAI,CAAA;;;;;6DAK6B,iBAAiB,CAAC,EAAE;;;;6BAIpD;gBACH,CAAC,CAAC,IAAI,CAAA;;;;6BAIH;;;;;eAKd,CAAC;QACJ,CAAC,CAAC;;;;;;;;cAQA,SAAS,CAAC,yBAAyB;cACnC,SAAS,CAAC,cAAc;YACxB,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,cAAc,CAAC,IAAI,+BAA+B;YACrE,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,KAAK,SAAS,CAAC,aAAa,CAAC,GAAG,GAAG;;;;;;;;;;;;;;;;;;;;;cAqBxE,yBAAyB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACtC,OAAO,IAAI,CAAA;;;wBAGD,GAAG,CAAC,MAAM;sBACZ,SAAS,CAAC,UAAU,CAAC,6BAA6B;gBAClD,CAAC,CAAC,IAAI,CAAA;qCACS,SAAS,CAAC,SAAS,aAAa,GAAG,CAAC,WAAW;+BACrD,GAAG,CAAC,GAAG;;yBAEb;gBACH,CAAC,CAAC,GAAG,CAAC,GAAG;;wBAEP,GAAG,CAAC,eAAe;wBACnB,GAAG,CAAC,uBAAuB;wBAC3B,GAAG,CAAC,uBAAuB;wBAC3B,WAAW,CAAC,GAAG,CAAC,sBAAsB,EAAE,CAAC,CAAC;wBAC1C,WAAW,CAAC,GAAG,CAAC,qBAAqB,EAAE,CAAC,CAAC;wBACzC,WAAW,CAAC,GAAG,CAAC,oBAAoB,EAAE,CAAC,CAAC;wBACxC,WAAW,CAAC,GAAG,CAAC,wBAAwB,EAAE,CAAC,CAAC;;eAErD,CAAC;QACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;cAkBA,SAAS,CAAC,yBAAyB;cACnC,SAAS,CAAC,cAAc;YACxB,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,cAAc,CAAC,IAAI,+BAA+B;YACrE,CAAC,CAAC,IAAI,CAAA,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,KAAK,SAAS,CAAC,aAAa,CAAC,GAAG,GAAG;;;;;;;sBAOhE,SAAS,CAAC,SAAS,wBAAwB,SAAS,CAAC,mBAAmB;aAC7E,EAAE,IAAI,cAAc;iBACpB,cAAc;;;uBAGR,SAAS,CAAC,SAAS,eAAe,SAAS,CAAC,UAAU,CAAC,EAAE;;;;;;;;;;;;;;;;gBAgBhE,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAA,sBAAsB,CAAC,CAAC,CAAC,EAAE;;;;;;;;cAQ3D,qBAAqB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;YACzC,OAAO,IAAI,CAAA;;4CAEmB,GAAG,CAAC,cAAc;wBACtC,GAAG,CAAC,aAAa,IAAI,IAAI,CAAA,SAAS;oBACtC,SAAS,CAAC,aAAa;gBACvB,CAAC,CAAC,GAAG,CAAC,kBAAkB,IAAI,GAAG,CAAC,yBAAyB,KAAK,IAAI;oBAChE,CAAC,CAAC,IAAI,CAAA;;;;wDAI4B,kBAAkB,CAC1C,GAAG,CAAC,yBAAyB,GAAG,CAAC,CAClC;sDACuB,GAAG,CAAC,kBAAkB,EAAE,EAAE,IAAI,KAAK;;;;;2DAK9B,GAAG,CAAC,yBAAyB;;iDAEvC,UAAU,CAC3B,kBAAkB,CAAC,EAAE,WAAW,EAAE,GAAG,CAAC,kBAAkB,EAAE,CAAC,CAC5D;;gCAEC,GAAG,CAAC,yBAAyB;;;yBAGpC;oBACH,CAAC,CAAC,IAAI,CAAA,kBAAkB;gBAC1B,CAAC,CAAC,EAAE;iDACyB,GAAG,CAAC,WAAW,KAAK,GAAG,CAAC,UAAU;;sBAE7D,GAAG,CAAC,GAAG,EAAE;gBACT,IAAI,CAAC,GAAG,CAAC,GAAG;oBAAE,OAAO,EAAE,CAAC;gBACxB,MAAM,IAAI,GAAG,KAAK,GAAG,CAAC,0BAA0B,KAAK,GAAG,CAAC,GAAG,EAAE,CAAC;gBAC/D,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,6BAA6B;oBAAE,OAAO,IAAI,CAAC;gBACrE,OAAO,IAAI,CAAA;mCACE,SAAS,CAAC,SAAS,aAAa,GAAG,CAAC,WAAW,MAAM,IAAI;uBACrE,CAAC;YACJ,CAAC,CAAC;;;sBAGA,GAAG,CAAC,uBAAuB;gBAC3B,CAAC,CAAC,GAAG,CAAC,UAAU;oBACd,CAAC,CAAC,IAAI,CAAA;;sCAEQ,SAAS,CAAC,cAAc,oBAAoB,SAAS;yBAC1D,eAAe;yBACf,EAAE,sBAAsB,GAAG,CAAC,oBAAoB,gBAAgB,GAAG,CAAC,UAAU;;kCAE7E,GAAG,CAAC,uBAAuB,IAAI,GAAG,CAAC,cAAc;;2BAExD;oBACH,CAAC,CAAC,IAAI,CAAA,KAAK,GAAG,CAAC,uBAAuB,EAAE;gBAC1C,CAAC,CAAC,EAAE;;oBAEN,GAAG,CAAC,UAAU,KAAK,0BAA0B;gBAC7C,CAAC,CAAC,IAAI,CAAA;0BACA,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;4BAC9C;gBACR,CAAC,CAAC,IAAI,CAAA;;;;oCAIU,SAAS,CAAC,SAAS,gBAAgB,GAAG,CAAC,IAAI,EAAE,EAAE;;+CAEpC,GAAG,CAAC,IAAI,EAAE,EAAE;;;uBAGpC;;eAER,CAAC;QACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;sBAiBQ,SAAS,CAAC,SAAS,wBAAwB,SAAS,CAAC,mBAAmB;aAC7E,EAAE,IAAI,cAAc;iBACpB,cAAc;;;uBAGR,SAAS,CAAC,SAAS,eAAe,SAAS,CAAC,UAAU,CAAC,EAAE;;;;;;;KAO3E;KACF,CAAC,CAAC;AACL,CAAC;AAED,SAAS,kBAAkB,CAAC,EAAE,WAAW,EAAsC;IAC7E,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;IACjE,OAAO,IAAI,CAAA;;;yDAG4C,WAAW,CAAC,UAAU;UACrE,WAAW,CAAC,UAAU;;;uBAGT,WAAW,CAAC,eAAe;;;QAG1C,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAA,gBAAgB,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,OAAO,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE;QACrF,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAA,oBAAoB,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE;QAC9D,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,IAAI,CAAA,eAAe,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE;QACnF,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAA,WAAW,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE;uBAClD,WAAW,CAAC,UAAU;;GAE1C,CAAC;AACJ,CAAC;AAED,SAAS,mBAAmB,CAAC,EAAE,SAAS,EAAsC;IAC5E,OAAO,IAAI,CAAA;;;wDAG2C,SAAS,CAAC,YAAY;;;;iBAI7D,SAAS,CAAC,mBAAmB,CAAC,EAAE;;;;;;;;qBAQ5B,SAAS,CAAC,mBAAmB,CAAC,MAAM;;;6CAGZ,SAAS,CAAC,mBAAmB,CAAC,UAAU;;;;;;;;;;;;;GAalF,CAAC;AACJ,CAAC;AAED,SAAS,sBAAsB,CAAC,EAAE,SAAS,EAAsC;IAC/E,OAAO,IAAI,CAAA;;;wDAG2C,SAAS,CAAC,YAAY;;;;iBAI7D,SAAS,CAAC,mBAAmB,CAAC,EAAE;;;;;;;;qBAQ5B,SAAS,CAAC,mBAAmB,CAAC,UAAU;;;;;;;;;;;;;;;;GAgB1D,CAAC;AACJ,CAAC;AAED,SAAS,0BAA0B,CAAC,EAClC,SAAS,EACT,SAAS,GAIV;IACC,OAAO,KAAK,CAAC;QACX,EAAE,EAAE,4BAA4B;QAChC,KAAK,EAAE,iCAAiC;QACxC,IAAI,EAAE,IAAI,CAAA;;;UAGJ,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS;;;;eAI1B,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS;;;KAGzC;QACD,MAAM,EAAE,IAAI,CAAA;;wDAEwC,SAAS;;;;KAI5D;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { UAParser } from 'ua-parser-js';\nimport { z } from 'zod';\n\nimport { escapeHtml, html } from '@prairielearn/html';\nimport { run } from '@prairielearn/run';\n\nimport { EditQuestionPointsScoreButton } from '../../components/EditQuestionPointsScore.html.js';\nimport { Modal } from '../../components/Modal.html.js';\nimport { PageLayout } from '../../components/PageLayout.html.js';\nimport { InstanceQuestionPoints } from '../../components/QuestionScore.html.js';\nimport { Scorebar } from '../../components/Scorebar.html.js';\nimport { AssessmentSyncErrorsAndWarnings } from '../../components/SyncErrorsAndWarnings.html.js';\nimport { type InstanceLogEntry } from '../../lib/assessment.js';\nimport { compiledScriptTag, nodeModulesAssetPath } from '../../lib/assets.js';\nimport {\n  AssessmentQuestionSchema,\n  type ClientFingerprint,\n  IdSchema,\n  InstanceQuestionSchema,\n} from '../../lib/db-types.js';\nimport { formatFloat, formatPoints } from '../../lib/format.js';\n\nexport const AssessmentInstanceStatsSchema = z.object({\n  assessment_instance_id: IdSchema,\n  average_submission_score: z.number().nullable(),\n  client_fingerprint_id_change_count: z.number(),\n  first_submission_score: z.number().nullable(),\n  incremental_submission_points_array: z.array(z.number().nullable()).nullable(),\n  incremental_submission_score_array: z.array(z.number().nullable()).nullable(),\n  instance_question_id: IdSchema,\n  last_submission_score: z.number().nullable(),\n  max_submission_score: z.number().nullable(),\n  number: z.string().nullable(),\n  qid: z.string(),\n  question_id: IdSchema,\n  some_nonzero_submission: z.boolean().nullable(),\n  some_perfect_submission: z.boolean().nullable(),\n  some_submission: z.boolean().nullable(),\n  submission_score_array: z.array(z.number().nullable()).nullable(),\n  title: z.string().nullable(),\n});\ntype AssessmentInstanceStats = z.infer<typeof AssessmentInstanceStatsSchema>;\n\nexport const InstanceQuestionRowSchema = InstanceQuestionSchema.extend({\n  instructor_question_number: z.string(),\n  assessment_question: AssessmentQuestionSchema,\n  modified_at: z.string(),\n  qid: z.string().nullable(),\n  question_id: IdSchema,\n  question_number: z.string(),\n  question_title: z.string().nullable(),\n  row_order: z.number(),\n  start_new_zone: z.boolean(),\n  zone_best_questions: z.number().nullable(),\n  zone_has_best_questions: z.boolean(),\n  zone_has_max_points: z.boolean(),\n  zone_id: IdSchema,\n  zone_max_points: z.number().nullable(),\n  zone_title: z.string().nullable(),\n});\ntype InstanceQuestionRow = z.infer<typeof InstanceQuestionRowSchema>;\n\nconst FINGERPRINT_COLORS = ['red2', 'orange2', 'green2', 'blue2', 'turquoise2', 'purple2'];\n\nexport function InstructorAssessmentInstance({\n  resLocals,\n  logCsvFilename,\n  assessment_instance_stats,\n  assessment_instance_date_formatted,\n  assessment_instance_duration,\n  instance_questions,\n  assessmentInstanceLog,\n}: {\n  resLocals: Record<string, any>;\n  logCsvFilename: string;\n  assessment_instance_stats: AssessmentInstanceStats[];\n  assessment_instance_date_formatted: string;\n  assessment_instance_duration: string;\n  instance_questions: InstanceQuestionRow[];\n  assessmentInstanceLog: InstanceLogEntry[];\n}) {\n  return PageLayout({\n    resLocals,\n    pageTitle: resLocals.instance_group?.name || resLocals.instance_user?.uid,\n    navContext: {\n      type: 'instructor',\n      page: 'assessment',\n      subPage: 'assessment_instance',\n    },\n    options: {\n      fullWidth: true,\n    },\n    headContent: html`\n      <link\n        href=\"${nodeModulesAssetPath('tablesorter/dist/css/theme.bootstrap.min.css')}\"\n        rel=\"stylesheet\"\n      />\n      ${compiledScriptTag('instructorAssessmentInstanceClient.ts')}\n      <script src=\"${nodeModulesAssetPath(\n          'tablesorter/dist/js/jquery.tablesorter.min.js',\n        )}\"></script>\n      <script src=\"${nodeModulesAssetPath(\n          'tablesorter/dist/js/jquery.tablesorter.widgets.min.js',\n        )}\"></script>\n    `,\n    content: html`\n      <h1 class=\"visually-hidden\">\n        ${resLocals.assessment_instance_label} instance for\n        ${resLocals.instance_group\n          ? html`${resLocals.instance_group.name}`\n          : html`${resLocals.instance_user.name}`}\n      </h1>\n      ${ResetQuestionVariantsModal({\n        csrfToken: resLocals.__csrf_token,\n        groupWork: resLocals.assessment.group_work,\n      })}\n      ${AssessmentSyncErrorsAndWarnings({\n        authz_data: resLocals.authz_data,\n        assessment: resLocals.assessment,\n        courseInstance: resLocals.course_instance,\n        course: resLocals.course,\n        urlPrefix: resLocals.urlPrefix,\n      })}\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white\">\n          <h2>\n            ${resLocals.assessment_instance_label} Summary:\n            ${resLocals.instance_group\n              ? html`${resLocals.instance_group.name} <i class=\"fas fa-users\"></i>`\n              : html`${resLocals.instance_user.name} (${resLocals.instance_user.uid})`}\n          </h2>\n        </div>\n\n        <table\n          class=\"table table-sm table-hover two-column-description\"\n          aria-label=\"Assessment instance summary\"\n        >\n          <tbody>\n            ${resLocals.instance_group\n              ? html`\n                  <tr>\n                    <th>Name</th>\n                    <td colspan=\"2\">${resLocals.instance_group.name}</td>\n                  </tr>\n                  <tr>\n                    <th>Group Members</th>\n                    <td colspan=\"2\">${resLocals.instance_group_uid_list.join(', ')}</td>\n                  </tr>\n                `\n              : html`\n                  <tr>\n                    <th>UID</th>\n                    <td colspan=\"2\">${resLocals.instance_user.uid}</td>\n                  </tr>\n                  <tr>\n                    <th>Name</th>\n                    <td colspan=\"2\">${resLocals.instance_user.name}</td>\n                  </tr>\n                  <tr>\n                    <th>Role</th>\n                    <td colspan=\"2\">${resLocals.instance_role}</td>\n                  </tr>\n                `}\n            <tr>\n              <th>Instance</th>\n              <td colspan=\"2\">\n                ${resLocals.assessment_instance.number} (<a\n                  href=\"${resLocals.plainUrlPrefix}/course_instance/${resLocals.course_instance\n                    .id}/assessment_instance/${resLocals.assessment_instance.id}\"\n                  >student view</a\n                >)\n              </td>\n            </tr>\n            ${resLocals.instance_user\n              ? html`\n                  <tr>\n                    <th>Fingerprint Changes</th>\n                    <td colspan=\"2\">\n                      ${resLocals.assessment_instance.client_fingerprint_id_change_count}\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-xs btn-ghost\"\n                        id=\"fingerprintDescriptionPopover\"\n                        data-bs-toggle=\"popover\"\n                        data-bs-container=\"body\"\n                        data-bs-html=\"false\"\n                        data-bs-title=\"Client fingerprint changes\"\n                        data-bs-content=\"Client fingerprints are a record of a user's IP address, user agent and session. These attributes are tracked while a user is accessing an assessment. This value indicates the amount of times that those attributes changed as the student accessed the assessment, while the assessment was active. Some changes may naturally occur during an assessment, such as if a student changes network connections or browsers. However, a high number of changes in an exam-like environment could be an indication of multiple people accessing the same assessment simultaneously, which may suggest an academic integrity issue. Accesses taking place after the assessment has been closed are not counted, as they typically indicate scenarios where a student is reviewing their results, which may happen outside of a controlled environment.\"\n                      >\n                        <i class=\"fa fa-question-circle\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                `\n              : ''}\n\n            <tr>\n              <th>Points</th>\n              <td colspan=\"2\">\n                <span id=\"total-points\">\n                  ${formatPoints(resLocals.assessment_instance.points)}\n                </span>\n                <small>\n                  /<span id=\"total-max-points\" class=\"text-muted\"\n                    >${formatPoints(resLocals.assessment_instance.max_points)}\n                  </span>\n                </small>\n                ${resLocals.authz_data.has_course_instance_permission_edit\n                  ? html`\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-xs btn-secondary\"\n                        id=\"editTotalPointsButton\"\n                        data-bs-toggle=\"popover\"\n                        data-bs-container=\"body\"\n                        data-bs-html=\"true\"\n                        data-bs-placement=\"auto\"\n                        data-bs-title=\"Change total points\"\n                        data-bs-content=\"${escapeHtml(\n                          EditTotalPointsForm({\n                            resLocals,\n                          }),\n                        )}\"\n                      >\n                        <i class=\"fa fa-edit\" aria-hidden=\"true\"></i>\n                      </button>\n                    `\n                  : ''}\n              </td>\n            </tr>\n            <tr>\n              <th>Score</th>\n              <td class=\"align-middle\" style=\"width: 20%;\">\n                ${Scorebar(resLocals.assessment_instance.score_perc)}\n              </td>\n              <td class=\"align-middle\" style=\"width: 100%;\">\n                ${resLocals.authz_data.has_course_instance_permission_edit\n                  ? html`\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-xs btn-secondary\"\n                        id=\"editTotalScorePercButton\"\n                        data-bs-toggle=\"popover\"\n                        data-bs-container=\"body\"\n                        data-bs-html=\"true\"\n                        data-bs-placement=\"auto\"\n                        data-bs-title=\"Change total percentage score\"\n                        data-bs-content=\"${escapeHtml(\n                          EditTotalScorePercForm({\n                            resLocals,\n                          }),\n                        )}\"\n                      >\n                        <i class=\"fa fa-edit\" aria-hidden=\"true\"></i>\n                      </button>\n                    `\n                  : ''}\n              </td>\n            </tr>\n            <tr>\n              <th>Statistics</th>\n              <td colspan=\"2\">\n                ${resLocals.assessment_instance.include_in_statistics\n                  ? html`\n                      Included\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-xs btn-ghost\"\n                        data-bs-toggle=\"popover\"\n                        data-bs-container=\"body\"\n                        data-bs-html=\"true\"\n                        data-bs-title=\"Included in statistics\"\n                        data-bs-content=\"This assessment is included in the calculation of assessment and question statistics\"\n                      >\n                        <i class=\"fa fa-question-circle\"></i>\n                      </button>\n                    `\n                  : html`\n                      Not included\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-xs btn-ghost\"\n                        data-bs-toggle=\"popover\"\n                        data-bs-container=\"body\"\n                        data-bs-html=\"true\"\n                        data-bs-title=\"Not included in statistics\"\n                        data-bs-content=\"This assessment is not included in the calculation of assessment and question statistics because it was created by a course staff member\"\n                      >\n                        <i class=\"fa fa-question-circle\"></i>\n                      </button>\n                    `}\n              </td>\n            </tr>\n            <tr>\n              <th>Date started</th>\n              <td colspan=\"2\">${assessment_instance_date_formatted}</td>\n            </tr>\n            <tr>\n              <th>Duration</th>\n              <td colspan=\"2\">${assessment_instance_duration}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white\">\n          <h2>\n            ${resLocals.assessment_instance_label} Questions:\n            ${resLocals.instance_group\n              ? html`${resLocals.instance_group.name} <i class=\"fas fa-users\"></i>`\n              : html`${resLocals.instance_user.name} (${resLocals.instance_user.uid})`}\n          </h2>\n        </div>\n\n        <table\n          id=\"instanceQuestionList\"\n          class=\"table table-sm table-hover\"\n          aria-label=\"Assessment instance questions\"\n        >\n          <thead>\n            <tr>\n              <th>Student question</th>\n              <th>Instructor question</th>\n              <th class=\"text-center\">Auto-grading points</th>\n              <th class=\"text-center\">Manual grading points</th>\n              <th class=\"text-center\">Awarded points</th>\n              <th class=\"text-center\" colspan=\"2\">Percentage score</th>\n              <th><!--Manual grading column --></th>\n              <th class=\"text-right\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${instance_questions.map((instance_question) => {\n              return html`\n                ${instance_question.start_new_zone && instance_question.zone_title\n                  ? html`\n                      <tr>\n                        <th colspan=\"6\">\n                          ${instance_question.zone_title}\n                          ${instance_question.zone_has_max_points\n                            ? html`(maximum ${instance_question.zone_max_points} points)}`\n                            : ''}\n                          ${instance_question.zone_has_best_questions\n                            ? html`(best ${instance_question.zone_best_questions} questions)}`\n                            : ''}\n                        </th>\n                      </tr>\n                    `\n                  : ''}\n                <tr>\n                  <td>\n                    S-${instance_question.question_number}. (<a\n                      href=\"${resLocals.plainUrlPrefix}/course_instance/${resLocals.course_instance\n                        .id}/instance_question/${instance_question.id}/\"\n                      >student view</a\n                    >)\n                  </td>\n                  <td>\n                    I-${instance_question.instructor_question_number}. ${instance_question.qid}\n                    ${resLocals.authz_data.has_course_permission_preview\n                      ? html`\n                          (<a\n                            href=\"${resLocals.urlPrefix}/question/${instance_question.question_id}/\"\n                            >instructor view</a\n                          >)\n                        `\n                      : ''}\n                  </td>\n                  <td class=\"text-center\">\n                    ${InstanceQuestionPoints({\n                      instance_question,\n                      assessment_question: instance_question.assessment_question,\n                      component: 'auto',\n                    })}\n                    ${resLocals.authz_data.has_course_instance_permission_edit\n                      ? EditQuestionPointsScoreButton({\n                          field: 'auto_points',\n                          instance_question,\n                          assessment_question: instance_question.assessment_question,\n                          urlPrefix: resLocals.urlPrefix,\n                          csrfToken: resLocals.__csrf_token,\n                        })\n                      : ''}\n                  </td>\n                  <td class=\"text-center\">\n                    ${InstanceQuestionPoints({\n                      instance_question,\n                      assessment_question: instance_question.assessment_question,\n                      component: 'manual',\n                    })}\n                    ${resLocals.authz_data.has_course_instance_permission_edit\n                      ? EditQuestionPointsScoreButton({\n                          field: 'manual_points',\n                          instance_question,\n                          assessment_question: instance_question.assessment_question,\n                          urlPrefix: resLocals.urlPrefix,\n                          csrfToken: resLocals.__csrf_token,\n                        })\n                      : ''}\n                  </td>\n                  <td class=\"text-center\">\n                    ${InstanceQuestionPoints({\n                      instance_question,\n                      assessment_question: instance_question.assessment_question,\n                      component: 'total',\n                    })}\n                    ${resLocals.authz_data.has_course_instance_permission_edit\n                      ? EditQuestionPointsScoreButton({\n                          field: 'points',\n                          instance_question,\n                          assessment_question: instance_question.assessment_question,\n                          urlPrefix: resLocals.urlPrefix,\n                          csrfToken: resLocals.__csrf_token,\n                        })\n                      : ''}\n                  </td>\n                  <td class=\"align-middle text-center text-nowrap\">\n                    ${Scorebar(instance_question.score_perc)}\n                  </td>\n                  <td class=\"align-middle\" style=\"width: 1em;\">\n                    ${resLocals.authz_data.has_course_instance_permission_edit\n                      ? EditQuestionPointsScoreButton({\n                          field: 'score_perc',\n                          instance_question,\n                          assessment_question: instance_question.assessment_question,\n                          urlPrefix: resLocals.urlPrefix,\n                          csrfToken: resLocals.__csrf_token,\n                        })\n                      : ''}\n                  </td>\n                  <td class=\"align-middle text-nowrap\" style=\"width: 1em;\">\n                    ${resLocals.authz_data.has_course_instance_permission_edit &&\n                    instance_question.status !== 'unanswered'\n                      ? html`\n                          <a\n                            class=\"btn btn-xs btn-secondary\"\n                            href=\"${resLocals.urlPrefix}/assessment/${resLocals.assessment\n                              .id}/manual_grading/instance_question/${instance_question.id}\"\n                            >Manual grading</a\n                          >\n                        `\n                      : ''}\n                  </td>\n                  <td class=\"text-right\">\n                    <div class=\"dropdown js-question-actions\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-secondary btn-xs dropdown-toggle\"\n                        data-bs-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                      >\n                        Action <span class=\"caret\"></span>\n                      </button>\n                      <div class=\"dropdown-menu dropdown-menu-end\">\n                        ${resLocals.authz_data.has_course_instance_permission_edit\n                          ? html`\n                              <button\n                                class=\"dropdown-item\"\n                                data-bs-toggle=\"modal\"\n                                data-bs-target=\"#resetQuestionVariantsModal\"\n                                data-instance-question-id=\"${instance_question.id}\"\n                              >\n                                Reset question variants\n                              </button>\n                            `\n                          : html`\n                              <button class=\"dropdown-item disabled\" disabled>\n                                Must have editor permission\n                              </button>\n                            `}\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n              `;\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white\">\n          <h2>\n            ${resLocals.assessment_instance_label} Statistics:\n            ${resLocals.instance_group\n              ? html`${resLocals.instance_group.name} <i class=\"fas fa-users\"></i>`\n              : html`${resLocals.instance_user.name} (${resLocals.instance_user.uid})`}\n          </h2>\n        </div>\n        <table\n          id=\"instanceQuestionStatsTable\"\n          class=\"table table-sm table-hover tablesorter\"\n          aria-label=\"Assessment instance statistics\"\n        >\n          <thead>\n            <tr>\n              <th>Instructor question</th>\n              <th>Some submission</th>\n              <th>Some perfect submission</th>\n              <th>Some nonzero submission</th>\n              <th>First submission score</th>\n              <th>Last submission score</th>\n              <th>Max submission score</th>\n              <th>Average submission score</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${assessment_instance_stats.map((row) => {\n              return html`\n                <tr>\n                  <td>\n                    I-${row.number}.\n                    ${resLocals.authz_data.has_course_permission_preview\n                      ? html`\n                          <a href=\"${resLocals.urlPrefix}/question/${row.question_id}/\"\n                            >${row.qid}</a\n                          >\n                        `\n                      : row.qid}\n                  </td>\n                  <td>${row.some_submission}</td>\n                  <td>${row.some_perfect_submission}</td>\n                  <td>${row.some_nonzero_submission}</td>\n                  <td>${formatFloat(row.first_submission_score, 2)}</td>\n                  <td>${formatFloat(row.last_submission_score, 2)}</td>\n                  <td>${formatFloat(row.max_submission_score, 2)}</td>\n                  <td>${formatFloat(row.average_submission_score, 2)}</td>\n                </tr>\n              `;\n            })}\n          </tbody>\n        </table>\n        <script>\n          $(function () {\n            $('#loginstanceQuestionStatsTable').tablesorter({\n              theme: 'bootstrap',\n              widthFixed: true,\n              headerTemplate: '{content} {icon}',\n              widgets: ['uitheme'],\n            });\n          });\n        </script>\n      </div>\n\n      <div class=\"card mb-4\">\n        <div class=\"card-header bg-primary text-white\">\n          <h2>\n            ${resLocals.assessment_instance_label} Log:\n            ${resLocals.instance_group\n              ? html`${resLocals.instance_group.name} <i class=\"fas fa-users\"></i>`\n              : html`${resLocals.instance_user.name} (${resLocals.instance_user.uid})`}\n          </h2>\n        </div>\n        <div class=\"card-body\">\n          <small>\n            Click on a column header to sort. Shift-click on a second header to sub-sort. Download\n            <a\n              href=\"${resLocals.urlPrefix}/assessment_instance/${resLocals.assessment_instance\n                .id}/${logCsvFilename}\"\n              >${logCsvFilename}</a\n            >. Uploaded student files are not shown above or in the CSV file. Student files can be\n            downloaded on the\n            <a href=\"${resLocals.urlPrefix}/assessment/${resLocals.assessment.id}/downloads\"\n              >Downloads</a\n            >\n            tab.\n          </small>\n        </div>\n\n        <table\n          id=\"logTable\"\n          class=\"table table-sm table-hover tablesorter\"\n          aria-label=\"Assessment instance log\"\n        >\n          <thead>\n            <tr>\n              <th>Time</th>\n              <th>User</th>\n              ${resLocals.instance_user ? html`<th>Fingerprint</th>` : ''}\n              <th>Event</th>\n              <th>Instructor question</th>\n              <th>Student question</th>\n              <th>Data</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${assessmentInstanceLog.map((row, index) => {\n              return html`\n                <tr>\n                  <td class=\"text-nowrap\">${row.formatted_date}</td>\n                  <td>${row.auth_user_uid ?? html`&mdash;`}</td>\n                  ${resLocals.instance_user\n                    ? row.client_fingerprint && row.client_fingerprint_number !== null\n                      ? html`\n                          <td>\n                            <button\n                              type=\"button\"\n                              class=\"btn btn-xs color-${FINGERPRINT_COLORS[\n                                row.client_fingerprint_number % 6\n                              ]}\"\n                              id=\"fingerprintPopover${row.client_fingerprint?.id}-${index}\"\n                              data-bs-toggle=\"popover\"\n                              data-bs-container=\"body\"\n                              data-bs-html=\"true\"\n                              data-bs-placement=\"auto\"\n                              data-bs-title=\"Fingerprint ${row.client_fingerprint_number}\"\n                              data-bs-custom-class=\"popover-wide\"\n                              data-bs-content=\"${escapeHtml(\n                                FingerprintContent({ fingerprint: row.client_fingerprint }),\n                              )}\"\n                            >\n                              ${row.client_fingerprint_number}\n                            </button>\n                          </td>\n                        `\n                      : html`<td>&mdash;</td>`\n                    : ''}\n                  <td><span class=\"badge color-${row.event_color}\">${row.event_name}</span></td>\n                  <td>\n                    ${run(() => {\n                      if (!row.qid) return '';\n                      const text = `I-${row.instructor_question_number}. ${row.qid}`;\n                      if (!resLocals.authz_data.has_course_permission_preview) return text;\n                      return html`\n                        <a href=\"${resLocals.urlPrefix}/question/${row.question_id}/\">${text}</a>\n                      `;\n                    })}\n                  </td>\n                  <td>\n                    ${row.student_question_number\n                      ? row.variant_id\n                        ? html`\n                            <a\n                              href=\"${resLocals.plainUrlPrefix}/course_instance/${resLocals\n                                .course_instance\n                                .id}/instance_question/${row.instance_question_id}/?variant_id=${row.variant_id}\"\n                            >\n                              S-${row.student_question_number}#${row.variant_number}\n                            </a>\n                          `\n                        : html`S-${row.student_question_number}`\n                      : ''}\n                  </td>\n                  ${row.event_name !== 'External grading results'\n                    ? html`<td style=\"word-break: break-all;\">\n                        ${row.data != null ? JSON.stringify(row.data) : ''}\n                      </td>`\n                    : html`\n                        <td>\n                          <a\n                            class=\"btn btn-primary\"\n                            href=\"${resLocals.urlPrefix}/grading_job/${row.data?.id}\"\n                          >\n                            View grading job ${row.data?.id}\n                          </a>\n                        </td>\n                      `}\n                </tr>\n              `;\n            })}\n          </tbody>\n        </table>\n        <script>\n          $(function () {\n            $('#logTable').tablesorter({\n              theme: 'bootstrap',\n              widthFixed: true,\n              headerTemplate: '{content} {icon}',\n              widgets: ['uitheme'],\n            });\n          });\n        </script>\n        <div class=\"card-footer\">\n          <small>\n            Download\n            <a\n              href=\"${resLocals.urlPrefix}/assessment_instance/${resLocals.assessment_instance\n                .id}/${logCsvFilename}\"\n              >${logCsvFilename}</a\n            >. Uploaded student files are not shown above or in the CSV file. Student files can be\n            downloaded on the\n            <a href=\"${resLocals.urlPrefix}/assessment/${resLocals.assessment.id}/downloads\"\n              >Downloads</a\n            >\n            tab.\n          </small>\n        </div>\n      </div>\n    `,\n  });\n}\n\nfunction FingerprintContent({ fingerprint }: { fingerprint: ClientFingerprint }) {\n  const { browser, device, os } = UAParser(fingerprint.user_agent);\n  return html`\n    <div>\n      IP Address:\n      <a href=\"https://client.rdap.org/?type=ip&object=${fingerprint.ip_address}\" target=\"_blank\">\n        ${fingerprint.ip_address}\n      </a>\n    </div>\n    <div>Session ID: ${fingerprint.user_session_id}</div>\n    <div>User Agent:</div>\n    <ul>\n      ${browser?.name ? html`<li>Browser: ${browser.name} ${browser.version ?? ''}</li>` : ''}\n      ${device?.type ? html`<li>Device Type: ${device.type}</li>` : ''}\n      ${device?.vendor ? html`<li>Device: ${device.vendor} ${device.model ?? ''}</li>` : ''}\n      ${os?.name ? html`<li>OS: ${os.name} ${os.version ?? ''}</li>` : ''}\n      <li>Raw: <code>${fingerprint.user_agent}</code></li>\n    </ul>\n  `;\n}\n\nfunction EditTotalPointsForm({ resLocals }: { resLocals: Record<string, any> }) {\n  return html`\n    <form name=\"edit-total-points-form\" method=\"POST\">\n      <input type=\"hidden\" name=\"__action\" value=\"edit_total_points\" />\n      <input type=\"hidden\" name=\"__csrf_token\" value=\"${resLocals.__csrf_token}\" />\n      <input\n        type=\"hidden\"\n        name=\"assessment_instance_id\"\n        value=\"${resLocals.assessment_instance.id}\"\n      />\n      <div class=\"mb-3\">\n        <div class=\"input-group\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            name=\"points\"\n            value=\"${resLocals.assessment_instance.points}\"\n            aria-label=\"Total points\"\n          />\n          <span class=\"input-group-addon\">/${resLocals.assessment_instance.max_points}</span>\n        </div>\n      </div>\n      <p>\n        <small>\n          This change will be overwritten if further questions are answered by the student.\n        </small>\n      </p>\n      <div class=\"text-right\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"popover\">Cancel</button>\n        <button type=\"submit\" class=\"btn btn-primary\">Change</button>\n      </div>\n    </form>\n  `;\n}\n\nfunction EditTotalScorePercForm({ resLocals }: { resLocals: Record<string, any> }) {\n  return html`\n    <form name=\"edit-total-score-perc-form\" method=\"POST\">\n      <input type=\"hidden\" name=\"__action\" value=\"edit_total_score_perc\" />\n      <input type=\"hidden\" name=\"__csrf_token\" value=\"${resLocals.__csrf_token}\" />\n      <input\n        type=\"hidden\"\n        name=\"assessment_instance_id\"\n        value=\"${resLocals.assessment_instance.id}\"\n      />\n      <div class=\"mb-3\">\n        <div class=\"input-group\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            name=\"score_perc\"\n            value=\"${resLocals.assessment_instance.score_perc}\"\n            aria-label=\"Total score percentage\"\n          />\n          <span class=\"input-group-addon\">%</span>\n        </div>\n      </div>\n      <p>\n        <small>\n          This change will be overwritten if further questions are answered by the student.\n        </small>\n      </p>\n      <div class=\"text-right\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"popover\">Cancel</button>\n        <button type=\"submit\" class=\"btn btn-primary\">Change</button>\n      </div>\n    </form>\n  `;\n}\n\nfunction ResetQuestionVariantsModal({\n  csrfToken,\n  groupWork,\n}: {\n  csrfToken: string;\n  groupWork: boolean;\n}) {\n  return Modal({\n    id: 'resetQuestionVariantsModal',\n    title: 'Confirm reset question variants',\n    body: html`\n      <p>\n        Are your sure you want to reset all current variants of this question for this\n        ${groupWork ? 'group' : 'student'}?\n        <strong>All ungraded attempts will be lost.</strong>\n      </p>\n      <p>\n        This ${groupWork ? 'group' : 'student'} will receive a new variant the next time they view\n        this question.\n      </p>\n    `,\n    footer: html`\n      <input type=\"hidden\" name=\"__action\" value=\"reset_question_variants\" />\n      <input type=\"hidden\" name=\"__csrf_token\" value=\"${csrfToken}\" />\n      <input type=\"hidden\" name=\"unsafe_instance_question_id\" class=\"js-instance-question-id\" />\n      <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\n      <button type=\"submit\" class=\"btn btn-danger\">Reset question variants</button>\n    `,\n  });\n}\n"]}