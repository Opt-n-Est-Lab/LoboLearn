{"version":3,"file":"gradingPointsSection.html.js","sourceRoot":"","sources":["../../../../src/pages/instructorAssessmentManualGrading/instanceQuestion/gradingPointsSection.html.ts"],"names":[],"mappings":"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","sourcesContent":["import { html } from '@prairielearn/html';\n\nexport function ManualPointsSection({\n  context,\n  disable,\n  manual_points,\n  resLocals,\n}: {\n  context: 'main' | 'existing' | 'conflicting';\n  disable: boolean;\n  manual_points: number;\n  resLocals: Record<string, any>;\n}) {\n  return GradingPointsSection({\n    context,\n    disable,\n    type: 'manual',\n    type_label: 'Manual',\n    points: manual_points,\n    max_points: resLocals.assessment_question.max_manual_points ?? 0,\n    show_percentage: !!resLocals.assessment_question.max_points,\n    show_input: !resLocals.rubric_data,\n    show_input_edit: false,\n    show_rubric_button:\n      context === 'main' &&\n      !resLocals.rubric_data?.replace_auto_points &&\n      resLocals.authz_data.has_course_instance_permission_edit,\n  });\n}\n\nexport function AutoPointsSection({\n  context,\n  disable,\n  auto_points,\n  resLocals,\n}: {\n  context: string;\n  disable: boolean;\n  auto_points: number;\n  resLocals: Record<string, any>;\n}) {\n  return GradingPointsSection({\n    context,\n    disable,\n    type: 'auto',\n    type_label: 'Auto',\n    points: auto_points,\n    max_points: resLocals.assessment_question.max_auto_points ?? 0,\n    show_percentage: !!resLocals.assessment_question.max_points,\n    show_input: false,\n    show_input_edit: !disable,\n    show_rubric_button: false,\n  });\n}\n\nexport function TotalPointsSection({\n  context,\n  disable,\n  points,\n  resLocals,\n}: {\n  context: 'main' | 'existing' | 'conflicting';\n  disable: boolean;\n  points: number;\n  resLocals: Record<string, any>;\n}) {\n  return html`\n    ${context === 'main' && resLocals.rubric_data?.replace_auto_points && !disable\n      ? html`\n          <span class=\"float-end btn-group btn-group-sm ms-1\" role=\"group\">\n            <button type=\"button\" class=\"btn btn-outline-secondary js-show-rubric-settings-button\">\n              <i class=\"fas fa-list-check\"></i> Rubric\n            </button>\n          </span>\n        `\n      : ''}\n    <div class=\"mb-3 js-manual-grading-points w-100\">\n      Total Points:\n      <span class=\"float-end\">\n        <span class=\"js-value-total-points\">${Math.round(100 * points) / 100}</span>\n        / ${resLocals.assessment_question.max_points}\n      </span>\n    </div>\n    ${resLocals.assessment_question.max_points\n      ? html`\n          <div class=\"mb-3 js-manual-grading-percentage w-100\">\n            Total Score:\n            <span class=\"float-end\"> <span class=\"js-value-total-percentage\"></span>% </span>\n          </div>\n        `\n      : ''}\n  `;\n}\n\nexport function GradingPointsSection({\n  type,\n  type_label,\n  context,\n  show_input,\n  points,\n  max_points,\n  show_percentage,\n  disable,\n  show_input_edit,\n  show_rubric_button,\n}: {\n  type: string;\n  type_label: string;\n  context: string;\n  show_input: boolean;\n  points: number;\n  max_points: number;\n  show_percentage: boolean;\n  disable: boolean;\n  show_input_edit: boolean;\n  show_rubric_button: boolean;\n}) {\n  return html`\n    <div class=\"mb-3\">\n      <span class=\"w-100\">\n        <label\n          for=\"js-${type}-score-value-input-points-${context}\"\n          class=\"js-manual-grading-points\"\n        >\n          ${type_label} Points:\n        </label>\n        ${show_percentage\n          ? html`\n              <label\n                for=\"js-${type}-score-value-input-percentage-${context}\"\n                class=\"js-manual-grading-percentage\"\n              >\n                ${type_label} Score:\n              </label>\n            `\n          : ''}\n        <span class=\"float-end\">\n          ${!show_input\n            ? html`\n                <span class=\"js-manual-grading-points\">\n                  <span class=\"js-${type}-score-value-info\">\n                    <span class=\"js-value-${type}-points\">${Math.round(points * 100) / 100}</span>\n                    / ${max_points}\n                  </span>\n                </span>\n                ${show_percentage\n                  ? html`\n                      <span class=\"js-manual-grading-percentage\">\n                        <span class=\"js-${type}-score-value-info\">\n                          <span class=\"js-value-${type}-percentage\"></span>%\n                        </span>\n                      </span>\n                    `\n                  : ''}\n              `\n            : ''}\n          <div class=\"btn-group btn-group-sm\" role=\"group\">\n            ${show_input_edit\n              ? html`\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary js-enable-${type}-score-edit js-${type}-score-value-info\"\n                  >\n                    <i class=\"fas fa-pencil\"></i>\n                  </button>\n                `\n              : ''}\n            ${show_rubric_button\n              ? html`\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary js-show-rubric-settings-button\"\n                  >\n                    <i class=\"fas fa-list-check\"></i> Rubric\n                  </button>\n                `\n              : ''}\n          </div>\n        </span>\n      </span>\n      <div class=\"js-manual-grading-points\">\n        <div class=\"input-group js-${type}-score-value-input ${!show_input ? 'd-none' : ''}\">\n          <input\n            type=\"number\"\n            step=\"any\"\n            required\n            id=\"js-${type}-score-value-input-points-${context}\"\n            class=\"form-control js-grading-score-input js-${type}-score-value-input-points\"\n            data-max-points=\"${max_points}\"\n            name=\"score_${type}_points\"\n            value=\"${Math.round(points * 100) / 100}\"\n            ${disable ? 'disabled' : ''}\n          />\n          <span class=\"input-group-text\">/ ${max_points}</span>\n        </div>\n      </div>\n      ${show_percentage\n        ? html`\n            <div class=\"js-manual-grading-percentage\">\n              <div class=\"input-group js-${type}-score-value-input ${!show_input ? 'd-none' : ''}\">\n                <input\n                  type=\"number\"\n                  step=\"any\"\n                  required\n                  id=\"js-${type}-score-value-input-percentage-${context}\"\n                  class=\"form-control js-grading-score-input js-${type}-score-value-input-percentage\"\n                  name=\"score_${type}_percent\"\n                  ${disable ? 'disabled' : ''}\n                />\n                <span class=\"input-group-text\">%</span>\n              </div>\n            </div>\n          `\n        : ''}\n    </div>\n  `;\n}\n"]}