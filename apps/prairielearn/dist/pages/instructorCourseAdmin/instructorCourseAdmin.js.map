{"version":3,"file":"instructorCourseAdmin.js","sourceRoot":"","sources":["../../../src/pages/instructorCourseAdmin/instructorCourseAdmin.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,YAAY,MAAM,uBAAuB,CAAC;AAEjD,OAAO,EAAE,8BAA8B,EAAE,MAAM,kCAAkC,CAAC;AAElF,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CACR,GAAG,EACH,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IAC9B,MAAM,wBAAwB,GAAG,MAAM,8BAA8B,CAAC;QACpE,SAAS,EAAE,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;KAChC,CAAC,CAAC;IAEH,IAAI,CAAC,wBAAwB,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC;QACxE,4EAA4E;QAC5E,GAAG,CAAC,QAAQ,CAAC,cAAc,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,+BAA+B,CAAC,CAAC;IAClF,CAAC;SAAM,CAAC;QACN,6EAA6E;QAC7E,sFAAsF;QACtF,GAAG,CAAC,QAAQ,CAAC,cAAc,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,yBAAyB,CAAC,CAAC;IAC5E,CAAC;AACH,CAAC,CAAC,CACH,CAAC;AAEF,eAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\nimport asyncHandler from 'express-async-handler';\n\nimport { selectCourseHasCourseInstances } from '../../models/course-instances.js';\n\nconst router = Router();\n\nrouter.get(\n  '/',\n  asyncHandler(async (req, res) => {\n    const courseHasCourseInstances = await selectCourseHasCourseInstances({\n      course_id: res.locals.course.id,\n    });\n\n    if (!courseHasCourseInstances && res.locals.course.show_getting_started) {\n      // For brand new courses, users should be redirected to the getting started.\n      res.redirect(`/pl/course/${res.locals.course.id}/course_admin/getting_started`);\n    } else {\n      // Once users have created course instances or completed the getting started,\n      // they should have easy access to the course instances via the course instances page.\n      res.redirect(`/pl/course/${res.locals.course.id}/course_admin/instances`);\n    }\n  }),\n);\n\nexport default router;\n"]}