{"version":3,"file":"instructorQuestionPreview.html.js","sourceRoot":"","sources":["../../../src/pages/instructorQuestionPreview/instructorQuestionPreview.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,GAAG,EAAE,MAAM,mBAAmB,CAAC;AAExC,OAAO,EAAE,mBAAmB,EAAE,MAAM,8CAA8C,CAAC;AACnF,OAAO,EAAE,UAAU,EAAE,MAAM,qCAAqC,CAAC;AACjE,OAAO,EAAE,iBAAiB,EAAE,MAAM,4CAA4C,CAAC;AAC/E,OAAO,EAAE,6BAA6B,EAAE,MAAM,gDAAgD,CAAC;AAC/F,OAAO,EAAE,SAAS,EAAE,iBAAiB,EAAE,oBAAoB,EAAE,MAAM,qBAAqB,CAAC;AAEzF,MAAM,UAAU,yBAAyB,CAAC,EACxC,gBAAgB,EAChB,2BAA2B,EAC3B,uBAAuB,EACvB,uBAAuB,EACvB,mBAAmB,EACnB,4BAA4B,EAC5B,SAAS,GASV;IACC,OAAO,UAAU,CAAC;QAChB,SAAS;QACT,SAAS,EAAE,kBAAkB;QAC7B,UAAU,EAAE;YACV,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,UAAU;YAChB,OAAO,EAAE,SAAS;SACnB;QACD,OAAO,EAAE;YACP,QAAQ,EAAE,SAAS,CAAC,QAAQ,CAAC,GAAG;SACjC;QACD,WAAW,EAAE,IAAI,CAAA;QACb,iBAAiB,CAAC,aAAa,CAAC;2BACb,oBAAoB,CAAC,wBAAwB,CAAC;;gCAEzC,SAAS,CAAC,SAAS;;QAE3C,SAAS,CAAC,QAAQ,CAAC,IAAI,KAAK,UAAU;YACtC,CAAC,CAAC,IAAI,CAAA;2BACa,oBAAoB,CAAC,sBAAsB,CAAC;2BAC5C,SAAS,CAAC,wBAAwB,CAAC;2BACnC,SAAS,CAAC,0BAA0B,CAAC;2BACrC,SAAS,CACpB,wBAAwB,SAAS,CAAC,qBAAqB,KAAK,CAC7D;WACJ;YACH,CAAC,CAAC,EAAE;QACJ,UAAU,CAAC,SAAS,CAAC,gBAAgB,CAAC;KACzC;QACD,UAAU,EAAE,IAAI,CAAA;;UAEV,6BAA6B,CAAC;YAC9B,UAAU,EAAE,SAAS,CAAC,UAAU;YAChC,QAAQ,EAAE,SAAS,CAAC,QAAQ;YAC5B,MAAM,EAAE,SAAS,CAAC,MAAM;YACxB,SAAS,EAAE,SAAS,CAAC,SAAS;SAC/B,CAAC;;KAEL;QACD,OAAO,EAAE,IAAI,CAAA;QACT,2BAA2B;YAC3B,CAAC,CAAC,IAAI,CAAA;;;yBAGW,gBAAgB;;;WAG9B;YACH,CAAC,CAAC,EAAE;QACJ,uBAAuB;YACvB,CAAC,CAAC,IAAI,CAAA;;;yBAGW,gBAAgB;;;WAG9B;YACH,CAAC,CAAC,EAAE;;;YAGA,iBAAiB,CAAC;YAClB,SAAS;YACT,UAAU,EAAE,2BAA2B,IAAI,uBAAuB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS;YACtF,eAAe,EAAE,YAAY;YAC7B,qBAAqB,EAAE,GAAG,CAAC,GAAG,EAAE;gBAC9B,IAAI,2BAA2B;oBAAE,OAAO,gBAAgB,CAAC;gBACzD,IAAI,uBAAuB;oBAAE,OAAO,YAAY,CAAC;gBACjD,OAAO,SAAS,CAAC;YACnB,CAAC,CAAC;YACF,uBAAuB,EAAE,2BAA2B;gBAClD,CAAC,CAAC,SAAS;gBACX,CAAC,CAAC,uBAAuB;YAC3B,mBAAmB,EAAE,uBAAuB,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,mBAAmB;YAC9E,4BAA4B;SAC7B,CAAC;;;;;;;;;;;;;;YAcA,mBAAmB,CAAC;YACpB,MAAM,EAAE,SAAS,CAAC,MAAM;YACxB,eAAe,EAAE,SAAS,CAAC,eAAe;YAC1C,QAAQ,EAAE,SAAS,CAAC,QAAQ;YAC5B,OAAO,EAAE,SAAS,CAAC,OAAO;YAC1B,UAAU,EAAE,SAAS,CAAC,UAAU;YAChC,kBAAkB,EAAE,SAAS,CAAC,kBAAkB;YAChD,eAAe,EAAE,YAAY;YAC7B,SAAS,EAAE,SAAS,CAAC,YAAY;SAClC,CAAC;;;KAGP;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { html, unsafeHtml } from '@prairielearn/html';\nimport { run } from '@prairielearn/run';\n\nimport { InstructorInfoPanel } from '../../components/InstructorInfoPanel.html.js';\nimport { PageLayout } from '../../components/PageLayout.html.js';\nimport { QuestionContainer } from '../../components/QuestionContainer.html.js';\nimport { QuestionSyncErrorsAndWarnings } from '../../components/SyncErrorsAndWarnings.html.js';\nimport { assetPath, compiledScriptTag, nodeModulesAssetPath } from '../../lib/assets.js';\n\nexport function InstructorQuestionPreview({\n  normalPreviewUrl,\n  manualGradingPreviewEnabled,\n  manualGradingPreviewUrl,\n  aiGradingPreviewEnabled,\n  aiGradingPreviewUrl,\n  renderSubmissionSearchParams,\n  resLocals,\n}: {\n  normalPreviewUrl: string;\n  manualGradingPreviewEnabled: boolean;\n  manualGradingPreviewUrl: string;\n  aiGradingPreviewEnabled: boolean;\n  aiGradingPreviewUrl?: string;\n  renderSubmissionSearchParams: URLSearchParams;\n  resLocals: Record<string, any>;\n}) {\n  return PageLayout({\n    resLocals,\n    pageTitle: 'Question Preview',\n    navContext: {\n      type: 'instructor',\n      page: 'question',\n      subPage: 'preview',\n    },\n    options: {\n      pageNote: resLocals.question.qid,\n    },\n    headContent: html`\n      ${compiledScriptTag('question.ts')}\n      <script defer src=\"${nodeModulesAssetPath('mathjax/es5/startup.js')}\"></script>\n      <script>\n        document.urlPrefix = '${resLocals.urlPrefix}';\n      </script>\n      ${resLocals.question.type !== 'Freeform'\n        ? html`\n            <script src=\"${nodeModulesAssetPath('lodash/lodash.min.js')}\"></script>\n            <script src=\"${assetPath('javascripts/require.js')}\"></script>\n            <script src=\"${assetPath('localscripts/question.js')}\"></script>\n            <script src=\"${assetPath(\n                `localscripts/question${resLocals.effectiveQuestionType}.js`,\n              )}\"></script>\n          `\n        : ''}\n      ${unsafeHtml(resLocals.extraHeadersHtml)}\n    `,\n    preContent: html`\n      <div class=\"container-fluid\">\n        ${QuestionSyncErrorsAndWarnings({\n          authz_data: resLocals.authz_data,\n          question: resLocals.question,\n          course: resLocals.course,\n          urlPrefix: resLocals.urlPrefix,\n        })}\n      </div>\n    `,\n    content: html`\n      ${manualGradingPreviewEnabled\n        ? html`\n            <div class=\"alert alert-primary\">\n              You are viewing this question as it will appear in the manual grading interface.\n              <a href=\"${normalPreviewUrl}\" class=\"alert-link\">Return to the normal view</a> when\n              you are done.\n            </div>\n          `\n        : ''}\n      ${aiGradingPreviewEnabled\n        ? html`\n            <div class=\"alert alert-primary\">\n              You are viewing this question as it will appear to the AI grader.\n              <a href=\"${normalPreviewUrl}\" class=\"alert-link\">Return to the normal view</a> when\n              you are done.\n            </div>\n          `\n        : ''}\n      <div class=\"row\">\n        <div class=\"col-lg-9 col-sm-12\">\n          ${QuestionContainer({\n            resLocals,\n            showFooter: manualGradingPreviewEnabled || aiGradingPreviewEnabled ? false : undefined,\n            questionContext: 'instructor',\n            questionRenderContext: run(() => {\n              if (manualGradingPreviewEnabled) return 'manual_grading';\n              if (aiGradingPreviewEnabled) return 'ai_grading';\n              return undefined;\n            }),\n            manualGradingPreviewUrl: manualGradingPreviewEnabled\n              ? undefined\n              : manualGradingPreviewUrl,\n            aiGradingPreviewUrl: aiGradingPreviewEnabled ? undefined : aiGradingPreviewUrl,\n            renderSubmissionSearchParams,\n          })}\n        </div>\n\n        <div class=\"col-lg-3 col-sm-12\">\n          <div class=\"card mb-3\">\n            <div class=\"card-header bg-secondary text-white\">\n              <h2>Student view placeholder</h2>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"d-flex justify-content-center\">\n                In student views this area is used for assessment and score info.\n              </div>\n            </div>\n          </div>\n          ${InstructorInfoPanel({\n            course: resLocals.course,\n            course_instance: resLocals.course_instance,\n            question: resLocals.question,\n            variant: resLocals.variant,\n            authz_data: resLocals.authz_data,\n            question_is_shared: resLocals.question_is_shared,\n            questionContext: 'instructor',\n            csrfToken: resLocals.__csrf_token,\n          })}\n        </div>\n      </div>\n    `,\n  });\n}\n"]}