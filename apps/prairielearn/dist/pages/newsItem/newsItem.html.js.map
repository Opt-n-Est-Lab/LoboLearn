{"version":3,"file":"newsItem.html.js","sourceRoot":"","sources":["../../../src/pages/newsItem/newsItem.html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACxD,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,oBAAoB,CAAC;AAEtD,OAAO,EAAE,UAAU,EAAE,MAAM,qCAAqC,CAAC;AAGjE,MAAM,UAAU,QAAQ,CAAC,EACvB,SAAS,EACT,QAAQ,EACR,YAAY,EACZ,gBAAgB,GAMjB;IACC,MAAM,EAAE,SAAS,EAAE,GAAG,SAAkC,CAAC;IACzD,MAAM,aAAa,GAAG,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAE1D,OAAO,UAAU,CAAC;QAChB,SAAS;QACT,SAAS,EAAE,QAAQ,CAAC,KAAK;QACzB,UAAU,EAAE;YACV,IAAI,EAAE,SAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,WAAW;YACjB,OAAO,EAAE,WAAW;SACrB;QACD,OAAO,EAAE;YACP,QAAQ,EAAE,aAAa;SACxB;QACD,OAAO,EAAE,IAAI,CAAA;;;kDAGiC,SAAS;;;;;gBAK3C,QAAQ,CAAC,KAAK;;;;0BAIJ,aAAa;gBACvB,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAA,MAAM,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;;cAEhE,gBAAgB,IAAI,QAAQ,CAAC,mBAAmB;YAChD,CAAC,CAAC,IAAI,CAAA,kEAAkE;YACxE,CAAC,CAAC,EAAE;;;;UAIR,UAAU,CAAC,YAAY,CAAC;;;;;;;;;KAS7B;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { formatDateYMD } from '@prairielearn/formatter';\nimport { html, unsafeHtml } from '@prairielearn/html';\n\nimport { PageLayout } from '../../components/PageLayout.html.js';\nimport type { NewsItem } from '../../lib/db-types.js';\n\nexport function NewsItem({\n  resLocals,\n  newsItem,\n  newsItemHtml,\n  userIsInstructor,\n}: {\n  resLocals: Record<string, any>;\n  newsItem: NewsItem;\n  newsItemHtml: string;\n  userIsInstructor: boolean;\n}) {\n  const { urlPrefix } = resLocals as { urlPrefix: string };\n  const formattedDate = formatDateYMD(newsItem.date, 'UTC');\n\n  return PageLayout({\n    resLocals,\n    pageTitle: newsItem.title,\n    navContext: {\n      type: resLocals.navbarType,\n      page: 'news_item',\n      subPage: 'news_item',\n    },\n    options: {\n      pageNote: formattedDate,\n    },\n    content: html`\n      <article>\n        <header>\n          <a class=\"btn btn-primary mb-4\" href=\"${urlPrefix}/news_items\">\n            <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\n            Back to news list\n          </a>\n\n          <h1>${newsItem.title}</h1>\n\n          <p>\n            <i class=\"me-2 text-muted\">\n              Posted on ${formattedDate}\n              ${newsItem.author ? html`by ${unsafeHtml(newsItem.author)}` : ''}\n            </i>\n            ${userIsInstructor && newsItem.visible_to_students\n              ? html`<span class=\"badge text-bg-secondary\">Visible to students</span>`\n              : ''}\n          </p>\n        </header>\n\n        ${unsafeHtml(newsItemHtml)}\n      </article>\n\n      <aside>\n        <p class=\"text-right small border-top mt-5 pt-3\">\n          Want to help make PrairieLearn better? It's open source and contributions are welcome\n          <a href=\"https://github.com/PrairieLearn/PrairieLearn\" target=\"_blank\">on GitHub</a>!\n        </p>\n      </aside>\n    `,\n  });\n}\n"]}