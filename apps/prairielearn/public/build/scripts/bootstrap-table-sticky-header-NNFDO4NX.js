"use strict";(()=>{var d=$.fn.bootstrapTable.utils;Object.assign($.fn.bootstrapTable.defaults,{stickyHeader:!1,stickyHeaderOffsetY:0,stickyHeaderOffsetLeft:0,stickyHeaderOffsetRight:0});$.BootstrapTable=class extends $.BootstrapTable{initHeader(...e){if(super.initHeader(...e),!this.options.stickyHeader)return;this.$tableBody.find(".sticky-header-container,.sticky_anchor_begin,.sticky_anchor_end").remove(),this.$el.before('<div class="sticky-header-container"></div>'),this.$el.before('<div class="sticky_anchor_begin"></div>'),this.$el.after('<div class="sticky_anchor_end"></div>'),this.$header.addClass("sticky-header"),this.$stickyContainer=this.$tableBody.find(".sticky-header-container"),this.$stickyBegin=this.$tableBody.find(".sticky_anchor_begin"),this.$stickyEnd=this.$tableBody.find(".sticky_anchor_end"),this.$stickyHeader=this.$header.clone(!0,!0),this.$nonBodyScrollableAncestor=this.$tableBody.parents().filter(function(){return($(this).css("overflow")==="auto"||$(this).css("overflow-y")==="auto")&&!$(this).is("body")}).first();let t=d.getEventName("resize.sticky-header-table",this.$el.attr("id")),s=d.getEventName("scroll.sticky-header-table",this.$el.attr("id"));this.$nonBodyScrollableAncestor.length===0?($(window).off(t).on(t,()=>this.renderStickyHeader()),$(window).off(s).on(s,()=>this.renderStickyHeader())):(this.$nonBodyScrollableAncestor.off(t).on(t,()=>this.renderStickyHeader()),this.$nonBodyScrollableAncestor.off().on(s,()=>this.renderStickyHeader())),this.$tableBody.off("scroll").on("scroll",()=>this.matchPositionX())}onColumnSearch({currentTarget:e,keyCode:t}){super.onColumnSearch({currentTarget:e,keyCode:t}),this.options.stickyHeader&&this.renderStickyHeader()}resetView(...e){super.resetView(...e),this.options.stickyHeader&&$(".bootstrap-table.fullscreen").off("scroll").on("scroll",()=>this.renderStickyHeader())}getCaret(...e){if(super.getCaret(...e),!!this.options.stickyHeader&&this.$stickyHeader){let t=this.$stickyHeader.find("th");this.$header.find("th").each((s,r)=>{t.eq(s).find(".sortable").attr("class",$(r).find(".sortable").attr("class"))})}}horizontalScroll(){super.horizontalScroll(),this.options.stickyHeader&&this.$tableBody.on("scroll",()=>this.matchPositionX())}renderStickyHeader(){let e=this;this.$stickyHeader=this.$header.clone(!0,!0),this.options.filterControl&&$(this.$stickyHeader).off("keyup change mouseup").on("keyup change mouse",function(a){let i=$(a.target),o=i.val(),n=i.parents("th").data("field"),c=e.$header.find(`th[data-field="${n}"]`);if(i.is("input"))c.find("input").val(o);else if(i.is("select")){let l=c.find("select");l.find("option[selected]").removeAttr("selected"),l.find(`option[value="${o}"]`).attr("selected",!0)}e.triggerSearch()});let t,s,r,h;if(this.$nonBodyScrollableAncestor.length===0?(t=$(window).scrollTop(),s=0,r=this.$stickyBegin.offset().top-this.options.stickyHeaderOffsetY,h=this.$stickyEnd.offset().top-this.options.stickyHeaderOffsetY):(t=this.$nonBodyScrollableAncestor.scrollTop(),s=this.$nonBodyScrollableAncestor.offset().top,r=this.$stickyBegin.offset().top+t-this.options.stickyHeaderOffsetY,h=this.$stickyEnd.offset().top+t-this.options.stickyHeaderOffsetY),t+s>r&&t<=h){this.$stickyHeader.find("tr").each((c,l)=>{$(l).find("th").each((f,y)=>{$(y).css("min-width",this.$header.find(`tr:eq(${c})`).find(`th:eq(${f})`).css("width"))})}),this.$stickyContainer.show().addClass("fix-sticky fixed-table-container");let a=this.$tableBody[0].getBoundingClientRect(),i="100%",o=this.options.stickyHeaderOffsetLeft,n=this.options.stickyHeaderOffsetRight;o||(o=a.left),n||(i=`${a.width}px`),this.$el.closest(".bootstrap-table").hasClass("fullscreen")&&(o=0,n=0,i="100%"),this.$stickyContainer.css("top",`${this.options.stickyHeaderOffsetY+s}px`),this.$stickyContainer.css("left",`${o}px`),this.$stickyContainer.css("right",`${n}px`),this.$stickyContainer.css("width",`${i}`),this.$stickyTable=$("<table/>"),this.$stickyTable.addClass(this.options.classes),this.$stickyContainer.html(this.$stickyTable.append(this.$stickyHeader)),this.matchPositionX()}else this.$stickyContainer.removeClass("fix-sticky").hide()}matchPositionX(){this.$stickyContainer.scrollLeft(this.$tableBody.scrollLeft())}};})();
//# sourceMappingURL=bootstrap-table-sticky-header-NNFDO4NX.js.map
