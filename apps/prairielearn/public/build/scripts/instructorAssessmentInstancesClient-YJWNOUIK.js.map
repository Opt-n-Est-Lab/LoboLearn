{
  "version": 3,
  "sources": ["../../../../../node_modules/jsbi/tsc-out/jsbi.mjs", "../../../../../node_modules/lodash/_freeGlobal.js", "../../../../../node_modules/lodash/_root.js", "../../../../../node_modules/lodash/_Symbol.js", "../../../../../node_modules/lodash/_getRawTag.js", "../../../../../node_modules/lodash/_objectToString.js", "../../../../../node_modules/lodash/_baseGetTag.js", "../../../../../node_modules/lodash/isObject.js", "../../../../../node_modules/lodash/isFunction.js", "../../../../../node_modules/lodash/_coreJsData.js", "../../../../../node_modules/lodash/_isMasked.js", "../../../../../node_modules/lodash/_toSource.js", "../../../../../node_modules/lodash/_baseIsNative.js", "../../../../../node_modules/lodash/_getValue.js", "../../../../../node_modules/lodash/_getNative.js", "../../../../../node_modules/lodash/_defineProperty.js", "../../../../../node_modules/lodash/_baseAssignValue.js", "../../../../../node_modules/lodash/_arrayAggregator.js", "../../../../../node_modules/lodash/_createBaseFor.js", "../../../../../node_modules/lodash/_baseFor.js", "../../../../../node_modules/lodash/_baseTimes.js", "../../../../../node_modules/lodash/isObjectLike.js", "../../../../../node_modules/lodash/_baseIsArguments.js", "../../../../../node_modules/lodash/isArguments.js", "../../../../../node_modules/lodash/isArray.js", "../../../../../node_modules/lodash/stubFalse.js", "../../../../../node_modules/lodash/isBuffer.js", "../../../../../node_modules/lodash/_isIndex.js", "../../../../../node_modules/lodash/isLength.js", "../../../../../node_modules/lodash/_baseIsTypedArray.js", "../../../../../node_modules/lodash/_baseUnary.js", "../../../../../node_modules/lodash/_nodeUtil.js", "../../../../../node_modules/lodash/isTypedArray.js", "../../../../../node_modules/lodash/_arrayLikeKeys.js", "../../../../../node_modules/lodash/_isPrototype.js", "../../../../../node_modules/lodash/_overArg.js", "../../../../../node_modules/lodash/_nativeKeys.js", "../../../../../node_modules/lodash/_baseKeys.js", "../../../../../node_modules/lodash/isArrayLike.js", "../../../../../node_modules/lodash/keys.js", "../../../../../node_modules/lodash/_baseForOwn.js", "../../../../../node_modules/lodash/_createBaseEach.js", "../../../../../node_modules/lodash/_baseEach.js", "../../../../../node_modules/lodash/_baseAggregator.js", "../../../../../node_modules/lodash/_listCacheClear.js", "../../../../../node_modules/lodash/eq.js", "../../../../../node_modules/lodash/_assocIndexOf.js", "../../../../../node_modules/lodash/_listCacheDelete.js", "../../../../../node_modules/lodash/_listCacheGet.js", "../../../../../node_modules/lodash/_listCacheHas.js", "../../../../../node_modules/lodash/_listCacheSet.js", "../../../../../node_modules/lodash/_ListCache.js", "../../../../../node_modules/lodash/_stackClear.js", "../../../../../node_modules/lodash/_stackDelete.js", "../../../../../node_modules/lodash/_stackGet.js", "../../../../../node_modules/lodash/_stackHas.js", "../../../../../node_modules/lodash/_Map.js", "../../../../../node_modules/lodash/_nativeCreate.js", "../../../../../node_modules/lodash/_hashClear.js", "../../../../../node_modules/lodash/_hashDelete.js", "../../../../../node_modules/lodash/_hashGet.js", "../../../../../node_modules/lodash/_hashHas.js", "../../../../../node_modules/lodash/_hashSet.js", "../../../../../node_modules/lodash/_Hash.js", "../../../../../node_modules/lodash/_mapCacheClear.js", "../../../../../node_modules/lodash/_isKeyable.js", "../../../../../node_modules/lodash/_getMapData.js", "../../../../../node_modules/lodash/_mapCacheDelete.js", "../../../../../node_modules/lodash/_mapCacheGet.js", "../../../../../node_modules/lodash/_mapCacheHas.js", "../../../../../node_modules/lodash/_mapCacheSet.js", "../../../../../node_modules/lodash/_MapCache.js", "../../../../../node_modules/lodash/_stackSet.js", "../../../../../node_modules/lodash/_Stack.js", "../../../../../node_modules/lodash/_setCacheAdd.js", "../../../../../node_modules/lodash/_setCacheHas.js", "../../../../../node_modules/lodash/_SetCache.js", "../../../../../node_modules/lodash/_arraySome.js", "../../../../../node_modules/lodash/_cacheHas.js", "../../../../../node_modules/lodash/_equalArrays.js", "../../../../../node_modules/lodash/_Uint8Array.js", "../../../../../node_modules/lodash/_mapToArray.js", "../../../../../node_modules/lodash/_setToArray.js", "../../../../../node_modules/lodash/_equalByTag.js", "../../../../../node_modules/lodash/_arrayPush.js", "../../../../../node_modules/lodash/_baseGetAllKeys.js", "../../../../../node_modules/lodash/_arrayFilter.js", "../../../../../node_modules/lodash/stubArray.js", "../../../../../node_modules/lodash/_getSymbols.js", "../../../../../node_modules/lodash/_getAllKeys.js", "../../../../../node_modules/lodash/_equalObjects.js", "../../../../../node_modules/lodash/_DataView.js", "../../../../../node_modules/lodash/_Promise.js", "../../../../../node_modules/lodash/_Set.js", "../../../../../node_modules/lodash/_WeakMap.js", "../../../../../node_modules/lodash/_getTag.js", "../../../../../node_modules/lodash/_baseIsEqualDeep.js", "../../../../../node_modules/lodash/_baseIsEqual.js", "../../../../../node_modules/lodash/_baseIsMatch.js", "../../../../../node_modules/lodash/_isStrictComparable.js", "../../../../../node_modules/lodash/_getMatchData.js", "../../../../../node_modules/lodash/_matchesStrictComparable.js", "../../../../../node_modules/lodash/_baseMatches.js", "../../../../../node_modules/lodash/isSymbol.js", "../../../../../node_modules/lodash/_isKey.js", "../../../../../node_modules/lodash/memoize.js", "../../../../../node_modules/lodash/_memoizeCapped.js", "../../../../../node_modules/lodash/_stringToPath.js", "../../../../../node_modules/lodash/_arrayMap.js", "../../../../../node_modules/lodash/_baseToString.js", "../../../../../node_modules/lodash/toString.js", "../../../../../node_modules/lodash/_castPath.js", "../../../../../node_modules/lodash/_toKey.js", "../../../../../node_modules/lodash/_baseGet.js", "../../../../../node_modules/lodash/get.js", "../../../../../node_modules/lodash/_baseHasIn.js", "../../../../../node_modules/lodash/_hasPath.js", "../../../../../node_modules/lodash/hasIn.js", "../../../../../node_modules/lodash/_baseMatchesProperty.js", "../../../../../node_modules/lodash/identity.js", "../../../../../node_modules/lodash/_baseProperty.js", "../../../../../node_modules/lodash/_basePropertyDeep.js", "../../../../../node_modules/lodash/property.js", "../../../../../node_modules/lodash/_baseIteratee.js", "../../../../../node_modules/lodash/_createAggregator.js", "../../../../../node_modules/lodash/keyBy.js", "../../../../../node_modules/@js-temporal/polyfill/lib/bigintmath.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/slots.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/intrinsicclass.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/math.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/timeduration.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/regex.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/ecmascript.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/calendar.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/intl.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/instant.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/plaindate.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/plaindatetime.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/duration.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/plainmonthday.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/now.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/plaintime.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/plainyearmonth.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/zoneddatetime.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/legacydate.ts", "../../../../../node_modules/@js-temporal/polyfill/lib/index.ts", "../../../../../node_modules/selector-set/selector-set.next.js", "../../../../../node_modules/delegated-events/dist/index.js", "../../../../../node_modules/preact/src/constants.js", "../../../../../node_modules/preact/src/util.js", "../../../../../node_modules/preact/src/options.js", "../../../../../node_modules/preact/src/create-element.js", "../../../../../node_modules/preact/src/component.js", "../../../../../node_modules/preact/src/diff/props.js", "../../../../../node_modules/preact/src/create-context.js", "../../../../../node_modules/preact/src/diff/children.js", "../../../../../node_modules/preact/src/diff/index.js", "../../../../../node_modules/preact/src/render.js", "../../../../../node_modules/preact/src/clone-element.js", "../../../../../node_modules/preact/src/diff/catch-error.js", "../../../../../node_modules/preact/hooks/src/index.js", "../../../../../packages/browser-utils/src/on-document-ready.ts", "../../../../../packages/html/src/index.ts", "../../../../../packages/browser-utils/src/template-from-attributes.ts", "../../../../../packages/formatter/src/date.ts", "../../../src/components/Scorebar.html.ts", "../../../assets/scripts/lib/popover.ts", "../../../../../node_modules/preact/jsx-runtime/src/utils.js", "../../../../../node_modules/preact/src/constants.js", "../../../../../node_modules/preact/jsx-runtime/src/index.js", "../../../assets/scripts/instructorAssessmentInstancesClient.tsx"],
  "sourcesContent": ["// Copyright 2018 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the “License”);\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// <https://apache.org/licenses/LICENSE-2.0>.\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an “AS IS” BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nclass JSBI extends Array {\n    constructor(length, sign) {\n        super(length);\n        this.sign = sign;\n        // Explicitly set the prototype as per\n        // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, JSBI.prototype);\n        if (length > JSBI.__kMaxLength) {\n            throw new RangeError('Maximum BigInt size exceeded');\n        }\n    }\n    static BigInt(arg) {\n        if (typeof arg === 'number') {\n            if (arg === 0)\n                return JSBI.__zero();\n            if (JSBI.__isOneDigitInt(arg)) {\n                if (arg < 0) {\n                    return JSBI.__oneDigit(-arg, true);\n                }\n                return JSBI.__oneDigit(arg, false);\n            }\n            if (!Number.isFinite(arg) || Math.floor(arg) !== arg) {\n                throw new RangeError('The number ' + arg + ' cannot be converted to ' +\n                    'BigInt because it is not an integer');\n            }\n            return JSBI.__fromDouble(arg);\n        }\n        else if (typeof arg === 'string') {\n            const result = JSBI.__fromString(arg);\n            if (result === null) {\n                throw new SyntaxError('Cannot convert ' + arg + ' to a BigInt');\n            }\n            return result;\n        }\n        else if (typeof arg === 'boolean') {\n            if (arg === true) {\n                return JSBI.__oneDigit(1, false);\n            }\n            return JSBI.__zero();\n        }\n        else if (typeof arg === 'object') {\n            if (arg.constructor === JSBI)\n                return arg;\n            const primitive = JSBI.__toPrimitive(arg);\n            return JSBI.BigInt(primitive);\n        }\n        throw new TypeError('Cannot convert ' + arg + ' to a BigInt');\n    }\n    toDebugString() {\n        const result = ['BigInt['];\n        for (const digit of this) {\n            result.push((digit ? (digit >>> 0).toString(16) : digit) + ', ');\n        }\n        result.push(']');\n        return result.join('');\n    }\n    toString(radix = 10) {\n        if (radix < 2 || radix > 36) {\n            throw new RangeError('toString() radix argument must be between 2 and 36');\n        }\n        if (this.length === 0)\n            return '0';\n        if ((radix & (radix - 1)) === 0) {\n            return JSBI.__toStringBasePowerOfTwo(this, radix);\n        }\n        return JSBI.__toStringGeneric(this, radix, false);\n    }\n    valueOf() {\n        throw new Error('Convert JSBI instances to native numbers using `toNumber`.');\n    }\n    // Equivalent of \"Number(my_bigint)\" in the native implementation.\n    // TODO: add more tests\n    static toNumber(x) {\n        const xLength = x.length;\n        if (xLength === 0)\n            return 0;\n        if (xLength === 1) {\n            const value = x.__unsignedDigit(0);\n            return x.sign ? -value : value;\n        }\n        const xMsd = x.__digit(xLength - 1);\n        const msdLeadingZeros = JSBI.__clz30(xMsd);\n        const xBitLength = xLength * 30 - msdLeadingZeros;\n        if (xBitLength > 1024)\n            return x.sign ? -Infinity : Infinity;\n        let exponent = xBitLength - 1;\n        let currentDigit = xMsd;\n        let digitIndex = xLength - 1;\n        const shift = msdLeadingZeros + 3;\n        let mantissaHigh = (shift === 32) ? 0 : currentDigit << shift;\n        mantissaHigh >>>= 12;\n        const mantissaHighBitsUnset = shift - 12;\n        let mantissaLow = (shift >= 12) ? 0 : (currentDigit << (20 + shift));\n        let mantissaLowBitsUnset = 20 + shift;\n        if (mantissaHighBitsUnset > 0 && digitIndex > 0) {\n            digitIndex--;\n            currentDigit = x.__digit(digitIndex);\n            mantissaHigh |= (currentDigit >>> (30 - mantissaHighBitsUnset));\n            mantissaLow = currentDigit << mantissaHighBitsUnset + 2;\n            mantissaLowBitsUnset = mantissaHighBitsUnset + 2;\n        }\n        while (mantissaLowBitsUnset > 0 && digitIndex > 0) {\n            digitIndex--;\n            currentDigit = x.__digit(digitIndex);\n            if (mantissaLowBitsUnset >= 30) {\n                mantissaLow |= (currentDigit << (mantissaLowBitsUnset - 30));\n            }\n            else {\n                mantissaLow |= (currentDigit >>> (30 - mantissaLowBitsUnset));\n            }\n            mantissaLowBitsUnset -= 30;\n        }\n        const rounding = JSBI.__decideRounding(x, mantissaLowBitsUnset, digitIndex, currentDigit);\n        if (rounding === 1 || (rounding === 0 && (mantissaLow & 1) === 1)) {\n            mantissaLow = (mantissaLow + 1) >>> 0;\n            if (mantissaLow === 0) {\n                // Incrementing mantissaLow overflowed.\n                mantissaHigh++;\n                if ((mantissaHigh >>> 20) !== 0) {\n                    // Incrementing mantissaHigh overflowed.\n                    mantissaHigh = 0;\n                    exponent++;\n                    if (exponent > 1023) {\n                        // Incrementing the exponent overflowed.\n                        return x.sign ? -Infinity : Infinity;\n                    }\n                }\n            }\n        }\n        const signBit = x.sign ? (1 << 31) : 0;\n        exponent = (exponent + 0x3FF) << 20;\n        JSBI.__kBitConversionInts[1] = signBit | exponent | mantissaHigh;\n        JSBI.__kBitConversionInts[0] = mantissaLow;\n        return JSBI.__kBitConversionDouble[0];\n    }\n    // Operations.\n    static unaryMinus(x) {\n        if (x.length === 0)\n            return x;\n        const result = x.__copy();\n        result.sign = !x.sign;\n        return result;\n    }\n    static bitwiseNot(x) {\n        if (x.sign) {\n            // ~(-x) == ~(~(x-1)) == x-1\n            return JSBI.__absoluteSubOne(x).__trim();\n        }\n        // ~x == -x-1 == -(x+1)\n        return JSBI.__absoluteAddOne(x, true);\n    }\n    static exponentiate(x, y) {\n        if (y.sign) {\n            throw new RangeError('Exponent must be positive');\n        }\n        if (y.length === 0) {\n            return JSBI.__oneDigit(1, false);\n        }\n        if (x.length === 0)\n            return x;\n        if (x.length === 1 && x.__digit(0) === 1) {\n            // (-1) ** even_number == 1.\n            if (x.sign && (y.__digit(0) & 1) === 0) {\n                return JSBI.unaryMinus(x);\n            }\n            // (-1) ** odd_number == -1, 1 ** anything == 1.\n            return x;\n        }\n        // For all bases >= 2, very large exponents would lead to unrepresentable\n        // results.\n        if (y.length > 1)\n            throw new RangeError('BigInt too big');\n        let expValue = y.__unsignedDigit(0);\n        if (expValue === 1)\n            return x;\n        if (expValue >= JSBI.__kMaxLengthBits) {\n            throw new RangeError('BigInt too big');\n        }\n        if (x.length === 1 && x.__digit(0) === 2) {\n            // Fast path for 2^n.\n            const neededDigits = 1 + ((expValue / 30) | 0);\n            const sign = x.sign && ((expValue & 1) !== 0);\n            const result = new JSBI(neededDigits, sign);\n            result.__initializeDigits();\n            // All bits are zero. Now set the n-th bit.\n            const msd = 1 << (expValue % 30);\n            result.__setDigit(neededDigits - 1, msd);\n            return result;\n        }\n        let result = null;\n        let runningSquare = x;\n        // This implicitly sets the result's sign correctly.\n        if ((expValue & 1) !== 0)\n            result = x;\n        expValue >>= 1;\n        for (; expValue !== 0; expValue >>= 1) {\n            runningSquare = JSBI.multiply(runningSquare, runningSquare);\n            if ((expValue & 1) !== 0) {\n                if (result === null) {\n                    result = runningSquare;\n                }\n                else {\n                    result = JSBI.multiply(result, runningSquare);\n                }\n            }\n        }\n        // TODO see if there's a way for tsc to infer this will always happen?\n        return result;\n    }\n    static multiply(x, y) {\n        if (x.length === 0)\n            return x;\n        if (y.length === 0)\n            return y;\n        let resultLength = x.length + y.length;\n        if (x.__clzmsd() + y.__clzmsd() >= 30) {\n            resultLength--;\n        }\n        const result = new JSBI(resultLength, x.sign !== y.sign);\n        result.__initializeDigits();\n        for (let i = 0; i < x.length; i++) {\n            JSBI.__multiplyAccumulate(y, x.__digit(i), result, i);\n        }\n        return result.__trim();\n    }\n    static divide(x, y) {\n        if (y.length === 0)\n            throw new RangeError('Division by zero');\n        if (JSBI.__absoluteCompare(x, y) < 0)\n            return JSBI.__zero();\n        const resultSign = x.sign !== y.sign;\n        const divisor = y.__unsignedDigit(0);\n        let quotient;\n        if (y.length === 1 && divisor <= 0x7FFF) {\n            if (divisor === 1) {\n                return resultSign === x.sign ? x : JSBI.unaryMinus(x);\n            }\n            quotient = JSBI.__absoluteDivSmall(x, divisor, null);\n        }\n        else {\n            quotient = JSBI.__absoluteDivLarge(x, y, true, false);\n        }\n        quotient.sign = resultSign;\n        return quotient.__trim();\n    }\n    static remainder(x, y) {\n        if (y.length === 0)\n            throw new RangeError('Division by zero');\n        if (JSBI.__absoluteCompare(x, y) < 0)\n            return x;\n        const divisor = y.__unsignedDigit(0);\n        if (y.length === 1 && divisor <= 0x7FFF) {\n            if (divisor === 1)\n                return JSBI.__zero();\n            const remainderDigit = JSBI.__absoluteModSmall(x, divisor);\n            if (remainderDigit === 0)\n                return JSBI.__zero();\n            return JSBI.__oneDigit(remainderDigit, x.sign);\n        }\n        const remainder = JSBI.__absoluteDivLarge(x, y, false, true);\n        remainder.sign = x.sign;\n        return remainder.__trim();\n    }\n    static add(x, y) {\n        const sign = x.sign;\n        if (sign === y.sign) {\n            // x + y == x + y\n            // -x + -y == -(x + y)\n            return JSBI.__absoluteAdd(x, y, sign);\n        }\n        // x + -y == x - y == -(y - x)\n        // -x + y == y - x == -(x - y)\n        if (JSBI.__absoluteCompare(x, y) >= 0) {\n            return JSBI.__absoluteSub(x, y, sign);\n        }\n        return JSBI.__absoluteSub(y, x, !sign);\n    }\n    static subtract(x, y) {\n        const sign = x.sign;\n        if (sign !== y.sign) {\n            // x - (-y) == x + y\n            // (-x) - y == -(x + y)\n            return JSBI.__absoluteAdd(x, y, sign);\n        }\n        // x - y == -(y - x)\n        // (-x) - (-y) == y - x == -(x - y)\n        if (JSBI.__absoluteCompare(x, y) >= 0) {\n            return JSBI.__absoluteSub(x, y, sign);\n        }\n        return JSBI.__absoluteSub(y, x, !sign);\n    }\n    static leftShift(x, y) {\n        if (y.length === 0 || x.length === 0)\n            return x;\n        if (y.sign)\n            return JSBI.__rightShiftByAbsolute(x, y);\n        return JSBI.__leftShiftByAbsolute(x, y);\n    }\n    static signedRightShift(x, y) {\n        if (y.length === 0 || x.length === 0)\n            return x;\n        if (y.sign)\n            return JSBI.__leftShiftByAbsolute(x, y);\n        return JSBI.__rightShiftByAbsolute(x, y);\n    }\n    static unsignedRightShift() {\n        throw new TypeError('BigInts have no unsigned right shift; use >> instead');\n    }\n    static lessThan(x, y) {\n        return JSBI.__compareToBigInt(x, y) < 0;\n    }\n    static lessThanOrEqual(x, y) {\n        return JSBI.__compareToBigInt(x, y) <= 0;\n    }\n    static greaterThan(x, y) {\n        return JSBI.__compareToBigInt(x, y) > 0;\n    }\n    static greaterThanOrEqual(x, y) {\n        return JSBI.__compareToBigInt(x, y) >= 0;\n    }\n    static equal(x, y) {\n        if (x.sign !== y.sign)\n            return false;\n        if (x.length !== y.length)\n            return false;\n        for (let i = 0; i < x.length; i++) {\n            if (x.__digit(i) !== y.__digit(i))\n                return false;\n        }\n        return true;\n    }\n    static notEqual(x, y) {\n        return !JSBI.equal(x, y);\n    }\n    static bitwiseAnd(x, y) {\n        if (!x.sign && !y.sign) {\n            return JSBI.__absoluteAnd(x, y).__trim();\n        }\n        else if (x.sign && y.sign) {\n            const resultLength = Math.max(x.length, y.length) + 1;\n            // (-x) & (-y) == ~(x-1) & ~(y-1) == ~((x-1) | (y-1))\n            // == -(((x-1) | (y-1)) + 1)\n            let result = JSBI.__absoluteSubOne(x, resultLength);\n            const y1 = JSBI.__absoluteSubOne(y);\n            result = JSBI.__absoluteOr(result, y1, result);\n            return JSBI.__absoluteAddOne(result, true, result).__trim();\n        }\n        // Assume that x is the positive BigInt.\n        if (x.sign) {\n            [x, y] = [y, x];\n        }\n        // x & (-y) == x & ~(y-1) == x &~ (y-1)\n        return JSBI.__absoluteAndNot(x, JSBI.__absoluteSubOne(y)).__trim();\n    }\n    static bitwiseXor(x, y) {\n        if (!x.sign && !y.sign) {\n            return JSBI.__absoluteXor(x, y).__trim();\n        }\n        else if (x.sign && y.sign) {\n            // (-x) ^ (-y) == ~(x-1) ^ ~(y-1) == (x-1) ^ (y-1)\n            const resultLength = Math.max(x.length, y.length);\n            const result = JSBI.__absoluteSubOne(x, resultLength);\n            const y1 = JSBI.__absoluteSubOne(y);\n            return JSBI.__absoluteXor(result, y1, result).__trim();\n        }\n        const resultLength = Math.max(x.length, y.length) + 1;\n        // Assume that x is the positive BigInt.\n        if (x.sign) {\n            [x, y] = [y, x];\n        }\n        // x ^ (-y) == x ^ ~(y-1) == ~(x ^ (y-1)) == -((x ^ (y-1)) + 1)\n        let result = JSBI.__absoluteSubOne(y, resultLength);\n        result = JSBI.__absoluteXor(result, x, result);\n        return JSBI.__absoluteAddOne(result, true, result).__trim();\n    }\n    static bitwiseOr(x, y) {\n        const resultLength = Math.max(x.length, y.length);\n        if (!x.sign && !y.sign) {\n            return JSBI.__absoluteOr(x, y).__trim();\n        }\n        else if (x.sign && y.sign) {\n            // (-x) | (-y) == ~(x-1) | ~(y-1) == ~((x-1) & (y-1))\n            // == -(((x-1) & (y-1)) + 1)\n            let result = JSBI.__absoluteSubOne(x, resultLength);\n            const y1 = JSBI.__absoluteSubOne(y);\n            result = JSBI.__absoluteAnd(result, y1, result);\n            return JSBI.__absoluteAddOne(result, true, result).__trim();\n        }\n        // Assume that x is the positive BigInt.\n        if (x.sign) {\n            [x, y] = [y, x];\n        }\n        // x | (-y) == x | ~(y-1) == ~((y-1) &~ x) == -(((y-1) ~& x) + 1)\n        let result = JSBI.__absoluteSubOne(y, resultLength);\n        result = JSBI.__absoluteAndNot(result, x, result);\n        return JSBI.__absoluteAddOne(result, true, result).__trim();\n    }\n    static asIntN(n, x) {\n        if (x.length === 0)\n            return x;\n        n = Math.floor(n);\n        if (n < 0) {\n            throw new RangeError('Invalid value: not (convertible to) a safe integer');\n        }\n        if (n === 0)\n            return JSBI.__zero();\n        // If {x} has less than {n} bits, return it directly.\n        if (n >= JSBI.__kMaxLengthBits)\n            return x;\n        const neededLength = ((n + 29) / 30) | 0;\n        if (x.length < neededLength)\n            return x;\n        const topDigit = x.__unsignedDigit(neededLength - 1);\n        const compareDigit = 1 << ((n - 1) % 30);\n        if (x.length === neededLength && topDigit < compareDigit)\n            return x;\n        // Otherwise truncate and simulate two's complement.\n        const hasBit = (topDigit & compareDigit) === compareDigit;\n        if (!hasBit)\n            return JSBI.__truncateToNBits(n, x);\n        if (!x.sign)\n            return JSBI.__truncateAndSubFromPowerOfTwo(n, x, true);\n        if ((topDigit & (compareDigit - 1)) === 0) {\n            for (let i = neededLength - 2; i >= 0; i--) {\n                if (x.__digit(i) !== 0) {\n                    return JSBI.__truncateAndSubFromPowerOfTwo(n, x, false);\n                }\n            }\n            if (x.length === neededLength && topDigit === compareDigit)\n                return x;\n            return JSBI.__truncateToNBits(n, x);\n        }\n        return JSBI.__truncateAndSubFromPowerOfTwo(n, x, false);\n    }\n    static asUintN(n, x) {\n        if (x.length === 0)\n            return x;\n        n = Math.floor(n);\n        if (n < 0) {\n            throw new RangeError('Invalid value: not (convertible to) a safe integer');\n        }\n        if (n === 0)\n            return JSBI.__zero();\n        // If {x} is negative, simulate two's complement representation.\n        if (x.sign) {\n            if (n > JSBI.__kMaxLengthBits) {\n                throw new RangeError('BigInt too big');\n            }\n            return JSBI.__truncateAndSubFromPowerOfTwo(n, x, false);\n        }\n        // If {x} is positive and has up to {n} bits, return it directly.\n        if (n >= JSBI.__kMaxLengthBits)\n            return x;\n        const neededLength = ((n + 29) / 30) | 0;\n        if (x.length < neededLength)\n            return x;\n        const bitsInTopDigit = n % 30;\n        if (x.length == neededLength) {\n            if (bitsInTopDigit === 0)\n                return x;\n            const topDigit = x.__digit(neededLength - 1);\n            if ((topDigit >>> bitsInTopDigit) === 0)\n                return x;\n        }\n        // Otherwise, truncate.\n        return JSBI.__truncateToNBits(n, x);\n    }\n    // Operators.\n    static ADD(x, y) {\n        x = JSBI.__toPrimitive(x);\n        y = JSBI.__toPrimitive(y);\n        if (typeof x === 'string') {\n            if (typeof y !== 'string')\n                y = y.toString();\n            return x + y;\n        }\n        if (typeof y === 'string') {\n            return x.toString() + y;\n        }\n        x = JSBI.__toNumeric(x);\n        y = JSBI.__toNumeric(y);\n        if (JSBI.__isBigInt(x) && JSBI.__isBigInt(y)) {\n            return JSBI.add(x, y);\n        }\n        if (typeof x === 'number' && typeof y === 'number') {\n            return x + y;\n        }\n        throw new TypeError('Cannot mix BigInt and other types, use explicit conversions');\n    }\n    static LT(x, y) {\n        return JSBI.__compare(x, y, 0);\n    }\n    static LE(x, y) {\n        return JSBI.__compare(x, y, 1);\n    }\n    static GT(x, y) {\n        return JSBI.__compare(x, y, 2);\n    }\n    static GE(x, y) {\n        return JSBI.__compare(x, y, 3);\n    }\n    static EQ(x, y) {\n        while (true) {\n            if (JSBI.__isBigInt(x)) {\n                if (JSBI.__isBigInt(y))\n                    return JSBI.equal(x, y);\n                return JSBI.EQ(y, x);\n            }\n            else if (typeof x === 'number') {\n                if (JSBI.__isBigInt(y))\n                    return JSBI.__equalToNumber(y, x);\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'string') {\n                if (JSBI.__isBigInt(y)) {\n                    x = JSBI.__fromString(x);\n                    if (x === null)\n                        return false;\n                    return JSBI.equal(x, y);\n                }\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'boolean') {\n                if (JSBI.__isBigInt(y))\n                    return JSBI.__equalToNumber(y, +x);\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'symbol') {\n                if (JSBI.__isBigInt(y))\n                    return false;\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'object') {\n                if (typeof y === 'object' && y.constructor !== JSBI)\n                    return x == y;\n                x = JSBI.__toPrimitive(x);\n            }\n            else {\n                return x == y;\n            }\n        }\n    }\n    static NE(x, y) {\n        return !JSBI.EQ(x, y);\n    }\n    // DataView-related functionality.\n    static DataViewGetBigInt64(dataview, byteOffset, littleEndian = false) {\n        return JSBI.asIntN(64, JSBI.DataViewGetBigUint64(dataview, byteOffset, littleEndian));\n    }\n    static DataViewGetBigUint64(dataview, byteOffset, littleEndian = false) {\n        const [h, l] = littleEndian ? [4, 0] : [0, 4];\n        const high = dataview.getUint32(byteOffset + h, littleEndian);\n        const low = dataview.getUint32(byteOffset + l, littleEndian);\n        const result = new JSBI(3, false);\n        result.__setDigit(0, low & 0x3FFFFFFF);\n        result.__setDigit(1, ((high & 0xFFFFFFF) << 2) | (low >>> 30));\n        result.__setDigit(2, high >>> 28);\n        return result.__trim();\n    }\n    static DataViewSetBigInt64(dataview, byteOffset, value, littleEndian = false) {\n        JSBI.DataViewSetBigUint64(dataview, byteOffset, value, littleEndian);\n    }\n    static DataViewSetBigUint64(dataview, byteOffset, value, littleEndian = false) {\n        value = JSBI.asUintN(64, value);\n        let high = 0;\n        let low = 0;\n        if (value.length > 0) {\n            low = value.__digit(0);\n            if (value.length > 1) {\n                const d1 = value.__digit(1);\n                low = low | d1 << 30;\n                high = d1 >>> 2;\n                if (value.length > 2) {\n                    high = high | (value.__digit(2) << 28);\n                }\n            }\n        }\n        const [h, l] = littleEndian ? [4, 0] : [0, 4];\n        dataview.setUint32(byteOffset + h, high, littleEndian);\n        dataview.setUint32(byteOffset + l, low, littleEndian);\n    }\n    // Helpers.\n    static __zero() {\n        return new JSBI(0, false);\n    }\n    static __oneDigit(value, sign) {\n        const result = new JSBI(1, sign);\n        result.__setDigit(0, value);\n        return result;\n    }\n    __copy() {\n        const result = new JSBI(this.length, this.sign);\n        for (let i = 0; i < this.length; i++) {\n            result[i] = this[i];\n        }\n        return result;\n    }\n    __trim() {\n        let newLength = this.length;\n        let last = this[newLength - 1];\n        while (last === 0) {\n            newLength--;\n            last = this[newLength - 1];\n            this.pop();\n        }\n        if (newLength === 0)\n            this.sign = false;\n        return this;\n    }\n    __initializeDigits() {\n        for (let i = 0; i < this.length; i++) {\n            this[i] = 0;\n        }\n    }\n    static __decideRounding(x, mantissaBitsUnset, digitIndex, currentDigit) {\n        if (mantissaBitsUnset > 0)\n            return -1;\n        let topUnconsumedBit;\n        if (mantissaBitsUnset < 0) {\n            topUnconsumedBit = -mantissaBitsUnset - 1;\n        }\n        else {\n            // {currentDigit} fit the mantissa exactly; look at the next digit.\n            if (digitIndex === 0)\n                return -1;\n            digitIndex--;\n            currentDigit = x.__digit(digitIndex);\n            topUnconsumedBit = 29;\n        }\n        // If the most significant remaining bit is 0, round down.\n        let mask = 1 << topUnconsumedBit;\n        if ((currentDigit & mask) === 0)\n            return -1;\n        // If any other remaining bit is set, round up.\n        mask -= 1;\n        if ((currentDigit & mask) !== 0)\n            return 1;\n        while (digitIndex > 0) {\n            digitIndex--;\n            if (x.__digit(digitIndex) !== 0)\n                return 1;\n        }\n        return 0;\n    }\n    static __fromDouble(value) {\n        const sign = value < 0;\n        JSBI.__kBitConversionDouble[0] = value;\n        const rawExponent = (JSBI.__kBitConversionInts[1] >>> 20) & 0x7FF;\n        const exponent = rawExponent - 0x3FF;\n        const digits = ((exponent / 30) | 0) + 1;\n        const result = new JSBI(digits, sign);\n        const kHiddenBit = 0x00100000;\n        let mantissaHigh = (JSBI.__kBitConversionInts[1] & 0xFFFFF) | kHiddenBit;\n        let mantissaLow = JSBI.__kBitConversionInts[0];\n        const kMantissaHighTopBit = 20;\n        // 0-indexed position of most significant bit in most significant digit.\n        const msdTopBit = exponent % 30;\n        // Number of unused bits in the mantissa. We'll keep them shifted to the\n        // left (i.e. most significant part).\n        let remainingMantissaBits = 0;\n        // Next digit under construction.\n        let digit;\n        // First, build the MSD by shifting the mantissa appropriately.\n        if (msdTopBit < kMantissaHighTopBit) {\n            const shift = kMantissaHighTopBit - msdTopBit;\n            remainingMantissaBits = shift + 32;\n            digit = mantissaHigh >>> shift;\n            mantissaHigh = (mantissaHigh << (32 - shift)) | (mantissaLow >>> shift);\n            mantissaLow = mantissaLow << (32 - shift);\n        }\n        else if (msdTopBit === kMantissaHighTopBit) {\n            remainingMantissaBits = 32;\n            digit = mantissaHigh;\n            mantissaHigh = mantissaLow;\n            mantissaLow = 0;\n        }\n        else {\n            const shift = msdTopBit - kMantissaHighTopBit;\n            remainingMantissaBits = 32 - shift;\n            digit = (mantissaHigh << shift) | (mantissaLow >>> (32 - shift));\n            mantissaHigh = mantissaLow << shift;\n            mantissaLow = 0;\n        }\n        result.__setDigit(digits - 1, digit);\n        // Then fill in the rest of the digits.\n        for (let digitIndex = digits - 2; digitIndex >= 0; digitIndex--) {\n            if (remainingMantissaBits > 0) {\n                remainingMantissaBits -= 30;\n                digit = mantissaHigh >>> 2;\n                mantissaHigh = (mantissaHigh << 30) | (mantissaLow >>> 2);\n                mantissaLow = (mantissaLow << 30);\n            }\n            else {\n                digit = 0;\n            }\n            result.__setDigit(digitIndex, digit);\n        }\n        return result.__trim();\n    }\n    static __isWhitespace(c) {\n        if (c <= 0x0D && c >= 0x09)\n            return true;\n        if (c <= 0x9F)\n            return c === 0x20;\n        if (c <= 0x01FFFF) {\n            return c === 0xA0 || c === 0x1680;\n        }\n        if (c <= 0x02FFFF) {\n            c &= 0x01FFFF;\n            return c <= 0x0A || c === 0x28 || c === 0x29 || c === 0x2F ||\n                c === 0x5F || c === 0x1000;\n        }\n        return c === 0xFEFF;\n    }\n    static __fromString(string, radix = 0) {\n        let sign = 0;\n        let leadingZero = false;\n        const length = string.length;\n        let cursor = 0;\n        if (cursor === length)\n            return JSBI.__zero();\n        let current = string.charCodeAt(cursor);\n        // Skip whitespace.\n        while (JSBI.__isWhitespace(current)) {\n            if (++cursor === length)\n                return JSBI.__zero();\n            current = string.charCodeAt(cursor);\n        }\n        // Detect radix.\n        if (current === 0x2B) { // '+'\n            if (++cursor === length)\n                return null;\n            current = string.charCodeAt(cursor);\n            sign = 1;\n        }\n        else if (current === 0x2D) { // '-'\n            if (++cursor === length)\n                return null;\n            current = string.charCodeAt(cursor);\n            sign = -1;\n        }\n        if (radix === 0) {\n            radix = 10;\n            if (current === 0x30) { // '0'\n                if (++cursor === length)\n                    return JSBI.__zero();\n                current = string.charCodeAt(cursor);\n                if (current === 0x58 || current === 0x78) { // 'X' or 'x'\n                    radix = 16;\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else if (current === 0x4F || current === 0x6F) { // 'O' or 'o'\n                    radix = 8;\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else if (current === 0x42 || current === 0x62) { // 'B' or 'b'\n                    radix = 2;\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else {\n                    leadingZero = true;\n                }\n            }\n        }\n        else if (radix === 16) {\n            if (current === 0x30) { // '0'\n                // Allow \"0x\" prefix.\n                if (++cursor === length)\n                    return JSBI.__zero();\n                current = string.charCodeAt(cursor);\n                if (current === 0x58 || current === 0x78) { // 'X' or 'x'\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else {\n                    leadingZero = true;\n                }\n            }\n        }\n        if (sign !== 0 && radix !== 10)\n            return null;\n        // Skip leading zeros.\n        while (current === 0x30) {\n            leadingZero = true;\n            if (++cursor === length)\n                return JSBI.__zero();\n            current = string.charCodeAt(cursor);\n        }\n        // Allocate result.\n        const chars = length - cursor;\n        let bitsPerChar = JSBI.__kMaxBitsPerChar[radix];\n        let roundup = JSBI.__kBitsPerCharTableMultiplier - 1;\n        if (chars > (1 << 30) / bitsPerChar)\n            return null;\n        const bitsMin = (bitsPerChar * chars + roundup) >>> JSBI.__kBitsPerCharTableShift;\n        const resultLength = ((bitsMin + 29) / 30) | 0;\n        const result = new JSBI(resultLength, false);\n        // Parse.\n        const limDigit = radix < 10 ? radix : 10;\n        const limAlpha = radix > 10 ? radix - 10 : 0;\n        if ((radix & (radix - 1)) === 0) {\n            // Power-of-two radix.\n            bitsPerChar >>= JSBI.__kBitsPerCharTableShift;\n            const parts = [];\n            const partsBits = [];\n            let done = false;\n            do {\n                let part = 0;\n                let bits = 0;\n                while (true) {\n                    let d;\n                    if (((current - 48) >>> 0) < limDigit) {\n                        d = current - 48;\n                    }\n                    else if ((((current | 32) - 97) >>> 0) < limAlpha) {\n                        d = (current | 32) - 87;\n                    }\n                    else {\n                        done = true;\n                        break;\n                    }\n                    bits += bitsPerChar;\n                    part = (part << bitsPerChar) | d;\n                    if (++cursor === length) {\n                        done = true;\n                        break;\n                    }\n                    current = string.charCodeAt(cursor);\n                    if (bits + bitsPerChar > 30)\n                        break;\n                }\n                parts.push(part);\n                partsBits.push(bits);\n            } while (!done);\n            JSBI.__fillFromParts(result, parts, partsBits);\n        }\n        else {\n            result.__initializeDigits();\n            let done = false;\n            let charsSoFar = 0;\n            do {\n                let part = 0;\n                let multiplier = 1;\n                while (true) {\n                    let d;\n                    if (((current - 48) >>> 0) < limDigit) {\n                        d = current - 48;\n                    }\n                    else if ((((current | 32) - 97) >>> 0) < limAlpha) {\n                        d = (current | 32) - 87;\n                    }\n                    else {\n                        done = true;\n                        break;\n                    }\n                    const m = multiplier * radix;\n                    if (m > 0x3FFFFFFF)\n                        break;\n                    multiplier = m;\n                    part = part * radix + d;\n                    charsSoFar++;\n                    if (++cursor === length) {\n                        done = true;\n                        break;\n                    }\n                    current = string.charCodeAt(cursor);\n                }\n                roundup = JSBI.__kBitsPerCharTableMultiplier * 30 - 1;\n                const digitsSoFar = (((bitsPerChar * charsSoFar + roundup) >>>\n                    JSBI.__kBitsPerCharTableShift) / 30) | 0;\n                result.__inplaceMultiplyAdd(multiplier, part, digitsSoFar);\n            } while (!done);\n        }\n        if (cursor !== length) {\n            if (!JSBI.__isWhitespace(current))\n                return null;\n            for (cursor++; cursor < length; cursor++) {\n                current = string.charCodeAt(cursor);\n                if (!JSBI.__isWhitespace(current))\n                    return null;\n            }\n        }\n        // Get result.\n        result.sign = (sign === -1);\n        return result.__trim();\n    }\n    static __fillFromParts(result, parts, partsBits) {\n        let digitIndex = 0;\n        let digit = 0;\n        let bitsInDigit = 0;\n        for (let i = parts.length - 1; i >= 0; i--) {\n            const part = parts[i];\n            const partBits = partsBits[i];\n            digit |= (part << bitsInDigit);\n            bitsInDigit += partBits;\n            if (bitsInDigit === 30) {\n                result.__setDigit(digitIndex++, digit);\n                bitsInDigit = 0;\n                digit = 0;\n            }\n            else if (bitsInDigit > 30) {\n                result.__setDigit(digitIndex++, digit & 0x3FFFFFFF);\n                bitsInDigit -= 30;\n                digit = part >>> (partBits - bitsInDigit);\n            }\n        }\n        if (digit !== 0) {\n            if (digitIndex >= result.length)\n                throw new Error('implementation bug');\n            result.__setDigit(digitIndex++, digit);\n        }\n        for (; digitIndex < result.length; digitIndex++) {\n            result.__setDigit(digitIndex, 0);\n        }\n    }\n    static __toStringBasePowerOfTwo(x, radix) {\n        const length = x.length;\n        let bits = radix - 1;\n        bits = ((bits >>> 1) & 0x55) + (bits & 0x55);\n        bits = ((bits >>> 2) & 0x33) + (bits & 0x33);\n        bits = ((bits >>> 4) & 0x0F) + (bits & 0x0F);\n        const bitsPerChar = bits;\n        const charMask = radix - 1;\n        const msd = x.__digit(length - 1);\n        const msdLeadingZeros = JSBI.__clz30(msd);\n        const bitLength = length * 30 - msdLeadingZeros;\n        let charsRequired = ((bitLength + bitsPerChar - 1) / bitsPerChar) | 0;\n        if (x.sign)\n            charsRequired++;\n        if (charsRequired > (1 << 28))\n            throw new Error('string too long');\n        const result = new Array(charsRequired);\n        let pos = charsRequired - 1;\n        let digit = 0;\n        let availableBits = 0;\n        for (let i = 0; i < length - 1; i++) {\n            const newDigit = x.__digit(i);\n            const current = (digit | (newDigit << availableBits)) & charMask;\n            result[pos--] = JSBI.__kConversionChars[current];\n            const consumedBits = bitsPerChar - availableBits;\n            digit = newDigit >>> consumedBits;\n            availableBits = 30 - consumedBits;\n            while (availableBits >= bitsPerChar) {\n                result[pos--] = JSBI.__kConversionChars[digit & charMask];\n                digit >>>= bitsPerChar;\n                availableBits -= bitsPerChar;\n            }\n        }\n        const current = (digit | (msd << availableBits)) & charMask;\n        result[pos--] = JSBI.__kConversionChars[current];\n        digit = msd >>> (bitsPerChar - availableBits);\n        while (digit !== 0) {\n            result[pos--] = JSBI.__kConversionChars[digit & charMask];\n            digit >>>= bitsPerChar;\n        }\n        if (x.sign)\n            result[pos--] = '-';\n        if (pos !== -1)\n            throw new Error('implementation bug');\n        return result.join('');\n    }\n    static __toStringGeneric(x, radix, isRecursiveCall) {\n        const length = x.length;\n        if (length === 0)\n            return '';\n        if (length === 1) {\n            let result = x.__unsignedDigit(0).toString(radix);\n            if (isRecursiveCall === false && x.sign) {\n                result = '-' + result;\n            }\n            return result;\n        }\n        const bitLength = length * 30 - JSBI.__clz30(x.__digit(length - 1));\n        const maxBitsPerChar = JSBI.__kMaxBitsPerChar[radix];\n        const minBitsPerChar = maxBitsPerChar - 1;\n        let charsRequired = bitLength * JSBI.__kBitsPerCharTableMultiplier;\n        charsRequired += minBitsPerChar - 1;\n        charsRequired = (charsRequired / minBitsPerChar) | 0;\n        const secondHalfChars = (charsRequired + 1) >> 1;\n        // Divide-and-conquer: split by a power of {radix} that's approximately\n        // the square root of {x}, then recurse.\n        const conqueror = JSBI.exponentiate(JSBI.__oneDigit(radix, false), JSBI.__oneDigit(secondHalfChars, false));\n        let quotient;\n        let secondHalf;\n        const divisor = conqueror.__unsignedDigit(0);\n        if (conqueror.length === 1 && divisor <= 0x7FFF) {\n            quotient = new JSBI(x.length, false);\n            quotient.__initializeDigits();\n            let remainder = 0;\n            for (let i = x.length * 2 - 1; i >= 0; i--) {\n                const input = (remainder << 15) | x.__halfDigit(i);\n                quotient.__setHalfDigit(i, (input / divisor) | 0);\n                remainder = (input % divisor) | 0;\n            }\n            secondHalf = remainder.toString(radix);\n        }\n        else {\n            const divisionResult = JSBI.__absoluteDivLarge(x, conqueror, true, true);\n            quotient = divisionResult.quotient;\n            const remainder = divisionResult.remainder.__trim();\n            secondHalf = JSBI.__toStringGeneric(remainder, radix, true);\n        }\n        quotient.__trim();\n        let firstHalf = JSBI.__toStringGeneric(quotient, radix, true);\n        while (secondHalf.length < secondHalfChars) {\n            secondHalf = '0' + secondHalf;\n        }\n        if (isRecursiveCall === false && x.sign) {\n            firstHalf = '-' + firstHalf;\n        }\n        return firstHalf + secondHalf;\n    }\n    static __unequalSign(leftNegative) {\n        return leftNegative ? -1 : 1;\n    }\n    static __absoluteGreater(bothNegative) {\n        return bothNegative ? -1 : 1;\n    }\n    static __absoluteLess(bothNegative) {\n        return bothNegative ? 1 : -1;\n    }\n    static __compareToBigInt(x, y) {\n        const xSign = x.sign;\n        if (xSign !== y.sign)\n            return JSBI.__unequalSign(xSign);\n        const result = JSBI.__absoluteCompare(x, y);\n        if (result > 0)\n            return JSBI.__absoluteGreater(xSign);\n        if (result < 0)\n            return JSBI.__absoluteLess(xSign);\n        return 0;\n    }\n    static __compareToNumber(x, y) {\n        if (JSBI.__isOneDigitInt(y)) {\n            const xSign = x.sign;\n            const ySign = (y < 0);\n            if (xSign !== ySign)\n                return JSBI.__unequalSign(xSign);\n            if (x.length === 0) {\n                if (ySign)\n                    throw new Error('implementation bug');\n                return y === 0 ? 0 : -1;\n            }\n            // Any multi-digit BigInt is bigger than an int32.\n            if (x.length > 1)\n                return JSBI.__absoluteGreater(xSign);\n            const yAbs = Math.abs(y);\n            const xDigit = x.__unsignedDigit(0);\n            if (xDigit > yAbs)\n                return JSBI.__absoluteGreater(xSign);\n            if (xDigit < yAbs)\n                return JSBI.__absoluteLess(xSign);\n            return 0;\n        }\n        return JSBI.__compareToDouble(x, y);\n    }\n    static __compareToDouble(x, y) {\n        if (y !== y)\n            return y; // NaN.\n        if (y === Infinity)\n            return -1;\n        if (y === -Infinity)\n            return 1;\n        const xSign = x.sign;\n        const ySign = (y < 0);\n        if (xSign !== ySign)\n            return JSBI.__unequalSign(xSign);\n        if (y === 0) {\n            throw new Error('implementation bug: should be handled elsewhere');\n        }\n        if (x.length === 0)\n            return -1;\n        JSBI.__kBitConversionDouble[0] = y;\n        const rawExponent = (JSBI.__kBitConversionInts[1] >>> 20) & 0x7FF;\n        if (rawExponent === 0x7FF) {\n            throw new Error('implementation bug: handled elsewhere');\n        }\n        const exponent = rawExponent - 0x3FF;\n        if (exponent < 0) {\n            // The absolute value of y is less than 1. Only 0n has an absolute\n            // value smaller than that, but we've already covered that case.\n            return JSBI.__absoluteGreater(xSign);\n        }\n        const xLength = x.length;\n        let xMsd = x.__digit(xLength - 1);\n        const msdLeadingZeros = JSBI.__clz30(xMsd);\n        const xBitLength = xLength * 30 - msdLeadingZeros;\n        const yBitLength = exponent + 1;\n        if (xBitLength < yBitLength)\n            return JSBI.__absoluteLess(xSign);\n        if (xBitLength > yBitLength)\n            return JSBI.__absoluteGreater(xSign);\n        // Same sign, same bit length. Shift mantissa to align with x and compare\n        // bit for bit.\n        const kHiddenBit = 0x00100000;\n        let mantissaHigh = (JSBI.__kBitConversionInts[1] & 0xFFFFF) | kHiddenBit;\n        let mantissaLow = JSBI.__kBitConversionInts[0];\n        const kMantissaHighTopBit = 20;\n        const msdTopBit = 29 - msdLeadingZeros;\n        if (msdTopBit !== (((xBitLength - 1) % 30) | 0)) {\n            throw new Error('implementation bug');\n        }\n        let compareMantissa; // Shifted chunk of mantissa.\n        let remainingMantissaBits = 0;\n        // First, compare most significant digit against beginning of mantissa.\n        if (msdTopBit < kMantissaHighTopBit) {\n            const shift = kMantissaHighTopBit - msdTopBit;\n            remainingMantissaBits = shift + 32;\n            compareMantissa = mantissaHigh >>> shift;\n            mantissaHigh = (mantissaHigh << (32 - shift)) | (mantissaLow >>> shift);\n            mantissaLow = mantissaLow << (32 - shift);\n        }\n        else if (msdTopBit === kMantissaHighTopBit) {\n            remainingMantissaBits = 32;\n            compareMantissa = mantissaHigh;\n            mantissaHigh = mantissaLow;\n            mantissaLow = 0;\n        }\n        else {\n            const shift = msdTopBit - kMantissaHighTopBit;\n            remainingMantissaBits = 32 - shift;\n            compareMantissa =\n                (mantissaHigh << shift) | (mantissaLow >>> (32 - shift));\n            mantissaHigh = mantissaLow << shift;\n            mantissaLow = 0;\n        }\n        xMsd = xMsd >>> 0;\n        compareMantissa = compareMantissa >>> 0;\n        if (xMsd > compareMantissa)\n            return JSBI.__absoluteGreater(xSign);\n        if (xMsd < compareMantissa)\n            return JSBI.__absoluteLess(xSign);\n        // Then, compare additional digits against remaining mantissa bits.\n        for (let digitIndex = xLength - 2; digitIndex >= 0; digitIndex--) {\n            if (remainingMantissaBits > 0) {\n                remainingMantissaBits -= 30;\n                compareMantissa = mantissaHigh >>> 2;\n                mantissaHigh = (mantissaHigh << 30) | (mantissaLow >>> 2);\n                mantissaLow = (mantissaLow << 30);\n            }\n            else {\n                compareMantissa = 0;\n            }\n            const digit = x.__unsignedDigit(digitIndex);\n            if (digit > compareMantissa)\n                return JSBI.__absoluteGreater(xSign);\n            if (digit < compareMantissa)\n                return JSBI.__absoluteLess(xSign);\n        }\n        // Integer parts are equal; check whether {y} has a fractional part.\n        if (mantissaHigh !== 0 || mantissaLow !== 0) {\n            if (remainingMantissaBits === 0)\n                throw new Error('implementation bug');\n            return JSBI.__absoluteLess(xSign);\n        }\n        return 0;\n    }\n    static __equalToNumber(x, y) {\n        if (JSBI.__isOneDigitInt(y)) {\n            if (y === 0)\n                return x.length === 0;\n            // Any multi-digit BigInt is bigger than an int32.\n            return (x.length === 1) && (x.sign === (y < 0)) &&\n                (x.__unsignedDigit(0) === Math.abs(y));\n        }\n        return JSBI.__compareToDouble(x, y) === 0;\n    }\n    // Comparison operations, chosen such that \"op ^ 2\" reverses direction:\n    // 0 - lessThan\n    // 1 - lessThanOrEqual\n    // 2 - greaterThan\n    // 3 - greaterThanOrEqual\n    static __comparisonResultToBool(result, op) {\n        switch (op) {\n            case 0: return result < 0;\n            case 1: return result <= 0;\n            case 2: return result > 0;\n            case 3: return result >= 0;\n        }\n    }\n    static __compare(x, y, op) {\n        x = JSBI.__toPrimitive(x);\n        y = JSBI.__toPrimitive(y);\n        if (typeof x === 'string' && typeof y === 'string') {\n            switch (op) {\n                case 0: return x < y;\n                case 1: return x <= y;\n                case 2: return x > y;\n                case 3: return x >= y;\n            }\n        }\n        if (JSBI.__isBigInt(x) && typeof y === 'string') {\n            y = JSBI.__fromString(y);\n            if (y === null)\n                return false;\n            return JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(x, y), op);\n        }\n        if (typeof x === 'string' && JSBI.__isBigInt(y)) {\n            x = JSBI.__fromString(x);\n            if (x === null)\n                return false;\n            return JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(x, y), op);\n        }\n        x = JSBI.__toNumeric(x);\n        y = JSBI.__toNumeric(y);\n        if (JSBI.__isBigInt(x)) {\n            if (JSBI.__isBigInt(y)) {\n                return JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(x, y), op);\n            }\n            if (typeof y !== 'number')\n                throw new Error('implementation bug');\n            return JSBI.__comparisonResultToBool(JSBI.__compareToNumber(x, y), op);\n        }\n        if (typeof x !== 'number')\n            throw new Error('implementation bug');\n        if (JSBI.__isBigInt(y)) {\n            // Note that \"op ^ 2\" reverses the op's direction.\n            return JSBI.__comparisonResultToBool(JSBI.__compareToNumber(y, x), (op ^ 2));\n        }\n        if (typeof y !== 'number')\n            throw new Error('implementation bug');\n        switch (op) {\n            case 0: return x < y;\n            case 1: return x <= y;\n            case 2: return x > y;\n            case 3: return x >= y;\n        }\n    }\n    __clzmsd() {\n        return JSBI.__clz30(this.__digit(this.length - 1));\n    }\n    static __absoluteAdd(x, y, resultSign) {\n        if (x.length < y.length)\n            return JSBI.__absoluteAdd(y, x, resultSign);\n        if (x.length === 0)\n            return x;\n        if (y.length === 0)\n            return x.sign === resultSign ? x : JSBI.unaryMinus(x);\n        let resultLength = x.length;\n        if (x.__clzmsd() === 0 || (y.length === x.length && y.__clzmsd() === 0)) {\n            resultLength++;\n        }\n        const result = new JSBI(resultLength, resultSign);\n        let carry = 0;\n        let i = 0;\n        for (; i < y.length; i++) {\n            const r = x.__digit(i) + y.__digit(i) + carry;\n            carry = r >>> 30;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        for (; i < x.length; i++) {\n            const r = x.__digit(i) + carry;\n            carry = r >>> 30;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (i < result.length) {\n            result.__setDigit(i, carry);\n        }\n        return result.__trim();\n    }\n    static __absoluteSub(x, y, resultSign) {\n        if (x.length === 0)\n            return x;\n        if (y.length === 0)\n            return x.sign === resultSign ? x : JSBI.unaryMinus(x);\n        const result = new JSBI(x.length, resultSign);\n        let borrow = 0;\n        let i = 0;\n        for (; i < y.length; i++) {\n            const r = x.__digit(i) - y.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        for (; i < x.length; i++) {\n            const r = x.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        return result.__trim();\n    }\n    static __absoluteAddOne(x, sign, result = null) {\n        const inputLength = x.length;\n        if (result === null) {\n            result = new JSBI(inputLength, sign);\n        }\n        else {\n            result.sign = sign;\n        }\n        let carry = 1;\n        for (let i = 0; i < inputLength; i++) {\n            const r = x.__digit(i) + carry;\n            carry = r >>> 30;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (carry !== 0) {\n            result.__setDigitGrow(inputLength, 1);\n        }\n        return result;\n    }\n    static __absoluteSubOne(x, resultLength) {\n        const length = x.length;\n        resultLength = resultLength || length;\n        const result = new JSBI(resultLength, false);\n        let borrow = 1;\n        for (let i = 0; i < length; i++) {\n            const r = x.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (borrow !== 0)\n            throw new Error('implementation bug');\n        for (let i = length; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteAnd(x, y, result = null) {\n        let xLength = x.length;\n        let yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n            const tmp = x;\n            const tmpLength = xLength;\n            x = y;\n            xLength = yLength;\n            y = tmp;\n            yLength = tmpLength;\n        }\n        let resultLength = numPairs;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) & y.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteAndNot(x, y, result = null) {\n        const xLength = x.length;\n        const yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n        }\n        let resultLength = xLength;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) & ~y.__digit(i));\n        }\n        for (; i < xLength; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteOr(x, y, result = null) {\n        let xLength = x.length;\n        let yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n            const tmp = x;\n            const tmpLength = xLength;\n            x = y;\n            xLength = yLength;\n            y = tmp;\n            yLength = tmpLength;\n        }\n        let resultLength = xLength;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) | y.__digit(i));\n        }\n        for (; i < xLength; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteXor(x, y, result = null) {\n        let xLength = x.length;\n        let yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n            const tmp = x;\n            const tmpLength = xLength;\n            x = y;\n            xLength = yLength;\n            y = tmp;\n            yLength = tmpLength;\n        }\n        let resultLength = xLength;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) ^ y.__digit(i));\n        }\n        for (; i < xLength; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteCompare(x, y) {\n        const diff = x.length - y.length;\n        if (diff !== 0)\n            return diff;\n        let i = x.length - 1;\n        while (i >= 0 && x.__digit(i) === y.__digit(i))\n            i--;\n        if (i < 0)\n            return 0;\n        return x.__unsignedDigit(i) > y.__unsignedDigit(i) ? 1 : -1;\n    }\n    static __multiplyAccumulate(multiplicand, multiplier, accumulator, accumulatorIndex) {\n        if (multiplier === 0)\n            return;\n        const m2Low = multiplier & 0x7FFF;\n        const m2High = multiplier >>> 15;\n        let carry = 0;\n        let high = 0;\n        for (let i = 0; i < multiplicand.length; i++, accumulatorIndex++) {\n            let acc = accumulator.__digit(accumulatorIndex);\n            const m1 = multiplicand.__digit(i);\n            const m1Low = m1 & 0x7FFF;\n            const m1High = m1 >>> 15;\n            const rLow = JSBI.__imul(m1Low, m2Low);\n            const rMid1 = JSBI.__imul(m1Low, m2High);\n            const rMid2 = JSBI.__imul(m1High, m2Low);\n            const rHigh = JSBI.__imul(m1High, m2High);\n            acc += high + rLow + carry;\n            carry = acc >>> 30;\n            acc &= 0x3FFFFFFF;\n            acc += ((rMid1 & 0x7FFF) << 15) + ((rMid2 & 0x7FFF) << 15);\n            carry += acc >>> 30;\n            high = rHigh + (rMid1 >>> 15) + (rMid2 >>> 15);\n            accumulator.__setDigit(accumulatorIndex, acc & 0x3FFFFFFF);\n        }\n        for (; carry !== 0 || high !== 0; accumulatorIndex++) {\n            let acc = accumulator.__digit(accumulatorIndex);\n            acc += carry + high;\n            high = 0;\n            carry = acc >>> 30;\n            accumulator.__setDigit(accumulatorIndex, acc & 0x3FFFFFFF);\n        }\n    }\n    static __internalMultiplyAdd(source, factor, summand, n, result) {\n        let carry = summand;\n        let high = 0;\n        for (let i = 0; i < n; i++) {\n            const digit = source.__digit(i);\n            const rx = JSBI.__imul(digit & 0x7FFF, factor);\n            const ry = JSBI.__imul(digit >>> 15, factor);\n            const r = rx + ((ry & 0x7FFF) << 15) + high + carry;\n            carry = r >>> 30;\n            high = ry >>> 15;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (result.length > n) {\n            result.__setDigit(n++, carry + high);\n            while (n < result.length) {\n                result.__setDigit(n++, 0);\n            }\n        }\n        else {\n            if (carry + high !== 0)\n                throw new Error('implementation bug');\n        }\n    }\n    __inplaceMultiplyAdd(multiplier, summand, length) {\n        if (length > this.length)\n            length = this.length;\n        const mLow = multiplier & 0x7FFF;\n        const mHigh = multiplier >>> 15;\n        let carry = 0;\n        let high = summand;\n        for (let i = 0; i < length; i++) {\n            const d = this.__digit(i);\n            const dLow = d & 0x7FFF;\n            const dHigh = d >>> 15;\n            const pLow = JSBI.__imul(dLow, mLow);\n            const pMid1 = JSBI.__imul(dLow, mHigh);\n            const pMid2 = JSBI.__imul(dHigh, mLow);\n            const pHigh = JSBI.__imul(dHigh, mHigh);\n            let result = high + pLow + carry;\n            carry = result >>> 30;\n            result &= 0x3FFFFFFF;\n            result += ((pMid1 & 0x7FFF) << 15) + ((pMid2 & 0x7FFF) << 15);\n            carry += result >>> 30;\n            high = pHigh + (pMid1 >>> 15) + (pMid2 >>> 15);\n            this.__setDigit(i, result & 0x3FFFFFFF);\n        }\n        if (carry !== 0 || high !== 0) {\n            throw new Error('implementation bug');\n        }\n    }\n    static __absoluteDivSmall(x, divisor, quotient = null) {\n        if (quotient === null)\n            quotient = new JSBI(x.length, false);\n        let remainder = 0;\n        for (let i = x.length * 2 - 1; i >= 0; i -= 2) {\n            let input = ((remainder << 15) | x.__halfDigit(i)) >>> 0;\n            const upperHalf = (input / divisor) | 0;\n            remainder = (input % divisor) | 0;\n            input = ((remainder << 15) | x.__halfDigit(i - 1)) >>> 0;\n            const lowerHalf = (input / divisor) | 0;\n            remainder = (input % divisor) | 0;\n            quotient.__setDigit(i >>> 1, (upperHalf << 15) | lowerHalf);\n        }\n        return quotient;\n    }\n    static __absoluteModSmall(x, divisor) {\n        let remainder = 0;\n        for (let i = x.length * 2 - 1; i >= 0; i--) {\n            const input = ((remainder << 15) | x.__halfDigit(i)) >>> 0;\n            remainder = (input % divisor) | 0;\n        }\n        return remainder;\n    }\n    static __absoluteDivLarge(dividend, divisor, wantQuotient, wantRemainder) {\n        const n = divisor.__halfDigitLength();\n        const n2 = divisor.length;\n        const m = dividend.__halfDigitLength() - n;\n        let q = null;\n        if (wantQuotient) {\n            q = new JSBI((m + 2) >>> 1, false);\n            q.__initializeDigits();\n        }\n        const qhatv = new JSBI((n + 2) >>> 1, false);\n        qhatv.__initializeDigits();\n        // D1.\n        const shift = JSBI.__clz15(divisor.__halfDigit(n - 1));\n        if (shift > 0) {\n            divisor = JSBI.__specialLeftShift(divisor, shift, 0 /* add no digits*/);\n        }\n        const u = JSBI.__specialLeftShift(dividend, shift, 1 /* add one digit */);\n        // D2.\n        const vn1 = divisor.__halfDigit(n - 1);\n        let halfDigitBuffer = 0;\n        for (let j = m; j >= 0; j--) {\n            // D3.\n            let qhat = 0x7FFF;\n            const ujn = u.__halfDigit(j + n);\n            if (ujn !== vn1) {\n                const input = ((ujn << 15) | u.__halfDigit(j + n - 1)) >>> 0;\n                qhat = (input / vn1) | 0;\n                let rhat = (input % vn1) | 0;\n                const vn2 = divisor.__halfDigit(n - 2);\n                const ujn2 = u.__halfDigit(j + n - 2);\n                while ((JSBI.__imul(qhat, vn2) >>> 0) > (((rhat << 16) | ujn2) >>> 0)) {\n                    qhat--;\n                    rhat += vn1;\n                    if (rhat > 0x7FFF)\n                        break;\n                }\n            }\n            // D4.\n            JSBI.__internalMultiplyAdd(divisor, qhat, 0, n2, qhatv);\n            let c = u.__inplaceSub(qhatv, j, n + 1);\n            if (c !== 0) {\n                c = u.__inplaceAdd(divisor, j, n);\n                u.__setHalfDigit(j + n, (u.__halfDigit(j + n) + c) & 0x7FFF);\n                qhat--;\n            }\n            if (wantQuotient) {\n                if (j & 1) {\n                    halfDigitBuffer = qhat << 15;\n                }\n                else {\n                    // TODO make this statically determinable\n                    q.__setDigit(j >>> 1, halfDigitBuffer | qhat);\n                }\n            }\n        }\n        if (wantRemainder) {\n            u.__inplaceRightShift(shift);\n            if (wantQuotient) {\n                return { quotient: q, remainder: u };\n            }\n            return u;\n        }\n        if (wantQuotient)\n            return q;\n        // TODO find a way to make this statically unreachable?\n        throw new Error('unreachable');\n    }\n    static __clz15(value) {\n        return JSBI.__clz30(value) - 15;\n    }\n    // TODO: work on full digits, like __inplaceSub?\n    __inplaceAdd(summand, startIndex, halfDigits) {\n        let carry = 0;\n        for (let i = 0; i < halfDigits; i++) {\n            const sum = this.__halfDigit(startIndex + i) +\n                summand.__halfDigit(i) +\n                carry;\n            carry = sum >>> 15;\n            this.__setHalfDigit(startIndex + i, sum & 0x7FFF);\n        }\n        return carry;\n    }\n    __inplaceSub(subtrahend, startIndex, halfDigits) {\n        const fullSteps = (halfDigits - 1) >>> 1;\n        let borrow = 0;\n        if (startIndex & 1) {\n            // this:   [..][..][..]\n            // subtr.:   [..][..]\n            startIndex >>= 1;\n            let current = this.__digit(startIndex);\n            let r0 = current & 0x7FFF;\n            let i = 0;\n            for (; i < fullSteps; i++) {\n                const sub = subtrahend.__digit(i);\n                const r15 = (current >>> 15) - (sub & 0x7FFF) - borrow;\n                borrow = (r15 >>> 15) & 1;\n                this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n                current = this.__digit(startIndex + i + 1);\n                r0 = (current & 0x7FFF) - (sub >>> 15) - borrow;\n                borrow = (r0 >>> 15) & 1;\n            }\n            // Unrolling the last iteration gives a 5% performance benefit!\n            const sub = subtrahend.__digit(i);\n            const r15 = (current >>> 15) - (sub & 0x7FFF) - borrow;\n            borrow = (r15 >>> 15) & 1;\n            this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n            const subTop = sub >>> 15;\n            if (startIndex + i + 1 >= this.length) {\n                throw new RangeError('out of bounds');\n            }\n            if ((halfDigits & 1) === 0) {\n                current = this.__digit(startIndex + i + 1);\n                r0 = (current & 0x7FFF) - subTop - borrow;\n                borrow = (r0 >>> 15) & 1;\n                this.__setDigit(startIndex + subtrahend.length, (current & 0x3FFF8000) | (r0 & 0x7FFF));\n            }\n        }\n        else {\n            startIndex >>= 1;\n            let i = 0;\n            for (; i < subtrahend.length - 1; i++) {\n                const current = this.__digit(startIndex + i);\n                const sub = subtrahend.__digit(i);\n                const r0 = (current & 0x7FFF) - (sub & 0x7FFF) - borrow;\n                borrow = (r0 >>> 15) & 1;\n                const r15 = (current >>> 15) - (sub >>> 15) - borrow;\n                borrow = (r15 >>> 15) & 1;\n                this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n            }\n            const current = this.__digit(startIndex + i);\n            const sub = subtrahend.__digit(i);\n            const r0 = (current & 0x7FFF) - (sub & 0x7FFF) - borrow;\n            borrow = (r0 >>> 15) & 1;\n            let r15 = 0;\n            if ((halfDigits & 1) === 0) {\n                r15 = (current >>> 15) - (sub >>> 15) - borrow;\n                borrow = (r15 >>> 15) & 1;\n            }\n            this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n        }\n        return borrow;\n    }\n    __inplaceRightShift(shift) {\n        if (shift === 0)\n            return;\n        let carry = this.__digit(0) >>> shift;\n        const last = this.length - 1;\n        for (let i = 0; i < last; i++) {\n            const d = this.__digit(i + 1);\n            this.__setDigit(i, ((d << (30 - shift)) & 0x3FFFFFFF) | carry);\n            carry = d >>> shift;\n        }\n        this.__setDigit(last, carry);\n    }\n    static __specialLeftShift(x, shift, addDigit) {\n        const n = x.length;\n        const resultLength = n + addDigit;\n        const result = new JSBI(resultLength, false);\n        if (shift === 0) {\n            for (let i = 0; i < n; i++)\n                result.__setDigit(i, x.__digit(i));\n            if (addDigit > 0)\n                result.__setDigit(n, 0);\n            return result;\n        }\n        let carry = 0;\n        for (let i = 0; i < n; i++) {\n            const d = x.__digit(i);\n            result.__setDigit(i, ((d << shift) & 0x3FFFFFFF) | carry);\n            carry = d >>> (30 - shift);\n        }\n        if (addDigit > 0) {\n            result.__setDigit(n, carry);\n        }\n        return result;\n    }\n    static __leftShiftByAbsolute(x, y) {\n        const shift = JSBI.__toShiftAmount(y);\n        if (shift < 0)\n            throw new RangeError('BigInt too big');\n        const digitShift = (shift / 30) | 0;\n        const bitsShift = shift % 30;\n        const length = x.length;\n        const grow = bitsShift !== 0 &&\n            (x.__digit(length - 1) >>> (30 - bitsShift)) !== 0;\n        const resultLength = length + digitShift + (grow ? 1 : 0);\n        const result = new JSBI(resultLength, x.sign);\n        if (bitsShift === 0) {\n            let i = 0;\n            for (; i < digitShift; i++)\n                result.__setDigit(i, 0);\n            for (; i < resultLength; i++) {\n                result.__setDigit(i, x.__digit(i - digitShift));\n            }\n        }\n        else {\n            let carry = 0;\n            for (let i = 0; i < digitShift; i++)\n                result.__setDigit(i, 0);\n            for (let i = 0; i < length; i++) {\n                const d = x.__digit(i);\n                result.__setDigit(i + digitShift, ((d << bitsShift) & 0x3FFFFFFF) | carry);\n                carry = d >>> (30 - bitsShift);\n            }\n            if (grow) {\n                result.__setDigit(length + digitShift, carry);\n            }\n            else {\n                if (carry !== 0)\n                    throw new Error('implementation bug');\n            }\n        }\n        return result.__trim();\n    }\n    static __rightShiftByAbsolute(x, y) {\n        const length = x.length;\n        const sign = x.sign;\n        const shift = JSBI.__toShiftAmount(y);\n        if (shift < 0)\n            return JSBI.__rightShiftByMaximum(sign);\n        const digitShift = (shift / 30) | 0;\n        const bitsShift = shift % 30;\n        let resultLength = length - digitShift;\n        if (resultLength <= 0)\n            return JSBI.__rightShiftByMaximum(sign);\n        // For negative numbers, round down if any bit was shifted out (so that\n        // e.g. -5n >> 1n == -3n and not -2n). Check now whether this will happen\n        // and whether itc an cause overflow into a new digit. If we allocate the\n        // result large enough up front, it avoids having to do grow it later.\n        let mustRoundDown = false;\n        if (sign) {\n            const mask = (1 << bitsShift) - 1;\n            if ((x.__digit(digitShift) & mask) !== 0) {\n                mustRoundDown = true;\n            }\n            else {\n                for (let i = 0; i < digitShift; i++) {\n                    if (x.__digit(i) !== 0) {\n                        mustRoundDown = true;\n                        break;\n                    }\n                }\n            }\n        }\n        // If bitsShift is non-zero, it frees up bits, preventing overflow.\n        if (mustRoundDown && bitsShift === 0) {\n            // Overflow cannot happen if the most significant digit has unset bits.\n            const msd = x.__digit(length - 1);\n            const roundingCanOverflow = ~msd === 0;\n            if (roundingCanOverflow)\n                resultLength++;\n        }\n        let result = new JSBI(resultLength, sign);\n        if (bitsShift === 0) {\n            // Zero out any overflow digit (see \"roundingCanOverflow\" above).\n            result.__setDigit(resultLength - 1, 0);\n            for (let i = digitShift; i < length; i++) {\n                result.__setDigit(i - digitShift, x.__digit(i));\n            }\n        }\n        else {\n            let carry = x.__digit(digitShift) >>> bitsShift;\n            const last = length - digitShift - 1;\n            for (let i = 0; i < last; i++) {\n                const d = x.__digit(i + digitShift + 1);\n                result.__setDigit(i, ((d << (30 - bitsShift)) & 0x3FFFFFFF) | carry);\n                carry = d >>> bitsShift;\n            }\n            result.__setDigit(last, carry);\n        }\n        if (mustRoundDown) {\n            // Since the result is negative, rounding down means adding one to its\n            // absolute value. This cannot overflow.\n            result = JSBI.__absoluteAddOne(result, true, result);\n        }\n        return result.__trim();\n    }\n    static __rightShiftByMaximum(sign) {\n        if (sign) {\n            return JSBI.__oneDigit(1, true);\n        }\n        return JSBI.__zero();\n    }\n    static __toShiftAmount(x) {\n        if (x.length > 1)\n            return -1;\n        const value = x.__unsignedDigit(0);\n        if (value > JSBI.__kMaxLengthBits)\n            return -1;\n        return value;\n    }\n    static __toPrimitive(obj, hint = 'default') {\n        if (typeof obj !== 'object')\n            return obj;\n        if (obj.constructor === JSBI)\n            return obj;\n        if (typeof Symbol !== 'undefined' &&\n            typeof Symbol.toPrimitive === 'symbol') {\n            const exoticToPrim = obj[Symbol.toPrimitive];\n            if (exoticToPrim) {\n                const primitive = exoticToPrim(hint);\n                if (typeof primitive !== 'object')\n                    return primitive;\n                throw new TypeError('Cannot convert object to primitive value');\n            }\n        }\n        const valueOf = obj.valueOf;\n        if (valueOf) {\n            const primitive = valueOf.call(obj);\n            if (typeof primitive !== 'object')\n                return primitive;\n        }\n        const toString = obj.toString;\n        if (toString) {\n            const primitive = toString.call(obj);\n            if (typeof primitive !== 'object')\n                return primitive;\n        }\n        throw new TypeError('Cannot convert object to primitive value');\n    }\n    static __toNumeric(value) {\n        if (JSBI.__isBigInt(value))\n            return value;\n        return +value;\n    }\n    static __isBigInt(value) {\n        return typeof value === 'object' && value !== null &&\n            value.constructor === JSBI;\n    }\n    static __truncateToNBits(n, x) {\n        const neededDigits = ((n + 29) / 30) | 0;\n        const result = new JSBI(neededDigits, x.sign);\n        const last = neededDigits - 1;\n        for (let i = 0; i < last; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        let msd = x.__digit(last);\n        if ((n % 30) !== 0) {\n            const drop = 32 - (n % 30);\n            msd = (msd << drop) >>> drop;\n        }\n        result.__setDigit(last, msd);\n        return result.__trim();\n    }\n    static __truncateAndSubFromPowerOfTwo(n, x, resultSign) {\n        const neededDigits = ((n + 29) / 30) | 0;\n        const result = new JSBI(neededDigits, resultSign);\n        let i = 0;\n        const last = neededDigits - 1;\n        let borrow = 0;\n        const limit = Math.min(last, x.length);\n        for (; i < limit; i++) {\n            const r = 0 - x.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        for (; i < last; i++) {\n            result.__setDigit(i, (-borrow & 0x3FFFFFFF) | 0);\n        }\n        let msd = last < x.length ? x.__digit(last) : 0;\n        const msdBitsConsumed = n % 30;\n        let resultMsd;\n        if (msdBitsConsumed === 0) {\n            resultMsd = 0 - msd - borrow;\n            resultMsd &= 0x3FFFFFFF;\n        }\n        else {\n            const drop = 32 - msdBitsConsumed;\n            msd = (msd << drop) >>> drop;\n            const minuendMsd = 1 << (32 - drop);\n            resultMsd = minuendMsd - msd - borrow;\n            resultMsd &= (minuendMsd - 1);\n        }\n        result.__setDigit(last, resultMsd);\n        return result.__trim();\n    }\n    // Digit helpers.\n    __digit(i) {\n        return this[i];\n    }\n    __unsignedDigit(i) {\n        return this[i] >>> 0;\n    }\n    __setDigit(i, digit) {\n        this[i] = digit | 0;\n    }\n    __setDigitGrow(i, digit) {\n        this[i] = digit | 0;\n    }\n    __halfDigitLength() {\n        const len = this.length;\n        if (this.__unsignedDigit(len - 1) <= 0x7FFF)\n            return len * 2 - 1;\n        return len * 2;\n    }\n    __halfDigit(i) {\n        return (this[i >>> 1] >>> ((i & 1) * 15)) & 0x7FFF;\n    }\n    __setHalfDigit(i, value) {\n        const digitIndex = i >>> 1;\n        const previous = this.__digit(digitIndex);\n        const updated = (i & 1) ? (previous & 0x7FFF) | (value << 15)\n            : (previous & 0x3FFF8000) | (value & 0x7FFF);\n        this.__setDigit(digitIndex, updated);\n    }\n    static __digitPow(base, exponent) {\n        let result = 1;\n        while (exponent > 0) {\n            if (exponent & 1)\n                result *= base;\n            exponent >>>= 1;\n            base *= base;\n        }\n        return result;\n    }\n    static __isOneDigitInt(x) {\n        return (x & 0x3FFFFFFF) === x;\n    }\n}\nJSBI.__kMaxLength = 1 << 25;\nJSBI.__kMaxLengthBits = JSBI.__kMaxLength << 5;\n// Lookup table for the maximum number of bits required per character of a\n// base-N string representation of a number. To increase accuracy, the array\n// value is the actual value multiplied by 32. To generate this table:\n//\n// for (let i = 0; i <= 36; i++) {\n//   console.log(Math.ceil(Math.log2(i) * 32) + ',');\n// }\nJSBI.__kMaxBitsPerChar = [\n    0, 0, 32, 51, 64, 75, 83, 90, 96,\n    102, 107, 111, 115, 119, 122, 126, 128,\n    131, 134, 136, 139, 141, 143, 145, 147,\n    149, 151, 153, 154, 156, 158, 159, 160,\n    162, 163, 165, 166, // 33..36\n];\nJSBI.__kBitsPerCharTableShift = 5;\nJSBI.__kBitsPerCharTableMultiplier = 1 << JSBI.__kBitsPerCharTableShift;\nJSBI.__kConversionChars = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');\nJSBI.__kBitConversionBuffer = new ArrayBuffer(8);\nJSBI.__kBitConversionDouble = new Float64Array(JSBI.__kBitConversionBuffer);\nJSBI.__kBitConversionInts = new Int32Array(JSBI.__kBitConversionBuffer);\n// For IE11 compatibility.\n// Note that the custom replacements are tailored for JSBI's needs, and as\n// such are not reusable as general-purpose polyfills.\nJSBI.__clz30 = Math.clz32 ? function (x) {\n    return Math.clz32(x) - 2;\n} : function (x) {\n    if (x === 0)\n        return 30;\n    return 29 - (Math.log(x >>> 0) / Math.LN2 | 0) | 0;\n};\nJSBI.__imul = Math.imul || function (a, b) {\n    return (a * b) | 0;\n};\nexport default JSBI;\n//# sourceMappingURL=jsbi.js.map", "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n", "var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n", "var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n", "var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n", "var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n", "/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n", "var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n", "/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n", "var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n", "var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n", "var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n", "/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n", "/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n", "var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n", "/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n", "var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n", "/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n", "/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n", "var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n", "var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n", "/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n", "var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n", "var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n", "/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n", "var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n", "var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n", "var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n", "var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n", "var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n", "var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n", "var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n", "var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n", "/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n", "/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n", "var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n", "var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n", "var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n", "/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n", "/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n", "/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n", "var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n", "var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n", "/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n", "var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n", "var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n", "/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n", "var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n", "var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n", "var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n", "var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n", "/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n", "/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n", "var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n", "/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n", "/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n", "var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n", "/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n", "/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n", "var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n", "/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n", "var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n", "/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n", "/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n", "var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n", "var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n", "var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n", "var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n", "var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n", "var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n", "var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n", "var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n", "var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n", "/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n", "var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n", "var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n", "var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n", "var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n", "var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n", "/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n", "var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n", "var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n", "var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n", "var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n", "var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n", "var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n", "/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n", "var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n", "var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n", "var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n", "/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n", "/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n", "var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n", "var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n", "var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n", "var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n", "var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n", "import JSBI from 'jsbi';\n\nexport const ZERO = JSBI.BigInt(0);\nexport const ONE = JSBI.BigInt(1);\nexport const TWO = JSBI.BigInt(2);\nexport const TEN = JSBI.BigInt(10);\nconst TWENTY_FOUR = JSBI.BigInt(24);\nconst SIXTY = JSBI.BigInt(60);\nexport const THOUSAND = JSBI.BigInt(1e3);\nexport const MILLION = JSBI.BigInt(1e6);\nexport const BILLION = JSBI.BigInt(1e9);\nconst HOUR_SECONDS = 3600;\nexport const HOUR_NANOS = JSBI.multiply(JSBI.BigInt(HOUR_SECONDS), BILLION);\nexport const MINUTE_NANOS_JSBI = JSBI.multiply(SIXTY, BILLION);\nexport const DAY_NANOS_JSBI = JSBI.multiply(HOUR_NANOS, TWENTY_FOUR);\n\n/** Handle a JSBI or native BigInt. For user input, use ES.ToBigInt instead */\nexport function ensureJSBI(value: JSBI | bigint) {\n  return typeof value === 'bigint' ? JSBI.BigInt(value.toString(10)) : value;\n}\n\nexport function isEven(value: JSBI): boolean {\n  return JSBI.equal(JSBI.remainder(value, TWO), ZERO);\n}\n\nexport function abs(x: JSBI): JSBI {\n  if (JSBI.lessThan(x, ZERO)) return JSBI.unaryMinus(x);\n  return x;\n}\n\nexport function compare(x: JSBI, y: JSBI): -1 | 0 | 1 {\n  return JSBI.lessThan(x, y) ? -1 : JSBI.greaterThan(x, y) ? 1 : 0;\n}\n\nexport function divmod(x: JSBI, y: JSBI): { quotient: JSBI; remainder: JSBI } {\n  const quotient = JSBI.divide(x, y);\n  const remainder = JSBI.remainder(x, y);\n  return { quotient, remainder };\n}\n", "import type JSBI from 'jsbi';\nimport type { Temporal } from '..';\nimport type {\n  BuiltinCalendarId,\n  AnySlottedType,\n  FormatterOrAmender,\n  ISODate,\n  ISODateTime,\n  TimeRecord\n} from './internaltypes';\nimport type { DateTimeFormatImpl } from './intl';\n\n// Instant\nexport const EPOCHNANOSECONDS = 'slot-epochNanoSeconds';\n\n// DateTime, Date, Time, YearMonth, MonthDay\nexport const ISO_DATE = 'slot-iso-date';\nexport const ISO_DATE_TIME = 'slot-iso-date-time';\nexport const TIME = 'slot-time';\nexport const CALENDAR = 'slot-calendar';\n// Date, YearMonth, and MonthDay all have the same slots, disambiguation needed:\nexport const DATE_BRAND = 'slot-date-brand';\nexport const YEAR_MONTH_BRAND = 'slot-year-month-brand';\nexport const MONTH_DAY_BRAND = 'slot-month-day-brand';\n\n// ZonedDateTime\nexport const TIME_ZONE = 'slot-time-zone';\n\n// Duration\nexport const YEARS = 'slot-years';\nexport const MONTHS = 'slot-months';\nexport const WEEKS = 'slot-weeks';\nexport const DAYS = 'slot-days';\nexport const HOURS = 'slot-hours';\nexport const MINUTES = 'slot-minutes';\nexport const SECONDS = 'slot-seconds';\nexport const MILLISECONDS = 'slot-milliseconds';\nexport const MICROSECONDS = 'slot-microseconds';\nexport const NANOSECONDS = 'slot-nanoseconds';\n\n// DateTimeFormatImpl\nexport const DATE = 'date';\nexport const YM = 'ym';\nexport const MD = 'md';\nexport const TIME_FMT = 'time';\nexport const DATETIME = 'datetime';\nexport const INST = 'instant';\nexport const ORIGINAL = 'original';\nexport const TZ_CANONICAL = 'timezone-canonical';\nexport const TZ_ORIGINAL = 'timezone-original';\nexport const CAL_ID = 'calendar-id';\nexport const LOCALE = 'locale';\nexport const OPTIONS = 'options';\n\ninterface SlotInfo<ValueType, UsedByType extends AnySlottedType> {\n  value: ValueType;\n  usedBy: UsedByType;\n}\n\ninterface SlotInfoRecord {\n  [k: string]: SlotInfo<unknown, AnySlottedType>;\n}\n\ninterface Slots extends SlotInfoRecord {\n  // Instant\n  [EPOCHNANOSECONDS]: SlotInfo<JSBI, Temporal.Instant | Temporal.ZonedDateTime>; // number? JSBI?\n\n  // DateTime, Date, Time, YearMonth, MonthDay\n  [ISO_DATE]: SlotInfo<ISODate, Temporal.PlainDate | Temporal.PlainMonthDay | Temporal.PlainYearMonth>;\n  [ISO_DATE_TIME]: SlotInfo<ISODateTime, Temporal.PlainDateTime>;\n  [TIME]: SlotInfo<TimeRecord, Temporal.PlainTime>;\n  [CALENDAR]: SlotInfo<BuiltinCalendarId, TypesWithCalendarUnits>;\n\n  // Date, YearMonth, MonthDay common slots\n  [DATE_BRAND]: SlotInfo<true, Temporal.PlainDate>;\n  [YEAR_MONTH_BRAND]: SlotInfo<true, Temporal.PlainYearMonth>;\n  [MONTH_DAY_BRAND]: SlotInfo<true, Temporal.PlainMonthDay>;\n\n  // ZonedDateTime\n  [TIME_ZONE]: SlotInfo<string, Temporal.ZonedDateTime>;\n\n  // Duration\n  [YEARS]: SlotInfo<number, Temporal.Duration>;\n  [MONTHS]: SlotInfo<number, Temporal.Duration>;\n  [WEEKS]: SlotInfo<number, Temporal.Duration>;\n  [DAYS]: SlotInfo<number, Temporal.Duration>;\n  [HOURS]: SlotInfo<number, Temporal.Duration>;\n  [MINUTES]: SlotInfo<number, Temporal.Duration>;\n  [SECONDS]: SlotInfo<number, Temporal.Duration>;\n  [MILLISECONDS]: SlotInfo<number, Temporal.Duration>;\n  [MICROSECONDS]: SlotInfo<number, Temporal.Duration>;\n  [NANOSECONDS]: SlotInfo<number, Temporal.Duration>;\n\n  // DateTimeFormatImpl\n  [DATE]: SlotInfo<FormatterOrAmender, DateTimeFormatImpl>;\n  [YM]: SlotInfo<FormatterOrAmender, DateTimeFormatImpl>;\n  [MD]: SlotInfo<FormatterOrAmender, DateTimeFormatImpl>;\n  [TIME_FMT]: SlotInfo<FormatterOrAmender, DateTimeFormatImpl>;\n  [DATETIME]: SlotInfo<FormatterOrAmender, DateTimeFormatImpl>;\n  [INST]: SlotInfo<FormatterOrAmender, DateTimeFormatImpl>;\n  [ORIGINAL]: SlotInfo<globalThis.Intl.DateTimeFormat, DateTimeFormatImpl>;\n  [TZ_CANONICAL]: SlotInfo<string, DateTimeFormatImpl>;\n  [TZ_ORIGINAL]: SlotInfo<string, DateTimeFormatImpl>;\n  [CAL_ID]: SlotInfo<globalThis.Intl.ResolvedDateTimeFormatOptions['calendar'], DateTimeFormatImpl>;\n  [LOCALE]: SlotInfo<globalThis.Intl.ResolvedDateTimeFormatOptions['locale'], DateTimeFormatImpl>;\n  [OPTIONS]: SlotInfo<Intl.DateTimeFormatOptions, DateTimeFormatImpl>;\n}\n\ntype TypesWithCalendarUnits =\n  | Temporal.PlainDateTime\n  | Temporal.PlainDate\n  | Temporal.PlainYearMonth\n  | Temporal.PlainMonthDay\n  | Temporal.ZonedDateTime;\n\ninterface SlotsToTypes {\n  // Instant\n  [EPOCHNANOSECONDS]: Temporal.Instant;\n\n  // DateTime, Date, Time, YearMonth, MonthDay\n  [ISO_DATE]: Temporal.PlainDate | Temporal.PlainYearMonth | Temporal.PlainMonthDay;\n  [ISO_DATE_TIME]: Temporal.PlainDateTime;\n  [TIME]: Temporal.PlainTime;\n  [CALENDAR]: TypesWithCalendarUnits;\n\n  // Date, YearMonth, MonthDay common slots\n  [DATE_BRAND]: Temporal.PlainDate;\n  [YEAR_MONTH_BRAND]: Temporal.PlainYearMonth;\n  [MONTH_DAY_BRAND]: Temporal.PlainMonthDay;\n\n  // ZonedDateTime\n  [TIME_ZONE]: Temporal.ZonedDateTime;\n\n  // Duration\n  [YEARS]: Temporal.Duration;\n  [MONTHS]: Temporal.Duration;\n  [WEEKS]: Temporal.Duration;\n  [DAYS]: Temporal.Duration;\n  [HOURS]: Temporal.Duration;\n  [MINUTES]: Temporal.Duration;\n  [SECONDS]: Temporal.Duration;\n  [MILLISECONDS]: Temporal.Duration;\n  [MICROSECONDS]: Temporal.Duration;\n  [NANOSECONDS]: Temporal.Duration;\n\n  // DateTimeFormatImpl\n  [DATE]: DateTimeFormatImpl;\n  [YM]: DateTimeFormatImpl;\n  [MD]: DateTimeFormatImpl;\n  [TIME_FMT]: DateTimeFormatImpl;\n  [DATETIME]: DateTimeFormatImpl;\n  [INST]: DateTimeFormatImpl;\n  [ORIGINAL]: DateTimeFormatImpl;\n  [TZ_CANONICAL]: DateTimeFormatImpl;\n  [TZ_ORIGINAL]: DateTimeFormatImpl;\n  [CAL_ID]: DateTimeFormatImpl;\n  [LOCALE]: DateTimeFormatImpl;\n  [OPTIONS]: DateTimeFormatImpl;\n}\n\ntype SlotKey = keyof SlotsToTypes;\n\nconst globalSlots = new WeakMap<Slots[keyof Slots]['usedBy'], Record<keyof Slots, Slots[keyof Slots]['value']>>();\n\nfunction _GetSlots(container: Slots[keyof Slots]['usedBy']) {\n  return globalSlots.get(container);\n}\n\nconst GetSlotsSymbol = Symbol.for('@@Temporal__GetSlots');\n\n// expose GetSlots to avoid dual package hazards\n(globalThis as any)[GetSlotsSymbol] ||= _GetSlots;\n\nconst GetSlots = (globalThis as any)[GetSlotsSymbol] as typeof _GetSlots;\n\nfunction _CreateSlots(container: Slots[keyof Slots]['usedBy']): void {\n  globalSlots.set(container, Object.create(null));\n}\n\nconst CreateSlotsSymbol = Symbol.for('@@Temporal__CreateSlots');\n\n// expose CreateSlots to avoid dual package hazards\n(globalThis as any)[CreateSlotsSymbol] ||= _CreateSlots;\n\nexport const CreateSlots = (globalThis as any)[CreateSlotsSymbol] as typeof _CreateSlots;\n\n// TODO: is there a better way than 9 overloads to make HasSlot into a type\n// guard that takes a variable number of parameters?\nexport function HasSlot<ID1 extends SlotKey>(container: unknown, id1: ID1): container is Slots[ID1]['usedBy'];\nexport function HasSlot<ID1 extends SlotKey, ID2 extends SlotKey>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2\n): container is Slots[ID1]['usedBy'] | Slots[ID2]['usedBy'];\nexport function HasSlot<ID1 extends SlotKey, ID2 extends SlotKey, ID3 extends SlotKey>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3\n): container is Slots[ID1]['usedBy'] | Slots[ID2]['usedBy'] | Slots[ID3]['usedBy'];\nexport function HasSlot<ID1 extends SlotKey, ID2 extends SlotKey, ID3 extends SlotKey, ID4 extends SlotKey>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4\n): container is Slots[ID1 | ID2 | ID3 | ID4]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey,\n  ID7 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6,\n  id7: ID7\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6 | ID7]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey,\n  ID7 extends SlotKey,\n  ID8 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6,\n  id7: ID7,\n  id8: ID8\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6 | ID7 | ID8]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey,\n  ID7 extends SlotKey,\n  ID8 extends SlotKey,\n  ID9 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6,\n  id7: ID7,\n  id8: ID8,\n  id9: ID9\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6 | ID7 | ID8 | ID9]['usedBy'];\nexport function HasSlot(container: unknown, ...ids: (keyof Slots)[]): boolean {\n  if (!container || 'object' !== typeof container) return false;\n  const myslots = GetSlots(container as AnySlottedType);\n  return !!myslots && ids.every((id) => id in myslots);\n}\nexport function GetSlot<KeyT extends keyof Slots>(\n  container: Slots[typeof id]['usedBy'],\n  id: KeyT\n): Slots[KeyT]['value'] {\n  const value = GetSlots(container)?.[id];\n  if (value === undefined) throw new TypeError(`Missing internal slot ${id}`);\n  return value;\n}\nexport function SetSlot<KeyT extends SlotKey>(\n  container: Slots[KeyT]['usedBy'],\n  id: KeyT,\n  value: Slots[KeyT]['value']\n): void {\n  const slots = GetSlots(container);\n\n  if (slots === undefined) throw new TypeError('Missing slots for the given container');\n\n  const existingSlot = slots[id];\n\n  if (existingSlot) throw new TypeError(`${id} already has set`);\n\n  slots[id] = value;\n}\n\nexport function ResetSlot<KeyT extends SlotKey>(\n  container: DateTimeFormatImpl,\n  id: KeyT,\n  value: Slots[KeyT]['value']\n): void {\n  const slots = GetSlots(container);\n\n  if (slots === undefined) throw new TypeError('Missing slots for the given container');\n\n  const existingSlot = slots[id];\n\n  if (existingSlot === undefined) throw new TypeError(`tried to reset ${id} which was not set`);\n\n  slots[id] = value;\n}\n", "import type JSBI from 'jsbi';\nimport type { Temporal } from '..';\nimport type { CalendarImpl } from './calendar';\nimport type { BuiltinCalendarId } from './internaltypes';\nimport type { DateTimeFormatImpl } from './intl';\n\nimport { DEBUG } from './debug';\nimport { GetSlot, ORIGINAL } from './slots';\n\ntype OmitConstructor<T> = { [P in keyof T as T[P] extends new (...args: any[]) => any ? P : never]: T[P] };\n\ntype TemporalIntrinsics = {\n  ['Intl.DateTimeFormat']: typeof globalThis.Intl.DateTimeFormat;\n  ['Temporal.Duration']: typeof Temporal.Duration;\n  ['Temporal.Instant']: OmitConstructor<Temporal.Instant> &\n    (new (epochNanoseconds: JSBI) => Temporal.Instant) & { prototype: typeof Temporal.Instant.prototype };\n  ['Temporal.PlainDate']: typeof Temporal.PlainDate;\n  ['Temporal.PlainDateTime']: typeof Temporal.PlainDateTime;\n  ['Temporal.PlainMonthDay']: typeof Temporal.PlainMonthDay;\n  ['Temporal.PlainTime']: typeof Temporal.PlainTime;\n  ['Temporal.PlainYearMonth']: typeof Temporal.PlainYearMonth;\n  ['Temporal.ZonedDateTime']: OmitConstructor<Temporal.ZonedDateTime> &\n    (new (epochNanoseconds: JSBI, timeZone: string, calendar?: string) => Temporal.ZonedDateTime) & {\n      prototype: typeof Temporal.ZonedDateTime.prototype;\n      from: typeof Temporal.ZonedDateTime.from;\n      compare: typeof Temporal.ZonedDateTime.compare;\n    };\n};\ntype TemporalIntrinsicRegistrations = {\n  [key in keyof TemporalIntrinsics]: TemporalIntrinsics[key];\n};\ntype TemporalIntrinsicPrototypeRegistrations = {\n  [key in keyof TemporalIntrinsics as `${key}.prototype`]: TemporalIntrinsics[key]['prototype'];\n};\ntype TemporalIntrinsicRegisteredKeys = {\n  [key in keyof TemporalIntrinsicRegistrations as `%${key}%`]: TemporalIntrinsicRegistrations[key];\n};\ntype TemporalIntrinsicPrototypeRegisteredKeys = {\n  [key in keyof TemporalIntrinsicPrototypeRegistrations as `%${key}%`]: TemporalIntrinsicPrototypeRegistrations[key];\n};\n\ntype OtherIntrinsics = {\n  calendarImpl: (id: BuiltinCalendarId) => CalendarImpl;\n};\ntype OtherIntrinsicKeys = { [key in keyof OtherIntrinsics as `%${key}%`]: OtherIntrinsics[key] };\n\nconst INTRINSICS = {} as TemporalIntrinsicRegisteredKeys &\n  TemporalIntrinsicPrototypeRegisteredKeys &\n  OtherIntrinsicKeys;\n\ntype StylizeOption = (value: unknown, type: 'number' | 'special') => string;\n\ntype customFormatFunction<T> = (\n  this: T & { _repr_: string }, // _repr_ is present if DEBUG\n  depth: number,\n  options: { stylize: StylizeOption },\n  inspect: (object: T, options?: { depth: number; stylize: StylizeOption }) => string\n) => string;\nconst customUtilInspectFormatters: Partial<{\n  [key in keyof TemporalIntrinsicRegistrations]: customFormatFunction<\n    InstanceType<TemporalIntrinsicRegistrations[key]>\n  >;\n}> = {\n  ['Intl.DateTimeFormat'](depth, options, inspect) {\n    return inspect(GetSlot(this as DateTimeFormatImpl, ORIGINAL), { depth, ...options });\n  },\n  ['Temporal.Duration'](depth, options) {\n    const descr = options.stylize(this._repr_, 'special');\n    if (depth < 1) return descr;\n    const entries: string[] = [];\n    const props = [\n      'years',\n      'months',\n      'weeks',\n      'days',\n      'hours',\n      'minutes',\n      'seconds',\n      'milliseconds',\n      'microseconds',\n      'nanoseconds'\n    ] as const;\n    for (let i = 0; i < props.length; i++) {\n      const prop = props[i];\n      if (this[prop] !== 0) {\n        entries.push(`  ${prop}: ${options.stylize(this[prop], 'number')}`);\n      }\n    }\n    return descr + ' {\\n' + entries.join(',\\n') + '\\n}';\n  }\n};\n\ntype InspectFormatterOptions = { stylize: (str: string, styleType: string) => string };\nfunction defaultUtilInspectFormatter(this: any, depth: number, options: InspectFormatterOptions) {\n  return options.stylize(this._repr_, 'special');\n}\n\nexport function MakeIntrinsicClass(\n  Class: TemporalIntrinsicRegistrations[typeof name],\n  name: keyof TemporalIntrinsicRegistrations\n) {\n  Object.defineProperty(Class.prototype, Symbol.toStringTag, {\n    value: name,\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n  if (DEBUG) {\n    Object.defineProperty(Class.prototype, Symbol.for('nodejs.util.inspect.custom'), {\n      value: customUtilInspectFormatters[name] || defaultUtilInspectFormatter,\n      writable: false,\n      enumerable: false,\n      configurable: true\n    });\n  }\n  const staticNames = Object.getOwnPropertyNames(Class);\n  for (let i = 0; i < staticNames.length; i++) {\n    const prop = staticNames[i];\n    // we know that `prop` is present, so the descriptor is never undefined\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const desc = Object.getOwnPropertyDescriptor(Class, prop)!;\n    if (!desc.configurable || !desc.enumerable) continue;\n    desc.enumerable = false;\n    Object.defineProperty(Class, prop, desc);\n  }\n  const protoNames = Object.getOwnPropertyNames(Class.prototype);\n  for (let i = 0; i < protoNames.length; i++) {\n    const prop = protoNames[i];\n    // we know that `prop` is present, so the descriptor is never undefined\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const desc = Object.getOwnPropertyDescriptor(Class.prototype, prop)!;\n    if (!desc.configurable || !desc.enumerable) continue;\n    desc.enumerable = false;\n    Object.defineProperty(Class.prototype, prop, desc);\n  }\n\n  DefineIntrinsic(name, Class);\n  DefineIntrinsic(`${name}.prototype`, Class.prototype);\n}\n\ntype IntrinsicDefinitionKeys =\n  | keyof TemporalIntrinsicRegistrations\n  | keyof TemporalIntrinsicPrototypeRegistrations\n  | keyof OtherIntrinsics;\nexport function DefineIntrinsic<KeyT extends keyof TemporalIntrinsicRegistrations>(\n  name: KeyT,\n  value: TemporalIntrinsicRegistrations[KeyT]\n): void;\nexport function DefineIntrinsic<KeyT extends keyof TemporalIntrinsicPrototypeRegistrations>(\n  name: KeyT,\n  value: TemporalIntrinsicPrototypeRegistrations[KeyT]\n): void;\nexport function DefineIntrinsic<KeyT extends keyof OtherIntrinsics>(name: KeyT, value: OtherIntrinsics[KeyT]): void;\nexport function DefineIntrinsic<KeyT>(name: KeyT, value: never): void;\nexport function DefineIntrinsic<KeyT extends IntrinsicDefinitionKeys>(name: KeyT, value: unknown): void {\n  const key: `%${IntrinsicDefinitionKeys}%` = `%${name}%`;\n  if (INTRINSICS[key] !== undefined) throw new Error(`intrinsic ${name} already exists`);\n  INTRINSICS[key] = value;\n}\nexport function GetIntrinsic<KeyT extends keyof typeof INTRINSICS>(intrinsic: KeyT): (typeof INTRINSICS)[KeyT] {\n  return INTRINSICS[intrinsic];\n}\n", "import type JSBI from 'jsbi';\nimport type { Temporal } from '..';\n\n// Computes trunc(x / 10**p) and x % 10**p, returning { div, mod }, with\n// precision loss only once in the quotient, by string manipulation. If the\n// quotient and remainder are safe integers, then they are exact. x must be an\n// integer. p must be a non-negative integer. Both div and mod have the sign of\n// x.\nexport function TruncatingDivModByPowerOf10(xParam: number, p: number) {\n  let x = xParam;\n  if (x === 0) return { div: x, mod: x }; // preserves signed zero\n\n  const sign = Math.sign(x);\n  x = Math.abs(x);\n\n  const xDigits = Math.trunc(1 + Math.log10(x));\n  if (p >= xDigits) return { div: sign * 0, mod: sign * x };\n  if (p === 0) return { div: sign * x, mod: sign * 0 };\n\n  // would perform nearest rounding if x was not an integer:\n  const xStr = x.toPrecision(xDigits);\n  const div = sign * Number.parseInt(xStr.slice(0, xDigits - p), 10);\n  const mod = sign * Number.parseInt(xStr.slice(xDigits - p), 10);\n\n  return { div, mod };\n}\n\n// Computes x * 10**p + z with precision loss only at the end, by string\n// manipulation. If the result is a safe integer, then it is exact. x must be\n// an integer. p must be a non-negative integer. z must have the same sign as\n// x and be less than 10**p.\nexport function FMAPowerOf10(xParam: number, p: number, zParam: number) {\n  let x = xParam;\n  let z = zParam;\n  if (x === 0) return z;\n\n  const sign = Math.sign(x) || Math.sign(z);\n  x = Math.abs(x);\n  z = Math.abs(z);\n\n  const xStr = x.toPrecision(Math.trunc(1 + Math.log10(x)));\n\n  if (z === 0) return sign * Number.parseInt(xStr + '0'.repeat(p), 10);\n\n  const zStr = z.toPrecision(Math.trunc(1 + Math.log10(z)));\n\n  const resStr = xStr + zStr.padStart(p, '0');\n  return sign * Number.parseInt(resStr, 10);\n}\n\ntype UnsignedRoundingMode = 'half-even' | 'half-infinity' | 'half-zero' | 'infinity' | 'zero';\n\nexport function GetUnsignedRoundingMode(\n  mode: Temporal.RoundingMode,\n  sign: 'positive' | 'negative'\n): UnsignedRoundingMode {\n  const isNegative = sign === 'negative';\n  switch (mode) {\n    case 'ceil':\n      return isNegative ? 'zero' : 'infinity';\n    case 'floor':\n      return isNegative ? 'infinity' : 'zero';\n    case 'expand':\n      return 'infinity';\n    case 'trunc':\n      return 'zero';\n    case 'halfCeil':\n      return isNegative ? 'half-zero' : 'half-infinity';\n    case 'halfFloor':\n      return isNegative ? 'half-infinity' : 'half-zero';\n    case 'halfExpand':\n      return 'half-infinity';\n    case 'halfTrunc':\n      return 'half-zero';\n    case 'halfEven':\n      return 'half-even';\n  }\n}\n\n// Omits first step from spec algorithm so that it can be used both for\n// RoundNumberToIncrement and RoundTimeDurationToIncrement\nexport function ApplyUnsignedRoundingMode<T extends number | JSBI>(\n  r1: T,\n  r2: T,\n  cmp: -1 | 0 | 1,\n  evenCardinality: boolean,\n  unsignedRoundingMode: UnsignedRoundingMode\n) {\n  if (unsignedRoundingMode === 'zero') return r1;\n  if (unsignedRoundingMode === 'infinity') return r2;\n  if (cmp < 0) return r1;\n  if (cmp > 0) return r2;\n  if (unsignedRoundingMode === 'half-zero') return r1;\n  if (unsignedRoundingMode === 'half-infinity') return r2;\n  return evenCardinality ? r1 : r2;\n}\n", "import JSBI from 'jsbi';\n\nimport { assert } from './assert';\nimport {\n  abs,\n  BILLION,\n  compare,\n  DAY_NANOS_JSBI,\n  divmod,\n  ensureJSBI,\n  HOUR_NANOS,\n  isEven,\n  MILLION,\n  MINUTE_NANOS_JSBI,\n  ONE,\n  TEN,\n  THOUSAND,\n  TWO,\n  ZERO\n} from './bigintmath';\nimport { ApplyUnsignedRoundingMode, GetUnsignedRoundingMode } from './math';\nimport type { Temporal } from '..';\n\nexport class TimeDuration {\n  static MAX = JSBI.BigInt('9007199254740991999999999');\n  static ZERO = new TimeDuration(ZERO);\n\n  totalNs: JSBI;\n  sec: number;\n  subsec: number;\n\n  constructor(totalNs: bigint | JSBI) {\n    assert(typeof totalNs !== 'number', 'big integer required');\n    this.totalNs = ensureJSBI(totalNs);\n    assert(JSBI.lessThanOrEqual(abs(this.totalNs), TimeDuration.MAX), 'integer too big');\n\n    this.sec = JSBI.toNumber(JSBI.divide(this.totalNs, BILLION));\n    this.subsec = JSBI.toNumber(JSBI.remainder(this.totalNs, BILLION));\n    assert(Number.isSafeInteger(this.sec), 'seconds too big');\n    assert(Math.abs(this.subsec) <= 999_999_999, 'subseconds too big');\n  }\n\n  static validateNew(totalNs: JSBI, operation: string) {\n    if (JSBI.greaterThan(abs(totalNs), TimeDuration.MAX)) {\n      throw new RangeError(`${operation} of duration time units cannot exceed ${TimeDuration.MAX} s`);\n    }\n    return new TimeDuration(totalNs);\n  }\n\n  static fromEpochNsDiff(epochNs1: JSBI | bigint, epochNs2: JSBI | bigint) {\n    const diff = JSBI.subtract(ensureJSBI(epochNs1), ensureJSBI(epochNs2));\n    // No extra validate step. Should instead fail assertion if too big\n    return new TimeDuration(diff);\n  }\n\n  static fromComponents(h: number, min: number, s: number, ms: number, µs: number, ns: number) {\n    const totalNs = JSBI.add(\n      JSBI.add(\n        JSBI.add(\n          JSBI.add(\n            JSBI.add(JSBI.BigInt(ns), JSBI.multiply(JSBI.BigInt(µs), THOUSAND)),\n            JSBI.multiply(JSBI.BigInt(ms), MILLION)\n          ),\n          JSBI.multiply(JSBI.BigInt(s), BILLION)\n        ),\n        JSBI.multiply(JSBI.BigInt(min), MINUTE_NANOS_JSBI)\n      ),\n      JSBI.multiply(JSBI.BigInt(h), HOUR_NANOS)\n    );\n    return TimeDuration.validateNew(totalNs, 'total');\n  }\n\n  abs() {\n    return new TimeDuration(abs(this.totalNs));\n  }\n\n  add(other: TimeDuration) {\n    return TimeDuration.validateNew(JSBI.add(this.totalNs, other.totalNs), 'sum');\n  }\n\n  add24HourDays(days: number) {\n    assert(Number.isInteger(days), 'days must be an integer');\n    return TimeDuration.validateNew(JSBI.add(this.totalNs, JSBI.multiply(JSBI.BigInt(days), DAY_NANOS_JSBI)), 'sum');\n  }\n\n  addToEpochNs(epochNs: JSBI | bigint) {\n    return JSBI.add(ensureJSBI(epochNs), this.totalNs);\n  }\n\n  cmp(other: TimeDuration) {\n    return compare(this.totalNs, other.totalNs);\n  }\n\n  divmod(n: number) {\n    assert(n !== 0, 'division by zero');\n    const { quotient, remainder } = divmod(this.totalNs, JSBI.BigInt(n));\n    const q = JSBI.toNumber(quotient);\n    const r = new TimeDuration(remainder);\n    return { quotient: q, remainder: r };\n  }\n\n  fdiv(nParam: JSBI | bigint) {\n    const n = ensureJSBI(nParam);\n    assert(!JSBI.equal(n, ZERO), 'division by zero');\n    const nBigInt = JSBI.BigInt(n);\n    let { quotient, remainder } = divmod(this.totalNs, nBigInt);\n\n    // Perform long division to calculate the fractional part of the quotient\n    // remainder / n with more accuracy than 64-bit floating point division\n    const precision = 50;\n    const decimalDigits: number[] = [];\n    let digit;\n    const sign = (JSBI.lessThan(this.totalNs, ZERO) ? -1 : 1) * Math.sign(JSBI.toNumber(n));\n    while (!JSBI.equal(remainder, ZERO) && decimalDigits.length < precision) {\n      remainder = JSBI.multiply(remainder, TEN);\n      ({ quotient: digit, remainder } = divmod(remainder, nBigInt));\n      decimalDigits.push(Math.abs(JSBI.toNumber(digit)));\n    }\n    return sign * Number(abs(quotient).toString() + '.' + decimalDigits.join(''));\n  }\n\n  isZero() {\n    return JSBI.equal(this.totalNs, ZERO);\n  }\n\n  round(incrementParam: JSBI | bigint, mode: Temporal.RoundingMode) {\n    const increment = ensureJSBI(incrementParam);\n    if (JSBI.equal(increment, ONE)) return this;\n    const { quotient, remainder } = divmod(this.totalNs, increment);\n    const sign = JSBI.lessThan(this.totalNs, ZERO) ? 'negative' : 'positive';\n    const r1 = JSBI.multiply(abs(quotient), increment);\n    const r2 = JSBI.add(r1, increment);\n    const cmp = compare(abs(JSBI.multiply(remainder, TWO)), increment);\n    const unsignedRoundingMode = GetUnsignedRoundingMode(mode, sign);\n    const rounded = JSBI.equal(abs(this.totalNs), r1)\n      ? r1\n      : ApplyUnsignedRoundingMode(r1, r2, cmp, isEven(quotient), unsignedRoundingMode);\n    const result = sign === 'positive' ? rounded : JSBI.unaryMinus(rounded);\n    return TimeDuration.validateNew(result, 'rounding');\n  }\n\n  sign() {\n    return this.cmp(new TimeDuration(ZERO));\n  }\n\n  subtract(other: TimeDuration) {\n    return TimeDuration.validateNew(JSBI.subtract(this.totalNs, other.totalNs), 'difference');\n  }\n}\n", "const offsetIdentifierNoCapture = /(?:[+-](?:[01][0-9]|2[0-3])(?::?[0-5][0-9])?)/;\nconst tzComponent = /[A-Za-z._][A-Za-z._0-9+-]*/;\nexport const timeZoneID = new RegExp(\n  `(?:${offsetIdentifierNoCapture.source}|(?:${tzComponent.source})(?:\\\\/(?:${tzComponent.source}))*)`\n);\n\nconst yearpart = /(?:[+-]\\d{6}|\\d{4})/;\nconst monthpart = /(?:0[1-9]|1[0-2])/;\nconst daypart = /(?:0[1-9]|[12]\\d|3[01])/;\nconst datesplit = new RegExp(\n  `(${yearpart.source})(?:-(${monthpart.source})-(${daypart.source})|(${monthpart.source})(${daypart.source}))`\n);\nconst timesplit = /(\\d{2})(?::(\\d{2})(?::(\\d{2})(?:[.,](\\d{1,9}))?)?|(\\d{2})(?:(\\d{2})(?:[.,](\\d{1,9}))?)?)?/;\nexport const offsetWithParts = /([+-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\\d{1,9}))?)?)?/;\nexport const offset = /((?:[+-])(?:[01][0-9]|2[0-3])(?::?(?:[0-5][0-9])(?::?(?:[0-5][0-9])(?:[.,](?:\\d{1,9}))?)?)?)/;\nconst offsetpart = new RegExp(`([zZ])|${offset.source}?`);\nexport const offsetIdentifier = /([+-])([01][0-9]|2[0-3])(?::?([0-5][0-9])?)?/;\nexport const annotation = /\\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\\]/g;\n\nexport const zoneddatetime = new RegExp(\n  [\n    `^${datesplit.source}`,\n    `(?:(?:[tT]|\\\\s+)${timesplit.source}(?:${offsetpart.source})?)?`,\n    `(?:\\\\[!?(${timeZoneID.source})\\\\])?`,\n    `((?:${annotation.source})*)$`\n  ].join('')\n);\n\nexport const time = new RegExp(\n  [\n    `^[tT]?${timesplit.source}`,\n    `(?:${offsetpart.source})?`,\n    `(?:\\\\[!?${timeZoneID.source}\\\\])?`,\n    `((?:${annotation.source})*)$`\n  ].join('')\n);\n\n// The short forms of YearMonth and MonthDay are only for the ISO calendar, but\n// annotations are still allowed, and will throw if the calendar annotation is\n// not ISO.\n// Non-ISO calendar YearMonth and MonthDay have to parse as a Temporal.PlainDate,\n// with the reference fields.\n// YYYYMM forbidden by ISO 8601 because ambiguous with YYMMDD, but allowed by\n// RFC 3339 and we don't allow 2-digit years, so we allow it.\n// Not ambiguous with HHMMSS because that requires a 'T' prefix\n// UTC offsets are not allowed, because they are not allowed with any date-only\n// format; also, YYYY-MM-UU is ambiguous with YYYY-MM-DD\nexport const yearmonth = new RegExp(\n  `^(${yearpart.source})-?(${monthpart.source})(?:\\\\[!?${timeZoneID.source}\\\\])?((?:${annotation.source})*)$`\n);\nexport const monthday = new RegExp(\n  `^(?:--)?(${monthpart.source})-?(${daypart.source})(?:\\\\[!?${timeZoneID.source}\\\\])?((?:${annotation.source})*)$`\n);\n\nconst fraction = /(\\d+)(?:[.,](\\d{1,9}))?/;\n\nconst durationDate = /(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)W)?(?:(\\d+)D)?/;\nconst durationTime = new RegExp(`(?:${fraction.source}H)?(?:${fraction.source}M)?(?:${fraction.source}S)?`);\nexport const duration = new RegExp(`^([+-])?P${durationDate.source}(?:T(?!$)${durationTime.source})?$`, 'i');\n", "import { DEBUG, ENABLE_ASSERTS } from './debug';\nimport JSBI from 'jsbi';\n\nimport type { Temporal } from '..';\nimport { assert, assertNotReached } from './assert';\nimport { abs, compare, DAY_NANOS_JSBI, divmod, ensureJSBI, isEven, MILLION, ONE, TWO, ZERO } from './bigintmath';\nimport type { CalendarImpl } from './calendar';\nimport type {\n  AnyTemporalLikeType,\n  UnitSmallerThanOrEqualTo,\n  InstantParams,\n  PlainMonthDayParams,\n  ZonedDateTimeParams,\n  PlainDateParams,\n  PlainTimeParams,\n  DurationParams,\n  PlainDateTimeParams,\n  PlainYearMonthParams,\n  BuiltinCalendarId,\n  Keys,\n  AnyTemporalKey,\n  FieldKey,\n  InternalDuration,\n  ISODateTime,\n  ISODate,\n  TimeRecord,\n  ISODateToFieldsType,\n  DateDuration,\n  CalendarFieldsRecord,\n  MonthDayFromFieldsObject,\n  Overflow,\n  Resolve,\n  AnySlottedType\n} from './internaltypes';\nimport { GetIntrinsic } from './intrinsicclass';\nimport { ApplyUnsignedRoundingMode, FMAPowerOf10, GetUnsignedRoundingMode, TruncatingDivModByPowerOf10 } from './math';\nimport { TimeDuration } from './timeduration';\nimport {\n  CreateSlots,\n  GetSlot,\n  HasSlot,\n  SetSlot,\n  EPOCHNANOSECONDS,\n  ISO_DATE,\n  ISO_DATE_TIME,\n  TIME,\n  DATE_BRAND,\n  YEAR_MONTH_BRAND,\n  MONTH_DAY_BRAND,\n  TIME_ZONE,\n  CALENDAR,\n  YEARS,\n  MONTHS,\n  WEEKS,\n  DAYS,\n  HOURS,\n  MINUTES,\n  SECONDS,\n  MILLISECONDS,\n  MICROSECONDS,\n  NANOSECONDS\n} from './slots';\n\nconst DAY_MS = 86400_000;\nexport const DAY_NANOS = DAY_MS * 1e6;\nconst MINUTE_NANOS = 60e9;\n// Instant range is 100 million days (inclusive) before or after epoch.\nconst MS_MAX = DAY_MS * 1e8;\nconst NS_MAX = epochMsToNs(MS_MAX);\nconst NS_MIN = JSBI.unaryMinus(NS_MAX);\n// PlainDateTime range is 24 hours wider (exclusive) than the Instant range on\n// both ends, to allow for valid Instant=>PlainDateTime conversion for all\n// built-in time zones (whose offsets must have a magnitude less than 24 hours).\nconst DATETIME_NS_MIN = JSBI.add(JSBI.subtract(NS_MIN, DAY_NANOS_JSBI), ONE);\nconst DATETIME_NS_MAX = JSBI.subtract(JSBI.add(NS_MAX, DAY_NANOS_JSBI), ONE);\n// The pattern of leap years in the ISO 8601 calendar repeats every 400 years.\n// The constant below is the number of nanoseconds in 400 years. It is used to\n// avoid overflows when dealing with values at the edge legacy Date's range.\nconst MS_IN_400_YEAR_CYCLE = (400 * 365 + 97) * DAY_MS;\nconst YEAR_MIN = -271821;\nconst YEAR_MAX = 275760;\nconst BEFORE_FIRST_DST = Date.UTC(1847, 0, 1); // 1847-01-01T00:00:00Z\n\nconst BUILTIN_CALENDAR_IDS = [\n  'iso8601',\n  'hebrew',\n  'islamic',\n  'islamic-umalqura',\n  'islamic-tbla',\n  'islamic-civil',\n  'islamic-rgsa',\n  'islamicc',\n  'persian',\n  'ethiopic',\n  'ethioaa',\n  'ethiopic-amete-alem',\n  'coptic',\n  'chinese',\n  'dangi',\n  'roc',\n  'indian',\n  'buddhist',\n  'japanese',\n  'gregory'\n];\n\nconst ICU_LEGACY_TIME_ZONE_IDS = new Set([\n  'ACT',\n  'AET',\n  'AGT',\n  'ART',\n  'AST',\n  'BET',\n  'BST',\n  'CAT',\n  'CNT',\n  'CST',\n  'CTT',\n  'EAT',\n  'ECT',\n  'IET',\n  'IST',\n  'JST',\n  'MIT',\n  'NET',\n  'NST',\n  'PLT',\n  'PNT',\n  'PRT',\n  'PST',\n  'SST',\n  'VST'\n]);\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\n/**\n * uncheckedAssertNarrowedType forces TypeScript to change the type of the argument to the one given in\n * the type parameter. This should only be used to help TS understand when variables change types,\n * but TS can't or won't infer this automatically. They should be used sparingly, because\n * if used incorrectly can lead to difficult-to-diagnose problems.\n * */\nexport function uncheckedAssertNarrowedType<T = unknown>(\n  arg: unknown,\n  justification: string\n): asserts arg is T extends typeof arg ? T : never {}\n/* eslint-enable */\n\n/**\n * In debug builds, this function verifies that the given argument \"exists\" (is not\n * null or undefined). This function becomes a no-op in the final bundles distributed via NPM.\n * @param arg\n */\nexport function assertExists<A>(arg: A): asserts arg is NonNullable<A> {\n  if (ENABLE_ASSERTS) {\n    if (arg == null) {\n      throw new Error('Expected arg to be set.');\n    }\n  }\n}\n\n/** Similar to assertExists, but returns the argument. */\nfunction castExists<A>(arg: A): NonNullable<A> {\n  assertExists(arg);\n  return arg;\n}\n\n// For unknown values, this narrows the result to a Record. But for union types\n// like `Temporal.DurationLike | string`, it'll strip the primitive types while\n// leaving the object type(s) unchanged.\nexport function IsObject<T>(\n  value: T\n): value is Exclude<T, string | null | undefined | number | bigint | symbol | boolean>;\nexport function IsObject(value: unknown): value is Record<string | number | symbol, unknown> {\n  return (typeof value === 'object' && value !== null) || typeof value === 'function';\n}\n\nexport function ToNumber(value: unknown): number {\n  // ES 2022's es-abstract made minor changes to ToNumber, but polyfilling these\n  // changes adds zero benefit to Temporal and brings in a lot of extra code. So\n  // we'll leave ToNumber as-is.\n  // See https://github.com/ljharb/es-abstract/blob/main/2022/ToNumber.js\n  if (typeof value === 'bigint') throw new TypeError('Cannot convert BigInt to number');\n  return Number(value);\n}\n\nfunction IsIntegralNumber(argument: unknown) {\n  if (typeof argument !== 'number' || Number.isNaN(argument) || argument === Infinity || argument === -Infinity) {\n    return false;\n  }\n  const absValue = Math.abs(argument);\n  return Math.floor(absValue) === absValue;\n}\n\nexport function ToString(value: unknown): string {\n  if (typeof value === 'symbol') {\n    throw new TypeError('Cannot convert a Symbol value to a String');\n  }\n  return String(value);\n}\n\nexport function ToIntegerWithTruncation(value: unknown): number {\n  const number = ToNumber(value);\n  if (number === 0) return 0;\n  if (Number.isNaN(number) || number === Infinity || number === -Infinity) {\n    throw new RangeError('invalid number value');\n  }\n  const integer = Math.trunc(number);\n  if (integer === 0) return 0; // ℝ(value) in spec text; converts -0 to 0\n  return integer;\n}\n\nfunction ToPositiveIntegerWithTruncation(valueParam: unknown, property?: string): number {\n  const integer = ToIntegerWithTruncation(valueParam);\n  if (integer <= 0) {\n    if (property !== undefined) {\n      throw new RangeError(`property '${property}' cannot be a a number less than one`);\n    }\n    throw new RangeError('Cannot convert a number less than one to a positive integer');\n  }\n  return integer;\n}\n\nexport function ToIntegerIfIntegral(valueParam: unknown): number {\n  const number = ToNumber(valueParam);\n  if (Number.isNaN(number)) throw new RangeError('not a number');\n  if (number === Infinity || number === -Infinity) throw new RangeError('infinity is out of range');\n  if (!IsIntegralNumber(number)) throw new RangeError(`unsupported fractional value ${valueParam}`);\n  if (number === 0) return 0; // ℝ(value) in spec text; converts -0 to 0\n  return number;\n}\n\nfunction ToZeroPaddedDecimalString(n: number, minLength: number) {\n  if (DEBUG) {\n    if (!IsIntegralNumber(n) || n < 0) {\n      throw new RangeError('Assertion failed: `${n}` must be a non-negative integer');\n    }\n  }\n  const s = String(n);\n  return s.padStart(minLength, '0');\n}\n\n// This convenience function isn't in the spec, but is useful in the polyfill\n// for DRY and better error messages.\nexport function RequireString(value: unknown): string {\n  if (typeof value !== 'string') {\n    // Use String() to ensure that Symbols won't throw\n    throw new TypeError(`expected a string, not ${String(value)}`);\n  }\n  return value;\n}\n\nfunction ToSyntacticallyValidMonthCode(valueParam: unknown) {\n  const value = RequireString(ToPrimitive(valueParam, String));\n  if (\n    value.length < 3 ||\n    value.length > 4 ||\n    value[0] !== 'M' ||\n    '0123456789'.indexOf(value[1]) === -1 ||\n    '0123456789'.indexOf(value[2]) === -1 ||\n    (value[1] + value[2] === '00' && value[3] !== 'L') ||\n    (value[3] !== 'L' && value[3] !== undefined)\n  ) {\n    throw new RangeError(`bad month code ${value}; must match M01-M99 or M00L-M99L`);\n  }\n  return value;\n}\n\nfunction ToOffsetString(valueParam: unknown) {\n  const value = RequireString(ToPrimitive(valueParam, String));\n  ParseDateTimeUTCOffset(value);\n  return value;\n}\n\n// Limited implementation of ToPrimitive that only handles the string case,\n// because that's all that's used in this polyfill.\nfunction ToPrimitive(value: unknown, preferredType: typeof String): string | number {\n  assertExists(preferredType === String);\n  if (IsObject(value)) {\n    const result = value?.toString();\n    if (typeof result === 'string' || typeof result === 'number') return result;\n    throw new TypeError('Cannot convert object to primitive value');\n  }\n  return value;\n}\n\nconst CALENDAR_FIELD_KEYS: readonly FieldKey[] = [\n  'era',\n  'eraYear',\n  'year',\n  'month',\n  'monthCode',\n  'day',\n  'hour',\n  'minute',\n  'second',\n  'millisecond',\n  'microsecond',\n  'nanosecond',\n  'offset',\n  'timeZone'\n] as const;\n\ntype BuiltinCastFunction = (v: unknown) => string | number;\nconst BUILTIN_CASTS: Partial<Record<FieldKey, BuiltinCastFunction>> = {\n  era: ToString,\n  eraYear: ToIntegerWithTruncation,\n  year: ToIntegerWithTruncation,\n  month: ToPositiveIntegerWithTruncation,\n  monthCode: ToSyntacticallyValidMonthCode,\n  day: ToPositiveIntegerWithTruncation,\n  hour: ToIntegerWithTruncation,\n  minute: ToIntegerWithTruncation,\n  second: ToIntegerWithTruncation,\n  millisecond: ToIntegerWithTruncation,\n  microsecond: ToIntegerWithTruncation,\n  nanosecond: ToIntegerWithTruncation,\n  offset: ToOffsetString,\n  timeZone: ToTemporalTimeZoneIdentifier\n};\n\nconst BUILTIN_DEFAULTS: Partial<Record<FieldKey, number>> = {\n  hour: 0,\n  minute: 0,\n  second: 0,\n  millisecond: 0,\n  microsecond: 0,\n  nanosecond: 0\n};\n\n// each item is [plural, singular, category, (length in ns)]\nconst TEMPORAL_UNITS = [\n  ['years', 'year', 'date'],\n  ['months', 'month', 'date'],\n  ['weeks', 'week', 'date'],\n  ['days', 'day', 'date'],\n  ['hours', 'hour', 'time'],\n  ['minutes', 'minute', 'time'],\n  ['seconds', 'second', 'time'],\n  ['milliseconds', 'millisecond', 'time'],\n  ['microseconds', 'microsecond', 'time'],\n  ['nanoseconds', 'nanosecond', 'time']\n] as const;\nconst SINGULAR_FOR = Object.fromEntries(TEMPORAL_UNITS.map((e) => [e[0], e[1]] as const));\nconst PLURAL_FOR = Object.fromEntries(TEMPORAL_UNITS.map(([p, s]) => [s, p] as const));\nconst UNITS_DESCENDING = TEMPORAL_UNITS.map(([, s]) => s);\ntype TimeUnitOrDay = Temporal.TimeUnit | 'day';\nconst NS_PER_TIME_UNIT = {\n  day: DAY_NANOS,\n  hour: 3600e9,\n  minute: 60e9,\n  second: 1e9,\n  millisecond: 1e6,\n  microsecond: 1e3,\n  nanosecond: 1\n};\n\nconst DURATION_FIELDS = [\n  'days',\n  'hours',\n  'microseconds',\n  'milliseconds',\n  'minutes',\n  'months',\n  'nanoseconds',\n  'seconds',\n  'weeks',\n  'years'\n] as const;\n\nimport * as PARSE from './regex';\n\n// Save the original Intl.DateTimeFormat, it will likely be overwritten with the\n// one from this polyfill. Caching the formatter below may be reentrant, so we\n// need to use the original one\nconst OriginalIntlDateTimeFormat = Intl.DateTimeFormat;\nconst IntlDateTimeFormatEnUsCache = new Map<string, Intl.DateTimeFormat>();\n\nfunction getIntlDateTimeFormatEnUsForTimeZone(timeZoneIdentifier: string) {\n  const lowercaseIdentifier = ASCIILowercase(timeZoneIdentifier);\n  let instance = IntlDateTimeFormatEnUsCache.get(lowercaseIdentifier);\n  if (instance === undefined) {\n    instance = new OriginalIntlDateTimeFormat('en-us', {\n      timeZone: lowercaseIdentifier,\n      hour12: false,\n      era: 'short',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n    IntlDateTimeFormatEnUsCache.set(lowercaseIdentifier, instance);\n  }\n  return instance;\n}\n\nexport function ToObject<T>(value: T): T extends Record<string, unknown> ? T : Record<PropertyKey, unknown> {\n  if (typeof value === 'undefined' || value === null) {\n    throw new TypeError(`Expected object not ${value}`);\n  }\n  return Object(value);\n}\n\n// Adapted from https://github.com/ljharb/es-abstract/blob/main/2022/CopyDataProperties.js\n// but simplified (e.g. removed assertions) for this polyfill to reduce bundle size.\nexport function CopyDataProperties<K extends PropertyKey, T extends Record<K, unknown>>(\n  target: T,\n  source: T | undefined,\n  excludedKeys: K[],\n  excludedValues?: unknown[]\n) {\n  if (typeof source === 'undefined' || source === null) return;\n\n  const keys = Reflect.ownKeys(source) as (keyof T)[];\n  for (let index = 0; index < keys.length; index++) {\n    const nextKey = keys[index];\n    if (excludedKeys.some((e) => Object.is(e, nextKey))) continue;\n    if (Object.prototype.propertyIsEnumerable.call(source, nextKey)) {\n      const propValue = source[nextKey];\n      if (excludedValues && excludedValues.some((e) => Object.is(e, propValue))) continue;\n\n      target[nextKey] = propValue;\n    }\n  }\n}\n\nexport function IsTemporalInstant(item: unknown): item is Temporal.Instant {\n  return HasSlot(item, EPOCHNANOSECONDS) && !HasSlot(item, TIME_ZONE, CALENDAR);\n}\n\nexport function IsTemporalDuration(item: unknown): item is Temporal.Duration {\n  return HasSlot(item, YEARS, MONTHS, DAYS, HOURS, MINUTES, SECONDS, MILLISECONDS, MICROSECONDS, NANOSECONDS);\n}\nexport function IsTemporalDate(item: unknown): item is Temporal.PlainDate {\n  return HasSlot(item, DATE_BRAND);\n}\n\nexport function IsTemporalTime(item: unknown): item is Temporal.PlainTime {\n  return HasSlot(item, TIME);\n}\n\nexport function IsTemporalDateTime(item: unknown): item is Temporal.PlainDateTime {\n  return HasSlot(item, ISO_DATE_TIME);\n}\n\nexport function IsTemporalYearMonth(item: unknown): item is Temporal.PlainYearMonth {\n  return HasSlot(item, YEAR_MONTH_BRAND);\n}\nexport function IsTemporalMonthDay(item: unknown): item is Temporal.PlainMonthDay {\n  return HasSlot(item, MONTH_DAY_BRAND);\n}\nexport function IsTemporalZonedDateTime(item: unknown): item is Temporal.ZonedDateTime {\n  return HasSlot(item, EPOCHNANOSECONDS, TIME_ZONE, CALENDAR);\n}\n\nexport function CheckReceiver<T extends AnySlottedType>(\n  item: unknown,\n  test: (item: unknown) => item is T\n): asserts item is T {\n  if (!test(item)) throw new TypeError('invalid receiver: method called with the wrong type of this-object');\n}\n\nexport function RejectTemporalLikeObject(item: AnyTemporalLikeType) {\n  if (HasSlot(item, CALENDAR) || HasSlot(item, TIME_ZONE)) {\n    throw new TypeError('with() does not support a calendar or timeZone property');\n  }\n  if (IsTemporalTime(item)) {\n    throw new TypeError('with() does not accept Temporal.PlainTime, use withPlainTime() instead');\n  }\n  if ((item as { calendar: unknown }).calendar !== undefined) {\n    throw new TypeError('with() does not support a calendar property');\n  }\n  if ((item as { timeZone: unknown }).timeZone !== undefined) {\n    throw new TypeError('with() does not support a timeZone property');\n  }\n}\n\nfunction FormatCalendarAnnotation(id: BuiltinCalendarId, showCalendar: Temporal.ShowCalendarOption['calendarName']) {\n  if (showCalendar === 'never') return '';\n  if (showCalendar === 'auto' && id === 'iso8601') return '';\n  const flag = showCalendar === 'critical' ? '!' : '';\n  return `[${flag}u-ca=${id}]`;\n}\n\n// Not a separate abstract operation in the spec, because it only occurs in one\n// place: ParseISODateTime. In the code it's more convenient to split up\n// ParseISODateTime for the YYYY-MM, MM-DD, and THH:MM:SS parse goals, so it's\n// repeated four times.\nfunction processAnnotations(annotations: string) {\n  let calendar;\n  let calendarWasCritical = false;\n  // Avoid the user code minefield of matchAll.\n  let match;\n  PARSE.annotation.lastIndex = 0;\n  while ((match = PARSE.annotation.exec(annotations))) {\n    const { 1: critical, 2: key, 3: value } = match;\n    if (key === 'u-ca') {\n      if (calendar === undefined) {\n        calendar = value;\n        calendarWasCritical = critical === '!';\n      } else if (critical === '!' || calendarWasCritical) {\n        throw new RangeError(`Invalid annotations in ${annotations}: more than one u-ca present with critical flag`);\n      }\n    } else if (critical === '!') {\n      throw new RangeError(`Unrecognized annotation: !${key}=${value}`);\n    }\n  }\n  return calendar;\n}\n\nfunction ParseISODateTime(isoString: string) {\n  // ZDT is the superset of fields for every other Temporal type\n  const match = PARSE.zoneddatetime.exec(isoString);\n  if (!match) throw new RangeError(`invalid RFC 9557 string: ${isoString}`);\n  const calendar = processAnnotations(match[16]);\n  let yearString = match[1];\n  if (yearString === '-000000') throw new RangeError(`invalid RFC 9557 string: ${isoString}`);\n  const year = +yearString;\n  const month = +(match[2] ?? match[4] ?? 1);\n  const day = +(match[3] ?? match[5] ?? 1);\n  const hasTime = match[6] !== undefined;\n  const hour = +(match[6] ?? 0);\n  const minute = +(match[7] ?? match[10] ?? 0);\n  let second = +(match[8] ?? match[11] ?? 0);\n  if (second === 60) second = 59;\n  const fraction = (match[9] ?? match[12] ?? '') + '000000000';\n  const millisecond = +fraction.slice(0, 3);\n  const microsecond = +fraction.slice(3, 6);\n  const nanosecond = +fraction.slice(6, 9);\n  let offset;\n  let z = false;\n  if (match[13]) {\n    offset = undefined;\n    z = true;\n  } else if (match[14]) {\n    offset = match[14];\n  }\n  const tzAnnotation = match[15];\n  RejectDateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n  return {\n    year,\n    month,\n    day,\n    time: hasTime ? { hour, minute, second, millisecond, microsecond, nanosecond } : ('start-of-day' as const),\n    tzAnnotation,\n    offset,\n    z,\n    calendar\n  };\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalInstantString(isoString: string) {\n  const result = ParseISODateTime(isoString);\n  if (!result.z && !result.offset) throw new RangeError('Temporal.Instant requires a time zone offset');\n  return result;\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalZonedDateTimeString(isoString: string) {\n  const result = ParseISODateTime(isoString);\n  if (!result.tzAnnotation) throw new RangeError('Temporal.ZonedDateTime requires a time zone ID in brackets');\n  return result;\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalDateTimeString(isoString: string) {\n  return ParseISODateTime(isoString);\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalDateString(isoString: string) {\n  return ParseISODateTime(isoString);\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalTimeString(isoString: string) {\n  const match = PARSE.time.exec(isoString);\n  let hour, minute, second, millisecond, microsecond, nanosecond, calendar;\n  if (match) {\n    calendar = processAnnotations(match[10]);\n    hour = +(match[1] ?? 0);\n    minute = +(match[2] ?? match[5] ?? 0);\n    second = +(match[3] ?? match[6] ?? 0);\n    if (second === 60) second = 59;\n    const fraction = (match[4] ?? match[7] ?? '') + '000000000';\n    millisecond = +fraction.slice(0, 3);\n    microsecond = +fraction.slice(3, 6);\n    nanosecond = +fraction.slice(6, 9);\n    if (match[8]) throw new RangeError('Z designator not supported for PlainTime');\n  } else {\n    let time, z;\n    ({ time, z, calendar } = ParseISODateTime(isoString));\n    if (time === 'start-of-day') throw new RangeError(`time is missing in string: ${isoString}`);\n    if (z) throw new RangeError('Z designator not supported for PlainTime');\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = time);\n  }\n  RejectTime(hour, minute, second, millisecond, microsecond, nanosecond);\n  // if it's a date-time string, OK\n  if (/[tT ][0-9][0-9]/.test(isoString)) {\n    return { hour, minute, second, millisecond, microsecond, nanosecond, calendar };\n  }\n  try {\n    const { month, day } = ParseTemporalMonthDayString(isoString);\n    RejectISODate(1972, month, day);\n  } catch {\n    try {\n      const { year, month } = ParseTemporalYearMonthString(isoString);\n      RejectISODate(year, month, 1);\n    } catch {\n      return { hour, minute, second, millisecond, microsecond, nanosecond, calendar };\n    }\n  }\n  throw new RangeError(`invalid RFC 9557 time-only string ${isoString}; may need a T prefix`);\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalYearMonthString(isoString: string) {\n  const match = PARSE.yearmonth.exec(isoString);\n  let year, month, calendar, referenceISODay;\n  if (match) {\n    calendar = processAnnotations(match[3]);\n    let yearString = match[1];\n    if (yearString === '-000000') throw new RangeError(`invalid RFC 9557 string: ${isoString}`);\n    year = +yearString;\n    month = +match[2];\n    referenceISODay = 1;\n    if (calendar !== undefined && calendar !== 'iso8601') {\n      throw new RangeError('YYYY-MM format is only valid with iso8601 calendar');\n    }\n  } else {\n    let z;\n    ({ year, month, calendar, day: referenceISODay, z } = ParseISODateTime(isoString));\n    if (z) throw new RangeError('Z designator not supported for PlainYearMonth');\n  }\n  return { year, month, calendar, referenceISODay };\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalMonthDayString(isoString: string) {\n  const match = PARSE.monthday.exec(isoString);\n  let month, day, calendar, referenceISOYear;\n  if (match) {\n    calendar = processAnnotations(match[3]);\n    month = +match[1];\n    day = +match[2];\n    if (calendar !== undefined && calendar !== 'iso8601') {\n      throw new RangeError('MM-DD format is only valid with iso8601 calendar');\n    }\n  } else {\n    let z;\n    ({ month, day, calendar, year: referenceISOYear, z } = ParseISODateTime(isoString));\n    if (z) throw new RangeError('Z designator not supported for PlainMonthDay');\n  }\n  return { month, day, calendar, referenceISOYear };\n}\n\nconst TIMEZONE_IDENTIFIER = new RegExp(`^${PARSE.timeZoneID.source}$`, 'i');\nconst OFFSET_IDENTIFIER = new RegExp(`^${PARSE.offsetIdentifier.source}$`);\n\nfunction throwBadTimeZoneStringError(timeZoneString: string): never {\n  // Offset identifiers only support minute precision, but offsets in ISO\n  // strings support nanosecond precision. If the identifier is invalid but\n  // it's a valid ISO offset, then it has sub-minute precision. Show a clearer\n  // error message in that case.\n  const msg = OFFSET.test(timeZoneString) ? 'Seconds not allowed in offset time zone' : 'Invalid time zone';\n  throw new RangeError(`${msg}: ${timeZoneString}`);\n}\n\nexport function ParseTimeZoneIdentifier(\n  identifier: string\n): { tzName: string; offsetMinutes?: undefined } | { tzName?: undefined; offsetMinutes: number } {\n  if (!TIMEZONE_IDENTIFIER.test(identifier)) {\n    throwBadTimeZoneStringError(identifier);\n  }\n  if (OFFSET_IDENTIFIER.test(identifier)) {\n    const offsetNanoseconds = ParseDateTimeUTCOffset(identifier);\n    // The regex limits the input to minutes precision, so we know that the\n    // division below will result in an integer.\n    return { offsetMinutes: offsetNanoseconds / 60e9 };\n  }\n  return { tzName: identifier };\n}\n\n// This operation doesn't exist in the spec, but in the polyfill it's split from\n// ParseTemporalTimeZoneString so that parsing can be tested separately from the\n// logic of converting parsed values into a named or offset identifier.\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalTimeZoneStringRaw(timeZoneString: string): {\n  tzAnnotation: string;\n  offset: string | undefined;\n  z: boolean;\n} {\n  if (TIMEZONE_IDENTIFIER.test(timeZoneString)) {\n    return { tzAnnotation: timeZoneString, offset: undefined, z: false };\n  }\n  try {\n    // Try parsing ISO string instead\n    const { tzAnnotation, offset, z } = ParseISODateTime(timeZoneString);\n    if (z || tzAnnotation || offset) {\n      return { tzAnnotation, offset, z };\n    }\n  } catch {\n    // fall through\n  }\n  throwBadTimeZoneStringError(timeZoneString);\n}\n\nfunction ParseTemporalTimeZoneString(stringIdent: string): ReturnType<typeof ParseTimeZoneIdentifier> {\n  const { tzAnnotation, offset, z } = ParseTemporalTimeZoneStringRaw(stringIdent);\n  if (tzAnnotation) return ParseTimeZoneIdentifier(tzAnnotation);\n  if (z) return ParseTimeZoneIdentifier('UTC');\n  if (offset) return ParseTimeZoneIdentifier(offset);\n  /* c8 ignore next */ assertNotReached();\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalDurationStringRaw(isoString: string) {\n  const match = PARSE.duration.exec(isoString);\n  if (!match) throw new RangeError(`invalid duration: ${isoString}`);\n  if (match.every((part, i) => i < 2 || part === undefined)) {\n    throw new RangeError(`invalid duration: ${isoString}`);\n  }\n  const sign = match[1] === '-' ? -1 : 1;\n  const years = match[2] === undefined ? 0 : ToIntegerWithTruncation(match[2]) * sign;\n  const months = match[3] === undefined ? 0 : ToIntegerWithTruncation(match[3]) * sign;\n  const weeks = match[4] === undefined ? 0 : ToIntegerWithTruncation(match[4]) * sign;\n  const days = match[5] === undefined ? 0 : ToIntegerWithTruncation(match[5]) * sign;\n  const hours = match[6] === undefined ? 0 : ToIntegerWithTruncation(match[6]) * sign;\n  const fHours = match[7];\n  const minutesStr = match[8];\n  const fMinutes = match[9];\n  const secondsStr = match[10];\n  const fSeconds = match[11];\n  let minutes = 0;\n  let seconds = 0;\n  // fractional hours, minutes, or seconds, expressed in whole nanoseconds:\n  let excessNanoseconds = 0;\n\n  if (fHours !== undefined) {\n    if (minutesStr ?? fMinutes ?? secondsStr ?? fSeconds ?? false) {\n      throw new RangeError('only the smallest unit can be fractional');\n    }\n    excessNanoseconds = ToIntegerWithTruncation((fHours + '000000000').slice(0, 9)) * 3600 * sign;\n  } else {\n    minutes = minutesStr === undefined ? 0 : ToIntegerWithTruncation(minutesStr) * sign;\n    if (fMinutes !== undefined) {\n      if (secondsStr ?? fSeconds ?? false) {\n        throw new RangeError('only the smallest unit can be fractional');\n      }\n      excessNanoseconds = ToIntegerWithTruncation((fMinutes + '000000000').slice(0, 9)) * 60 * sign;\n    } else {\n      seconds = secondsStr === undefined ? 0 : ToIntegerWithTruncation(secondsStr) * sign;\n      if (fSeconds !== undefined) {\n        excessNanoseconds = ToIntegerWithTruncation((fSeconds + '000000000').slice(0, 9)) * sign;\n      }\n    }\n  }\n\n  const nanoseconds = excessNanoseconds % 1000;\n  const microseconds = Math.trunc(excessNanoseconds / 1000) % 1000;\n  const milliseconds = Math.trunc(excessNanoseconds / 1e6) % 1000;\n  seconds += Math.trunc(excessNanoseconds / 1e9) % 60;\n  minutes += Math.trunc(excessNanoseconds / 60e9);\n\n  RejectDuration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\nfunction ParseTemporalDurationString(isoString: string) {\n  const { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n    ParseTemporalDurationStringRaw(isoString);\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  return new TemporalDuration(\n    years,\n    months,\n    weeks,\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds\n  );\n}\n\nexport function RegulateISODate(yearParam: number, monthParam: number, dayParam: number, overflow: Overflow) {\n  let year = yearParam;\n  let month = monthParam;\n  let day = dayParam;\n  switch (overflow) {\n    case 'reject':\n      RejectISODate(year, month, day);\n      break;\n    case 'constrain':\n      ({ year, month, day } = ConstrainISODate(year, month, day));\n      break;\n  }\n  return { year, month, day };\n}\n\nexport function RegulateTime(\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number,\n  overflow: Overflow\n) {\n  let hour = hourParam;\n  let minute = minuteParam;\n  let second = secondParam;\n  let millisecond = millisecondParam;\n  let microsecond = microsecondParam;\n  let nanosecond = nanosecondParam;\n\n  switch (overflow) {\n    case 'reject':\n      RejectTime(hour, minute, second, millisecond, microsecond, nanosecond);\n      break;\n    case 'constrain':\n      hour = ConstrainToRange(hour, 0, 23);\n      minute = ConstrainToRange(minute, 0, 59);\n      second = ConstrainToRange(second, 0, 59);\n      millisecond = ConstrainToRange(millisecond, 0, 999);\n      microsecond = ConstrainToRange(microsecond, 0, 999);\n      nanosecond = ConstrainToRange(nanosecond, 0, 999);\n      break;\n  }\n  return { hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nexport function ToTemporalPartialDurationRecord(temporalDurationLike: Temporal.DurationLike | string) {\n  if (!IsObject(temporalDurationLike)) {\n    throw new TypeError('invalid duration-like');\n  }\n  const result: Record<(typeof DURATION_FIELDS)[number], number | undefined> = {\n    years: undefined,\n    months: undefined,\n    weeks: undefined,\n    days: undefined,\n    hours: undefined,\n    minutes: undefined,\n    seconds: undefined,\n    milliseconds: undefined,\n    microseconds: undefined,\n    nanoseconds: undefined\n  };\n  let any = false;\n  for (let index = 0; index < DURATION_FIELDS.length; index++) {\n    const property = DURATION_FIELDS[index];\n    const value = temporalDurationLike[property];\n    if (value !== undefined) {\n      any = true;\n      result[property] = ToIntegerIfIntegral(value);\n    }\n  }\n  if (!any) {\n    throw new TypeError('invalid duration-like');\n  }\n  return result;\n}\n\nexport function AdjustDateDurationRecord(\n  { years, months, weeks, days }: DateDuration,\n  newDays: number,\n  newWeeks?: number,\n  newMonths?: number\n) {\n  return {\n    years,\n    months: newMonths ?? months,\n    weeks: newWeeks ?? weeks,\n    days: newDays ?? days\n  };\n}\n\nexport function ZeroDateDuration() {\n  return { years: 0, months: 0, weeks: 0, days: 0 };\n}\n\nexport function CombineISODateAndTimeRecord(isoDate: ISODate, time: TimeRecord) {\n  return { isoDate, time };\n}\n\nexport function MidnightTimeRecord() {\n  return { deltaDays: 0, hour: 0, minute: 0, second: 0, millisecond: 0, microsecond: 0, nanosecond: 0 };\n}\n\nexport function NoonTimeRecord() {\n  return { deltaDays: 0, hour: 12, minute: 0, second: 0, millisecond: 0, microsecond: 0, nanosecond: 0 };\n}\n\nexport function GetTemporalOverflowOption(options: Temporal.AssignmentOptions) {\n  return GetOption(options, 'overflow', ['constrain', 'reject'], 'constrain');\n}\n\nexport function GetTemporalDisambiguationOption(options: Temporal.ToInstantOptions) {\n  return GetOption(options, 'disambiguation', ['compatible', 'earlier', 'later', 'reject'], 'compatible');\n}\n\nexport function GetRoundingModeOption(\n  options: { roundingMode?: Temporal.RoundingMode },\n  fallback: Temporal.RoundingMode\n) {\n  return GetOption(\n    options,\n    'roundingMode',\n    ['ceil', 'floor', 'expand', 'trunc', 'halfCeil', 'halfFloor', 'halfExpand', 'halfTrunc', 'halfEven'],\n    fallback\n  );\n}\n\nfunction NegateRoundingMode(roundingMode: Temporal.RoundingMode) {\n  switch (roundingMode) {\n    case 'ceil':\n      return 'floor';\n    case 'floor':\n      return 'ceil';\n    case 'halfCeil':\n      return 'halfFloor';\n    case 'halfFloor':\n      return 'halfCeil';\n    default:\n      return roundingMode;\n  }\n}\n\nexport function GetTemporalOffsetOption(\n  options: Temporal.OffsetDisambiguationOptions,\n  fallback: Required<Temporal.OffsetDisambiguationOptions>['offset']\n) {\n  return GetOption(options, 'offset', ['prefer', 'use', 'ignore', 'reject'], fallback);\n}\n\nexport function GetTemporalShowCalendarNameOption(options: Temporal.ShowCalendarOption) {\n  return GetOption(options, 'calendarName', ['auto', 'always', 'never', 'critical'], 'auto');\n}\n\nexport function GetTemporalShowTimeZoneNameOption(options: Temporal.ZonedDateTimeToStringOptions) {\n  return GetOption(options, 'timeZoneName', ['auto', 'never', 'critical'], 'auto');\n}\n\nexport function GetTemporalShowOffsetOption(options: Temporal.ZonedDateTimeToStringOptions) {\n  return GetOption(options, 'offset', ['auto', 'never'], 'auto');\n}\n\nexport function GetDirectionOption(options: { direction?: 'next' | 'previous' }) {\n  return GetOption(options, 'direction', ['next', 'previous'], REQUIRED);\n}\n\nexport function GetTemporalRoundingIncrementOption(options: { roundingIncrement?: number }) {\n  let increment = options.roundingIncrement;\n  if (increment === undefined) return 1;\n  const integerIncrement = ToIntegerWithTruncation(increment);\n  if (integerIncrement < 1 || integerIncrement > 1e9) {\n    throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${increment}`);\n  }\n  return integerIncrement;\n}\nexport function ValidateTemporalRoundingIncrement(increment: number, dividend: number, inclusive: boolean) {\n  const maximum = inclusive ? dividend : dividend - 1;\n  if (increment > maximum) {\n    throw new RangeError(`roundingIncrement must be at least 1 and less than ${maximum}, not ${increment}`);\n  }\n  if (dividend % increment !== 0) {\n    throw new RangeError(`Rounding increment must divide evenly into ${dividend}`);\n  }\n}\n\nexport function GetTemporalFractionalSecondDigitsOption(\n  normalizedOptions: Temporal.ToStringPrecisionOptions\n): Temporal.ToStringPrecisionOptions['fractionalSecondDigits'] {\n  const digitsValue = normalizedOptions.fractionalSecondDigits;\n  if (digitsValue === undefined) return 'auto';\n  if (typeof digitsValue !== 'number') {\n    if (ToString(digitsValue) !== 'auto') {\n      throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${digitsValue}`);\n    }\n    return 'auto';\n  }\n  const digitCount = Math.floor(digitsValue);\n  if (!Number.isFinite(digitCount) || digitCount < 0 || digitCount > 9) {\n    throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${digitsValue}`);\n  }\n  return digitCount as Exclude<Temporal.ToStringPrecisionOptions['fractionalSecondDigits'], 'auto'>;\n}\n\ninterface SecondsStringPrecisionRecord {\n  precision: Temporal.ToStringPrecisionOptions['fractionalSecondDigits'] | 'minute';\n  unit: UnitSmallerThanOrEqualTo<'minute'>;\n  increment: number;\n}\n\nexport function ToSecondsStringPrecisionRecord(\n  smallestUnit: Temporal.ToStringPrecisionOptions['smallestUnit'],\n  precision: Temporal.ToStringPrecisionOptions['fractionalSecondDigits']\n): SecondsStringPrecisionRecord {\n  switch (smallestUnit) {\n    case 'minute':\n      return { precision: 'minute', unit: 'minute', increment: 1 };\n    case 'second':\n      return { precision: 0, unit: 'second', increment: 1 };\n    case 'millisecond':\n      return { precision: 3, unit: 'millisecond', increment: 1 };\n    case 'microsecond':\n      return { precision: 6, unit: 'microsecond', increment: 1 };\n    case 'nanosecond':\n      return { precision: 9, unit: 'nanosecond', increment: 1 };\n    default: // fall through if option not given\n  }\n  switch (precision) {\n    case 'auto':\n      return { precision, unit: 'nanosecond', increment: 1 };\n    case 0:\n      return { precision, unit: 'second', increment: 1 };\n    case 1:\n    case 2:\n    case 3:\n      return { precision, unit: 'millisecond', increment: 10 ** (3 - precision) };\n    case 4:\n    case 5:\n    case 6:\n      return { precision, unit: 'microsecond', increment: 10 ** (6 - precision) };\n    case 7:\n    case 8:\n    case 9:\n      return { precision, unit: 'nanosecond', increment: 10 ** (9 - precision) };\n    default:\n      throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${precision}`);\n  }\n}\n\nexport const REQUIRED = Symbol('~required~');\n\ninterface TemporalUnitOptionsBag {\n  smallestUnit?: Temporal.PluralUnit<Temporal.DateTimeUnit> | Temporal.DateTimeUnit;\n  largestUnit?: Temporal.PluralUnit<Temporal.DateTimeUnit> | Temporal.DateTimeUnit | 'auto';\n  unit?: Temporal.PluralUnit<Temporal.DateTimeUnit> | Temporal.DateTimeUnit;\n}\ntype UnitTypeMapping = {\n  date: Temporal.DateUnit;\n  time: Temporal.TimeUnit;\n  datetime: Temporal.DateTimeUnit;\n};\n// This type specifies the allowed defaults for each unit key type.\ntype AllowedGetTemporalUnitDefaultValues = {\n  smallestUnit: undefined;\n  largestUnit: 'auto' | undefined;\n  unit: undefined;\n};\n\nexport function GetTemporalUnitValuedOption<\n  U extends keyof TemporalUnitOptionsBag,\n  T extends keyof UnitTypeMapping,\n  D extends typeof REQUIRED | UnitTypeMapping[T] | AllowedGetTemporalUnitDefaultValues[U],\n  R extends Exclude<D, typeof REQUIRED> | UnitTypeMapping[T]\n>(options: TemporalUnitOptionsBag, key: U, unitGroup: T, requiredOrDefault: D): R;\nexport function GetTemporalUnitValuedOption<\n  U extends keyof TemporalUnitOptionsBag,\n  T extends keyof UnitTypeMapping,\n  D extends typeof REQUIRED | UnitTypeMapping[T] | AllowedGetTemporalUnitDefaultValues[U],\n  E extends 'auto' | Temporal.DateTimeUnit,\n  R extends UnitTypeMapping[T] | Exclude<D, typeof REQUIRED> | E\n>(options: TemporalUnitOptionsBag, key: U, unitGroup: T, requiredOrDefault: D, extraValues: ReadonlyArray<E>): R;\n// This signature of the function is NOT used in type-checking, so restricting\n// the default value via generic binding like the other overloads isn't\n// necessary.\nexport function GetTemporalUnitValuedOption<\n  T extends keyof UnitTypeMapping,\n  D extends typeof REQUIRED | UnitTypeMapping[T] | 'auto' | undefined,\n  E extends 'auto' | Temporal.DateTimeUnit,\n  R extends UnitTypeMapping[T] | Exclude<D, typeof REQUIRED> | E\n>(\n  options: TemporalUnitOptionsBag,\n  key: keyof typeof options,\n  unitGroup: T,\n  requiredOrDefault: D,\n  extraValues: ReadonlyArray<E> | never[] = []\n): R {\n  let allowedSingular: Array<Temporal.DateTimeUnit | 'auto'> = [];\n  for (let index = 0; index < TEMPORAL_UNITS.length; index++) {\n    const unitInfo = TEMPORAL_UNITS[index];\n    const singular = unitInfo[1];\n    const category = unitInfo[2];\n    if (unitGroup === 'datetime' || unitGroup === category) {\n      allowedSingular.push(singular);\n    }\n  }\n  allowedSingular = allowedSingular.concat(extraValues);\n  let defaultVal: typeof REQUIRED | Temporal.DateTimeUnit | 'auto' | undefined = requiredOrDefault;\n  if (defaultVal === REQUIRED) {\n    defaultVal = undefined;\n  } else if (defaultVal !== undefined) {\n    allowedSingular.push(defaultVal);\n  }\n  let allowedValues: Array<Temporal.DateTimeUnit | Temporal.PluralUnit<Temporal.DateTimeUnit> | 'auto'> = [];\n  allowedValues = allowedValues.concat(allowedSingular);\n  for (let index = 0; index < allowedSingular.length; index++) {\n    const singular = allowedSingular[index];\n    const plural = PLURAL_FOR[singular];\n    if (plural !== undefined) allowedValues.push(plural);\n  }\n  let retval = GetOption(options, key, allowedValues, defaultVal);\n  if (retval === undefined && requiredOrDefault === REQUIRED) {\n    throw new RangeError(`${key} is required`);\n  }\n  // Coerce any plural units into their singular form\n  return (retval && retval in SINGULAR_FOR ? SINGULAR_FOR[retval] : retval) as R;\n}\n\nexport function GetTemporalRelativeToOption(options: {\n  relativeTo?:\n    | Temporal.ZonedDateTime\n    | Temporal.PlainDateTime\n    | Temporal.ZonedDateTimeLike\n    | Temporal.PlainDateTimeLike\n    | string\n    | undefined;\n}):\n  | { zonedRelativeTo?: Temporal.ZonedDateTime; plainRelativeTo?: never }\n  | { plainRelativeTo?: Temporal.PlainDate; zonedRelativeTo?: never } {\n  const relativeTo = options.relativeTo;\n  if (relativeTo === undefined) return {};\n\n  let offsetBehaviour: OffsetBehaviour = 'option';\n  let matchMinutes = false;\n  let isoDate, time, calendar, timeZone, offset;\n  if (IsObject(relativeTo)) {\n    if (IsTemporalZonedDateTime(relativeTo)) {\n      return { zonedRelativeTo: relativeTo };\n    }\n    if (IsTemporalDate(relativeTo)) return { plainRelativeTo: relativeTo };\n    if (IsTemporalDateTime(relativeTo)) {\n      return {\n        plainRelativeTo: CreateTemporalDate(GetSlot(relativeTo, ISO_DATE_TIME).isoDate, GetSlot(relativeTo, CALENDAR))\n      };\n    }\n    calendar = GetTemporalCalendarIdentifierWithISODefault(relativeTo);\n    const fields = PrepareCalendarFields(\n      calendar,\n      relativeTo,\n      ['year', 'month', 'monthCode', 'day'],\n      ['hour', 'minute', 'second', 'millisecond', 'microsecond', 'nanosecond', 'offset', 'timeZone'],\n      []\n    );\n    ({ isoDate, time } = InterpretTemporalDateTimeFields(calendar, fields, 'constrain'));\n    ({ offset, timeZone } = fields);\n    if (offset === undefined) offsetBehaviour = 'wall';\n  } else {\n    let tzAnnotation, z, year, month, day;\n    ({ year, month, day, time, calendar, tzAnnotation, offset, z } = ParseISODateTime(RequireString(relativeTo)));\n    if (tzAnnotation) {\n      timeZone = ToTemporalTimeZoneIdentifier(tzAnnotation);\n      if (z) {\n        offsetBehaviour = 'exact';\n      } else if (!offset) {\n        offsetBehaviour = 'wall';\n      }\n      matchMinutes = true;\n    } else if (z) {\n      throw new RangeError(\n        'Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone'\n      );\n    }\n    if (!calendar) calendar = 'iso8601';\n    calendar = CanonicalizeCalendar(calendar);\n    isoDate = { year, month, day };\n  }\n  if (timeZone === undefined) {\n    return { plainRelativeTo: CreateTemporalDate(isoDate, calendar) };\n  }\n  const offsetNs = offsetBehaviour === 'option' ? ParseDateTimeUTCOffset(castExists(offset)) : 0;\n  const epochNanoseconds = InterpretISODateTimeOffset(\n    isoDate,\n    time,\n    offsetBehaviour,\n    offsetNs,\n    timeZone,\n    'compatible',\n    'reject',\n    matchMinutes\n  );\n  return { zonedRelativeTo: CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar) };\n}\n\nexport function DefaultTemporalLargestUnit(duration: Temporal.Duration) {\n  if (GetSlot(duration, YEARS) !== 0) return 'year';\n  if (GetSlot(duration, MONTHS) !== 0) return 'month';\n  if (GetSlot(duration, WEEKS) !== 0) return 'week';\n  if (GetSlot(duration, DAYS) !== 0) return 'day';\n  if (GetSlot(duration, HOURS) !== 0) return 'hour';\n  if (GetSlot(duration, MINUTES) !== 0) return 'minute';\n  if (GetSlot(duration, SECONDS) !== 0) return 'second';\n  if (GetSlot(duration, MILLISECONDS) !== 0) return 'millisecond';\n  if (GetSlot(duration, MICROSECONDS) !== 0) return 'microsecond';\n  return 'nanosecond';\n}\n\nexport function LargerOfTwoTemporalUnits<T1 extends Temporal.DateTimeUnit, T2 extends Temporal.DateTimeUnit>(\n  unit1: T1,\n  unit2: T2\n) {\n  const i1 = UNITS_DESCENDING.indexOf(unit1);\n  const i2 = UNITS_DESCENDING.indexOf(unit2);\n  if (i1 > i2) {\n    return unit2;\n  }\n  return unit1;\n}\n\nexport function IsCalendarUnit(unit: Temporal.DateTimeUnit): unit is Exclude<Temporal.DateUnit, 'day'> {\n  return unit === 'year' || unit === 'month' || unit === 'week';\n}\n\nexport function TemporalUnitCategory(unit: Temporal.DateTimeUnit) {\n  if (IsCalendarUnit(unit) || unit === 'day') return 'date';\n  return 'time';\n}\n\nfunction calendarImplForID(calendar: BuiltinCalendarId) {\n  return GetIntrinsic('%calendarImpl%')(calendar);\n}\n\nexport function calendarImplForObj(\n  temporalObj:\n    | Temporal.PlainDate\n    | Temporal.PlainDateTime\n    | Temporal.PlainMonthDay\n    | Temporal.PlainYearMonth\n    | Temporal.ZonedDateTime\n) {\n  return GetIntrinsic('%calendarImpl%')(GetSlot(temporalObj, CALENDAR));\n}\n\ntype ISODateToFieldsReturn<Type extends ISODateToFieldsType> = Resolve<{\n  year: Type extends 'date' | 'year-month' ? number : never;\n  monthCode: string;\n  day: Type extends 'date' | 'month-day' ? number : never;\n}>;\n\nexport function ISODateToFields(calendar: BuiltinCalendarId, isoDate: ISODate): ISODateToFieldsReturn<'date'>;\nexport function ISODateToFields<T extends ISODateToFieldsType>(\n  calendar: BuiltinCalendarId,\n  isoDate: ISODate,\n  type: T\n): ISODateToFieldsReturn<T>;\nexport function ISODateToFields(calendar: BuiltinCalendarId, isoDate: ISODate, type = 'date') {\n  const fields = Object.create(null);\n  const calendarImpl = calendarImplForID(calendar);\n  const calendarDate = calendarImpl.isoToDate(isoDate, { year: true, monthCode: true, day: true });\n\n  fields.monthCode = calendarDate.monthCode;\n  if (type === 'month-day' || type === 'date') {\n    fields.day = calendarDate.day;\n  }\n  if (type === 'year-month' || type === 'date') {\n    fields.year = calendarDate.year;\n  }\n  return fields;\n}\n\ntype Prop<T, K> = T extends unknown ? (K extends keyof T ? T[K] : undefined) : 'ThisShouldNeverHappen';\n\ntype FieldObjectWithRequired<FieldKeys extends FieldKey> = Resolve<\n  // The resulting object type contains:\n  // - All keys in FieldKeys, which are required properties and their values\n  //   don't include undefined.\n  // - All the other keys in CalendarFieldsRecord that aren't in FieldKeys,\n  //   which are optional properties and their value types explicitly include\n  //   undefined.\n  {\n    -readonly [k in FieldKeys]: Exclude<Prop<CalendarFieldsRecord, k>, undefined>;\n  } & {\n    -readonly [k in Exclude<Keys<CalendarFieldsRecord>, FieldKeys>]?: Prop<CalendarFieldsRecord, k> | undefined;\n  }\n>;\n\ntype PrepareCalendarFieldsReturn<\n  FieldKeys extends FieldKey,\n  RequiredFieldsOpt extends ReadonlyArray<FieldKey> | 'partial'\n> = RequiredFieldsOpt extends 'partial' ? Partial<CalendarFieldsRecord> : FieldObjectWithRequired<FieldKeys>;\n\nexport function PrepareCalendarFields<\n  FieldKeys extends FieldKey,\n  RequiredFields extends ReadonlyArray<FieldKey> | 'partial'\n>(\n  calendar: BuiltinCalendarId,\n  bag: Partial<Record<FieldKeys, unknown>>,\n  calendarFieldNames: Array<FieldKeys>,\n  nonCalendarFieldNames: Array<FieldKeys>,\n  requiredFields: RequiredFields\n): PrepareCalendarFieldsReturn<FieldKeys, RequiredFields> {\n  const extraFieldNames = calendarImplForID(calendar).extraFields(calendarFieldNames) as FieldKeys[];\n  const fields = calendarFieldNames.concat(nonCalendarFieldNames, extraFieldNames);\n  const result: Partial<Record<AnyTemporalKey, unknown>> = Object.create(null);\n  let any = false;\n  fields.sort();\n  for (let index = 0; index < fields.length; index++) {\n    const property = fields[index];\n    const value = bag[property];\n    if (value !== undefined) {\n      any = true;\n      result[property] = castExists(BUILTIN_CASTS[property])(value);\n    } else if (requiredFields !== 'partial') {\n      if (requiredFields.includes(property)) {\n        throw new TypeError(`required property '${property}' missing or undefined`);\n      }\n      result[property] = BUILTIN_DEFAULTS[property];\n    }\n  }\n  if (requiredFields === 'partial' && !any) {\n    throw new TypeError('no supported properties found');\n  }\n  return result as unknown as PrepareCalendarFieldsReturn<FieldKeys, RequiredFields>;\n}\n\ntype FieldCompleteness = 'complete' | 'partial';\n\nexport function ToTemporalTimeRecord(bag: Partial<Record<keyof TimeRecord, string | number>>): TimeRecord;\nexport function ToTemporalTimeRecord(\n  bag: Partial<Record<keyof TimeRecord, string | number | undefined>>,\n  completeness: 'partial'\n): Partial<TimeRecord>;\nexport function ToTemporalTimeRecord(\n  bag: Partial<Record<keyof TimeRecord, string | number>>,\n  completeness: 'complete'\n): TimeRecord;\nexport function ToTemporalTimeRecord(\n  bag: Partial<Record<keyof TimeRecord, string | number | undefined>>,\n  completeness: FieldCompleteness = 'complete'\n): Partial<TimeRecord> {\n  // NOTE: Field order is sorted to make the sort in PrepareTemporalFields more efficient.\n  const fields: (keyof TimeRecord)[] = ['hour', 'microsecond', 'millisecond', 'minute', 'nanosecond', 'second'];\n  let any = false;\n  const result: Partial<TimeRecord> = Object.create(null);\n  for (let index = 0; index < fields.length; index++) {\n    const field = fields[index];\n    const value = bag[field];\n    if (value !== undefined) {\n      result[field] = ToIntegerWithTruncation(value);\n      any = true;\n    } else if (completeness === 'complete') {\n      result[field] = 0;\n    }\n  }\n  if (!any) throw new TypeError('invalid time-like');\n  return result;\n}\n\nexport function ToTemporalDate(\n  item: PlainDateParams['from'][0],\n  options?: PlainDateParams['from'][1]\n): Temporal.PlainDate {\n  if (IsObject(item)) {\n    if (IsTemporalDate(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalDate(GetSlot(item, ISO_DATE), GetSlot(item, CALENDAR));\n    }\n    if (IsTemporalZonedDateTime(item)) {\n      const isoDateTime = GetISODateTimeFor(GetSlot(item, TIME_ZONE), GetSlot(item, EPOCHNANOSECONDS));\n      GetTemporalOverflowOption(GetOptionsObject(options)); // validate and ignore\n      const isoDate = isoDateTime.isoDate;\n      return CreateTemporalDate(isoDate, GetSlot(item, CALENDAR));\n    }\n    if (IsTemporalDateTime(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options)); // validate and ignore\n      return CreateTemporalDate(GetSlot(item, ISO_DATE_TIME).isoDate, GetSlot(item, CALENDAR));\n    }\n    const calendar = GetTemporalCalendarIdentifierWithISODefault(item);\n    const fields = PrepareCalendarFields(calendar, item, ['year', 'month', 'monthCode', 'day'], [], []);\n    const overflow = GetTemporalOverflowOption(GetOptionsObject(options));\n    const isoDate = CalendarDateFromFields(calendar, fields, overflow);\n    return CreateTemporalDate(isoDate, calendar);\n  }\n  let { year, month, day, calendar, z } = ParseTemporalDateString(RequireString(item));\n  if (z) throw new RangeError('Z designator not supported for PlainDate');\n  if (!calendar) calendar = 'iso8601';\n  calendar = CanonicalizeCalendar(calendar);\n  uncheckedAssertNarrowedType<BuiltinCalendarId>(calendar, 'lowercased and canonicalized');\n  GetTemporalOverflowOption(GetOptionsObject(options)); // validate and ignore\n  return CreateTemporalDate({ year, month, day }, calendar);\n}\n\nexport function InterpretTemporalDateTimeFields(\n  calendar: BuiltinCalendarId,\n  fields: CalendarFieldsRecord & TimeRecord,\n  overflow: Overflow\n) {\n  const isoDate = CalendarDateFromFields(calendar, fields, overflow);\n  const time = RegulateTime(\n    fields.hour,\n    fields.minute,\n    fields.second,\n    fields.millisecond,\n    fields.microsecond,\n    fields.nanosecond,\n    overflow\n  );\n  return CombineISODateAndTimeRecord(isoDate, time);\n}\n\nexport function ToTemporalDateTime(item: PlainDateTimeParams['from'][0], options?: PlainDateTimeParams['from'][1]) {\n  let isoDate, time, calendar;\n\n  if (IsObject(item)) {\n    if (IsTemporalDateTime(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalDateTime(GetSlot(item, ISO_DATE_TIME), GetSlot(item, CALENDAR));\n    }\n    if (IsTemporalZonedDateTime(item)) {\n      const isoDateTime = GetISODateTimeFor(GetSlot(item, TIME_ZONE), GetSlot(item, EPOCHNANOSECONDS));\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalDateTime(isoDateTime, GetSlot(item, CALENDAR));\n    }\n    if (IsTemporalDate(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalDateTime(\n        CombineISODateAndTimeRecord(GetSlot(item, ISO_DATE), MidnightTimeRecord()),\n        GetSlot(item, CALENDAR)\n      );\n    }\n\n    calendar = GetTemporalCalendarIdentifierWithISODefault(item);\n    const fields = PrepareCalendarFields(\n      calendar,\n      item,\n      ['year', 'month', 'monthCode', 'day'],\n      ['hour', 'minute', 'second', 'millisecond', 'microsecond', 'nanosecond'],\n      []\n    );\n    const overflow = GetTemporalOverflowOption(GetOptionsObject(options));\n    ({ isoDate, time } = InterpretTemporalDateTimeFields(calendar, fields, overflow));\n  } else {\n    let z, year, month, day;\n    ({ year, month, day, time, calendar, z } = ParseTemporalDateTimeString(RequireString(item)));\n    if (z) throw new RangeError('Z designator not supported for PlainDateTime');\n    if (time === 'start-of-day') time = MidnightTimeRecord();\n    RejectDateTime(\n      year,\n      month,\n      day,\n      time.hour,\n      time.minute,\n      time.second,\n      time.millisecond,\n      time.microsecond,\n      time.nanosecond\n    );\n    if (!calendar) calendar = 'iso8601';\n    calendar = CanonicalizeCalendar(calendar);\n    GetTemporalOverflowOption(GetOptionsObject(options));\n    isoDate = { year, month, day };\n  }\n  const isoDateTime = CombineISODateAndTimeRecord(isoDate, time);\n  return CreateTemporalDateTime(isoDateTime, calendar);\n}\n\nexport function ToTemporalDuration(item: DurationParams['from'][0]) {\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  if (IsTemporalDuration(item)) {\n    return new TemporalDuration(\n      GetSlot(item, YEARS),\n      GetSlot(item, MONTHS),\n      GetSlot(item, WEEKS),\n      GetSlot(item, DAYS),\n      GetSlot(item, HOURS),\n      GetSlot(item, MINUTES),\n      GetSlot(item, SECONDS),\n      GetSlot(item, MILLISECONDS),\n      GetSlot(item, MICROSECONDS),\n      GetSlot(item, NANOSECONDS)\n    );\n  }\n  if (!IsObject(item)) {\n    return ParseTemporalDurationString(RequireString(item));\n  }\n  const result = {\n    years: 0,\n    months: 0,\n    weeks: 0,\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n    milliseconds: 0,\n    microseconds: 0,\n    nanoseconds: 0\n  };\n  let partial = ToTemporalPartialDurationRecord(item);\n  for (let index = 0; index < DURATION_FIELDS.length; index++) {\n    const property = DURATION_FIELDS[index];\n    const value = partial[property];\n    if (value !== undefined) {\n      result[property] = value;\n    }\n  }\n  return new TemporalDuration(\n    result.years,\n    result.months,\n    result.weeks,\n    result.days,\n    result.hours,\n    result.minutes,\n    result.seconds,\n    result.milliseconds,\n    result.microseconds,\n    result.nanoseconds\n  );\n}\n\nexport function ToTemporalInstant(itemParam: InstantParams['from'][0]) {\n  let item: string | number;\n  if (IsObject(itemParam)) {\n    if (IsTemporalInstant(itemParam) || IsTemporalZonedDateTime(itemParam)) {\n      return CreateTemporalInstant(GetSlot(itemParam, EPOCHNANOSECONDS));\n    }\n    item = ToPrimitive(itemParam, String);\n  } else {\n    item = itemParam;\n  }\n  const { year, month, day, time, offset, z } = ParseTemporalInstantString(RequireString(item));\n  const {\n    hour = 0,\n    minute = 0,\n    second = 0,\n    millisecond = 0,\n    microsecond = 0,\n    nanosecond = 0\n  } = time === 'start-of-day' ? {} : time;\n\n  // ParseTemporalInstantString ensures that either `z` is true or or `offset` is non-undefined\n  const offsetNanoseconds = z ? 0 : ParseDateTimeUTCOffset(castExists(offset));\n  const balanced = BalanceISODateTime(\n    year,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond - offsetNanoseconds\n  );\n  CheckISODaysRange(balanced.isoDate);\n  const epochNanoseconds = GetUTCEpochNanoseconds(balanced);\n  return CreateTemporalInstant(epochNanoseconds);\n}\n\nexport function ToTemporalMonthDay(item: PlainMonthDayParams['from'][0], options?: PlainMonthDayParams['from'][1]) {\n  if (IsObject(item)) {\n    if (IsTemporalMonthDay(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalMonthDay(GetSlot(item, ISO_DATE), GetSlot(item, CALENDAR));\n    }\n    let calendar;\n    if (HasSlot(item, CALENDAR)) {\n      calendar = GetSlot(item, CALENDAR);\n    } else {\n      calendar = item.calendar;\n      if (calendar === undefined) calendar = 'iso8601';\n      calendar = ToTemporalCalendarIdentifier(calendar);\n    }\n    const fields = PrepareCalendarFields(calendar, item, ['year', 'month', 'monthCode', 'day'], [], []);\n    const overflow = GetTemporalOverflowOption(GetOptionsObject(options));\n    const isoDate = CalendarMonthDayFromFields(calendar, fields, overflow);\n    return CreateTemporalMonthDay(isoDate, calendar);\n  }\n\n  let { month, day, referenceISOYear, calendar } = ParseTemporalMonthDayString(RequireString(item));\n  if (calendar === undefined) calendar = 'iso8601';\n  calendar = CanonicalizeCalendar(calendar);\n  uncheckedAssertNarrowedType<BuiltinCalendarId>(calendar, 'lowercased and canonicalized');\n\n  GetTemporalOverflowOption(GetOptionsObject(options));\n  if (calendar === 'iso8601') {\n    const isoCalendarReferenceYear = 1972; // First leap year after Unix epoch\n    return CreateTemporalMonthDay({ year: isoCalendarReferenceYear, month, day }, calendar);\n  }\n  assertExists(referenceISOYear);\n  let isoDate = { year: referenceISOYear, month, day };\n  RejectDateRange(isoDate);\n  const result = ISODateToFields(calendar, isoDate, 'month-day');\n  isoDate = CalendarMonthDayFromFields(calendar, result, 'constrain');\n  return CreateTemporalMonthDay(isoDate, calendar);\n}\n\nexport function ToTemporalTime(item: PlainTimeParams['from'][0], options?: PlainTimeParams['from'][1]) {\n  let time;\n  if (IsObject(item)) {\n    if (IsTemporalTime(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalTime(GetSlot(item, TIME));\n    }\n    if (IsTemporalDateTime(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalTime(GetSlot(item, ISO_DATE_TIME).time);\n    }\n    if (IsTemporalZonedDateTime(item)) {\n      const isoDateTime = GetISODateTimeFor(GetSlot(item, TIME_ZONE), GetSlot(item, EPOCHNANOSECONDS));\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalTime(isoDateTime.time);\n    }\n    const { hour, minute, second, millisecond, microsecond, nanosecond } = ToTemporalTimeRecord(item);\n    const overflow = GetTemporalOverflowOption(GetOptionsObject(options));\n    time = RegulateTime(hour, minute, second, millisecond, microsecond, nanosecond, overflow);\n  } else {\n    time = ParseTemporalTimeString(RequireString(item));\n    GetTemporalOverflowOption(GetOptionsObject(options));\n  }\n  return CreateTemporalTime(time);\n}\n\nexport function ToTimeRecordOrMidnight(item: PlainTimeParams['from'][0] | undefined) {\n  if (item === undefined) return MidnightTimeRecord();\n  return GetSlot(ToTemporalTime(item), TIME);\n}\n\nexport function ToTemporalYearMonth(\n  item: PlainYearMonthParams['from'][0],\n  options?: PlainYearMonthParams['from'][1]\n): Temporal.PlainYearMonth {\n  if (IsObject(item)) {\n    if (IsTemporalYearMonth(item)) {\n      GetTemporalOverflowOption(GetOptionsObject(options));\n      return CreateTemporalYearMonth(GetSlot(item, ISO_DATE), GetSlot(item, CALENDAR));\n    }\n    const calendar = GetTemporalCalendarIdentifierWithISODefault(item);\n    const fields = PrepareCalendarFields(calendar, item, ['year', 'month', 'monthCode'], [], []);\n    const overflow = GetTemporalOverflowOption(GetOptionsObject(options));\n    const isoDate = CalendarYearMonthFromFields(calendar, fields, overflow);\n    return CreateTemporalYearMonth(isoDate, calendar);\n  }\n\n  let { year, month, referenceISODay, calendar } = ParseTemporalYearMonthString(RequireString(item));\n  if (calendar === undefined) calendar = 'iso8601';\n  calendar = CanonicalizeCalendar(calendar);\n  uncheckedAssertNarrowedType<BuiltinCalendarId>(calendar, 'lowercased and canonicalized');\n\n  GetTemporalOverflowOption(GetOptionsObject(options));\n  let isoDate = { year, month, day: referenceISODay };\n  RejectYearMonthRange(isoDate);\n  const result = ISODateToFields(calendar, isoDate, 'year-month');\n  isoDate = CalendarYearMonthFromFields(calendar, result, 'constrain');\n  return CreateTemporalYearMonth(isoDate, calendar);\n}\n\ntype OffsetBehaviour = 'wall' | 'exact' | 'option';\n\nexport function InterpretISODateTimeOffset(\n  isoDate: ISODate,\n  time: 'start-of-day' | TimeRecord,\n  offsetBehaviour: OffsetBehaviour,\n  offsetNs: number,\n  timeZone: string,\n  disambiguation: NonNullable<Temporal.ToInstantOptions['disambiguation']>,\n  offsetOpt: Temporal.OffsetDisambiguationOptions['offset'],\n  matchMinute: boolean\n) {\n  // start-of-day signifies that we had a string such as YYYY-MM-DD[Zone]. It is\n  // grammatically not possible to specify a UTC offset in that string, so the\n  // behaviour collapses into ~WALL~, which is equivalent to offset: \"ignore\".\n  if (time === 'start-of-day') {\n    assert(offsetBehaviour === 'wall', 'offset cannot be provided in YYYY-MM-DD[Zone] string');\n    assert(offsetNs === 0, 'offset cannot be provided in YYYY-MM-DD[Zone] string');\n    return GetStartOfDay(timeZone, isoDate);\n  }\n\n  const dt = CombineISODateAndTimeRecord(isoDate, time);\n\n  if (offsetBehaviour === 'wall' || offsetOpt === 'ignore') {\n    // Simple case: ISO string without a TZ offset (or caller wants to ignore\n    // the offset), so just convert DateTime to Instant in the given time zone\n    return GetEpochNanosecondsFor(timeZone, dt, disambiguation);\n  }\n\n  // The caller wants the offset to always win ('use') OR the caller is OK\n  // with the offset winning ('prefer' or 'reject') as long as it's valid\n  // for this timezone and date/time.\n  if (offsetBehaviour === 'exact' || offsetOpt === 'use') {\n    // Calculate the instant for the input's date/time and offset\n    const balanced = BalanceISODateTime(\n      isoDate.year,\n      isoDate.month,\n      isoDate.day,\n      time.hour,\n      time.minute,\n      time.second,\n      time.millisecond,\n      time.microsecond,\n      time.nanosecond - offsetNs\n    );\n    CheckISODaysRange(balanced.isoDate);\n    const epochNs = GetUTCEpochNanoseconds(balanced);\n    ValidateEpochNanoseconds(epochNs);\n    return epochNs;\n  }\n\n  CheckISODaysRange(isoDate);\n  const utcEpochNs = GetUTCEpochNanoseconds(dt);\n\n  // \"prefer\" or \"reject\"\n  const possibleEpochNs = GetPossibleEpochNanoseconds(timeZone, dt);\n  for (let index = 0; index < possibleEpochNs.length; index++) {\n    const candidate = possibleEpochNs[index];\n    const candidateOffset = JSBI.toNumber(JSBI.subtract(utcEpochNs, candidate));\n    const roundedCandidateOffset = RoundNumberToIncrement(candidateOffset, 60e9, 'halfExpand');\n    if (candidateOffset === offsetNs || (matchMinute && roundedCandidateOffset === offsetNs)) {\n      return candidate;\n    }\n  }\n\n  // the user-provided offset doesn't match any instants for this time\n  // zone and date/time.\n  if (offsetOpt === 'reject') {\n    const offsetStr = FormatUTCOffsetNanoseconds(offsetNs);\n    const dtStr = ISODateTimeToString(dt, 'iso8601', 'auto');\n    throw new RangeError(`Offset ${offsetStr} is invalid for ${dtStr} in ${timeZone}`);\n  }\n  // fall through: offsetOpt === 'prefer', but the offset doesn't match\n  // so fall back to use the time zone instead.\n  return DisambiguatePossibleEpochNanoseconds(possibleEpochNs, timeZone, dt, disambiguation);\n}\n\nexport function ToTemporalZonedDateTime(\n  item: ZonedDateTimeParams['from'][0],\n  options?: ZonedDateTimeParams['from'][1]\n) {\n  let isoDate, time, timeZone, offset, calendar;\n  let matchMinute = false;\n  let offsetBehaviour: OffsetBehaviour = 'option';\n  let disambiguation, offsetOpt;\n  if (IsObject(item)) {\n    if (IsTemporalZonedDateTime(item)) {\n      const resolvedOptions = GetOptionsObject(options);\n      GetTemporalDisambiguationOption(resolvedOptions); // validate and ignore\n      GetTemporalOffsetOption(resolvedOptions, 'reject');\n      GetTemporalOverflowOption(resolvedOptions);\n      return CreateTemporalZonedDateTime(\n        GetSlot(item, EPOCHNANOSECONDS),\n        GetSlot(item, TIME_ZONE),\n        GetSlot(item, CALENDAR)\n      );\n    }\n    calendar = GetTemporalCalendarIdentifierWithISODefault(item);\n    const fields = PrepareCalendarFields(\n      calendar,\n      item,\n      ['year', 'month', 'monthCode', 'day'],\n      ['hour', 'minute', 'second', 'millisecond', 'microsecond', 'nanosecond', 'offset', 'timeZone'],\n      ['timeZone']\n    );\n    ({ offset, timeZone } = fields);\n    if (offset === undefined) {\n      offsetBehaviour = 'wall';\n    }\n    const resolvedOptions = GetOptionsObject(options);\n    disambiguation = GetTemporalDisambiguationOption(resolvedOptions);\n    offsetOpt = GetTemporalOffsetOption(resolvedOptions, 'reject');\n    const overflow = GetTemporalOverflowOption(resolvedOptions);\n    ({ isoDate, time } = InterpretTemporalDateTimeFields(calendar, fields, overflow));\n  } else {\n    let tzAnnotation, z, year, month, day;\n    ({ year, month, day, time, tzAnnotation, offset, z, calendar } = ParseTemporalZonedDateTimeString(\n      RequireString(item)\n    ));\n    timeZone = ToTemporalTimeZoneIdentifier(tzAnnotation);\n    if (z) {\n      offsetBehaviour = 'exact';\n    } else if (!offset) {\n      offsetBehaviour = 'wall';\n    }\n    if (!calendar) calendar = 'iso8601';\n    calendar = CanonicalizeCalendar(calendar);\n    matchMinute = true; // ISO strings may specify offset with less precision\n    const resolvedOptions = GetOptionsObject(options);\n    disambiguation = GetTemporalDisambiguationOption(resolvedOptions);\n    offsetOpt = GetTemporalOffsetOption(resolvedOptions, 'reject');\n    GetTemporalOverflowOption(resolvedOptions); // validate and ignore\n    isoDate = { year, month, day };\n  }\n  let offsetNs = 0;\n  if (offsetBehaviour === 'option') offsetNs = ParseDateTimeUTCOffset(castExists(offset));\n  const epochNanoseconds = InterpretISODateTimeOffset(\n    isoDate,\n    time,\n    offsetBehaviour,\n    offsetNs,\n    timeZone,\n    disambiguation,\n    offsetOpt,\n    matchMinute\n  );\n  return CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar);\n}\n\nexport function CreateTemporalDateSlots(result: Temporal.PlainDate, isoDate: ISODate, calendar: BuiltinCalendarId) {\n  RejectDateRange(isoDate);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_DATE, isoDate);\n  SetSlot(result, CALENDAR, calendar);\n  SetSlot(result, DATE_BRAND, true);\n\n  if (DEBUG) {\n    const repr = TemporalDateToString(result, 'auto');\n    Object.defineProperty(result, '_repr_', {\n      value: `Temporal.PlainDate <${repr}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalDate(isoDate: ISODate, calendar: BuiltinCalendarId) {\n  const TemporalPlainDate = GetIntrinsic('%Temporal.PlainDate%');\n  const result = Object.create(TemporalPlainDate.prototype);\n  CreateTemporalDateSlots(result, isoDate, calendar);\n  return result;\n}\n\nexport function CreateTemporalDateTimeSlots(\n  result: Temporal.PlainDateTime,\n  isoDateTime: ISODateTime,\n  calendar: BuiltinCalendarId\n) {\n  RejectDateTimeRange(isoDateTime);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_DATE_TIME, isoDateTime);\n  SetSlot(result, CALENDAR, calendar);\n\n  if (DEBUG) {\n    let repr = ISODateTimeToString(isoDateTime, calendar, 'auto');\n    Object.defineProperty(result, '_repr_', {\n      value: `Temporal.PlainDateTime <${repr}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalDateTime(isoDateTime: ISODateTime, calendar: BuiltinCalendarId) {\n  const TemporalPlainDateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n  const result = Object.create(TemporalPlainDateTime.prototype);\n  CreateTemporalDateTimeSlots(result, isoDateTime, calendar);\n  return result;\n}\n\nexport function CreateTemporalMonthDaySlots(\n  result: Temporal.PlainMonthDay,\n  isoDate: ISODate,\n  calendar: BuiltinCalendarId\n) {\n  RejectDateRange(isoDate);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_DATE, isoDate);\n  SetSlot(result, CALENDAR, calendar);\n  SetSlot(result, MONTH_DAY_BRAND, true);\n\n  if (DEBUG) {\n    const repr = TemporalMonthDayToString(result, 'auto');\n    Object.defineProperty(result, '_repr_', {\n      value: `Temporal.PlainMonthDay <${repr}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalMonthDay(isoDate: ISODate, calendar: BuiltinCalendarId) {\n  const TemporalPlainMonthDay = GetIntrinsic('%Temporal.PlainMonthDay%');\n  const result = Object.create(TemporalPlainMonthDay.prototype);\n  CreateTemporalMonthDaySlots(result, isoDate, calendar);\n  return result;\n}\n\nexport function CreateTemporalTimeSlots(result: Temporal.PlainTime, time: TimeRecord) {\n  CreateSlots(result);\n  SetSlot(result, TIME, time);\n\n  if (DEBUG) {\n    Object.defineProperty(result, '_repr_', {\n      value: `Temporal.PlainTime <${TimeRecordToString(time, 'auto')}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalTime(time: TimeRecord) {\n  const TemporalPlainTime = GetIntrinsic('%Temporal.PlainTime%');\n  const result = Object.create(TemporalPlainTime.prototype);\n  CreateTemporalTimeSlots(result, time);\n  return result;\n}\n\nexport function CreateTemporalYearMonthSlots(\n  result: Temporal.PlainYearMonth,\n  isoDate: ISODate,\n  calendar: BuiltinCalendarId\n) {\n  RejectYearMonthRange(isoDate);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_DATE, isoDate);\n  SetSlot(result, CALENDAR, calendar);\n  SetSlot(result, YEAR_MONTH_BRAND, true);\n\n  if (DEBUG) {\n    const repr = TemporalYearMonthToString(result, 'auto');\n    Object.defineProperty(result, '_repr_', {\n      value: `Temporal.PlainYearMonth <${repr}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalYearMonth(isoDate: ISODate, calendar: BuiltinCalendarId) {\n  const TemporalPlainYearMonth = GetIntrinsic('%Temporal.PlainYearMonth%');\n  const result = Object.create(TemporalPlainYearMonth.prototype);\n  CreateTemporalYearMonthSlots(result, isoDate, calendar);\n  return result;\n}\n\nexport function CreateTemporalInstantSlots(result: Temporal.Instant, epochNanoseconds: JSBI) {\n  ValidateEpochNanoseconds(epochNanoseconds);\n  CreateSlots(result);\n  SetSlot(result, EPOCHNANOSECONDS, epochNanoseconds);\n\n  if (DEBUG) {\n    const iso = GetISOPartsFromEpoch(epochNanoseconds);\n    const repr = ISODateTimeToString(iso, 'iso8601', 'auto', 'never') + 'Z';\n    Object.defineProperty(result, '_repr_', {\n      value: `${result[Symbol.toStringTag]} <${repr}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalInstant(epochNanoseconds: JSBI) {\n  const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n  const result: Temporal.Instant = Object.create(TemporalInstant.prototype);\n  CreateTemporalInstantSlots(result, epochNanoseconds);\n  return result;\n}\n\nexport function CreateTemporalZonedDateTimeSlots(\n  result: Temporal.ZonedDateTime,\n  epochNanoseconds: JSBI,\n  timeZone: string,\n  calendar: BuiltinCalendarId\n) {\n  ValidateEpochNanoseconds(epochNanoseconds);\n\n  CreateSlots(result);\n  SetSlot(result, EPOCHNANOSECONDS, epochNanoseconds);\n  SetSlot(result, TIME_ZONE, timeZone);\n  SetSlot(result, CALENDAR, calendar);\n\n  if (DEBUG) {\n    const repr = TemporalZonedDateTimeToString(result, 'auto');\n    Object.defineProperty(result, '_repr_', {\n      value: `Temporal.ZonedDateTime <${repr}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalZonedDateTime(\n  epochNanoseconds: JSBI,\n  timeZone: string,\n  calendar: BuiltinCalendarId = 'iso8601'\n) {\n  const TemporalZonedDateTime = GetIntrinsic('%Temporal.ZonedDateTime%');\n  const result: Temporal.ZonedDateTime = Object.create(TemporalZonedDateTime.prototype);\n  CreateTemporalZonedDateTimeSlots(result, epochNanoseconds, timeZone, calendar);\n  return result;\n}\n\nfunction CalendarFieldKeysPresent(fields: Record<FieldKey, unknown>) {\n  return CALENDAR_FIELD_KEYS.filter((key) => fields[key] !== undefined);\n}\n\nexport function CalendarMergeFields<Base extends Record<string, unknown>, ToAdd extends Record<string, unknown>>(\n  calendar: BuiltinCalendarId,\n  fields: Base,\n  additionalFields: ToAdd\n) {\n  const additionalKeys = CalendarFieldKeysPresent(additionalFields);\n  const overriddenKeys = calendarImplForID(calendar).fieldKeysToIgnore(additionalKeys);\n  const merged = Object.create(null);\n  const fieldsKeys = CalendarFieldKeysPresent(fields);\n  for (let ix = 0; ix < CALENDAR_FIELD_KEYS.length; ix++) {\n    let propValue = undefined;\n    const key = CALENDAR_FIELD_KEYS[ix];\n    if (fieldsKeys.includes(key) && !overriddenKeys.includes(key)) {\n      propValue = fields[key];\n    }\n    if (additionalKeys.includes(key)) {\n      propValue = additionalFields[key];\n    }\n    if (propValue !== undefined) merged[key] = propValue;\n  }\n  return merged as Base & ToAdd;\n}\n\nexport function CalendarDateAdd(\n  calendar: BuiltinCalendarId,\n  isoDate: ISODate,\n  dateDuration: Partial<DateDuration>,\n  overflow: Overflow\n) {\n  const result = calendarImplForID(calendar).dateAdd(isoDate, dateDuration, overflow);\n  RejectDateRange(result);\n  return result;\n}\n\nfunction CalendarDateUntil(\n  calendar: BuiltinCalendarId,\n  isoDate: ISODate,\n  isoOtherDate: ISODate,\n  largestUnit: Temporal.DateUnit\n) {\n  return calendarImplForID(calendar).dateUntil(isoDate, isoOtherDate, largestUnit);\n}\n\nexport function ToTemporalCalendarIdentifier(calendarLike: Temporal.CalendarLike): BuiltinCalendarId {\n  if (IsObject(calendarLike)) {\n    if (HasSlot(calendarLike, CALENDAR)) return GetSlot(calendarLike, CALENDAR);\n  }\n  const identifier = RequireString(calendarLike);\n  try {\n    // Fast path: identifier is a calendar type, no ISO string parsing needed\n    return CanonicalizeCalendar(identifier);\n  } catch {\n    // fall through\n  }\n  let calendar;\n  try {\n    ({ calendar } = ParseISODateTime(identifier));\n  } catch {\n    try {\n      ({ calendar } = ParseTemporalTimeString(identifier));\n    } catch {\n      try {\n        ({ calendar } = ParseTemporalYearMonthString(identifier));\n      } catch {\n        ({ calendar } = ParseTemporalMonthDayString(identifier));\n      }\n    }\n  }\n  if (!calendar) calendar = 'iso8601';\n  return CanonicalizeCalendar(calendar);\n}\n\nfunction GetTemporalCalendarIdentifierWithISODefault(item: { calendar?: Temporal.CalendarLike }) {\n  if (HasSlot(item, CALENDAR)) return GetSlot(item, CALENDAR);\n  const { calendar } = item;\n  if (calendar === undefined) return 'iso8601';\n  return ToTemporalCalendarIdentifier(calendar);\n}\n\nexport function CalendarEquals(one: BuiltinCalendarId, two: BuiltinCalendarId) {\n  return CanonicalizeCalendar(one) === CanonicalizeCalendar(two);\n}\n\nexport function CalendarDateFromFields(calendar: BuiltinCalendarId, fields: CalendarFieldsRecord, overflow: Overflow) {\n  const calendarImpl: CalendarImpl = calendarImplForID(calendar);\n  calendarImpl.resolveFields(fields, 'date');\n  const result = calendarImpl.dateToISO(fields, overflow);\n  RejectDateRange(result);\n  return result;\n}\n\nexport function CalendarYearMonthFromFields(\n  calendar: BuiltinCalendarId,\n  fields: CalendarFieldsRecord,\n  overflow: Overflow\n) {\n  const calendarImpl: CalendarImpl = calendarImplForID(calendar);\n  calendarImpl.resolveFields(fields, 'year-month');\n  fields.day = 1;\n  const result = calendarImpl.dateToISO(fields, overflow);\n  RejectYearMonthRange(result);\n  return result;\n}\n\nexport function CalendarMonthDayFromFields(\n  calendar: BuiltinCalendarId,\n  fields: MonthDayFromFieldsObject,\n  overflow: Overflow\n) {\n  const calendarImpl: CalendarImpl = calendarImplForID(calendar);\n  calendarImpl.resolveFields(fields, 'month-day');\n  const result = calendarImpl.monthDayToISOReferenceDate(fields, overflow);\n  RejectDateRange(result);\n  return result;\n}\n\nexport function ToTemporalTimeZoneIdentifier(temporalTimeZoneLike: unknown): string {\n  if (IsObject(temporalTimeZoneLike)) {\n    if (IsTemporalZonedDateTime(temporalTimeZoneLike)) return GetSlot(temporalTimeZoneLike, TIME_ZONE);\n  }\n  const timeZoneString = RequireString(temporalTimeZoneLike);\n  if (timeZoneString === 'UTC') return 'UTC'; // UTC fast path\n\n  const { tzName, offsetMinutes } = ParseTemporalTimeZoneString(timeZoneString);\n  if (offsetMinutes !== undefined) {\n    return FormatOffsetTimeZoneIdentifier(offsetMinutes);\n  }\n  // if offsetMinutes is undefined, then tzName must be present\n  const record = GetAvailableNamedTimeZoneIdentifier(castExists(tzName));\n  if (!record) throw new RangeError(`Unrecognized time zone ${tzName}`);\n  return record.identifier;\n}\n\nexport function TimeZoneEquals(one: string, two: string) {\n  if (one === two) return true;\n  const offsetMinutes1 = ParseTimeZoneIdentifier(one).offsetMinutes;\n  const offsetMinutes2 = ParseTimeZoneIdentifier(two).offsetMinutes;\n  if (offsetMinutes1 === undefined && offsetMinutes2 === undefined) {\n    // Calling GetAvailableNamedTimeZoneIdentifier is costly, so (unlike the\n    // spec) the polyfill will early-return if one of them isn't recognized. Try\n    // the second ID first because it's more likely to be unknown, because it\n    // can come from the argument of TimeZone.p.equals as opposed to the first\n    // ID which comes from the receiver.\n    const idRecord2 = GetAvailableNamedTimeZoneIdentifier(two);\n    if (!idRecord2) return false;\n    const idRecord1 = GetAvailableNamedTimeZoneIdentifier(one);\n    if (!idRecord1) return false;\n    return idRecord1.primaryIdentifier === idRecord2.primaryIdentifier;\n  } else {\n    return offsetMinutes1 === offsetMinutes2;\n  }\n}\n\nexport function GetOffsetNanosecondsFor(timeZone: string, epochNs: JSBI) {\n  const offsetMinutes = ParseTimeZoneIdentifier(timeZone).offsetMinutes;\n  if (offsetMinutes !== undefined) return offsetMinutes * 60e9;\n\n  return GetNamedTimeZoneOffsetNanoseconds(timeZone, epochNs);\n}\n\nexport function FormatUTCOffsetNanoseconds(offsetNs: number): string {\n  const sign = offsetNs < 0 ? '-' : '+';\n  const absoluteNs = Math.abs(offsetNs);\n  const hour = Math.floor(absoluteNs / 3600e9);\n  const minute = Math.floor(absoluteNs / 60e9) % 60;\n  const second = Math.floor(absoluteNs / 1e9) % 60;\n  const subSecondNs = absoluteNs % 1e9;\n  const precision = second === 0 && subSecondNs === 0 ? 'minute' : 'auto';\n  const timeString = FormatTimeString(hour, minute, second, subSecondNs, precision);\n  return `${sign}${timeString}`;\n}\n\nexport function GetISODateTimeFor(timeZone: string, epochNs: JSBI) {\n  const offsetNs = GetOffsetNanosecondsFor(timeZone, epochNs);\n  let {\n    isoDate: { year, month, day },\n    time: { hour, minute, second, millisecond, microsecond, nanosecond }\n  } = GetISOPartsFromEpoch(epochNs);\n  return BalanceISODateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond + offsetNs);\n}\n\nexport function GetEpochNanosecondsFor(\n  timeZone: string,\n  isoDateTime: ISODateTime,\n  disambiguation: NonNullable<Temporal.ToInstantOptions['disambiguation']>\n) {\n  const possibleEpochNs = GetPossibleEpochNanoseconds(timeZone, isoDateTime);\n  return DisambiguatePossibleEpochNanoseconds(possibleEpochNs, timeZone, isoDateTime, disambiguation);\n}\n\n// TODO: See if this logic can be removed in favour of GetNamedTimeZoneEpochNanoseconds\nfunction DisambiguatePossibleEpochNanoseconds(\n  possibleEpochNs: JSBI[],\n  timeZone: string,\n  isoDateTime: ISODateTime,\n  disambiguation: NonNullable<Temporal.ToInstantOptions['disambiguation']>\n) {\n  const numInstants = possibleEpochNs.length;\n\n  if (numInstants === 1) return possibleEpochNs[0];\n  if (numInstants) {\n    switch (disambiguation) {\n      case 'compatible':\n      // fall through because 'compatible' means 'earlier' for \"fall back\" transitions\n      case 'earlier':\n        return possibleEpochNs[0];\n      case 'later':\n        return possibleEpochNs[numInstants - 1];\n      case 'reject': {\n        throw new RangeError('multiple instants found');\n      }\n    }\n  }\n\n  if (disambiguation === 'reject') throw new RangeError('multiple instants found');\n  const utcns = GetUTCEpochNanoseconds(isoDateTime);\n\n  const dayBefore = JSBI.subtract(utcns, DAY_NANOS_JSBI);\n  ValidateEpochNanoseconds(dayBefore);\n  const offsetBefore = GetOffsetNanosecondsFor(timeZone, dayBefore);\n  const dayAfter = JSBI.add(utcns, DAY_NANOS_JSBI);\n  ValidateEpochNanoseconds(dayAfter);\n  const offsetAfter = GetOffsetNanosecondsFor(timeZone, dayAfter);\n  const nanoseconds = offsetAfter - offsetBefore;\n  assert(Math.abs(nanoseconds) <= DAY_NANOS, 'UTC offset shift longer than 24 hours');\n\n  switch (disambiguation) {\n    case 'earlier': {\n      const timeDuration = TimeDuration.fromComponents(0, 0, 0, 0, 0, -nanoseconds);\n      const earlierTime = AddTime(isoDateTime.time, timeDuration);\n      const earlierDate = BalanceISODate(\n        isoDateTime.isoDate.year,\n        isoDateTime.isoDate.month,\n        isoDateTime.isoDate.day + earlierTime.deltaDays\n      );\n      const earlier = CombineISODateAndTimeRecord(earlierDate, earlierTime);\n      return GetPossibleEpochNanoseconds(timeZone, earlier)[0];\n    }\n    case 'compatible':\n    // fall through because 'compatible' means 'later' for \"spring forward\" transitions\n    case 'later': {\n      const timeDuration = TimeDuration.fromComponents(0, 0, 0, 0, 0, nanoseconds);\n      const laterTime = AddTime(isoDateTime.time, timeDuration);\n      const laterDate = BalanceISODate(\n        isoDateTime.isoDate.year,\n        isoDateTime.isoDate.month,\n        isoDateTime.isoDate.day + laterTime.deltaDays\n      );\n      const later = CombineISODateAndTimeRecord(laterDate, laterTime);\n      const possible = GetPossibleEpochNanoseconds(timeZone, later);\n      return possible[possible.length - 1];\n    }\n  }\n}\n\nfunction GetPossibleEpochNanoseconds(timeZone: string, isoDateTime: ISODateTime) {\n  // UTC fast path\n  if (timeZone === 'UTC') {\n    CheckISODaysRange(isoDateTime.isoDate);\n    return [GetUTCEpochNanoseconds(isoDateTime)];\n  }\n\n  const offsetMinutes = ParseTimeZoneIdentifier(timeZone).offsetMinutes;\n  if (offsetMinutes !== undefined) {\n    const balanced = BalanceISODateTime(\n      isoDateTime.isoDate.year,\n      isoDateTime.isoDate.month,\n      isoDateTime.isoDate.day,\n      isoDateTime.time.hour,\n      isoDateTime.time.minute - offsetMinutes,\n      isoDateTime.time.second,\n      isoDateTime.time.millisecond,\n      isoDateTime.time.microsecond,\n      isoDateTime.time.nanosecond\n    );\n    CheckISODaysRange(balanced.isoDate);\n    const epochNs = GetUTCEpochNanoseconds(balanced);\n    ValidateEpochNanoseconds(epochNs);\n    return [epochNs];\n  }\n\n  CheckISODaysRange(isoDateTime.isoDate);\n  return GetNamedTimeZoneEpochNanoseconds(timeZone, isoDateTime);\n}\n\nexport function GetStartOfDay(timeZone: string, isoDate: ISODate) {\n  const isoDateTime = CombineISODateAndTimeRecord(isoDate, MidnightTimeRecord());\n  const possibleEpochNs = GetPossibleEpochNanoseconds(timeZone, isoDateTime);\n  // If not a DST gap, return the single or earlier epochNs\n  if (possibleEpochNs.length) return possibleEpochNs[0];\n\n  // Otherwise, 00:00:00 lies within a DST gap. Compute an epochNs that's\n  // guaranteed to be before the transition\n  assert(!IsOffsetTimeZoneIdentifier(timeZone), 'should only be reached with named time zone');\n\n  const utcns = GetUTCEpochNanoseconds(isoDateTime);\n  const dayBefore = JSBI.subtract(utcns, DAY_NANOS_JSBI);\n  ValidateEpochNanoseconds(dayBefore);\n  return castExists(GetNamedTimeZoneNextTransition(timeZone, dayBefore));\n}\n\nexport function ISOYearString(year: number) {\n  let yearString;\n  if (year < 0 || year > 9999) {\n    const sign = year < 0 ? '-' : '+';\n    const yearNumber = Math.abs(year);\n    yearString = sign + ToZeroPaddedDecimalString(yearNumber, 6);\n  } else {\n    yearString = ToZeroPaddedDecimalString(year, 4);\n  }\n  return yearString;\n}\n\nexport function ISODateTimePartString(part: number) {\n  return ToZeroPaddedDecimalString(part, 2);\n}\n\nfunction FormatFractionalSeconds(\n  subSecondNanoseconds: number,\n  precision: Exclude<SecondsStringPrecisionRecord['precision'], 'minute'>\n): string {\n  let fraction;\n  if (precision === 'auto') {\n    if (subSecondNanoseconds === 0) return '';\n    const fractionFullPrecision = ToZeroPaddedDecimalString(subSecondNanoseconds, 9);\n    // now remove any trailing zeroes\n    fraction = fractionFullPrecision.replace(/0+$/, '');\n  } else {\n    if (precision === 0) return '';\n    const fractionFullPrecision = ToZeroPaddedDecimalString(subSecondNanoseconds, 9);\n    fraction = fractionFullPrecision.slice(0, precision);\n  }\n  return `.${fraction}`;\n}\n\nfunction FormatTimeString(\n  hour: number,\n  minute: number,\n  second: number,\n  subSecondNanoseconds: number,\n  precision: SecondsStringPrecisionRecord['precision']\n): string {\n  let result = `${ISODateTimePartString(hour)}:${ISODateTimePartString(minute)}`;\n  if (precision === 'minute') return result;\n\n  result += `:${ISODateTimePartString(second)}`;\n  result += FormatFractionalSeconds(subSecondNanoseconds, precision);\n  return result;\n}\n\nexport function TemporalInstantToString(\n  instant: Temporal.Instant,\n  timeZone: string | undefined,\n  precision: SecondsStringPrecisionRecord['precision']\n) {\n  let outputTimeZone = timeZone;\n  if (outputTimeZone === undefined) outputTimeZone = 'UTC';\n  const epochNs = GetSlot(instant, EPOCHNANOSECONDS);\n  const iso = GetISODateTimeFor(outputTimeZone, epochNs);\n  const dateTimeString = ISODateTimeToString(iso, 'iso8601', precision, 'never');\n  let timeZoneString = 'Z';\n  if (timeZone !== undefined) {\n    const offsetNs = GetOffsetNanosecondsFor(outputTimeZone, epochNs);\n    timeZoneString = FormatDateTimeUTCOffsetRounded(offsetNs);\n  }\n  return `${dateTimeString}${timeZoneString}`;\n}\n\ninterface ToStringOptions {\n  unit: SecondsStringPrecisionRecord['unit'];\n  increment: number;\n  roundingMode: ReturnType<typeof GetRoundingModeOption>;\n}\n\nexport function TemporalDurationToString(\n  duration: Temporal.Duration,\n  precision: Exclude<SecondsStringPrecisionRecord['precision'], 'minute'>\n) {\n  const years = GetSlot(duration, YEARS);\n  const months = GetSlot(duration, MONTHS);\n  const weeks = GetSlot(duration, WEEKS);\n  const days = GetSlot(duration, DAYS);\n  const hours = GetSlot(duration, HOURS);\n  const minutes = GetSlot(duration, MINUTES);\n  const sign = DurationSign(duration);\n\n  let datePart = '';\n  if (years !== 0) datePart += `${Math.abs(years)}Y`;\n  if (months !== 0) datePart += `${Math.abs(months)}M`;\n  if (weeks !== 0) datePart += `${Math.abs(weeks)}W`;\n  if (days !== 0) datePart += `${Math.abs(days)}D`;\n\n  let timePart = '';\n  if (hours !== 0) timePart += `${Math.abs(hours)}H`;\n  if (minutes !== 0) timePart += `${Math.abs(minutes)}M`;\n\n  // Keeping sub-second units separate avoids losing precision after resolving\n  // any overflows from rounding\n  const secondsDuration = TimeDuration.fromComponents(\n    0,\n    0,\n    GetSlot(duration, SECONDS),\n    GetSlot(duration, MILLISECONDS),\n    GetSlot(duration, MICROSECONDS),\n    GetSlot(duration, NANOSECONDS)\n  );\n  if (\n    !secondsDuration.isZero() ||\n    ['second', 'millisecond', 'microsecond', 'nanosecond'].includes(DefaultTemporalLargestUnit(duration)) ||\n    precision !== 'auto'\n  ) {\n    const secondsPart = Math.abs(secondsDuration.sec);\n    const subSecondsPart = FormatFractionalSeconds(Math.abs(secondsDuration.subsec), precision);\n    timePart += `${secondsPart}${subSecondsPart}S`;\n  }\n  let result = `${sign < 0 ? '-' : ''}P${datePart}`;\n  if (timePart) result = `${result}T${timePart}`;\n  return result;\n}\n\nexport function TemporalDateToString(\n  date: Temporal.PlainDate,\n  showCalendar: Temporal.ShowCalendarOption['calendarName'] = 'auto'\n) {\n  const { year, month, day } = GetSlot(date, ISO_DATE);\n  const yearString = ISOYearString(year);\n  const monthString = ISODateTimePartString(month);\n  const dayString = ISODateTimePartString(day);\n  const calendar = FormatCalendarAnnotation(GetSlot(date, CALENDAR), showCalendar);\n  return `${yearString}-${monthString}-${dayString}${calendar}`;\n}\n\nexport function TimeRecordToString(\n  { hour, minute, second, millisecond, microsecond, nanosecond }: TimeRecord,\n  precision: SecondsStringPrecisionRecord['precision']\n) {\n  const subSecondNanoseconds = millisecond * 1e6 + microsecond * 1e3 + nanosecond;\n  return FormatTimeString(hour, minute, second, subSecondNanoseconds, precision);\n}\n\nexport function ISODateTimeToString(\n  isoDateTime: ISODateTime,\n  calendar: BuiltinCalendarId,\n  precision: SecondsStringPrecisionRecord['precision'],\n  showCalendar: ReturnType<typeof GetTemporalShowCalendarNameOption> = 'auto'\n) {\n  const {\n    isoDate: { year, month, day },\n    time: { hour, minute, second, millisecond, microsecond, nanosecond }\n  } = isoDateTime;\n  const yearString = ISOYearString(year);\n  const monthString = ISODateTimePartString(month);\n  const dayString = ISODateTimePartString(day);\n  const subSecondNanoseconds = millisecond * 1e6 + microsecond * 1e3 + nanosecond;\n  const timeString = FormatTimeString(hour, minute, second, subSecondNanoseconds, precision);\n  const calendarString = FormatCalendarAnnotation(calendar, showCalendar);\n  return `${yearString}-${monthString}-${dayString}T${timeString}${calendarString}`;\n}\n\nexport function TemporalMonthDayToString(\n  monthDay: Temporal.PlainMonthDay,\n  showCalendar: Temporal.ShowCalendarOption['calendarName'] = 'auto'\n) {\n  const { year, month, day } = GetSlot(monthDay, ISO_DATE);\n  const monthString = ISODateTimePartString(month);\n  const dayString = ISODateTimePartString(day);\n  let resultString = `${monthString}-${dayString}`;\n  const calendar = GetSlot(monthDay, CALENDAR);\n  if (showCalendar === 'always' || showCalendar === 'critical' || calendar !== 'iso8601') {\n    const yearString = ISOYearString(year);\n    resultString = `${yearString}-${resultString}`;\n  }\n  const calendarString = FormatCalendarAnnotation(calendar, showCalendar);\n  if (calendarString) resultString += calendarString;\n  return resultString;\n}\n\nexport function TemporalYearMonthToString(\n  yearMonth: Temporal.PlainYearMonth,\n  showCalendar: Temporal.ShowCalendarOption['calendarName'] = 'auto'\n) {\n  const { year, month, day } = GetSlot(yearMonth, ISO_DATE);\n  const yearString = ISOYearString(year);\n  const monthString = ISODateTimePartString(month);\n  let resultString = `${yearString}-${monthString}`;\n  const calendar = GetSlot(yearMonth, CALENDAR);\n  if (showCalendar === 'always' || showCalendar === 'critical' || calendar !== 'iso8601') {\n    const dayString = ISODateTimePartString(day);\n    resultString += `-${dayString}`;\n  }\n  const calendarString = FormatCalendarAnnotation(calendar, showCalendar);\n  if (calendarString) resultString += calendarString;\n  return resultString;\n}\n\nexport function TemporalZonedDateTimeToString(\n  zdt: Temporal.ZonedDateTime,\n  precision: SecondsStringPrecisionRecord['precision'],\n  showCalendar: ReturnType<typeof GetTemporalShowCalendarNameOption> = 'auto',\n  showTimeZone: ReturnType<typeof GetTemporalShowTimeZoneNameOption> = 'auto',\n  showOffset: ReturnType<typeof GetTemporalShowOffsetOption> = 'auto',\n  options: ToStringOptions | undefined = undefined\n) {\n  let epochNs = GetSlot(zdt, EPOCHNANOSECONDS);\n\n  if (options) {\n    const { unit, increment, roundingMode } = options;\n    epochNs = RoundTemporalInstant(epochNs, increment, unit, roundingMode);\n  }\n\n  const tz = GetSlot(zdt, TIME_ZONE);\n  const offsetNs = GetOffsetNanosecondsFor(tz, epochNs);\n  const iso = GetISODateTimeFor(tz, epochNs);\n  let dateTimeString = ISODateTimeToString(iso, 'iso8601', precision, 'never');\n  if (showOffset !== 'never') {\n    dateTimeString += FormatDateTimeUTCOffsetRounded(offsetNs);\n  }\n  if (showTimeZone !== 'never') {\n    const flag = showTimeZone === 'critical' ? '!' : '';\n    dateTimeString += `[${flag}${tz}]`;\n  }\n  dateTimeString += FormatCalendarAnnotation(GetSlot(zdt, CALENDAR), showCalendar);\n  return dateTimeString;\n}\n\nexport function IsOffsetTimeZoneIdentifier(string: string) {\n  return OFFSET_IDENTIFIER.test(string);\n}\n\nexport function ParseDateTimeUTCOffset(string: string): number {\n  const match = OFFSET_WITH_PARTS.exec(string);\n  if (!match) {\n    throw new RangeError(`invalid time zone offset: ${string}; must match ±HH:MM[:SS.SSSSSSSSS]`);\n  }\n  const sign = match[1] === '-' ? -1 : +1;\n  const hours = +match[2];\n  const minutes = +(match[3] || 0);\n  const seconds = +(match[4] || 0);\n  const nanoseconds = +((match[5] || 0) + '000000000').slice(0, 9);\n  const offsetNanoseconds = sign * (((hours * 60 + minutes) * 60 + seconds) * 1e9 + nanoseconds);\n  return offsetNanoseconds;\n}\n\nlet canonicalTimeZoneIdsCache: Map<string, string> | undefined | null = undefined;\nconst isTZIDSep = Object.assign(Object.create(null), { '/': true, '-': true, _: true });\n\nexport function GetAvailableNamedTimeZoneIdentifier(\n  identifier: string\n): { identifier: string; primaryIdentifier: string } | undefined {\n  // The most common case is when the identifier is a canonical time zone ID.\n  // Fast-path that case by caching all canonical IDs. For old ECMAScript\n  // implementations lacking this API, set the cache to `null` to avoid retries.\n  if (canonicalTimeZoneIdsCache === undefined) {\n    const canonicalTimeZoneIds = Intl.supportedValuesOf?.('timeZone');\n    if (canonicalTimeZoneIds) {\n      canonicalTimeZoneIdsCache = new Map();\n      for (let ix = 0; ix < canonicalTimeZoneIds.length; ix++) {\n        const id = canonicalTimeZoneIds[ix];\n        canonicalTimeZoneIdsCache.set(ASCIILowercase(id), id);\n      }\n    } else {\n      canonicalTimeZoneIdsCache = null;\n    }\n  }\n\n  const lower = ASCIILowercase(identifier);\n  let primaryIdentifier = canonicalTimeZoneIdsCache?.get(lower);\n  if (primaryIdentifier) return { identifier: primaryIdentifier, primaryIdentifier };\n\n  // It's not already a primary identifier, so get its primary identifier (or\n  // return if it's not an available named time zone ID).\n  try {\n    const formatter = getIntlDateTimeFormatEnUsForTimeZone(identifier);\n    primaryIdentifier = formatter.resolvedOptions().timeZone;\n  } catch {\n    return undefined;\n  }\n\n  // Special case this legacy identifier that is listed both in `backzone` and\n  // `backward` in the TZDB. Work around implementations that incorrectly use\n  // the `backward` data.\n  if (lower === 'antarctica/south_pole') primaryIdentifier = 'Antarctica/McMurdo';\n\n  // Some legacy identifiers are aliases in ICU but not legal IANA identifiers.\n  // Reject them even if the implementation's Intl supports them, as they are\n  // not present in the IANA time zone database.\n  if (ICU_LEGACY_TIME_ZONE_IDS.has(identifier)) {\n    throw new RangeError(`${identifier} is a legacy time zone identifier from ICU. Use ${primaryIdentifier} instead`);\n  }\n\n  // The identifier is an alias (a deprecated identifier that's a synonym for a\n  // primary identifier), so we need to case-normalize the identifier to match\n  // the IANA TZDB, e.g. america/new_york => America/New_York. There's no\n  // built-in way to do this using Intl.DateTimeFormat, but the we can normalize\n  // almost all aliases (modulo a few special cases) using the TZDB's basic\n  // capitalization pattern:\n  // 1. capitalize the first letter of the identifier\n  // 2. capitalize the letter after every slash, dash, or underscore delimiter\n  const chars = [...lower].map((c, i) => (i === 0 || isTZIDSep[lower[i - 1]] ? c.toUpperCase() : c));\n  const standardCase = chars.join('');\n  const segments = standardCase.split('/');\n\n  if (segments.length === 1) {\n    // If a single-segment legacy ID is 2-3 chars or contains a number or dash, then\n    // (except for the \"GB-Eire\" special case) the case-normalized form is uppercase.\n    // These are: GMT+0, GMT-0, GB, NZ, PRC, ROC, ROK, UCT, GMT, GMT0, CET, CST6CDT,\n    // EET, EST, HST, MET, MST, MST7MDT, PST8PDT, WET, NZ-CHAT, and W-SU.\n    // Otherwise it's standard form: first letter capitalized, e.g. Iran, Egypt, Hongkong\n    if (lower === 'gb-eire') return { identifier: 'GB-Eire', primaryIdentifier };\n    return {\n      identifier: lower.length <= 3 || /[-0-9]/.test(lower) ? lower.toUpperCase() : segments[0],\n      primaryIdentifier\n    };\n  }\n\n  // All Etc zone names are uppercase except three exceptions.\n  if (segments[0] === 'Etc') {\n    const etcName = ['Zulu', 'Greenwich', 'Universal'].includes(segments[1]) ? segments[1] : segments[1].toUpperCase();\n    return { identifier: `Etc/${etcName}`, primaryIdentifier };\n  }\n\n  // Legacy US identifiers like US/Alaska or US/Indiana-Starke are 2 segments and use standard form.\n  if (segments[0] === 'Us') return { identifier: `US/${segments[1]}`, primaryIdentifier };\n\n  // For multi-segment IDs, there's a few special cases in the second/third segments\n  const specialCases = new Map([\n    ['Act', 'ACT'],\n    ['Lhi', 'LHI'],\n    ['Nsw', 'NSW'],\n    ['Dar_Es_Salaam', 'Dar_es_Salaam'],\n    ['Port_Of_Spain', 'Port_of_Spain'],\n    ['Port-Au-Prince', 'Port-au-Prince'],\n    ['Isle_Of_Man', 'Isle_of_Man'],\n    ['Comodrivadavia', 'ComodRivadavia'],\n    ['Knox_In', 'Knox_IN'],\n    ['Dumontdurville', 'DumontDUrville'],\n    ['Mcmurdo', 'McMurdo'],\n    ['Denoronha', 'DeNoronha'],\n    ['Easterisland', 'EasterIsland'],\n    ['Bajanorte', 'BajaNorte'],\n    ['Bajasur', 'BajaSur']\n  ]);\n  segments[1] = specialCases.get(segments[1]) ?? segments[1];\n  if (segments.length > 2) segments[2] = specialCases.get(segments[2]) ?? segments[2];\n  return { identifier: segments.join('/'), primaryIdentifier };\n}\n\nfunction GetNamedTimeZoneOffsetNanosecondsImpl(id: string, epochMilliseconds: number) {\n  const { year, month, day, hour, minute, second } = GetFormatterParts(id, epochMilliseconds);\n  let millisecond = epochMilliseconds % 1000;\n  if (millisecond < 0) millisecond += 1000;\n  const utc = GetUTCEpochMilliseconds({ isoDate: { year, month, day }, time: { hour, minute, second, millisecond } });\n  return (utc - epochMilliseconds) * 1e6;\n}\n\nfunction GetNamedTimeZoneOffsetNanoseconds(id: string, epochNanoseconds: JSBI) {\n  // Optimization: We get the offset nanoseconds only with millisecond\n  // resolution, assuming that time zone offset changes don't happen in the\n  // middle of a millisecond\n  return GetNamedTimeZoneOffsetNanosecondsImpl(id, epochNsToMs(epochNanoseconds, 'floor'));\n}\n\nexport function FormatOffsetTimeZoneIdentifier(offsetMinutes: number): string {\n  const sign = offsetMinutes < 0 ? '-' : '+';\n  const absoluteMinutes = Math.abs(offsetMinutes);\n  const hour = Math.floor(absoluteMinutes / 60);\n  const minute = absoluteMinutes % 60;\n  const timeString = FormatTimeString(hour, minute, 0, 0, 'minute');\n  return `${sign}${timeString}`;\n}\n\nfunction FormatDateTimeUTCOffsetRounded(offsetNanosecondsParam: number): string {\n  const offsetNanoseconds = RoundNumberToIncrement(offsetNanosecondsParam, MINUTE_NANOS, 'halfExpand');\n  return FormatOffsetTimeZoneIdentifier(offsetNanoseconds / 60e9);\n}\n\nfunction GetUTCEpochMilliseconds({\n  isoDate: { year, month, day },\n  time: { hour, minute, second, millisecond }\n}: {\n  isoDate: ISODate;\n  time: Omit<TimeRecord, 'microsecond' | 'nanosecond'>;\n}) {\n  // The pattern of leap years in the ISO 8601 calendar repeats every 400\n  // years. To avoid overflowing at the edges of the range, we reduce the year\n  // to the remainder after dividing by 400, and then add back all the\n  // nanoseconds from the multiples of 400 years at the end.\n  const reducedYear = year % 400;\n  const yearCycles = (year - reducedYear) / 400;\n\n  // Note: Date.UTC() interprets one and two-digit years as being in the\n  // 20th century, so don't use it\n  const legacyDate = new Date();\n  legacyDate.setUTCHours(hour, minute, second, millisecond);\n  legacyDate.setUTCFullYear(reducedYear, month - 1, day);\n  const ms = legacyDate.getTime();\n  return ms + MS_IN_400_YEAR_CYCLE * yearCycles;\n}\n\nfunction GetUTCEpochNanoseconds(isoDateTime: ISODateTime) {\n  const ms = GetUTCEpochMilliseconds(isoDateTime);\n  const subMs = isoDateTime.time.microsecond * 1e3 + isoDateTime.time.nanosecond;\n  return JSBI.add(epochMsToNs(ms), JSBI.BigInt(subMs));\n}\n\nfunction GetISOPartsFromEpoch(epochNanoseconds: JSBI) {\n  let epochMilliseconds = epochNsToMs(epochNanoseconds, 'trunc');\n  let nanos = JSBI.toNumber(JSBI.remainder(epochNanoseconds, MILLION));\n  if (nanos < 0) {\n    nanos += 1e6;\n    epochMilliseconds -= 1;\n  }\n  const microsecond = Math.floor(nanos / 1e3) % 1e3;\n  const nanosecond = nanos % 1e3;\n\n  const item = new Date(epochMilliseconds);\n  const year = item.getUTCFullYear();\n  const month = item.getUTCMonth() + 1;\n  const day = item.getUTCDate();\n  const hour = item.getUTCHours();\n  const minute = item.getUTCMinutes();\n  const second = item.getUTCSeconds();\n  const millisecond = item.getUTCMilliseconds();\n\n  return {\n    epochMilliseconds,\n    isoDate: { year, month, day },\n    time: { hour, minute, second, millisecond, microsecond, nanosecond }\n  };\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function GetNamedTimeZoneDateTimeParts(id: string, epochNanoseconds: JSBI) {\n  const {\n    epochMilliseconds,\n    time: { millisecond, microsecond, nanosecond }\n  } = GetISOPartsFromEpoch(epochNanoseconds);\n  const { year, month, day, hour, minute, second } = GetFormatterParts(id, epochMilliseconds);\n  return BalanceISODateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n}\n\nexport function GetNamedTimeZoneNextTransition(id: string, epochNanoseconds: JSBI): JSBI | null {\n  if (id === 'UTC') return null; // UTC fast path\n\n  // Optimization: we floor the instant to the previous millisecond boundary\n  // so that we can do Number math instead of BigInt math. This assumes that\n  // time zone transitions don't happen in the middle of a millisecond.\n  const epochMilliseconds = epochNsToMs(epochNanoseconds, 'floor');\n  if (epochMilliseconds < BEFORE_FIRST_DST) {\n    return GetNamedTimeZoneNextTransition(id, epochMsToNs(BEFORE_FIRST_DST));\n  }\n\n  // Optimization: the farthest that we'll look for a next transition is 3 years\n  // after the later of epochNanoseconds or the current time. If there are no\n  // transitions found before then, we'll assume that there will not be any more\n  // transitions after that.\n  const now = Date.now();\n  const base = Math.max(epochMilliseconds, now);\n  const uppercap = base + DAY_MS * 366 * 3;\n  let leftMs = epochMilliseconds;\n  let leftOffsetNs = GetNamedTimeZoneOffsetNanosecondsImpl(id, leftMs);\n  let rightMs = leftMs;\n  let rightOffsetNs = leftOffsetNs;\n  while (leftOffsetNs === rightOffsetNs && leftMs < uppercap) {\n    rightMs = leftMs + DAY_MS * 2 * 7;\n    if (rightMs > MS_MAX) return null;\n    rightOffsetNs = GetNamedTimeZoneOffsetNanosecondsImpl(id, rightMs);\n    if (leftOffsetNs === rightOffsetNs) {\n      leftMs = rightMs;\n    }\n  }\n  if (leftOffsetNs === rightOffsetNs) return null;\n  const result = bisect(\n    (epochMs: number) => GetNamedTimeZoneOffsetNanosecondsImpl(id, epochMs),\n    leftMs,\n    rightMs,\n    leftOffsetNs,\n    rightOffsetNs\n  );\n  return epochMsToNs(result);\n}\n\nexport function GetNamedTimeZonePreviousTransition(id: string, epochNanoseconds: JSBI): JSBI | null {\n  if (id === 'UTC') return null; // UTC fast path\n\n  // Optimization: we raise the instant to the next millisecond boundary so\n  // that we can do Number math instead of BigInt math. This assumes that time\n  // zone transitions don't happen in the middle of a millisecond.\n  const epochMilliseconds = epochNsToMs(epochNanoseconds, 'ceil');\n\n  // Optimization: if the instant is more than 3 years in the future and there\n  // are no transitions between the present day and 3 years from now, assume\n  // there are none after.\n  const now = Date.now();\n  const lookahead = now + DAY_MS * 366 * 3;\n  if (epochMilliseconds > lookahead) {\n    const prevBeforeLookahead = GetNamedTimeZonePreviousTransition(id, epochMsToNs(lookahead));\n    if (prevBeforeLookahead === null || JSBI.lessThan(prevBeforeLookahead, epochMsToNs(now))) {\n      return prevBeforeLookahead;\n    }\n  }\n\n  // We assume most time zones either have regular DST rules that extend\n  // indefinitely into the future, or they have no DST transitions between now\n  // and next year. Africa/Casablanca and Africa/El_Aaiun are unique cases\n  // that fit neither of these. Their irregular DST transitions are\n  // precomputed until 2087 in the current time zone database, so requesting\n  // the previous transition for an instant far in the future may take an\n  // extremely long time as it loops backward 2 weeks at a time.\n  if (id === 'Africa/Casablanca' || id === 'Africa/El_Aaiun') {\n    const lastPrecomputed = Date.UTC(2088, 0, 1); // 2088-01-01T00Z\n    if (lastPrecomputed < epochMilliseconds) {\n      return GetNamedTimeZonePreviousTransition(id, epochMsToNs(lastPrecomputed));\n    }\n  }\n\n  let rightMs = epochMilliseconds - 1;\n  if (rightMs < BEFORE_FIRST_DST) return null;\n  let rightOffsetNs = GetNamedTimeZoneOffsetNanosecondsImpl(id, rightMs);\n  let leftMs = rightMs;\n  let leftOffsetNs = rightOffsetNs;\n  while (rightOffsetNs === leftOffsetNs && rightMs > BEFORE_FIRST_DST) {\n    leftMs = rightMs - DAY_MS * 2 * 7;\n    if (leftMs < BEFORE_FIRST_DST) return null;\n    leftOffsetNs = GetNamedTimeZoneOffsetNanosecondsImpl(id, leftMs);\n    if (rightOffsetNs === leftOffsetNs) {\n      rightMs = leftMs;\n    }\n  }\n  if (rightOffsetNs === leftOffsetNs) return null;\n  const result = bisect(\n    (epochMs: number) => GetNamedTimeZoneOffsetNanosecondsImpl(id, epochMs),\n    leftMs,\n    rightMs,\n    leftOffsetNs,\n    rightOffsetNs\n  );\n  return epochMsToNs(result);\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function parseFromEnUsFormat(datetime: string) {\n  const splits = datetime.split(/[^\\w]+/);\n\n  if (splits.length !== 7) {\n    throw new RangeError(`expected 7 parts in \"${datetime}`);\n  }\n\n  const month = +splits[0];\n  const day = +splits[1];\n  let year = +splits[2];\n  const era = splits[3];\n  if (era[0] === 'b' || era[0] === 'B') {\n    year = -year + 1;\n  } else if (era[0] !== 'a' && era[0] !== 'A') {\n    throw new RangeError(`Unknown era ${era} in \"${datetime}`);\n  }\n  const hour = splits[4] === '24' ? 0 : +splits[4]; // bugs.chromium.org/p/chromium/issues/detail?id=1045791\n  const minute = +splits[5];\n  const second = +splits[6];\n\n  if (\n    !Number.isFinite(year) ||\n    !Number.isFinite(month) ||\n    !Number.isFinite(day) ||\n    !Number.isFinite(hour) ||\n    !Number.isFinite(minute) ||\n    !Number.isFinite(second)\n  ) {\n    throw new RangeError(`Invalid number in \"${datetime}`);\n  }\n\n  return { year, month, day, hour, minute, second };\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function GetFormatterParts(timeZone: string, epochMilliseconds: number) {\n  const formatter = getIntlDateTimeFormatEnUsForTimeZone(timeZone);\n  // Using `format` instead of `formatToParts` for compatibility with older\n  // clients and because it is twice as fast\n  const datetime = formatter.format(epochMilliseconds);\n  return parseFromEnUsFormat(datetime);\n}\n\n// The goal of this function is to find the exact time(s) that correspond to a\n// calendar date and clock time in a particular time zone. Normally there will\n// be only one match. But for repeated clock times after backwards transitions\n// (like when DST ends) there may be two matches. And for skipped clock times\n// after forward transitions, there will be no matches.\nfunction GetNamedTimeZoneEpochNanoseconds(id: string, isoDateTime: ISODateTime) {\n  // Get the offset of one day before and after the requested calendar date and\n  // clock time, avoiding overflows if near the edge of the Instant range.\n  let ns = GetUTCEpochNanoseconds(isoDateTime);\n  let nsEarlier = JSBI.subtract(ns, DAY_NANOS_JSBI);\n  if (JSBI.lessThan(nsEarlier, NS_MIN)) nsEarlier = ns;\n  let nsLater = JSBI.add(ns, DAY_NANOS_JSBI);\n  if (JSBI.greaterThan(nsLater, NS_MAX)) nsLater = ns;\n  const earlierOffsetNs = GetNamedTimeZoneOffsetNanoseconds(id, nsEarlier);\n  const laterOffsetNs = GetNamedTimeZoneOffsetNanoseconds(id, nsLater);\n\n  // If before and after offsets are the same, then we assume there was no\n  // offset transition in between, and therefore only one exact time can\n  // correspond to the provided calendar date and clock time. But if they're\n  // different, then there was an offset transition in between, so test both\n  // offsets to see which one(s) will yield a matching exact time.\n  const found = earlierOffsetNs === laterOffsetNs ? [earlierOffsetNs] : [earlierOffsetNs, laterOffsetNs];\n  const candidates = found.map((offsetNanoseconds) => {\n    const epochNanoseconds = JSBI.subtract(ns, JSBI.BigInt(offsetNanoseconds));\n    const parts = GetNamedTimeZoneDateTimeParts(id, epochNanoseconds);\n    if (CompareISODateTime(isoDateTime, parts) !== 0) return undefined;\n    ValidateEpochNanoseconds(epochNanoseconds);\n    return epochNanoseconds;\n  });\n  return candidates.filter((x) => x !== undefined) as JSBI[];\n}\n\nexport function LeapYear(year: number) {\n  if (undefined === year) return false;\n  const isDiv4 = year % 4 === 0;\n  const isDiv100 = year % 100 === 0;\n  const isDiv400 = year % 400 === 0;\n  return isDiv4 && (!isDiv100 || isDiv400);\n}\n\nexport function ISODaysInMonth(year: number, month: number) {\n  const DoM = {\n    standard: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    leapyear: [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n  };\n  return DoM[LeapYear(year) ? 'leapyear' : 'standard'][month - 1];\n}\n\nexport function DurationSign(duration: Temporal.Duration) {\n  const fields = [\n    GetSlot(duration, YEARS),\n    GetSlot(duration, MONTHS),\n    GetSlot(duration, WEEKS),\n    GetSlot(duration, DAYS),\n    GetSlot(duration, HOURS),\n    GetSlot(duration, MINUTES),\n    GetSlot(duration, SECONDS),\n    GetSlot(duration, MILLISECONDS),\n    GetSlot(duration, MICROSECONDS),\n    GetSlot(duration, NANOSECONDS)\n  ];\n  for (let index = 0; index < fields.length; index++) {\n    const prop = fields[index];\n    if (prop !== 0) return prop < 0 ? -1 : 1;\n  }\n  return 0;\n}\n\nfunction DateDurationSign(dateDuration: DateDuration) {\n  const fieldNames = ['years', 'months', 'weeks', 'days'] as const;\n  for (let index = 0; index < fieldNames.length; index++) {\n    const prop = dateDuration[fieldNames[index]];\n    if (prop !== 0) return prop < 0 ? -1 : 1;\n  }\n  return 0;\n}\n\nfunction InternalDurationSign(duration: InternalDuration) {\n  const dateSign = DateDurationSign(duration.date);\n  if (dateSign !== 0) return dateSign;\n  return duration.time.sign();\n}\n\nexport function BalanceISOYearMonth(yearParam: number, monthParam: number) {\n  let year = yearParam;\n  let month = monthParam;\n  if (!Number.isFinite(year) || !Number.isFinite(month)) throw new RangeError('infinity is out of range');\n  month -= 1;\n  year += Math.floor(month / 12);\n  month %= 12;\n  if (month < 0) month += 12;\n  month += 1;\n  return { year, month };\n}\n\nexport function BalanceISODate(yearParam: number, monthParam: number, dayParam: number) {\n  let year = yearParam;\n  let month = monthParam;\n  let day = dayParam;\n  if (!Number.isFinite(day)) throw new RangeError('infinity is out of range');\n  ({ year, month } = BalanceISOYearMonth(year, month));\n\n  // The pattern of leap years in the ISO 8601 calendar repeats every 400\n  // years. So if we have more than 400 years in days, there's no need to\n  // convert days to a year 400 times. We can convert a multiple of 400 all at\n  // once.\n  const daysIn400YearCycle = 400 * 365 + 97;\n  if (Math.abs(day) > daysIn400YearCycle) {\n    const nCycles = Math.trunc(day / daysIn400YearCycle);\n    year += 400 * nCycles;\n    day -= nCycles * daysIn400YearCycle;\n  }\n\n  let daysInYear = 0;\n  let testYear = month > 2 ? year : year - 1;\n  while (((daysInYear = LeapYear(testYear) ? 366 : 365), day < -daysInYear)) {\n    year -= 1;\n    testYear -= 1;\n    day += daysInYear;\n  }\n  testYear += 1;\n  while (((daysInYear = LeapYear(testYear) ? 366 : 365), day > daysInYear)) {\n    year += 1;\n    testYear += 1;\n    day -= daysInYear;\n  }\n\n  while (day < 1) {\n    ({ year, month } = BalanceISOYearMonth(year, month - 1));\n    day += ISODaysInMonth(year, month);\n  }\n  while (day > ISODaysInMonth(year, month)) {\n    day -= ISODaysInMonth(year, month);\n    ({ year, month } = BalanceISOYearMonth(year, month + 1));\n  }\n\n  return { year, month, day };\n}\n\nfunction BalanceISODateTime(\n  year: number,\n  month: number,\n  day: number,\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  const time = BalanceTime(hour, minute, second, millisecond, microsecond, nanosecond);\n  const isoDate = BalanceISODate(year, month, day + time.deltaDays);\n  return CombineISODateAndTimeRecord(isoDate, time);\n}\n\nfunction BalanceTime(\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number\n) {\n  let hour = hourParam;\n  let minute = minuteParam;\n  let second = secondParam;\n  let millisecond = millisecondParam;\n  let microsecond = microsecondParam;\n  let nanosecond = nanosecondParam;\n  let div;\n\n  ({ div, mod: nanosecond } = TruncatingDivModByPowerOf10(nanosecond, 3));\n  microsecond += div;\n  if (nanosecond < 0) {\n    microsecond -= 1;\n    nanosecond += 1000;\n  }\n\n  ({ div, mod: microsecond } = TruncatingDivModByPowerOf10(microsecond, 3));\n  millisecond += div;\n  if (microsecond < 0) {\n    millisecond -= 1;\n    microsecond += 1000;\n  }\n\n  second += Math.trunc(millisecond / 1000);\n  millisecond %= 1000;\n  if (millisecond < 0) {\n    second -= 1;\n    millisecond += 1000;\n  }\n\n  minute += Math.trunc(second / 60);\n  second %= 60;\n  if (second < 0) {\n    minute -= 1;\n    second += 60;\n  }\n\n  hour += Math.trunc(minute / 60);\n  minute %= 60;\n  if (minute < 0) {\n    hour -= 1;\n    minute += 60;\n  }\n\n  let deltaDays = Math.trunc(hour / 24);\n  hour %= 24;\n  if (hour < 0) {\n    deltaDays -= 1;\n    hour += 24;\n  }\n\n  // Results are possibly -0 at this point, but these are mathematical values in\n  // the spec. Force -0 to +0.\n  deltaDays += 0;\n  hour += 0;\n  minute += 0;\n  second += 0;\n  millisecond += 0;\n  microsecond += 0;\n  nanosecond += 0;\n\n  return { deltaDays, hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nexport function DateDurationDays(dateDuration: DateDuration, plainRelativeTo: Temporal.PlainDate) {\n  const yearsMonthsWeeksDuration = AdjustDateDurationRecord(dateDuration, 0);\n  if (DateDurationSign(yearsMonthsWeeksDuration) === 0) return dateDuration.days;\n\n  // balance years, months, and weeks down to days\n  const isoDate = GetSlot(plainRelativeTo, ISO_DATE);\n  const later = CalendarDateAdd(GetSlot(plainRelativeTo, CALENDAR), isoDate, yearsMonthsWeeksDuration, 'constrain');\n  const epochDaysEarlier = ISODateToEpochDays(isoDate.year, isoDate.month - 1, isoDate.day);\n  const epochDaysLater = ISODateToEpochDays(later.year, later.month - 1, later.day);\n  const yearsMonthsWeeksInDays = epochDaysLater - epochDaysEarlier;\n  return dateDuration.days + yearsMonthsWeeksInDays;\n}\n\nexport function CreateNegatedTemporalDuration(duration: Temporal.Duration) {\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  return new TemporalDuration(\n    -GetSlot(duration, YEARS),\n    -GetSlot(duration, MONTHS),\n    -GetSlot(duration, WEEKS),\n    -GetSlot(duration, DAYS),\n    -GetSlot(duration, HOURS),\n    -GetSlot(duration, MINUTES),\n    -GetSlot(duration, SECONDS),\n    -GetSlot(duration, MILLISECONDS),\n    -GetSlot(duration, MICROSECONDS),\n    -GetSlot(duration, NANOSECONDS)\n  );\n}\n\nexport function ConstrainToRange(value: number | undefined, min: number, max: number) {\n  // Math.Max accepts undefined values and returns NaN. Undefined values are\n  // used for optional params in the method below.\n  return Math.min(max, Math.max(min, value as number));\n}\nexport function ConstrainISODate(year: number, monthParam: number, dayParam?: number) {\n  const month = ConstrainToRange(monthParam, 1, 12);\n  const day = ConstrainToRange(dayParam, 1, ISODaysInMonth(year, month));\n  return { year, month, day };\n}\n\nexport function RejectToRange(value: number, min: number, max: number) {\n  if (value < min || value > max) throw new RangeError(`value out of range: ${min} <= ${value} <= ${max}`);\n}\n\nexport function RejectISODate(year: number, month: number, day: number) {\n  RejectToRange(month, 1, 12);\n  RejectToRange(day, 1, ISODaysInMonth(year, month));\n}\n\nfunction RejectDateRange(isoDate: ISODate) {\n  // Noon avoids trouble at edges of DateTime range (excludes midnight)\n  RejectDateTimeRange(CombineISODateAndTimeRecord(isoDate, NoonTimeRecord()));\n}\n\nexport function RejectTime(\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  RejectToRange(hour, 0, 23);\n  RejectToRange(minute, 0, 59);\n  RejectToRange(second, 0, 59);\n  RejectToRange(millisecond, 0, 999);\n  RejectToRange(microsecond, 0, 999);\n  RejectToRange(nanosecond, 0, 999);\n}\n\nexport function RejectDateTime(\n  year: number,\n  month: number,\n  day: number,\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  RejectISODate(year, month, day);\n  RejectTime(hour, minute, second, millisecond, microsecond, nanosecond);\n}\n\nexport function RejectDateTimeRange(isoDateTime: ISODateTime) {\n  const ns = GetUTCEpochNanoseconds(isoDateTime);\n  if (JSBI.lessThan(ns, DATETIME_NS_MIN) || JSBI.greaterThan(ns, DATETIME_NS_MAX)) {\n    // Because PlainDateTime's range is wider than Instant's range, the line\n    // below will always throw. Calling `ValidateEpochNanoseconds` avoids\n    // repeating the same error message twice.\n    ValidateEpochNanoseconds(ns);\n  }\n}\n\n// Same as above, but throws a different, non-user-facing error\nfunction AssertISODateTimeWithinLimits(isoDateTime: ISODateTime) {\n  const ns = GetUTCEpochNanoseconds(isoDateTime);\n  assert(\n    JSBI.greaterThanOrEqual(ns, DATETIME_NS_MIN) && JSBI.lessThanOrEqual(ns, DATETIME_NS_MAX),\n    `${ISODateTimeToString(isoDateTime, 'iso8601', 'auto')} is outside the representable range`\n  );\n}\n\n// In the spec, IsValidEpochNanoseconds returns a boolean and call sites are\n// responsible for throwing. In the polyfill, ValidateEpochNanoseconds takes its\n// place so that we can DRY the throwing code.\nfunction ValidateEpochNanoseconds(epochNanoseconds: JSBI) {\n  if (JSBI.lessThan(epochNanoseconds, NS_MIN) || JSBI.greaterThan(epochNanoseconds, NS_MAX)) {\n    throw new RangeError('date/time value is outside of supported range');\n  }\n}\n\nfunction RejectYearMonthRange({ year, month }: Omit<ISODate, 'day'>) {\n  RejectToRange(year, YEAR_MIN, YEAR_MAX);\n  if (year === YEAR_MIN) {\n    RejectToRange(month, 4, 12);\n  } else if (year === YEAR_MAX) {\n    RejectToRange(month, 1, 9);\n  }\n}\n\nexport function RejectDuration(\n  y: number,\n  mon: number,\n  w: number,\n  d: number,\n  h: number,\n  min: number,\n  s: number,\n  ms: number,\n  µs: number,\n  ns: number\n) {\n  let sign: -1 | 0 | 1 = 0;\n  const fields = [y, mon, w, d, h, min, s, ms, µs, ns];\n  for (let index = 0; index < fields.length; index++) {\n    const prop = fields[index];\n    if (prop === Infinity || prop === -Infinity) throw new RangeError('infinite values not allowed as duration fields');\n    if (prop !== 0) {\n      const propSign = prop < 0 ? -1 : 1;\n      if (sign !== 0 && propSign !== sign) throw new RangeError('mixed-sign values not allowed as duration fields');\n      sign = propSign;\n    }\n  }\n  if (Math.abs(y) >= 2 ** 32 || Math.abs(mon) >= 2 ** 32 || Math.abs(w) >= 2 ** 32) {\n    throw new RangeError('years, months, and weeks must be < 2³²');\n  }\n  const msResult = TruncatingDivModByPowerOf10(ms, 3);\n  const µsResult = TruncatingDivModByPowerOf10(µs, 6);\n  const nsResult = TruncatingDivModByPowerOf10(ns, 9);\n  const remainderSec = TruncatingDivModByPowerOf10(msResult.mod * 1e6 + µsResult.mod * 1e3 + nsResult.mod, 9).div;\n  const totalSec = d * 86400 + h * 3600 + min * 60 + s + msResult.div + µsResult.div + nsResult.div + remainderSec;\n  if (!Number.isSafeInteger(totalSec)) {\n    throw new RangeError('total of duration time units cannot exceed 9007199254740991.999999999 s');\n  }\n}\n\nexport function ToInternalDurationRecord(duration: Temporal.Duration) {\n  const date = {\n    years: GetSlot(duration, YEARS),\n    months: GetSlot(duration, MONTHS),\n    weeks: GetSlot(duration, WEEKS),\n    days: GetSlot(duration, DAYS)\n  };\n  const time = TimeDuration.fromComponents(\n    GetSlot(duration, HOURS),\n    GetSlot(duration, MINUTES),\n    GetSlot(duration, SECONDS),\n    GetSlot(duration, MILLISECONDS),\n    GetSlot(duration, MICROSECONDS),\n    GetSlot(duration, NANOSECONDS)\n  );\n  return { date, time };\n}\n\nexport function ToInternalDurationRecordWith24HourDays(duration: Temporal.Duration) {\n  const time = TimeDuration.fromComponents(\n    GetSlot(duration, HOURS),\n    GetSlot(duration, MINUTES),\n    GetSlot(duration, SECONDS),\n    GetSlot(duration, MILLISECONDS),\n    GetSlot(duration, MICROSECONDS),\n    GetSlot(duration, NANOSECONDS)\n  ).add24HourDays(GetSlot(duration, DAYS));\n  const date = {\n    years: GetSlot(duration, YEARS),\n    months: GetSlot(duration, MONTHS),\n    weeks: GetSlot(duration, WEEKS),\n    days: 0\n  };\n  return { date, time };\n}\n\nfunction ToDateDurationRecordWithoutTime(duration: Temporal.Duration) {\n  const internalDuration = ToInternalDurationRecordWith24HourDays(duration);\n  const days = Math.trunc(internalDuration.time.sec / 86400);\n  RejectDuration(\n    internalDuration.date.years,\n    internalDuration.date.months,\n    internalDuration.date.weeks,\n    days,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0\n  );\n  return { ...internalDuration.date, days };\n}\n\nexport function TemporalDurationFromInternal(internalDuration: InternalDuration, largestUnit: Temporal.DateTimeUnit) {\n  const sign = internalDuration.time.sign();\n  let nanoseconds = internalDuration.time.abs().subsec;\n  let microseconds = 0;\n  let milliseconds = 0;\n  let seconds = internalDuration.time.abs().sec;\n  let minutes = 0;\n  let hours = 0;\n  let days = 0;\n\n  switch (largestUnit) {\n    case 'year':\n    case 'month':\n    case 'week':\n    case 'day':\n      microseconds = Math.trunc(nanoseconds / 1000);\n      nanoseconds %= 1000;\n      milliseconds = Math.trunc(microseconds / 1000);\n      microseconds %= 1000;\n      seconds += Math.trunc(milliseconds / 1000);\n      milliseconds %= 1000;\n      minutes = Math.trunc(seconds / 60);\n      seconds %= 60;\n      hours = Math.trunc(minutes / 60);\n      minutes %= 60;\n      days = Math.trunc(hours / 24);\n      hours %= 24;\n      break;\n    case 'hour':\n      microseconds = Math.trunc(nanoseconds / 1000);\n      nanoseconds %= 1000;\n      milliseconds = Math.trunc(microseconds / 1000);\n      microseconds %= 1000;\n      seconds += Math.trunc(milliseconds / 1000);\n      milliseconds %= 1000;\n      minutes = Math.trunc(seconds / 60);\n      seconds %= 60;\n      hours = Math.trunc(minutes / 60);\n      minutes %= 60;\n      break;\n    case 'minute':\n      microseconds = Math.trunc(nanoseconds / 1000);\n      nanoseconds %= 1000;\n      milliseconds = Math.trunc(microseconds / 1000);\n      microseconds %= 1000;\n      seconds += Math.trunc(milliseconds / 1000);\n      milliseconds %= 1000;\n      minutes = Math.trunc(seconds / 60);\n      seconds %= 60;\n      break;\n    case 'second':\n      microseconds = Math.trunc(nanoseconds / 1000);\n      nanoseconds %= 1000;\n      milliseconds = Math.trunc(microseconds / 1000);\n      microseconds %= 1000;\n      seconds += Math.trunc(milliseconds / 1000);\n      milliseconds %= 1000;\n      break;\n    case 'millisecond':\n      microseconds = Math.trunc(nanoseconds / 1000);\n      nanoseconds %= 1000;\n      milliseconds = FMAPowerOf10(seconds, 3, Math.trunc(microseconds / 1000));\n      microseconds %= 1000;\n      seconds = 0;\n      break;\n    case 'microsecond':\n      microseconds = FMAPowerOf10(seconds, 6, Math.trunc(nanoseconds / 1000));\n      nanoseconds %= 1000;\n      seconds = 0;\n      break;\n    case 'nanosecond':\n      nanoseconds = FMAPowerOf10(seconds, 9, nanoseconds);\n      seconds = 0;\n      break;\n    default:\n      /* c8 ignore next */ assertNotReached();\n  }\n\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  return new TemporalDuration(\n    internalDuration.date.years,\n    internalDuration.date.months,\n    internalDuration.date.weeks,\n    internalDuration.date.days + sign * days,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds\n  );\n}\n\nexport function CombineDateAndTimeDuration(dateDuration: DateDuration, timeDuration: TimeDuration) {\n  const dateSign = DateDurationSign(dateDuration);\n  const timeSign = timeDuration.sign();\n  assert(\n    dateSign === 0 || timeSign === 0 || dateSign === timeSign,\n    'should not be able to create mixed sign duration fields here'\n  );\n  return { date: dateDuration, time: timeDuration };\n}\n\n// Caution: month is 0-based\nexport function ISODateToEpochDays(year: number, month: number, day: number) {\n  return (\n    GetUTCEpochMilliseconds({\n      isoDate: { year, month: month + 1, day },\n      time: { hour: 0, minute: 0, second: 0, millisecond: 0 }\n    }) / DAY_MS\n  );\n}\n\n// This is needed before calling GetUTCEpochNanoseconds, because it uses MakeDay\n// which is ill-defined in how it handles large year numbers. If the issue\n// https://github.com/tc39/ecma262/issues/1087 is fixed, this can be removed\n// with no observable changes.\nfunction CheckISODaysRange({ year, month, day }: ISODate) {\n  if (Math.abs(ISODateToEpochDays(year, month - 1, day)) > 1e8) {\n    throw new RangeError('date/time value is outside the supported range');\n  }\n}\n\nfunction DifferenceTime(time1: TimeRecord, time2: TimeRecord) {\n  const hours = time2.hour - time1.hour;\n  const minutes = time2.minute - time1.minute;\n  const seconds = time2.second - time1.second;\n  const milliseconds = time2.millisecond - time1.millisecond;\n  const microseconds = time2.microsecond - time1.microsecond;\n  const nanoseconds = time2.nanosecond - time1.nanosecond;\n  const timeDuration = TimeDuration.fromComponents(hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  assert(timeDuration.abs().sec < 86400, '_bt_.[[Days]] should be 0');\n  return timeDuration;\n}\n\nfunction DifferenceInstant(\n  ns1: JSBI,\n  ns2: JSBI,\n  increment: number,\n  smallestUnit: Temporal.TimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  let timeDuration = TimeDuration.fromEpochNsDiff(ns2, ns1);\n  timeDuration = RoundTimeDuration(timeDuration, increment, smallestUnit, roundingMode);\n  return CombineDateAndTimeDuration(ZeroDateDuration(), timeDuration);\n}\n\nfunction DifferenceISODateTime(\n  isoDateTime1: ISODateTime,\n  isoDateTime2: ISODateTime,\n  calendar: BuiltinCalendarId,\n  largestUnit: Temporal.DateTimeUnit\n) {\n  AssertISODateTimeWithinLimits(isoDateTime1);\n  AssertISODateTimeWithinLimits(isoDateTime2);\n  let timeDuration = DifferenceTime(isoDateTime1.time, isoDateTime2.time);\n\n  const timeSign = timeDuration.sign();\n  const dateSign = CompareISODate(isoDateTime1.isoDate, isoDateTime2.isoDate);\n\n  // back-off a day from date2 so that the signs of the date and time diff match\n  let adjustedDate = isoDateTime2.isoDate;\n  if (dateSign === timeSign) {\n    adjustedDate = BalanceISODate(adjustedDate.year, adjustedDate.month, adjustedDate.day + timeSign);\n    timeDuration = timeDuration.add24HourDays(-timeSign);\n  }\n\n  const dateLargestUnit = LargerOfTwoTemporalUnits('day', largestUnit) as Temporal.DateUnit;\n  const dateDifference = CalendarDateUntil(calendar, isoDateTime1.isoDate, adjustedDate, dateLargestUnit);\n  if (largestUnit !== dateLargestUnit) {\n    // largestUnit < days, so add the days in to the internal duration\n    timeDuration = timeDuration.add24HourDays(dateDifference.days);\n    dateDifference.days = 0;\n  }\n  return CombineDateAndTimeDuration(dateDifference, timeDuration);\n}\n\nfunction DifferenceZonedDateTime(\n  ns1: JSBI,\n  ns2: JSBI,\n  timeZone: string,\n  calendar: BuiltinCalendarId,\n  largestUnit: Temporal.DateTimeUnit\n) {\n  const nsDiff = JSBI.subtract(ns2, ns1);\n  if (JSBI.equal(nsDiff, ZERO)) return { date: ZeroDateDuration(), time: TimeDuration.ZERO };\n  const sign = JSBI.lessThan(nsDiff, ZERO) ? -1 : 1;\n\n  // Convert start/end instants to datetimes\n  const isoDtStart = GetISODateTimeFor(timeZone, ns1);\n  const isoDtEnd = GetISODateTimeFor(timeZone, ns2);\n\n  // Simulate moving ns1 as many years/months/weeks/days as possible without\n  // surpassing ns2. This value is stored in intermediateDateTime/intermediateInstant/intermediateNs.\n  // We do not literally move years/months/weeks/days with calendar arithmetic,\n  // but rather assume intermediateDateTime will have the same time-parts as\n  // dtStart and the date-parts from dtEnd, and move backward from there.\n  // The number of days we move backward is stored in dayCorrection.\n  // Credit to Adam Shaw for devising this algorithm.\n  let dayCorrection = 0;\n  let intermediateDateTime: ISODateTime | undefined;\n\n  // The max number of allowed day corrections depends on the direction of travel.\n  // Both directions allow for 1 day correction due to an ISO wall-clock overshoot (see below).\n  // Only the forward direction allows for an additional 1 day correction caused by a push-forward\n  // 'compatible' DST transition causing the wall-clock to overshoot again.\n  // This max value is inclusive.\n  let maxDayCorrection = sign === 1 ? 2 : 1;\n\n  // Detect ISO wall-clock overshoot.\n  // If the diff of the ISO wall-clock times is opposite to the overall diff's sign,\n  // we are guaranteed to need at least one day correction.\n  let timeDuration = DifferenceTime(isoDtStart.time, isoDtEnd.time);\n  if (timeDuration.sign() === -sign) {\n    dayCorrection++;\n  }\n\n  for (; dayCorrection <= maxDayCorrection; dayCorrection++) {\n    const intermediateDate = BalanceISODate(\n      isoDtEnd.isoDate.year,\n      isoDtEnd.isoDate.month,\n      isoDtEnd.isoDate.day - dayCorrection * sign\n    );\n\n    // Incorporate time parts from dtStart\n    intermediateDateTime = CombineISODateAndTimeRecord(intermediateDate, isoDtStart.time);\n\n    // Convert intermediate datetime to epoch-nanoseconds (may disambiguate)\n    const intermediateNs = GetEpochNanosecondsFor(timeZone, intermediateDateTime, 'compatible');\n\n    // Compute the nanosecond diff between the intermediate instant and the final destination\n    timeDuration = TimeDuration.fromEpochNsDiff(ns2, intermediateNs);\n\n    // Did intermediateNs NOT surpass ns2?\n    // If so, exit the loop with success (without incrementing dayCorrection past maxDayCorrection)\n    if (timeDuration.sign() !== -sign) {\n      break;\n    }\n  }\n\n  assert(dayCorrection <= maxDayCorrection, `more than ${maxDayCorrection} day correction needed`);\n\n  // Output of the above loop\n  assertExists(intermediateDateTime);\n\n  // Similar to what happens in DifferenceISODateTime with date parts only:\n  const dateLargestUnit = LargerOfTwoTemporalUnits('day', largestUnit) as Temporal.DateUnit;\n  const dateDifference = CalendarDateUntil(calendar, isoDtStart.isoDate, intermediateDateTime.isoDate, dateLargestUnit);\n  return CombineDateAndTimeDuration(dateDifference, timeDuration);\n}\n\n// Epoch-nanosecond bounding technique where the start/end of the calendar-unit\n// interval are converted to epoch-nanosecond times and destEpochNs is nudged to\n// either one.\nfunction NudgeToCalendarUnit(\n  sign: -1 | 1,\n  durationParam: InternalDuration,\n  destEpochNs: JSBI,\n  isoDateTime: ISODateTime,\n  timeZone: string | null,\n  calendar: BuiltinCalendarId,\n  increment: number,\n  unit: Temporal.DateUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  // unit must be day, week, month, or year\n  // timeZone may be undefined\n  let duration = durationParam;\n\n  // Create a duration with smallestUnit trunc'd towards zero\n  // Create a separate duration that incorporates roundingIncrement\n  let r1, r2, startDuration, endDuration;\n  switch (unit) {\n    case 'year': {\n      const years = RoundNumberToIncrement(duration.date.years, increment, 'trunc');\n      r1 = years;\n      r2 = years + increment * sign;\n      startDuration = { years: r1, months: 0, weeks: 0, days: 0 };\n      endDuration = { ...startDuration, years: r2 };\n      break;\n    }\n    case 'month': {\n      const months = RoundNumberToIncrement(duration.date.months, increment, 'trunc');\n      r1 = months;\n      r2 = months + increment * sign;\n      startDuration = AdjustDateDurationRecord(duration.date, 0, 0, r1);\n      endDuration = AdjustDateDurationRecord(duration.date, 0, 0, r2);\n      break;\n    }\n    case 'week': {\n      const yearsMonths = AdjustDateDurationRecord(duration.date, 0, 0);\n      const weeksStart = CalendarDateAdd(calendar, isoDateTime.isoDate, yearsMonths, 'constrain');\n      const weeksEnd = BalanceISODate(weeksStart.year, weeksStart.month, weeksStart.day + duration.date.days);\n      const untilResult = CalendarDateUntil(calendar, weeksStart, weeksEnd, 'week');\n      const weeks = RoundNumberToIncrement(duration.date.weeks + untilResult.weeks, increment, 'trunc');\n      r1 = weeks;\n      r2 = weeks + increment * sign;\n      startDuration = AdjustDateDurationRecord(duration.date, 0, r1);\n      endDuration = AdjustDateDurationRecord(duration.date, 0, r2);\n      break;\n    }\n    case 'day': {\n      const days = RoundNumberToIncrement(duration.date.days, increment, 'trunc');\n      r1 = days;\n      r2 = days + increment * sign;\n      startDuration = AdjustDateDurationRecord(duration.date, r1);\n      endDuration = AdjustDateDurationRecord(duration.date, r2);\n      break;\n    }\n    default:\n      /* c8 ignore next */ assertNotReached();\n  }\n\n  if (sign === 1) assert(r1 >= 0 && r1 < r2, `positive ordering of r1, r2: 0 ≤ ${r1} < ${r2}`);\n  if (sign === -1) assert(r1 <= 0 && r1 > r2, `negative ordering of r1, r2: 0 ≥ ${r1} > ${r2}`);\n\n  // Apply to origin, output PlainDateTimes\n  const start = CalendarDateAdd(calendar, isoDateTime.isoDate, startDuration, 'constrain');\n  const end = CalendarDateAdd(calendar, isoDateTime.isoDate, endDuration, 'constrain');\n\n  // Convert to epoch-nanoseconds\n  let startEpochNs, endEpochNs;\n  const startDateTime = CombineISODateAndTimeRecord(start, isoDateTime.time);\n  const endDateTime = CombineISODateAndTimeRecord(end, isoDateTime.time);\n  if (timeZone) {\n    startEpochNs = GetEpochNanosecondsFor(timeZone, startDateTime, 'compatible');\n    endEpochNs = GetEpochNanosecondsFor(timeZone, endDateTime, 'compatible');\n  } else {\n    startEpochNs = GetUTCEpochNanoseconds(startDateTime);\n    endEpochNs = GetUTCEpochNanoseconds(endDateTime);\n  }\n\n  // Round the smallestUnit within the epoch-nanosecond span\n  if (sign === 1) {\n    assert(\n      JSBI.lessThanOrEqual(startEpochNs, destEpochNs) && JSBI.lessThanOrEqual(destEpochNs, endEpochNs),\n      `${unit} was 0 days long`\n    );\n  }\n  if (sign === -1) {\n    assert(\n      JSBI.lessThanOrEqual(endEpochNs, destEpochNs) && JSBI.lessThanOrEqual(destEpochNs, startEpochNs),\n      `${unit} was 0 days long`\n    );\n  }\n  assert(!JSBI.equal(endEpochNs, startEpochNs), 'startEpochNs must ≠ endEpochNs');\n  const numerator = TimeDuration.fromEpochNsDiff(destEpochNs, startEpochNs);\n  const denominator = TimeDuration.fromEpochNsDiff(endEpochNs, startEpochNs);\n  const unsignedRoundingMode = GetUnsignedRoundingMode(roundingMode, sign < 0 ? 'negative' : 'positive');\n  const cmp = numerator.add(numerator).abs().subtract(denominator.abs()).sign();\n  const even = (Math.abs(r1) / increment) % 2 === 0;\n  // prettier-ignore\n  const roundedUnit = numerator.isZero()\n    ? Math.abs(r1)\n    : !numerator.cmp(denominator) // equal?\n      ? Math.abs(r2)\n      : ApplyUnsignedRoundingMode(Math.abs(r1), Math.abs(r2), cmp, even, unsignedRoundingMode);\n\n  // Trick to minimize rounding error, due to the lack of fma() in JS\n  const fakeNumerator = new TimeDuration(\n    JSBI.add(\n      JSBI.multiply(denominator.totalNs, JSBI.BigInt(r1)),\n      JSBI.multiply(numerator.totalNs, JSBI.BigInt(increment * sign))\n    )\n  );\n  const total = fakeNumerator.fdiv(denominator.totalNs);\n  assert(Math.abs(r1) <= Math.abs(total) && Math.abs(total) <= Math.abs(r2), 'r1 ≤ total ≤ r2');\n\n  // Determine whether expanded or contracted\n  const didExpandCalendarUnit = roundedUnit === Math.abs(r2);\n  duration = { date: didExpandCalendarUnit ? endDuration : startDuration, time: TimeDuration.ZERO };\n\n  const nudgeResult = {\n    duration,\n    nudgedEpochNs: didExpandCalendarUnit ? endEpochNs : startEpochNs,\n    didExpandCalendarUnit\n  };\n  return { nudgeResult, total };\n}\n\n// Attempts rounding of time units within a time zone's day, but if the rounding\n// causes time to exceed the total time within the day, rerun rounding in next\n// day.\nfunction NudgeToZonedTime(\n  sign: -1 | 1,\n  durationParam: InternalDuration,\n  isoDateTime: ISODateTime,\n  timeZone: string,\n  calendar: BuiltinCalendarId,\n  increment: number,\n  unit: Temporal.TimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  // unit must be hour or smaller\n  let duration = durationParam;\n\n  // Apply to origin, output start/end of the day as PlainDateTimes\n  const start = CalendarDateAdd(calendar, isoDateTime.isoDate, duration.date, 'constrain');\n  const startDateTime = CombineISODateAndTimeRecord(start, isoDateTime.time);\n  const endDate = BalanceISODate(start.year, start.month, start.day + sign);\n  const endDateTime = CombineISODateAndTimeRecord(endDate, isoDateTime.time);\n\n  // Compute the epoch-nanosecond start/end of the final whole-day interval\n  // If duration has negative sign, startEpochNs will be after endEpochNs\n  const startEpochNs = GetEpochNanosecondsFor(timeZone, startDateTime, 'compatible');\n  const endEpochNs = GetEpochNanosecondsFor(timeZone, endDateTime, 'compatible');\n\n  // The signed amount of time from the start of the whole-day interval to the end\n  const daySpan = TimeDuration.fromEpochNsDiff(endEpochNs, startEpochNs);\n  if (daySpan.sign() !== sign) throw new RangeError('time zone returned inconsistent Instants');\n\n  // Compute time parts of the duration to nanoseconds and round\n  // Result could be negative\n  const unitIncrement = JSBI.BigInt(NS_PER_TIME_UNIT[unit] * increment);\n  let roundedTimeDuration = duration.time.round(unitIncrement, roundingMode);\n\n  // Does the rounded time exceed the time-in-day?\n  const beyondDaySpan = roundedTimeDuration.subtract(daySpan);\n  const didRoundBeyondDay = beyondDaySpan.sign() !== -sign;\n\n  let dayDelta, nudgedEpochNs;\n  if (didRoundBeyondDay) {\n    // If rounded into next day, use the day-end as the local origin and rerun\n    // the rounding\n    dayDelta = sign;\n    roundedTimeDuration = beyondDaySpan.round(unitIncrement, roundingMode);\n    nudgedEpochNs = roundedTimeDuration.addToEpochNs(endEpochNs);\n  } else {\n    // Otherwise, if time not rounded beyond day, use the day-start as the local\n    // origin\n    dayDelta = 0;\n    nudgedEpochNs = roundedTimeDuration.addToEpochNs(startEpochNs);\n  }\n\n  const dateDuration = AdjustDateDurationRecord(duration.date, duration.date.days + dayDelta);\n  const resultDuration = CombineDateAndTimeDuration(dateDuration, roundedTimeDuration);\n  return {\n    duration: resultDuration,\n    nudgedEpochNs,\n    didExpandCalendarUnit: didRoundBeyondDay\n  };\n}\n\n// Converts all fields to nanoseconds and does integer rounding.\nfunction NudgeToDayOrTime(\n  durationParam: InternalDuration,\n  destEpochNs: JSBI,\n  largestUnit: Temporal.DateTimeUnit,\n  increment: number,\n  smallestUnit: Temporal.TimeUnit | 'day',\n  roundingMode: Temporal.RoundingMode\n) {\n  // unit must be day or smaller\n  let duration = durationParam;\n\n  const timeDuration = duration.time.add24HourDays(duration.date.days);\n  // Convert to nanoseconds and round\n  const roundedTime = timeDuration.round(JSBI.BigInt(increment * NS_PER_TIME_UNIT[smallestUnit]), roundingMode);\n  const diffTime = roundedTime.subtract(timeDuration);\n\n  // Determine if whole days expanded\n  const { quotient: wholeDays } = timeDuration.divmod(DAY_NANOS);\n  const { quotient: roundedWholeDays } = roundedTime.divmod(DAY_NANOS);\n  const didExpandDays = Math.sign(roundedWholeDays - wholeDays) === timeDuration.sign();\n\n  const nudgedEpochNs = diffTime.addToEpochNs(destEpochNs);\n\n  let days = 0;\n  let remainder = roundedTime;\n  if (TemporalUnitCategory(largestUnit) === 'date') {\n    days = roundedWholeDays;\n    remainder = roundedTime.add(TimeDuration.fromComponents(-roundedWholeDays * 24, 0, 0, 0, 0, 0));\n  }\n\n  const dateDuration = AdjustDateDurationRecord(duration.date, days);\n  return {\n    duration: { date: dateDuration, time: remainder },\n    nudgedEpochNs,\n    didExpandCalendarUnit: didExpandDays\n  };\n}\n\n// Given a potentially bottom-heavy duration, bubble up smaller units to larger\n// units. Any units smaller than smallestUnit are already zeroed-out.\nfunction BubbleRelativeDuration(\n  sign: -1 | 1,\n  durationParam: InternalDuration,\n  nudgedEpochNs: JSBI,\n  isoDateTime: ISODateTime,\n  timeZone: string | null,\n  calendar: BuiltinCalendarId,\n  largestUnit: Temporal.DateUnit,\n  smallestUnit: Temporal.DateUnit\n) {\n  // smallestUnit is day or larger\n  let duration = durationParam;\n\n  if (smallestUnit === largestUnit) return duration;\n\n  // Check to see if nudgedEpochNs has hit the boundary of any units higher than\n  // smallestUnit, in which case increment the higher unit and clear smaller\n  // units.\n  const largestUnitIndex = UNITS_DESCENDING.indexOf(largestUnit);\n  const smallestUnitIndex = UNITS_DESCENDING.indexOf(smallestUnit);\n  for (let unitIndex = smallestUnitIndex - 1; unitIndex >= largestUnitIndex; unitIndex--) {\n    // The only situation where days and smaller bubble-up into weeks is when\n    // largestUnit is 'week' (not to be confused with the situation where\n    // smallestUnit is 'week', in which case days and smaller are ROUNDED-up\n    // into weeks, but that has already happened by the time this function\n    // executes)\n    // So, if days and smaller are NOT bubbled-up into weeks, and the current\n    // unit is weeks, skip.\n    const unit = UNITS_DESCENDING[unitIndex];\n    if (unit === 'week' && largestUnit !== 'week') {\n      continue;\n    }\n\n    let endDuration;\n    switch (unit) {\n      case 'year': {\n        const years = duration.date.years + sign;\n        endDuration = { years, months: 0, weeks: 0, days: 0 };\n        break;\n      }\n      case 'month': {\n        const months = duration.date.months + sign;\n        endDuration = AdjustDateDurationRecord(duration.date, 0, 0, months);\n        break;\n      }\n      case 'week': {\n        const weeks = duration.date.weeks + sign;\n        endDuration = AdjustDateDurationRecord(duration.date, 0, weeks);\n        break;\n      }\n      default:\n        /* c8 ignore next */ assertNotReached();\n    }\n\n    // Compute end-of-unit in epoch-nanoseconds\n    const end = CalendarDateAdd(calendar, isoDateTime.isoDate, endDuration, 'constrain');\n    const endDateTime = CombineISODateAndTimeRecord(end, isoDateTime.time);\n    let endEpochNs;\n    if (timeZone) {\n      endEpochNs = GetEpochNanosecondsFor(timeZone, endDateTime, 'compatible');\n    } else {\n      endEpochNs = GetUTCEpochNanoseconds(endDateTime);\n    }\n\n    const didExpandToEnd = compare(nudgedEpochNs, endEpochNs) !== -sign;\n\n    // Is nudgedEpochNs at the end-of-unit? This means it should bubble-up to\n    // the next highest unit (and possibly further...)\n    if (didExpandToEnd) {\n      duration = { date: endDuration, time: TimeDuration.ZERO };\n    } else {\n      // NOT at end-of-unit. Stop looking for bubbling\n      break;\n    }\n  }\n\n  return duration;\n}\n\nfunction RoundRelativeDuration(\n  durationParam: InternalDuration,\n  destEpochNs: JSBI,\n  isoDateTime: ISODateTime,\n  timeZone: string | null,\n  calendar: BuiltinCalendarId,\n  largestUnitParam: Temporal.DateTimeUnit,\n  increment: number,\n  smallestUnit: Temporal.DateTimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  let duration = durationParam;\n  // The duration must already be balanced. This should be achieved by calling\n  // one of the non-rounding since/until internal methods prior. It's okay to\n  // have a bottom-heavy weeks because weeks don't bubble-up into months. It's\n  // okay to have >24 hour day assuming the final day of relativeTo+duration has\n  // >24 hours in its timezone. (should automatically end up like this if using\n  // non-rounding since/until internal methods prior)\n  const irregularLengthUnit = IsCalendarUnit(smallestUnit) || (timeZone && smallestUnit === 'day');\n  const sign = InternalDurationSign(duration) < 0 ? -1 : 1;\n\n  let nudgeResult;\n  if (irregularLengthUnit) {\n    // Rounding an irregular-length unit? Use epoch-nanosecond-bounding technique\n    ({ nudgeResult } = NudgeToCalendarUnit(\n      sign,\n      duration,\n      destEpochNs,\n      isoDateTime,\n      timeZone,\n      calendar,\n      increment,\n      smallestUnit,\n      roundingMode\n    ));\n  } else if (timeZone) {\n    // Special-case for rounding time units within a zoned day\n    uncheckedAssertNarrowedType<Temporal.TimeUnit>(\n      smallestUnit,\n      'other values handled in irregularLengthUnit clause above'\n    );\n    nudgeResult = NudgeToZonedTime(\n      sign,\n      duration,\n      isoDateTime,\n      timeZone,\n      calendar,\n      increment,\n      smallestUnit,\n      roundingMode\n    );\n  } else {\n    // Rounding uniform-length days/hours/minutes/etc units. Simple nanosecond\n    // math. years/months/weeks unchanged\n    nudgeResult = NudgeToDayOrTime(duration, destEpochNs, largestUnitParam, increment, smallestUnit, roundingMode);\n  }\n\n  duration = nudgeResult.duration;\n  // Did nudging cause the duration to expand to the next day or larger?\n  // Bubble-up smaller calendar units into higher ones, except for weeks, which\n  // don't balance up into months\n  if (nudgeResult.didExpandCalendarUnit && smallestUnit !== 'week') {\n    uncheckedAssertNarrowedType<Temporal.DateUnit>(\n      largestUnitParam,\n      'if we expanded to a calendar unit, then largestUnit is a calendar unit'\n    );\n    duration = BubbleRelativeDuration(\n      sign,\n      duration,\n      nudgeResult.nudgedEpochNs, // The destEpochNs after expanding/contracting\n      isoDateTime,\n      timeZone,\n      calendar,\n      largestUnitParam, // where to STOP bubbling\n      LargerOfTwoTemporalUnits(smallestUnit, 'day') as Temporal.DateUnit // where to START bubbling-up from\n    );\n  }\n\n  return duration;\n}\n\nfunction TotalRelativeDuration(\n  duration: InternalDuration,\n  destEpochNs: JSBI,\n  isoDateTime: ISODateTime,\n  timeZone: string | null,\n  calendar: BuiltinCalendarId,\n  unit: Temporal.DateTimeUnit\n) {\n  // The duration must already be balanced. This should be achieved by calling\n  // one of the non-rounding since/until internal methods prior. It's okay to\n  // have a bottom-heavy weeks because weeks don't bubble-up into months. It's\n  // okay to have >24 hour day assuming the final day of relativeTo+duration has\n  // >24 hours in its timezone. (should automatically end up like this if using\n  // non-rounding since/until internal methods prior)\n  if (IsCalendarUnit(unit) || (timeZone && unit === 'day')) {\n    // Rounding an irregular-length unit? Use epoch-nanosecond-bounding technique\n    const sign = InternalDurationSign(duration) < 0 ? -1 : 1;\n    return NudgeToCalendarUnit(sign, duration, destEpochNs, isoDateTime, timeZone, calendar, 1, unit, 'trunc').total;\n  }\n  // Rounding uniform-length days/hours/minutes/etc units. Simple nanosecond\n  // math. years/months/weeks unchanged\n  const timeDuration = duration.time.add24HourDays(duration.date.days);\n  return TotalTimeDuration(timeDuration, unit);\n}\n\nexport function DifferencePlainDateTimeWithRounding(\n  isoDateTime1: ISODateTime,\n  isoDateTime2: ISODateTime,\n  calendar: BuiltinCalendarId,\n  largestUnit: Temporal.DateTimeUnit,\n  roundingIncrement: number,\n  smallestUnit: Temporal.DateTimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  if (CompareISODateTime(isoDateTime1, isoDateTime2) == 0) {\n    return { date: ZeroDateDuration(), time: TimeDuration.ZERO };\n  }\n\n  RejectDateTimeRange(isoDateTime1);\n  RejectDateTimeRange(isoDateTime2);\n  const duration = DifferenceISODateTime(isoDateTime1, isoDateTime2, calendar, largestUnit);\n\n  if (smallestUnit === 'nanosecond' && roundingIncrement === 1) return duration;\n\n  const destEpochNs = GetUTCEpochNanoseconds(isoDateTime2);\n  return RoundRelativeDuration(\n    duration,\n    destEpochNs,\n    isoDateTime1,\n    null,\n    calendar,\n    largestUnit,\n    roundingIncrement,\n    smallestUnit,\n    roundingMode\n  );\n}\n\nexport function DifferencePlainDateTimeWithTotal(\n  isoDateTime1: ISODateTime,\n  isoDateTime2: ISODateTime,\n  calendar: BuiltinCalendarId,\n  unit: Temporal.DateTimeUnit\n) {\n  if (CompareISODateTime(isoDateTime1, isoDateTime2) == 0) return 0;\n\n  RejectDateTimeRange(isoDateTime1);\n  RejectDateTimeRange(isoDateTime2);\n  const duration = DifferenceISODateTime(isoDateTime1, isoDateTime2, calendar, unit);\n\n  if (unit === 'nanosecond') return JSBI.toNumber(duration.time.totalNs);\n\n  const destEpochNs = GetUTCEpochNanoseconds(isoDateTime2);\n  return TotalRelativeDuration(duration, destEpochNs, isoDateTime1, null, calendar, unit);\n}\n\nexport function DifferenceZonedDateTimeWithRounding(\n  ns1: JSBI,\n  ns2: JSBI,\n  timeZone: string,\n  calendar: BuiltinCalendarId,\n  largestUnit: Temporal.DateTimeUnit,\n  roundingIncrement: number,\n  smallestUnit: Temporal.DateTimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  if (TemporalUnitCategory(largestUnit) === 'time') {\n    // The user is only asking for a time difference, so return difference of instants.\n    return DifferenceInstant(ns1, ns2, roundingIncrement, smallestUnit as Temporal.TimeUnit, roundingMode);\n  }\n\n  const duration = DifferenceZonedDateTime(ns1, ns2, timeZone, calendar, largestUnit);\n\n  if (smallestUnit === 'nanosecond' && roundingIncrement === 1) return duration;\n\n  const dateTime = GetISODateTimeFor(timeZone, ns1);\n  return RoundRelativeDuration(\n    duration,\n    ns2,\n    dateTime,\n    timeZone,\n    calendar,\n    largestUnit,\n    roundingIncrement,\n    smallestUnit,\n    roundingMode\n  );\n}\n\nexport function DifferenceZonedDateTimeWithTotal(\n  ns1: JSBI,\n  ns2: JSBI,\n  timeZone: string,\n  calendar: BuiltinCalendarId,\n  unit: Temporal.DateTimeUnit\n) {\n  if (TemporalUnitCategory(unit) === 'time') {\n    // The user is only asking for a time difference, so return difference of instants.\n    return TotalTimeDuration(TimeDuration.fromEpochNsDiff(ns2, ns1), unit as Temporal.TimeUnit);\n  }\n\n  const duration = DifferenceZonedDateTime(ns1, ns2, timeZone, calendar, unit);\n  const dateTime = GetISODateTimeFor(timeZone, ns1);\n  return TotalRelativeDuration(duration, ns2, dateTime, timeZone, calendar, unit);\n}\n\ntype DifferenceOperation = 'since' | 'until';\n\nfunction GetDifferenceSettings<T extends Temporal.DateTimeUnit>(\n  op: DifferenceOperation,\n  options: Temporal.DifferenceOptions<T>,\n  group: 'datetime' | 'date' | 'time',\n  disallowed: (Temporal.DateTimeUnit | 'auto')[],\n  fallbackSmallest: T,\n  smallestLargestDefaultUnit: T\n) {\n  const ALLOWED_UNITS = TEMPORAL_UNITS.reduce((allowed, unitInfo) => {\n    const p = unitInfo[0];\n    const s = unitInfo[1];\n    const c = unitInfo[2];\n    if ((group === 'datetime' || c === group) && !disallowed.includes(s)) {\n      allowed.push(s, p);\n    }\n    return allowed;\n  }, [] as (Temporal.DateTimeUnit | Temporal.PluralUnit<Temporal.DateTimeUnit>)[]);\n\n  let largestUnit = GetTemporalUnitValuedOption(options, 'largestUnit', group, 'auto');\n  if (disallowed.includes(largestUnit)) {\n    throw new RangeError(`largestUnit must be one of ${ALLOWED_UNITS.join(', ')}, not ${largestUnit}`);\n  }\n\n  const roundingIncrement = GetTemporalRoundingIncrementOption(options);\n\n  let roundingMode = GetRoundingModeOption(options, 'trunc');\n  if (op === 'since') roundingMode = NegateRoundingMode(roundingMode);\n\n  const smallestUnit = GetTemporalUnitValuedOption(options, 'smallestUnit', group, fallbackSmallest);\n  if (disallowed.includes(smallestUnit)) {\n    throw new RangeError(`smallestUnit must be one of ${ALLOWED_UNITS.join(', ')}, not ${smallestUnit}`);\n  }\n\n  const defaultLargestUnit = LargerOfTwoTemporalUnits(smallestLargestDefaultUnit, smallestUnit);\n  if (largestUnit === 'auto') largestUnit = defaultLargestUnit;\n  if (LargerOfTwoTemporalUnits(largestUnit, smallestUnit) !== largestUnit) {\n    throw new RangeError(`largestUnit ${largestUnit} cannot be smaller than smallestUnit ${smallestUnit}`);\n  }\n  const MAX_DIFFERENCE_INCREMENTS: { [k in Temporal.DateTimeUnit]?: number } = {\n    hour: 24,\n    minute: 60,\n    second: 60,\n    millisecond: 1000,\n    microsecond: 1000,\n    nanosecond: 1000\n  };\n  const maximum = MAX_DIFFERENCE_INCREMENTS[smallestUnit];\n  if (maximum !== undefined) ValidateTemporalRoundingIncrement(roundingIncrement, maximum, false);\n\n  return { largestUnit: largestUnit as T, roundingIncrement, roundingMode, smallestUnit: smallestUnit as T };\n}\n\nexport function DifferenceTemporalInstant(\n  operation: DifferenceOperation,\n  instant: Temporal.Instant,\n  otherParam: InstantParams['until'][0],\n  options: InstantParams['until'][1]\n) {\n  const other = ToTemporalInstant(otherParam);\n\n  const resolvedOptions = GetOptionsObject(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'time', [], 'nanosecond', 'second');\n\n  const onens = GetSlot(instant, EPOCHNANOSECONDS);\n  const twons = GetSlot(other, EPOCHNANOSECONDS);\n  const duration = DifferenceInstant(\n    onens,\n    twons,\n    settings.roundingIncrement,\n    settings.smallestUnit,\n    settings.roundingMode\n  );\n  let result = TemporalDurationFromInternal(duration, settings.largestUnit);\n  if (operation === 'since') result = CreateNegatedTemporalDuration(result);\n  return result;\n}\n\nexport function DifferenceTemporalPlainDate(\n  operation: DifferenceOperation,\n  plainDate: Temporal.PlainDate,\n  otherParam: PlainDateParams['until'][0],\n  options: PlainDateParams['until'][1]\n) {\n  const other = ToTemporalDate(otherParam);\n  const calendar = GetSlot(plainDate, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  if (!CalendarEquals(calendar, otherCalendar)) {\n    throw new RangeError(`cannot compute difference between dates of ${calendar} and ${otherCalendar} calendars`);\n  }\n\n  const resolvedOptions = GetOptionsObject(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'date', [], 'day', 'day');\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  const isoDate = GetSlot(plainDate, ISO_DATE);\n  const isoOther = GetSlot(other, ISO_DATE);\n  if (CompareISODate(isoDate, isoOther) === 0) return new Duration();\n\n  const dateDifference = CalendarDateUntil(calendar, isoDate, isoOther, settings.largestUnit);\n\n  let duration = { date: dateDifference, time: TimeDuration.ZERO };\n  const roundingIsNoop = settings.smallestUnit === 'day' && settings.roundingIncrement === 1;\n  if (!roundingIsNoop) {\n    const isoDateTime = CombineISODateAndTimeRecord(isoDate, MidnightTimeRecord());\n    const isoDateTimeOther = CombineISODateAndTimeRecord(isoOther, MidnightTimeRecord());\n    const destEpochNs = GetUTCEpochNanoseconds(isoDateTimeOther);\n    duration = RoundRelativeDuration(\n      duration,\n      destEpochNs,\n      isoDateTime,\n      null,\n      calendar,\n      settings.largestUnit,\n      settings.roundingIncrement,\n      settings.smallestUnit,\n      settings.roundingMode\n    );\n  }\n\n  let result = TemporalDurationFromInternal(duration, 'day');\n  if (operation === 'since') result = CreateNegatedTemporalDuration(result);\n  return result;\n}\n\nexport function DifferenceTemporalPlainDateTime(\n  operation: DifferenceOperation,\n  plainDateTime: Temporal.PlainDateTime,\n  otherParam: PlainDateTimeParams['until'][0],\n  options: PlainDateTimeParams['until'][1]\n) {\n  const other = ToTemporalDateTime(otherParam);\n  const calendar = GetSlot(plainDateTime, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  if (!CalendarEquals(calendar, otherCalendar)) {\n    throw new RangeError(`cannot compute difference between dates of ${calendar} and ${otherCalendar} calendars`);\n  }\n\n  const resolvedOptions = GetOptionsObject(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'datetime', [], 'nanosecond', 'day');\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  const isoDateTime1 = GetSlot(plainDateTime, ISO_DATE_TIME);\n  const isoDateTime2 = GetSlot(other, ISO_DATE_TIME);\n  if (CompareISODateTime(isoDateTime1, isoDateTime2) === 0) return new Duration();\n\n  const duration = DifferencePlainDateTimeWithRounding(\n    isoDateTime1,\n    isoDateTime2,\n    calendar,\n    settings.largestUnit,\n    settings.roundingIncrement,\n    settings.smallestUnit,\n    settings.roundingMode\n  );\n\n  let result = TemporalDurationFromInternal(duration, settings.largestUnit);\n  if (operation === 'since') result = CreateNegatedTemporalDuration(result);\n  return result;\n}\n\nexport function DifferenceTemporalPlainTime(\n  operation: DifferenceOperation,\n  plainTime: Temporal.PlainTime,\n  otherParam: PlainTimeParams['until'][0],\n  options: PlainTimeParams['until'][1]\n) {\n  const other = ToTemporalTime(otherParam);\n\n  const resolvedOptions = GetOptionsObject(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'time', [], 'nanosecond', 'hour');\n\n  let timeDuration = DifferenceTime(GetSlot(plainTime, TIME), GetSlot(other, TIME));\n  timeDuration = RoundTimeDuration(\n    timeDuration,\n    settings.roundingIncrement,\n    settings.smallestUnit,\n    settings.roundingMode\n  );\n  const duration = CombineDateAndTimeDuration(ZeroDateDuration(), timeDuration);\n\n  let result = TemporalDurationFromInternal(duration, settings.largestUnit);\n  if (operation === 'since') result = CreateNegatedTemporalDuration(result);\n  return result;\n}\n\nexport function DifferenceTemporalPlainYearMonth(\n  operation: DifferenceOperation,\n  yearMonth: Temporal.PlainYearMonth,\n  otherParam: PlainYearMonthParams['until'][0],\n  options: PlainYearMonthParams['until'][1]\n) {\n  const other = ToTemporalYearMonth(otherParam);\n  const calendar = GetSlot(yearMonth, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  if (!CalendarEquals(calendar, otherCalendar)) {\n    throw new RangeError(`cannot compute difference between months of ${calendar} and ${otherCalendar} calendars`);\n  }\n\n  const resolvedOptions = GetOptionsObject(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'date', ['week', 'day'], 'month', 'year');\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  if (CompareISODate(GetSlot(yearMonth, ISO_DATE), GetSlot(other, ISO_DATE)) == 0) {\n    return new Duration();\n  }\n\n  const thisFields: CalendarFieldsRecord = ISODateToFields(calendar, GetSlot(yearMonth, ISO_DATE), 'year-month');\n  thisFields.day = 1;\n  const thisDate = CalendarDateFromFields(calendar, thisFields, 'constrain');\n  const otherFields: CalendarFieldsRecord = ISODateToFields(calendar, GetSlot(other, ISO_DATE), 'year-month');\n  otherFields.day = 1;\n  const otherDate = CalendarDateFromFields(calendar, otherFields, 'constrain');\n\n  const dateDifference = CalendarDateUntil(calendar, thisDate, otherDate, settings.largestUnit);\n  let duration = { date: AdjustDateDurationRecord(dateDifference, 0, 0), time: TimeDuration.ZERO };\n  if (settings.smallestUnit !== 'month' || settings.roundingIncrement !== 1) {\n    const isoDateTime = CombineISODateAndTimeRecord(thisDate, MidnightTimeRecord());\n    const isoDateTimeOther = CombineISODateAndTimeRecord(otherDate, MidnightTimeRecord());\n    const destEpochNs = GetUTCEpochNanoseconds(isoDateTimeOther);\n    duration = RoundRelativeDuration(\n      duration,\n      destEpochNs,\n      isoDateTime,\n      null,\n      calendar,\n      settings.largestUnit,\n      settings.roundingIncrement,\n      settings.smallestUnit,\n      settings.roundingMode\n    );\n  }\n\n  let result = TemporalDurationFromInternal(duration, 'day');\n  if (operation === 'since') result = CreateNegatedTemporalDuration(result);\n  return result;\n}\n\nexport function DifferenceTemporalZonedDateTime(\n  operation: DifferenceOperation,\n  zonedDateTime: Temporal.ZonedDateTime,\n  otherParam: ZonedDateTimeParams['until'][0],\n  options: ZonedDateTimeParams['until'][1]\n) {\n  const other = ToTemporalZonedDateTime(otherParam);\n  const calendar = GetSlot(zonedDateTime, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  if (!CalendarEquals(calendar, otherCalendar)) {\n    throw new RangeError(`cannot compute difference between dates of ${calendar} and ${otherCalendar} calendars`);\n  }\n\n  const resolvedOptions = GetOptionsObject(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'datetime', [], 'nanosecond', 'hour');\n\n  const ns1 = GetSlot(zonedDateTime, EPOCHNANOSECONDS);\n  const ns2 = GetSlot(other, EPOCHNANOSECONDS);\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n\n  let result;\n  if (TemporalUnitCategory(settings.largestUnit) !== 'date') {\n    // The user is only asking for a time difference, so return difference of instants.\n    const duration = DifferenceInstant(\n      ns1,\n      ns2,\n      settings.roundingIncrement,\n      settings.smallestUnit as Temporal.TimeUnit,\n      settings.roundingMode\n    );\n    result = TemporalDurationFromInternal(duration, settings.largestUnit);\n  } else {\n    const timeZone = GetSlot(zonedDateTime, TIME_ZONE);\n    if (!TimeZoneEquals(timeZone, GetSlot(other, TIME_ZONE))) {\n      throw new RangeError(\n        \"When calculating difference between time zones, largestUnit must be 'hours' \" +\n          'or smaller because day lengths can vary between time zones due to DST or time zone offset changes.'\n      );\n    }\n\n    if (JSBI.equal(ns1, ns2)) return new Duration();\n\n    const duration = DifferenceZonedDateTimeWithRounding(\n      ns1,\n      ns2,\n      timeZone,\n      calendar,\n      settings.largestUnit,\n      settings.roundingIncrement,\n      settings.smallestUnit,\n      settings.roundingMode\n    );\n    result = TemporalDurationFromInternal(duration, 'hour');\n  }\n\n  if (operation === 'since') result = CreateNegatedTemporalDuration(result);\n  return result;\n}\n\nexport function AddTime(\n  { hour, minute, second: secondParam, millisecond, microsecond, nanosecond: nanosecondParam }: TimeRecord,\n  timeDuration: TimeDuration\n) {\n  let second = secondParam;\n  let nanosecond = nanosecondParam;\n\n  second += timeDuration.sec;\n  nanosecond += timeDuration.subsec;\n  return BalanceTime(hour, minute, second, millisecond, microsecond, nanosecond);\n}\n\nfunction AddInstant(epochNanoseconds: JSBI, timeDuration: TimeDuration) {\n  const result = timeDuration.addToEpochNs(epochNanoseconds);\n  ValidateEpochNanoseconds(result);\n  return result;\n}\n\nexport function AddZonedDateTime(\n  epochNs: JSBI,\n  timeZone: string,\n  calendar: BuiltinCalendarId,\n  duration: InternalDuration,\n  overflow: Overflow = 'constrain'\n) {\n  // If only time is to be added, then use Instant math. It's not OK to fall\n  // through to the date/time code below because compatible disambiguation in\n  // the PlainDateTime=>Instant conversion will change the offset of any\n  // ZonedDateTime in the repeated clock time after a backwards transition.\n  // When adding/subtracting time units and not dates, this disambiguation is\n  // not expected and so is avoided below via a fast path for time-only\n  // arithmetic.\n  // BTW, this behavior is similar in spirit to offset: 'prefer' in `with`.\n  if (DateDurationSign(duration.date) === 0) return AddInstant(epochNs, duration.time);\n\n  // RFC 5545 requires the date portion to be added in calendar days and the\n  // time portion to be added in exact time.\n  const dt = GetISODateTimeFor(timeZone, epochNs);\n  const addedDate = CalendarDateAdd(calendar, dt.isoDate, duration.date, overflow);\n  const dtIntermediate = CombineISODateAndTimeRecord(addedDate, dt.time);\n\n  // Note that 'compatible' is used below because this disambiguation behavior\n  // is required by RFC 5545.\n  const intermediateNs = GetEpochNanosecondsFor(timeZone, dtIntermediate, 'compatible');\n  return AddInstant(intermediateNs, duration.time);\n}\n\ntype AddSubtractOperation = 'add' | 'subtract';\n\nexport function AddDurations(\n  operation: AddSubtractOperation,\n  duration: Temporal.Duration,\n  otherParam: DurationParams['add'][0]\n) {\n  let other = ToTemporalDuration(otherParam);\n  if (operation === 'subtract') other = CreateNegatedTemporalDuration(other);\n\n  const largestUnit1 = DefaultTemporalLargestUnit(duration);\n  const largestUnit2 = DefaultTemporalLargestUnit(other);\n  const largestUnit = LargerOfTwoTemporalUnits(largestUnit1, largestUnit2);\n  if (IsCalendarUnit(largestUnit)) {\n    throw new RangeError('For years, months, or weeks arithmetic, use date arithmetic relative to a starting point');\n  }\n\n  const d1 = ToInternalDurationRecordWith24HourDays(duration);\n  const d2 = ToInternalDurationRecordWith24HourDays(other);\n  const result = CombineDateAndTimeDuration(ZeroDateDuration(), d1.time.add(d2.time));\n  return TemporalDurationFromInternal(result, largestUnit);\n}\n\nexport function AddDurationToInstant(\n  operation: AddSubtractOperation,\n  instant: Temporal.Instant,\n  durationLike: InstantParams['add'][0]\n) {\n  let duration = ToTemporalDuration(durationLike);\n  if (operation === 'subtract') duration = CreateNegatedTemporalDuration(duration);\n  const largestUnit = DefaultTemporalLargestUnit(duration);\n  if (TemporalUnitCategory(largestUnit) === 'date') {\n    throw new RangeError(\n      `Duration field ${largestUnit} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`\n    );\n  }\n  const internalDuration = ToInternalDurationRecordWith24HourDays(duration);\n  const ns = AddInstant(GetSlot(instant, EPOCHNANOSECONDS), internalDuration.time);\n  return CreateTemporalInstant(ns);\n}\n\nexport function AddDurationToDate(\n  operation: AddSubtractOperation,\n  plainDate: Temporal.PlainDate,\n  durationLike: PlainDateParams['add'][0],\n  options: PlainDateParams['add'][1]\n) {\n  const calendar = GetSlot(plainDate, CALENDAR);\n\n  let duration = ToTemporalDuration(durationLike);\n  if (operation === 'subtract') duration = CreateNegatedTemporalDuration(duration);\n  const dateDuration = ToDateDurationRecordWithoutTime(duration);\n\n  const resolvedOptions = GetOptionsObject(options);\n  const overflow = GetTemporalOverflowOption(resolvedOptions);\n\n  const addedDate = CalendarDateAdd(calendar, GetSlot(plainDate, ISO_DATE), dateDuration, overflow);\n  return CreateTemporalDate(addedDate, calendar);\n}\n\nexport function AddDurationToDateTime(\n  operation: AddSubtractOperation,\n  dateTime: Temporal.PlainDateTime,\n  durationLike: PlainDateTimeParams['add'][0],\n  options: PlainDateTimeParams['add'][1]\n) {\n  let duration = ToTemporalDuration(durationLike);\n  if (operation === 'subtract') duration = CreateNegatedTemporalDuration(duration);\n  const resolvedOptions = GetOptionsObject(options);\n  const overflow = GetTemporalOverflowOption(resolvedOptions);\n\n  const calendar = GetSlot(dateTime, CALENDAR);\n\n  const internalDuration = ToInternalDurationRecordWith24HourDays(duration);\n\n  // Add the time part\n  const isoDateTime = GetSlot(dateTime, ISO_DATE_TIME);\n  const timeResult = AddTime(isoDateTime.time, internalDuration.time);\n  const dateDuration = AdjustDateDurationRecord(internalDuration.date, timeResult.deltaDays);\n\n  // Delegate the date part addition to the calendar\n  RejectDuration(dateDuration.years, dateDuration.months, dateDuration.weeks, dateDuration.days, 0, 0, 0, 0, 0, 0);\n  const addedDate = CalendarDateAdd(calendar, isoDateTime.isoDate, dateDuration, overflow);\n\n  const result = CombineISODateAndTimeRecord(addedDate, timeResult);\n  return CreateTemporalDateTime(result, calendar);\n}\n\nexport function AddDurationToTime(\n  operation: AddSubtractOperation,\n  temporalTime: Temporal.PlainTime,\n  durationLike: PlainTimeParams['add'][0]\n) {\n  let duration = ToTemporalDuration(durationLike);\n  if (operation === 'subtract') duration = CreateNegatedTemporalDuration(duration);\n  const internalDuration = ToInternalDurationRecordWith24HourDays(duration);\n  const { hour, minute, second, millisecond, microsecond, nanosecond } = AddTime(\n    GetSlot(temporalTime, TIME),\n    internalDuration.time\n  );\n  const time = RegulateTime(hour, minute, second, millisecond, microsecond, nanosecond, 'reject');\n  return CreateTemporalTime(time);\n}\n\nexport function AddDurationToYearMonth(\n  operation: AddSubtractOperation,\n  yearMonth: Temporal.PlainYearMonth,\n  durationLike: PlainYearMonthParams['add'][0],\n  options: PlainYearMonthParams['add'][1]\n) {\n  let duration = ToTemporalDuration(durationLike);\n  if (operation === 'subtract') duration = CreateNegatedTemporalDuration(duration);\n  const resolvedOptions = GetOptionsObject(options);\n  const overflow = GetTemporalOverflowOption(resolvedOptions);\n  const sign = DurationSign(duration);\n\n  const calendar = GetSlot(yearMonth, CALENDAR);\n  const fields: CalendarFieldsRecord = ISODateToFields(calendar, GetSlot(yearMonth, ISO_DATE), 'year-month');\n  fields.day = 1;\n  let startDate = CalendarDateFromFields(calendar, fields, 'constrain');\n  if (sign < 0) {\n    const nextMonth = CalendarDateAdd(calendar, startDate, { months: 1 }, 'constrain');\n    startDate = BalanceISODate(nextMonth.year, nextMonth.month, nextMonth.day - 1);\n  }\n  const durationToAdd = ToDateDurationRecordWithoutTime(duration);\n  RejectDateRange(startDate);\n  const addedDate = CalendarDateAdd(calendar, startDate, durationToAdd, overflow);\n  const addedDateFields = ISODateToFields(calendar, addedDate, 'year-month');\n\n  const isoDate = CalendarYearMonthFromFields(calendar, addedDateFields, overflow);\n  return CreateTemporalYearMonth(isoDate, calendar);\n}\n\nexport function AddDurationToZonedDateTime(\n  operation: AddSubtractOperation,\n  zonedDateTime: Temporal.ZonedDateTime,\n  durationLike: ZonedDateTimeParams['add'][0],\n  options: ZonedDateTimeParams['add'][1]\n) {\n  let duration = ToTemporalDuration(durationLike);\n  if (operation === 'subtract') duration = CreateNegatedTemporalDuration(duration);\n\n  const resolvedOptions = GetOptionsObject(options);\n  const overflow = GetTemporalOverflowOption(resolvedOptions);\n  const timeZone = GetSlot(zonedDateTime, TIME_ZONE);\n  const calendar = GetSlot(zonedDateTime, CALENDAR);\n  const internalDuration = ToInternalDurationRecord(duration);\n  const epochNanoseconds = AddZonedDateTime(\n    GetSlot(zonedDateTime, EPOCHNANOSECONDS),\n    timeZone,\n    calendar,\n    internalDuration,\n    overflow\n  );\n  return CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar);\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function RoundNumberToIncrement(quantity: number, increment: number, mode: Temporal.RoundingMode) {\n  const quotient = Math.trunc(quantity / increment);\n  const remainder = quantity % increment;\n  const sign = quantity < 0 ? 'negative' : 'positive';\n  const r1 = Math.abs(quotient);\n  const r2 = r1 + 1;\n  const cmp = ComparisonResult(Math.abs(remainder * 2) - increment);\n  const even = r1 % 2 === 0;\n  const unsignedRoundingMode = GetUnsignedRoundingMode(mode, sign);\n  const rounded = remainder === 0 ? r1 : ApplyUnsignedRoundingMode(r1, r2, cmp, even, unsignedRoundingMode);\n  return increment * (sign === 'positive' ? rounded : -rounded);\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function RoundNumberToIncrementAsIfPositive(\n  quantityParam: JSBI | bigint,\n  incrementParam: JSBI | bigint,\n  mode: Temporal.RoundingMode\n) {\n  const quantity = ensureJSBI(quantityParam);\n  const increment = ensureJSBI(incrementParam);\n  const quotient = JSBI.divide(quantity, increment);\n  const remainder = JSBI.remainder(quantity, increment);\n  const unsignedRoundingMode = GetUnsignedRoundingMode(mode, 'positive');\n  let r1: JSBI, r2: JSBI;\n  if (JSBI.lessThan(quantity, ZERO)) {\n    r1 = JSBI.subtract(quotient, ONE);\n    r2 = quotient;\n  } else {\n    r1 = quotient;\n    r2 = JSBI.add(quotient, ONE);\n  }\n  // Similar to the comparison in RoundNumberToIncrement, but multiplied by an\n  // extra sign to make sure we treat it as positive\n  const cmp = (compare(abs(JSBI.multiply(remainder, TWO)), increment) * (JSBI.lessThan(quantity, ZERO) ? -1 : 1) +\n    0) as -1 | 0 | 1;\n  const rounded = JSBI.equal(remainder, ZERO)\n    ? quotient\n    : ApplyUnsignedRoundingMode(r1, r2, cmp, isEven(r1), unsignedRoundingMode);\n  return JSBI.multiply(rounded, increment);\n}\n\nexport function RoundTemporalInstant(\n  epochNs: JSBI,\n  increment: number,\n  unit: TimeUnitOrDay,\n  roundingMode: Temporal.RoundingMode\n) {\n  const incrementNs = NS_PER_TIME_UNIT[unit] * increment;\n  return RoundNumberToIncrementAsIfPositive(epochNs, JSBI.BigInt(incrementNs), roundingMode);\n}\n\nexport function RoundISODateTime(\n  isoDateTime: ISODateTime,\n  increment: number,\n  unit: UnitSmallerThanOrEqualTo<'day'>,\n  roundingMode: Temporal.RoundingMode\n) {\n  AssertISODateTimeWithinLimits(isoDateTime);\n  const { year, month, day } = isoDateTime.isoDate;\n  const time = RoundTime(isoDateTime.time, increment, unit, roundingMode);\n  const isoDate = BalanceISODate(year, month, day + time.deltaDays);\n  return CombineISODateAndTimeRecord(isoDate, time);\n}\n\nexport function RoundTime(\n  { hour, minute, second, millisecond, microsecond, nanosecond }: TimeRecord,\n  increment: number,\n  unit: TimeUnitOrDay,\n  roundingMode: Temporal.RoundingMode\n) {\n  let quantity;\n  switch (unit) {\n    case 'day':\n    case 'hour':\n      quantity = ((((hour * 60 + minute) * 60 + second) * 1000 + millisecond) * 1000 + microsecond) * 1000 + nanosecond;\n      break;\n    case 'minute':\n      quantity = (((minute * 60 + second) * 1000 + millisecond) * 1000 + microsecond) * 1000 + nanosecond;\n      break;\n    case 'second':\n      quantity = ((second * 1000 + millisecond) * 1000 + microsecond) * 1000 + nanosecond;\n      break;\n    case 'millisecond':\n      quantity = (millisecond * 1000 + microsecond) * 1000 + nanosecond;\n      break;\n    case 'microsecond':\n      quantity = microsecond * 1000 + nanosecond;\n      break;\n    case 'nanosecond':\n      quantity = nanosecond;\n  }\n  const nsPerUnit = NS_PER_TIME_UNIT[unit];\n  const result = RoundNumberToIncrement(quantity, nsPerUnit * increment, roundingMode) / nsPerUnit;\n  switch (unit) {\n    case 'day':\n      return { deltaDays: result, hour: 0, minute: 0, second: 0, millisecond: 0, microsecond: 0, nanosecond: 0 };\n    case 'hour':\n      return BalanceTime(result, 0, 0, 0, 0, 0);\n    case 'minute':\n      return BalanceTime(hour, result, 0, 0, 0, 0);\n    case 'second':\n      return BalanceTime(hour, minute, result, 0, 0, 0);\n    case 'millisecond':\n      return BalanceTime(hour, minute, second, result, 0, 0);\n    case 'microsecond':\n      return BalanceTime(hour, minute, second, millisecond, result, 0);\n    case 'nanosecond':\n      return BalanceTime(hour, minute, second, millisecond, microsecond, result);\n    default:\n      throw new Error(`Invalid unit ${unit}`);\n  }\n}\n\nexport function RoundTimeDuration(\n  timeDuration: TimeDuration,\n  increment: number,\n  unit: Temporal.TimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  // unit must be a time unit\n  const divisor = NS_PER_TIME_UNIT[unit];\n  return timeDuration.round(JSBI.BigInt(divisor * increment), roundingMode);\n}\n\nexport function TotalTimeDuration(timeDuration: TimeDuration, unit: TimeUnitOrDay) {\n  const divisor = NS_PER_TIME_UNIT[unit];\n  return timeDuration.fdiv(JSBI.BigInt(divisor));\n}\n\nexport function CompareISODate(isoDate1: ISODate, isoDate2: ISODate) {\n  if (isoDate1.year !== isoDate2.year) return ComparisonResult(isoDate1.year - isoDate2.year);\n  if (isoDate1.month !== isoDate2.month) return ComparisonResult(isoDate1.month - isoDate2.month);\n  if (isoDate1.day !== isoDate2.day) return ComparisonResult(isoDate1.day - isoDate2.day);\n  return 0;\n}\n\nexport function CompareTimeRecord(time1: TimeRecord, time2: TimeRecord) {\n  if (time1.hour !== time2.hour) return ComparisonResult(time1.hour - time2.hour);\n  if (time1.minute !== time2.minute) return ComparisonResult(time1.minute - time2.minute);\n  if (time1.second !== time2.second) return ComparisonResult(time1.second - time2.second);\n  if (time1.millisecond !== time2.millisecond) return ComparisonResult(time1.millisecond - time2.millisecond);\n  if (time1.microsecond !== time2.microsecond) return ComparisonResult(time1.microsecond - time2.microsecond);\n  if (time1.nanosecond !== time2.nanosecond) return ComparisonResult(time1.nanosecond - time2.nanosecond);\n  return 0;\n}\n\nexport function CompareISODateTime(isoDateTime1: ISODateTime, isoDateTime2: ISODateTime) {\n  const dateResult = CompareISODate(isoDateTime1.isoDate, isoDateTime2.isoDate);\n  if (dateResult !== 0) return dateResult;\n  return CompareTimeRecord(isoDateTime1.time, isoDateTime2.time);\n}\n\n// Defaults to native bigint, or something \"native bigint-like\".\n// For users of Temporal that are running in environments without native BigInt,\n// the only guarantee we should give is that the returned object's toString will\n// return a string containing an accurate base 10 value of this bigint. This\n// form factor should correctly interop with other bigint compat libraries\n// easily.\ntype ExternalBigInt = bigint;\n\nexport function ToBigIntExternal(arg: unknown): ExternalBigInt {\n  const jsbiBI = ToBigInt(arg);\n  if (typeof (globalThis as any).BigInt !== 'undefined') return (globalThis as any).BigInt(jsbiBI.toString(10));\n  return jsbiBI as unknown as ExternalBigInt;\n}\n\n// rounding modes supported: floor, ceil, trunc\nexport function epochNsToMs(epochNanosecondsParam: JSBI | bigint, mode: 'floor' | 'ceil' | 'trunc') {\n  const epochNanoseconds = ensureJSBI(epochNanosecondsParam);\n  const { quotient, remainder } = divmod(epochNanoseconds, MILLION);\n  let epochMilliseconds = JSBI.toNumber(quotient);\n  if (mode === 'floor' && JSBI.toNumber(remainder) < 0) epochMilliseconds -= 1;\n  if (mode === 'ceil' && JSBI.toNumber(remainder) > 0) epochMilliseconds += 1;\n  return epochMilliseconds;\n}\n\nexport function epochMsToNs(epochMilliseconds: number) {\n  if (!Number.isInteger(epochMilliseconds)) throw new RangeError('epoch milliseconds must be an integer');\n  return JSBI.multiply(JSBI.BigInt(epochMilliseconds), MILLION);\n}\n\nexport function ToBigInt(arg: unknown): JSBI {\n  let prim = arg;\n  if (typeof arg === 'object') {\n    const toPrimFn = (arg as { [Symbol.toPrimitive]: unknown })[Symbol.toPrimitive];\n    if (toPrimFn && typeof toPrimFn === 'function') {\n      prim = toPrimFn.call(arg, 'number');\n    }\n  }\n\n  // The AO ToBigInt throws on numbers because it does not allow implicit\n  // conversion between number and bigint (unlike the bigint constructor).\n  if (typeof prim === 'number') {\n    throw new TypeError('cannot convert number to bigint');\n  }\n  if (typeof prim === 'bigint') {\n    // JSBI doesn't know anything about the bigint type, and intentionally\n    // assumes it doesn't exist. Passing one to the BigInt function will throw\n    // an error.\n    return JSBI.BigInt(prim.toString(10));\n  }\n  // JSBI will properly coerce types into a BigInt the same as the native BigInt\n  // constructor will, with the exception of native bigint which is handled\n  // above.\n  // As of 2023-04-07, the only runtime type that neither of those can handle is\n  // 'symbol', and both native bigint and the JSBI.BigInt function will throw an\n  // error if they are given a Symbol.\n  return JSBI.BigInt(prim as string | boolean | object);\n}\n\n// Note: This method returns values with bogus nanoseconds based on the previous iteration's\n// milliseconds. That way there is a guarantee that the full nanoseconds are always going to be\n// increasing at least and that the microsecond and nanosecond fields are likely to be non-zero.\nexport const SystemUTCEpochNanoSeconds: () => JSBI = (() => {\n  let ns = JSBI.BigInt(Date.now() % 1e6);\n  return () => {\n    const now = Date.now();\n    const ms = JSBI.BigInt(now);\n    const result = JSBI.add(epochMsToNs(now), ns);\n    ns = JSBI.remainder(ms, MILLION);\n    if (JSBI.greaterThan(result, NS_MAX)) return NS_MAX;\n    if (JSBI.lessThan(result, NS_MIN)) return NS_MIN;\n    return result;\n  };\n})();\n\nexport function DefaultTimeZone() {\n  return new Intl.DateTimeFormat().resolvedOptions().timeZone;\n}\n\nexport function ComparisonResult(value: number) {\n  return value < 0 ? -1 : value > 0 ? 1 : (value as 0);\n}\n\nexport function GetOptionsObject<T>(options: T) {\n  if (options === undefined) return Object.create(null) as NonNullable<T>;\n  if (IsObject(options) && options !== null) return options;\n  throw new TypeError(`Options parameter must be an object, not ${options === null ? 'null' : `${typeof options}`}`);\n}\n\nexport function CreateOnePropObject<K extends string, V>(propName: K, propValue: V): { [k in K]: V } {\n  const o = Object.create(null);\n  o[propName] = propValue;\n  return o;\n}\n\ntype StringlyTypedKeys<T> = Exclude<keyof T, symbol | number>;\nfunction GetOption<P extends StringlyTypedKeys<O>, O extends Partial<Record<P, unknown>>>(\n  options: O,\n  property: P,\n  allowedValues: ReadonlyArray<O[P]>,\n  fallback: undefined\n): O[P];\nfunction GetOption<\n  P extends StringlyTypedKeys<O>,\n  O extends Partial<Record<P, unknown>>,\n  Fallback extends Required<O>[P] | typeof REQUIRED | undefined\n>(\n  options: O,\n  property: P,\n  allowedValues: ReadonlyArray<O[P]>,\n  fallback: Fallback\n): Fallback extends undefined ? O[P] | undefined : Required<O>[P];\nfunction GetOption<\n  P extends StringlyTypedKeys<O>,\n  O extends Partial<Record<P, unknown>>,\n  Fallback extends Required<O>[P] | undefined\n>(\n  options: O,\n  property: P,\n  allowedValues: ReadonlyArray<O[P]>,\n  fallback: O[P]\n): Fallback extends undefined ? O[P] | undefined : Required<O>[P] {\n  let value = options[property];\n  if (value !== undefined) {\n    value = ToString(value) as O[P];\n    if (!allowedValues.includes(value)) {\n      throw new RangeError(`${property} must be one of ${allowedValues.join(', ')}, not ${value}`);\n    }\n    return value;\n  }\n  if (fallback === REQUIRED) throw new RangeError(`${property} option is required`);\n  return fallback;\n}\n\n// This is a temporary implementation. Ideally we'd rely on Intl.DateTimeFormat\n// here, to provide the latest CLDR alias data, when implementations catch up to\n// the ECMA-402 change. The aliases below are taken from\n// https://github.com/unicode-org/cldr/blob/main/common/bcp47/calendar.xml\nexport function CanonicalizeCalendar(idParam: string): BuiltinCalendarId {\n  const id = ASCIILowercase(idParam);\n\n  if (!BUILTIN_CALENDAR_IDS.includes(ASCIILowercase(id))) {\n    throw new RangeError(`invalid calendar identifier ${id}`);\n  }\n  uncheckedAssertNarrowedType<BuiltinCalendarId>(id, 'above code throws out any non-calendar IDs');\n\n  switch (id) {\n    case 'ethiopic-amete-alem':\n      // May need to be removed in the future.\n      // See https://github.com/tc39/ecma402/issues/285\n      return 'ethioaa';\n    // case 'gregorian':\n    // (Skip 'gregorian'. It isn't a valid identifier as it's a single\n    // subcomponent longer than 8 letters. It can only be used with the old\n    // @key=value syntax.)\n    case 'islamicc':\n      return 'islamic-civil';\n  }\n  return id;\n}\n\nfunction ASCIILowercase<T extends string>(str: T): T {\n  // The spec defines this operation distinct from String.prototype.lowercase,\n  // so we'll follow the spec here. Note that nasty security issues that can\n  // happen for some use cases if you're comparing case-modified non-ASCII\n  // values. For example, Turkish's \"I\" character was the source of a security\n  // issue involving \"file://\" URLs. See\n  // https://haacked.com/archive/2012/07/05/turkish-i-problem-and-why-you-should-care.aspx/.\n  let lowercase = '';\n  for (let ix = 0; ix < str.length; ix++) {\n    const code = str.charCodeAt(ix);\n    if (code >= 0x41 && code <= 0x5a) {\n      lowercase += String.fromCharCode(code + 0x20);\n    } else {\n      lowercase += String.fromCharCode(code);\n    }\n  }\n  return lowercase as T;\n}\n\n// This function isn't in the spec, but we put it in the polyfill to avoid\n// repeating the same (long) error message in many files.\nexport function ValueOfThrows(constructorName: string): never {\n  const compareCode =\n    constructorName === 'PlainMonthDay'\n      ? 'Temporal.PlainDate.compare(obj1.toPlainDate(year), obj2.toPlainDate(year))'\n      : `Temporal.${constructorName}.compare(obj1, obj2)`;\n\n  throw new TypeError(\n    'Do not use built-in arithmetic operators with Temporal objects. ' +\n      `When comparing, use ${compareCode}, not obj1 > obj2. ` +\n      \"When coercing to strings, use `${obj}` or String(obj), not '' + obj. \" +\n      'When coercing to numbers, use properties or methods of the object, not `+obj`. ' +\n      'When concatenating with strings, use `${str}${obj}` or str.concat(obj), not str + obj. ' +\n      'In React, coerce to a string before rendering a Temporal object.'\n  );\n}\n\nconst OFFSET = new RegExp(`^${PARSE.offset.source}$`);\nconst OFFSET_WITH_PARTS = new RegExp(`^${PARSE.offsetWithParts.source}$`);\n\nfunction bisect(\n  getState: (epochMs: number) => number,\n  leftParam: number,\n  rightParam: number,\n  lstateParam = getState(leftParam),\n  rstateParam = getState(rightParam)\n) {\n  let left = leftParam;\n  let right = rightParam;\n  let lstate = lstateParam;\n  let rstate = rstateParam;\n  while (right - left > 1) {\n    let middle = Math.trunc((left + right) / 2);\n    const mstate = getState(middle);\n    if (mstate === lstate) {\n      left = middle;\n      lstate = mstate;\n    } else if (mstate === rstate) {\n      right = middle;\n      rstate = mstate;\n    } else {\n      /* c8 ignore next */ assertNotReached(`invalid state in bisection ${lstate} - ${mstate} - ${rstate}`);\n    }\n  }\n  return right;\n}\n", "import * as ES from './ecmascript';\nimport { DefineIntrinsic } from './intrinsicclass';\nimport type { Temporal } from '..';\nimport type {\n  BuiltinCalendarId,\n  CalendarDateRecord,\n  CalendarFieldsRecord,\n  CalendarYMD,\n  DateDuration,\n  FieldKey,\n  ISODate,\n  ISODateToFieldsType,\n  MonthDayFromFieldsObject,\n  Overflow,\n  Resolve\n} from './internaltypes';\n\nfunction arrayFromSet<T>(src: Set<T>): T[] {\n  return [...src];\n}\n\nfunction calendarDateWeekOfYear(id: BuiltinCalendarId, isoDate: ISODate): { week: number; year: number } | undefined {\n  // Supports only Gregorian and ISO8601 calendar; can be updated to add support for other calendars.\n  // Returns undefined for calendars without a well-defined week calendar system.\n  // eslint-disable-next-line max-len\n  // Also see: https://github.com/unicode-org/icu/blob/ab72ab1d4a3c3f9beeb7d92b0c7817ca93dfdb04/icu4c/source/i18n/calendar.cpp#L1606\n  if (id !== 'gregory' && id !== 'iso8601') return undefined;\n  const calendar = impl[id];\n  let yow = isoDate.year;\n  const { dayOfWeek, dayOfYear, daysInYear } = calendar.isoToDate(isoDate, {\n    dayOfWeek: true,\n    dayOfYear: true,\n    daysInYear: true\n  });\n  const fdow = calendar.getFirstDayOfWeek();\n  const mdow = calendar.getMinimalDaysInFirstWeek();\n  ES.uncheckedAssertNarrowedType<number>(fdow, 'guaranteed to exist for iso8601/gregory');\n  ES.uncheckedAssertNarrowedType<number>(mdow, 'guaranteed to exist for iso8601/gregory');\n\n  // For both the input date and the first day of its calendar year, calculate the day of week\n  // relative to first day of week in the relevant calendar (e.g., in iso8601, relative to Monday).\n  let relDow = (dayOfWeek + 7 - fdow) % 7;\n  // Assuming the year length is less than 7000 days.\n  let relDowJan1 = (dayOfWeek - dayOfYear + 7001 - fdow) % 7;\n\n  let woy = Math.floor((dayOfYear - 1 + relDowJan1) / 7);\n  if (7 - relDowJan1 >= mdow) {\n    ++woy;\n  }\n\n  // Adjust for weeks at the year end that overlap into the previous or next calendar year.\n  if (woy == 0) {\n    // Check for last week of previous year; if true, handle the case for\n    // first week of next year\n    const prevYearCalendar = calendar.isoToDate(calendar.dateAdd(isoDate, { years: -1 }, 'constrain'), {\n      daysInYear: true\n    });\n    let prevDoy = dayOfYear + prevYearCalendar.daysInYear;\n    woy = weekNumber(fdow, mdow, prevDoy, dayOfWeek);\n    yow--;\n  } else {\n    // For it to be week 1 of the next year, dayOfYear must be >= lastDoy - 5\n    //          L-5                  L\n    // doy: 359 360 361 362 363 364 365 001\n    // dow:      1   2   3   4   5   6   7\n    let lastDoy = daysInYear;\n    if (dayOfYear >= lastDoy - 5) {\n      let lastRelDow = (relDow + lastDoy - dayOfYear) % 7;\n      if (lastRelDow < 0) {\n        lastRelDow += 7;\n      }\n      if (6 - lastRelDow >= mdow && dayOfYear + 7 - relDow > lastDoy) {\n        woy = 1;\n        yow++;\n      }\n    }\n  }\n  return { week: woy, year: yow };\n}\n\nfunction ISODateSurpasses(sign: -1 | 0 | 1, y1: number, m1: number, d1: number, isoDate2: ISODate) {\n  if (y1 !== isoDate2.year) {\n    if (sign * (y1 - isoDate2.year) > 0) return true;\n  } else if (m1 !== isoDate2.month) {\n    if (sign * (m1 - isoDate2.month) > 0) return true;\n  } else if (d1 !== isoDate2.day) {\n    if (sign * (d1 - isoDate2.day) > 0) return true;\n  }\n  return false;\n}\n\ntype ResolveFieldsReturn<Type extends ISODateToFieldsType> = Resolve<\n  CalendarFieldsRecord & {\n    year: Type extends 'date' ? number : never;\n    month: number;\n    monthCode: string;\n    day: number;\n  }\n>;\n\n/**\n * Shape of internal implementation of each built-in calendar. Note that\n * parameter types are simpler than CalendarProtocol because the `Calendar`\n * class performs validation and parameter normalization before handing control\n * over to CalendarImpl.\n *\n * There are two instances of this interface: one for the ISO calendar and\n * another that handles logic that's the same across all non-ISO calendars. The\n * latter is cloned for each non-ISO calendar at the end of this file.\n */\nexport interface CalendarImpl {\n  isoToDate<\n    Request extends Partial<Record<keyof CalendarDateRecord, true>>,\n    T extends {\n      [Field in keyof CalendarDateRecord]: Request extends { [K in Field]: true } ? CalendarDateRecord[Field] : never;\n    }\n  >(\n    isoDate: ISODate,\n    requestedFields: Request\n  ): T;\n  getFirstDayOfWeek(): number | undefined;\n  getMinimalDaysInFirstWeek(): number | undefined;\n  resolveFields<Type extends ISODateToFieldsType>(\n    fields: CalendarFieldsRecord,\n    type: Type\n  ): asserts fields is ResolveFieldsReturn<Type>;\n  dateToISO(fields: ResolveFieldsReturn<'date'>, overflow: Overflow): ISODate;\n  monthDayToISOReferenceDate(fields: ResolveFieldsReturn<'month-day'>, overflow: Overflow): ISODate;\n  dateAdd(date: ISODate, duration: Partial<DateDuration>, overflow: Overflow): ISODate;\n  dateUntil(one: ISODate, two: ISODate, largestUnit: 'year' | 'month' | 'week' | 'day'): DateDuration;\n  extraFields(fields: FieldKey[]): FieldKey[];\n  fieldKeysToIgnore(keys: FieldKey[]): FieldKey[];\n}\n\ntype CalendarImplementations = {\n  [k in BuiltinCalendarId]: CalendarImpl;\n};\n\n/**\n * Implementations for each calendar.\n * Registration for each of these calendars happens throughout this file. The ISO and non-ISO calendars are registered\n * separately - look for 'iso8601' for the ISO calendar registration, and all non-ISO calendar registrations happens\n * at the bottom of the file.\n */\nconst impl: CalendarImplementations = {} as unknown as CalendarImplementations;\n\n/**\n * Implementation for the ISO 8601 calendar. This is the only calendar that's\n * guaranteed to be supported by all ECMAScript implementations, including those\n * without Intl (ECMA-402) support.\n */\nimpl['iso8601'] = {\n  resolveFields(fields, type) {\n    if ((type === 'date' || type === 'year-month') && fields.year === undefined) {\n      throw new TypeError('year is required');\n    }\n    if ((type === 'date' || type === 'month-day') && fields.day === undefined) {\n      throw new TypeError('day is required');\n    }\n    Object.assign(fields, resolveNonLunisolarMonth(fields));\n  },\n  dateToISO(fields, overflow) {\n    return ES.RegulateISODate(fields.year, fields.month, fields.day, overflow);\n  },\n  monthDayToISOReferenceDate(fields, overflow) {\n    const referenceISOYear = 1972;\n    const { month, day } = ES.RegulateISODate(fields.year ?? referenceISOYear, fields.month, fields.day, overflow);\n    return { month, day, year: referenceISOYear };\n  },\n  extraFields() {\n    return [];\n  },\n  fieldKeysToIgnore(keys) {\n    const result = new Set<FieldKey>();\n    for (let ix = 0; ix < keys.length; ix++) {\n      const key = keys[ix];\n      result.add(key);\n      if (key === 'month') {\n        result.add('monthCode');\n      } else if (key === 'monthCode') {\n        result.add('month');\n      }\n    }\n    return arrayFromSet(result);\n  },\n  dateAdd(isoDate, { years = 0, months = 0, weeks = 0, days = 0 }, overflow) {\n    let { year, month, day } = isoDate;\n    year += years;\n    month += months;\n    ({ year, month } = ES.BalanceISOYearMonth(year, month));\n    ({ year, month, day } = ES.RegulateISODate(year, month, day, overflow));\n    day += days + 7 * weeks;\n    return ES.BalanceISODate(year, month, day);\n  },\n  dateUntil(one, two, largestUnit) {\n    const sign = -ES.CompareISODate(one, two);\n    if (sign === 0) return { years: 0, months: 0, weeks: 0, days: 0 };\n    ES.uncheckedAssertNarrowedType<-1 | 1>(sign, \"the - operator's return type is number\");\n\n    let years = 0;\n    let months = 0;\n    let intermediate;\n    if (largestUnit === 'year' || largestUnit === 'month') {\n      // We can skip right to the neighbourhood of the correct number of years,\n      // it'll be at least one less than two.year - one.year (unless it's zero)\n      let candidateYears = two.year - one.year;\n      if (candidateYears !== 0) candidateYears -= sign;\n      // loops at most twice\n      while (!ISODateSurpasses(sign, one.year + candidateYears, one.month, one.day, two)) {\n        years = candidateYears;\n        candidateYears += sign;\n      }\n\n      let candidateMonths = sign;\n      intermediate = ES.BalanceISOYearMonth(one.year + years, one.month + candidateMonths);\n      // loops at most 12 times\n      while (!ISODateSurpasses(sign, intermediate.year, intermediate.month, one.day, two)) {\n        months = candidateMonths;\n        candidateMonths += sign;\n        intermediate = ES.BalanceISOYearMonth(intermediate.year, intermediate.month + sign);\n      }\n\n      if (largestUnit === 'month') {\n        months += years * 12;\n        years = 0;\n      }\n    }\n\n    intermediate = ES.BalanceISOYearMonth(one.year + years, one.month + months);\n    const constrained = ES.ConstrainISODate(intermediate.year, intermediate.month, one.day);\n\n    let weeks = 0;\n    let days =\n      ES.ISODateToEpochDays(two.year, two.month - 1, two.day) -\n      ES.ISODateToEpochDays(constrained.year, constrained.month - 1, constrained.day);\n\n    if (largestUnit === 'week') {\n      weeks = Math.trunc(days / 7);\n      days %= 7;\n    }\n\n    return { years, months, weeks, days };\n  },\n  isoToDate<\n    Request extends Partial<Record<keyof CalendarDateRecord, true>>,\n    T extends {\n      [Field in keyof CalendarDateRecord]: Request extends { [K in Field]: true } ? CalendarDateRecord[Field] : never;\n    }\n  >({ year, month, day }: ISODate, requestedFields: Request): T {\n    // requestedFields parameter is not part of the spec text. It's an\n    // illustration of one way implementations may choose to optimize this\n    // operation.\n    const date: Partial<CalendarDateRecord> = {\n      era: undefined,\n      eraYear: undefined,\n      year,\n      month,\n      day,\n      daysInWeek: 7,\n      monthsInYear: 12\n    };\n    if (requestedFields.monthCode) date.monthCode = buildMonthCode(month);\n    if (requestedFields.dayOfWeek) {\n      // https://en.wikipedia.org/wiki/Determination_of_the_day_of_the_week#Disparate_variation\n      const shiftedMonth = month + (month < 3 ? 10 : -2);\n      const shiftedYear = year - (month < 3 ? 1 : 0);\n\n      const century = Math.floor(shiftedYear / 100);\n      const yearInCentury = shiftedYear - century * 100;\n\n      const monthTerm = Math.floor(2.6 * shiftedMonth - 0.2);\n      const yearTerm = yearInCentury + Math.floor(yearInCentury / 4);\n      const centuryTerm = Math.floor(century / 4) - 2 * century;\n\n      const dow = (day + monthTerm + yearTerm + centuryTerm) % 7;\n\n      date.dayOfWeek = dow + (dow <= 0 ? 7 : 0);\n    }\n    if (requestedFields.dayOfYear) {\n      let days = day;\n      for (let m = month - 1; m > 0; m--) {\n        days += ES.ISODaysInMonth(year, m);\n      }\n      date.dayOfYear = days;\n    }\n    if (requestedFields.weekOfYear) date.weekOfYear = calendarDateWeekOfYear('iso8601', { year, month, day });\n    if (requestedFields.daysInMonth) date.daysInMonth = ES.ISODaysInMonth(year, month);\n    if (requestedFields.daysInYear || requestedFields.inLeapYear) {\n      date.inLeapYear = ES.LeapYear(year);\n      date.daysInYear = date.inLeapYear ? 366 : 365;\n    }\n    return date as T;\n  },\n  getFirstDayOfWeek() {\n    return 1;\n  },\n  getMinimalDaysInFirstWeek() {\n    return 4;\n  }\n};\n\n// Note: Built-in calendars other than iso8601 are not part of the Temporal\n// proposal for ECMA-262. These calendars will be standardized as part of\n// ECMA-402. Code below here includes an implementation of these calendars to\n// validate the Temporal API and to get feedback. However, native non-ISO\n// calendar behavior is at least somewhat implementation-defined, so may not\n// match this polyfill's output exactly.\n//\n// Some ES implementations don't include ECMA-402. For this reason, it's helpful\n// to ensure a clean separation between the ISO calendar implementation which is\n// a part of ECMA-262 and the non-ISO calendar implementation which requires\n// ECMA-402.\n//\n// To ensure this separation, the implementation is split. A `CalendarImpl`\n// interface defines the common operations between both ISO and non-ISO\n// calendars.\n\n/**\n * This type is passed through from CalendarImpl#dateFromFields().\n * `monthExtra` is additional information used internally to identify lunisolar leap months.\n */\ntype CalendarDateFields = CalendarFieldsRecord & { monthExtra?: string };\n\n/**\n * This is a \"fully populated\" calendar date record. It's only lacking\n * `era`/`eraYear` (which may not be present in all calendars) and `monthExtra`\n * which is only used in some cases.\n */\ntype FullCalendarDate = {\n  era?: string;\n  eraYear?: number;\n  year: number;\n  month: number;\n  monthCode: string;\n  day: number;\n  monthExtra?: string;\n};\n\n// The types below are various subsets of calendar dates\ntype CalendarYM = { year: number; month: number };\ntype CalendarYearOnly = { year: number };\ntype EraAndEraYear = { era: string; eraYear: number };\n\nfunction nonLeapMonthCodeNumberPart(monthCode: string) {\n  if (!monthCode.startsWith('M')) {\n    throw new RangeError(`Invalid month code: ${monthCode}.  Month codes must start with M.`);\n  }\n  const month = +monthCode.slice(1);\n  if (Number.isNaN(month)) throw new RangeError(`Invalid month code: ${monthCode}`);\n  return month;\n}\n\nfunction buildMonthCode(month: number, leap = false) {\n  const digitPart = `${month}`.padStart(2, '0');\n  const leapMarker = leap ? 'L' : '';\n  return `M${digitPart}${leapMarker}`;\n}\n\n/**\n * Safely merge a month, monthCode pair into an integer month.\n * If both are present, make sure they match.\n * This logic doesn't work for lunisolar calendars!\n * */\nfunction resolveNonLunisolarMonth<T extends { monthCode?: string; month?: number }>(\n  calendarDate: T,\n  overflow: Overflow | undefined = undefined,\n  monthsPerYear = 12\n) {\n  let { month, monthCode } = calendarDate;\n  if (monthCode === undefined) {\n    if (month === undefined) throw new TypeError('Either month or monthCode are required');\n    // The ISO calendar uses the default (undefined) value because it does\n    // constrain/reject after this method returns. Non-ISO calendars, however,\n    // rely on this function to constrain/reject out-of-range `month` values.\n    if (overflow === 'reject') ES.RejectToRange(month, 1, monthsPerYear);\n    if (overflow === 'constrain') month = ES.ConstrainToRange(month, 1, monthsPerYear);\n    monthCode = buildMonthCode(month);\n  } else {\n    const numberPart = nonLeapMonthCodeNumberPart(monthCode);\n    if (monthCode !== buildMonthCode(numberPart)) {\n      throw new RangeError(`Invalid month code: ${monthCode}`);\n    }\n    if (month !== undefined && month !== numberPart) {\n      throw new RangeError(`monthCode ${monthCode} and month ${month} must match if both are present`);\n    }\n    month = numberPart;\n    if (month < 1 || month > monthsPerYear) throw new RangeError(`Invalid monthCode: ${monthCode}`);\n  }\n  return { ...calendarDate, month, monthCode };\n}\n\nfunction weekNumber(firstDayOfWeek: number, minimalDaysInFirstWeek: number, desiredDay: number, dayOfWeek: number) {\n  let periodStartDayOfWeek = (dayOfWeek - firstDayOfWeek - desiredDay + 1) % 7;\n  if (periodStartDayOfWeek < 0) periodStartDayOfWeek += 7;\n  let weekNo = Math.floor((desiredDay + periodStartDayOfWeek - 1) / 7);\n  if (7 - periodStartDayOfWeek >= minimalDaysInFirstWeek) {\n    ++weekNo;\n  }\n  return weekNo;\n}\n\n/**\n * This prototype implementation of non-ISO calendars makes many repeated calls\n * to Intl APIs which may be slow (e.g. >0.2ms). This trivial cache will speed\n * up these repeat accesses. Each cache instance is associated (via a WeakMap)\n * to a specific Temporal object, which speeds up multiple calendar calls on the\n * same Temporal object instance.  No invalidation or pruning is necessary\n * because each object's cache is thrown away when the object is GC-ed.\n */\nclass OneObjectCache {\n  map = new Map();\n  calls = 0;\n  // now = OneObjectCache.monotonicTimestamp();\n  hits = 0;\n  misses = 0;\n\n  // static monotonicTimestamp() {\n  //   return performance?.now() ?? Date.now();\n  // }\n\n  constructor(cacheToClone?: OneObjectCache) {\n    if (cacheToClone !== undefined) {\n      let i = 0;\n      for (const entry of cacheToClone.map.entries()) {\n        if (++i > OneObjectCache.MAX_CACHE_ENTRIES) break;\n        this.map.set(...entry);\n      }\n    }\n  }\n  get(key: string) {\n    const result = this.map.get(key);\n    if (result) {\n      this.hits++;\n      this.report();\n    }\n    this.calls++;\n    return result;\n  }\n  set(key: string, value: unknown) {\n    this.map.set(key, value);\n    this.misses++;\n    this.report();\n  }\n  report() {\n    // if (this.calls === 0) return;\n    // const ms = OneObjectCache.monotonicTimestamp() - this.now;\n    // const hitRate = ((100 * this.hits) / this.calls).toFixed(0);\n    // const t = `${ms.toFixed(2)}ms`;\n    // // eslint-disable-next-line no-console\n    // console.log(`${this.calls} calls in ${t}. Hits: ${this.hits} (${hitRate}%). Misses: ${this.misses}.`);\n  }\n  setObject(obj: ISODate) {\n    if (OneObjectCache.objectMap.get(obj)) throw new RangeError('object already cached');\n    OneObjectCache.objectMap.set(obj, this);\n    this.report();\n  }\n\n  static objectMap = new WeakMap();\n  static MAX_CACHE_ENTRIES = 1000;\n\n  /**\n   * Returns a WeakMap-backed cache that's used to store expensive results\n   * that are associated with a particular Temporal object instance.\n   *\n   * @param obj - object to associate with the cache\n   */\n  static getCacheForObject(obj: ISODate) {\n    let cache = OneObjectCache.objectMap.get(obj);\n    if (!cache) {\n      cache = new OneObjectCache();\n      OneObjectCache.objectMap.set(obj, cache);\n    }\n    return cache;\n  }\n}\n\nfunction toUtcIsoDateString({ isoYear, isoMonth, isoDay }: { isoYear: number; isoMonth: number; isoDay: number }) {\n  const yearString = ES.ISOYearString(isoYear);\n  const monthString = ES.ISODateTimePartString(isoMonth);\n  const dayString = ES.ISODateTimePartString(isoDay);\n  return `${yearString}-${monthString}-${dayString}T00:00Z`;\n}\n\nfunction simpleDateDiff(one: CalendarYMD, two: CalendarYMD) {\n  return {\n    years: one.year - two.year,\n    months: one.month - two.month,\n    days: one.day - two.day\n  };\n}\n\n/**\n * Implementation helper that's common to all non-ISO calendars\n */\nabstract class HelperBase {\n  abstract id: BuiltinCalendarId;\n  abstract monthsInYear(calendarDate: CalendarYearOnly, cache?: OneObjectCache): number;\n  abstract maximumMonthLength(calendarDate?: CalendarYM): number;\n  abstract minimumMonthLength(calendarDate?: CalendarYM): number;\n  abstract maxLengthOfMonthCodeInAnyYear(monthCode: string): number;\n  abstract estimateIsoDate(calendarDate: CalendarYMD): ISODate;\n  abstract inLeapYear(calendarDate: CalendarYearOnly, cache?: OneObjectCache): boolean;\n  abstract calendarType: 'solar' | 'lunar' | 'lunisolar';\n  reviseIntlEra?<T extends Partial<EraAndEraYear>>(calendarDate: T, isoDate: ISODate): T;\n  eras: Era[] = [];\n  checkIcuBugs?(isoDate: ISODate): void;\n  private formatter?: globalThis.Intl.DateTimeFormat;\n  getFormatter() {\n    // `new Intl.DateTimeFormat()` is amazingly slow and chews up RAM. Per\n    // https://bugs.chromium.org/p/v8/issues/detail?id=6528#c4, we cache one\n    // DateTimeFormat instance per calendar. Caching is lazy so we only pay for\n    // calendars that are used. Note that the HelperBase class is extended to\n    // create each calendar's implementation before any cache is created, so\n    // each calendar gets its own separate cached formatter.\n    if (typeof this.formatter === 'undefined') {\n      this.formatter = new Intl.DateTimeFormat(`en-US-u-ca-${this.id}`, {\n        day: 'numeric',\n        month: 'numeric',\n        year: 'numeric',\n        era: 'short',\n        timeZone: 'UTC'\n      });\n    }\n    return this.formatter;\n  }\n  getCalendarParts(isoString: string) {\n    let dateTimeFormat = this.getFormatter();\n    let legacyDate = new Date(isoString);\n\n    // PlainDate's minimum date -271821-04-19 is one day beyond legacy Date's\n    // minimum -271821-04-20, because of accommodating all Instants in all time\n    // zones. If we have -271821-04-19, instead format -271821-04-20 in a time\n    // zone that pushes the result into the previous day. This is a slow path\n    // because we create a new Intl.DateTimeFormat.\n    if (isoString === '-271821-04-19T00:00Z') {\n      const options = dateTimeFormat.resolvedOptions();\n      dateTimeFormat = new Intl.DateTimeFormat(options.locale, {\n        ...(options as Intl.DateTimeFormatOptions),\n        timeZone: 'Etc/GMT+1'\n      });\n      legacyDate = new Date('-271821-04-20T00:00Z');\n    }\n\n    try {\n      return dateTimeFormat.formatToParts(legacyDate);\n    } catch (e) {\n      throw new RangeError(`Invalid ISO date: ${isoString}`);\n    }\n  }\n  isoToCalendarDate(isoDate: ISODate, cache: OneObjectCache): FullCalendarDate {\n    const { year: isoYear, month: isoMonth, day: isoDay } = isoDate;\n    const key = JSON.stringify({ func: 'isoToCalendarDate', isoYear, isoMonth, isoDay, id: this.id });\n    const cached = cache.get(key);\n    if (cached) return cached;\n\n    const isoString = toUtcIsoDateString({ isoYear, isoMonth, isoDay });\n    const parts = this.getCalendarParts(isoString);\n    const result: Partial<FullCalendarDate> = {};\n    for (let i = 0; i < parts.length; i++) {\n      const { type, value } = parts[i];\n      // TODO: remove this type annotation when `relatedYear` gets into TS lib types\n      if (type === 'year' || type === ('relatedYear' as Intl.DateTimeFormatPartTypes)) {\n        if (this.hasEra) {\n          result.eraYear = +value;\n        } else {\n          result.year = +value;\n        }\n      }\n      if (type === 'month') {\n        const matches = /^([0-9]*)(.*?)$/.exec(value);\n        if (!matches || matches.length != 3 || (!matches[1] && !matches[2])) {\n          throw new RangeError(`Unexpected month: ${value}`);\n        }\n        // If the month has no numeric part (should only see this for the Hebrew\n        // calendar with newer FF / Chromium versions; see\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1751833) then set a\n        // placeholder month index of `1` and rely on the derived class to\n        // calculate the correct month index from the month name stored in\n        // `monthExtra`.\n        result.month = matches[1] ? +matches[1] : 1;\n        if (result.month < 1) {\n          throw new RangeError(\n            `Invalid month ${value} from ${isoString}[u-ca-${this.id}]` +\n              ' (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)'\n          );\n        }\n        if (result.month > 13) {\n          throw new RangeError(\n            `Invalid month ${value} from ${isoString}[u-ca-${this.id}]` +\n              ' (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)'\n          );\n        }\n\n        // The ICU formats for the Hebrew calendar no longer support a numeric\n        // month format. So we'll rely on the derived class to interpret it.\n        // `monthExtra` is also used on the Chinese calendar to handle a suffix\n        // \"bis\" indicating a leap month.\n        if (matches[2]) result.monthExtra = matches[2];\n      }\n      if (type === 'day') result.day = +value;\n      if (this.hasEra && type === 'era' && value != null && value !== '') {\n        // The convention for Temporal era values is lowercase, so following\n        // that convention in this prototype. Punctuation is removed, accented\n        // letters are normalized, and spaces are replaced with dashes.\n        // E.g.: \"ERA0\" => \"era0\", \"Before R.O.C.\" => \"before-roc\", \"En’ō\" => \"eno\"\n        // The call to normalize() and the replacement regex deals with era\n        // names that contain non-ASCII characters like Japanese eras. Also\n        // ignore extra content in parentheses like JPN era date ranges.\n        result.era = value\n          .split(' (')[0]\n          .normalize('NFD')\n          .replace(/[^-0-9 \\p{L}]/gu, '')\n          .replace(/ /g, '-')\n          .toLowerCase();\n      }\n    }\n    if (this.hasEra && result.eraYear === undefined) {\n      // Node 12 has outdated ICU data that lacks the `relatedYear` field in the\n      // output of Intl.DateTimeFormat.formatToParts.\n      throw new RangeError(\n        `Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`\n      );\n    }\n    // Translate old ICU era codes \"ERA0\" etc. into canonical era names.\n    if (this.hasEra) {\n      const replacement = this.eras.find((e) => result.era === e.genericName);\n      if (replacement) result.era = replacement.code;\n    }\n    // Translate eras that may be handled differently by Temporal vs. by Intl\n    // (e.g. Japanese pre-Meiji eras). See https://github.com/tc39/proposal-temporal/issues/526.\n    if (this.reviseIntlEra) {\n      const { era, eraYear } = this.reviseIntlEra(result, isoDate);\n      result.era = era;\n      result.eraYear = eraYear;\n    }\n    if (this.checkIcuBugs) this.checkIcuBugs(isoDate);\n\n    const calendarDate = this.adjustCalendarDate(result, cache, 'constrain', true);\n    if (calendarDate.year === undefined) throw new RangeError(`Missing year converting ${JSON.stringify(isoDate)}`);\n    if (calendarDate.month === undefined) {\n      throw new RangeError(`Missing month converting ${JSON.stringify(isoDate)}`);\n    }\n    if (calendarDate.day === undefined) throw new RangeError(`Missing day converting ${JSON.stringify(isoDate)}`);\n    cache.set(key, calendarDate);\n    // Also cache the reverse mapping\n    const cacheReverse = (overflow: Overflow) => {\n      const keyReverse = JSON.stringify({\n        func: 'calendarToIsoDate',\n        year: calendarDate.year,\n        month: calendarDate.month,\n        day: calendarDate.day,\n        overflow,\n        id: this.id\n      });\n      cache.set(keyReverse, isoDate);\n    };\n    (['constrain', 'reject'] as const).forEach(cacheReverse);\n    return calendarDate;\n  }\n  validateCalendarDate(calendarDate: Partial<FullCalendarDate>): asserts calendarDate is FullCalendarDate {\n    const { month, year, day, eraYear, monthCode, monthExtra } = calendarDate;\n    // When there's a suffix (e.g. \"5bis\" for a leap month in Chinese calendar)\n    // the derived class must deal with it.\n    if (monthExtra !== undefined) throw new RangeError('Unexpected `monthExtra` value');\n    if (year === undefined && eraYear === undefined) throw new TypeError('year or eraYear is required');\n    if (month === undefined && monthCode === undefined) throw new TypeError('month or monthCode is required');\n    if (day === undefined) throw new RangeError('Missing day');\n    if (monthCode !== undefined) {\n      if (typeof monthCode !== 'string') {\n        throw new RangeError(`monthCode must be a string, not ${typeof monthCode}`);\n      }\n      if (!/^M([01]?\\d)(L?)$/.test(monthCode)) {\n        throw new RangeError(`Invalid monthCode: ${monthCode}`);\n      }\n    }\n    if (this.hasEra) {\n      if ((calendarDate['era'] === undefined) !== (calendarDate['eraYear'] === undefined)) {\n        throw new TypeError('properties era and eraYear must be provided together');\n      }\n    }\n  }\n  /**\n   * Allows derived calendars to add additional fields and/or to make\n   * adjustments e.g. to set the era based on the date or to revise the month\n   * number in lunisolar calendars per\n   * https://github.com/tc39/proposal-temporal/issues/1203.\n   *\n   * The base implementation fills in missing values by assuming the simplest\n   * possible calendar:\n   * - no eras\n   * - non-lunisolar calendar (no leap months)\n   * */\n  adjustCalendarDate(\n    calendarDateParam: Partial<FullCalendarDate>,\n    cache: OneObjectCache | undefined = undefined,\n    overflow: Overflow = 'constrain',\n    // This param is only used by derived classes\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    fromLegacyDate = false\n  ): FullCalendarDate {\n    if (this.calendarType === 'lunisolar') throw new RangeError('Override required for lunisolar calendars');\n    let calendarDate = calendarDateParam;\n    this.validateCalendarDate(calendarDate);\n    const largestMonth = this.monthsInYear(calendarDate, cache);\n    let { month, monthCode } = calendarDate;\n\n    ({ month, monthCode } = resolveNonLunisolarMonth(calendarDate, overflow, largestMonth));\n    return { ...(calendarDate as typeof calendarDate & CalendarYMD), month, monthCode };\n  }\n  regulateMonthDayNaive(calendarDate: FullCalendarDate, overflow: Overflow, cache: OneObjectCache): FullCalendarDate {\n    const largestMonth = this.monthsInYear(calendarDate, cache);\n    let { month, day } = calendarDate;\n    if (overflow === 'reject') {\n      ES.RejectToRange(month, 1, largestMonth);\n      ES.RejectToRange(day, 1, this.maximumMonthLength(calendarDate));\n    } else {\n      month = ES.ConstrainToRange(month, 1, largestMonth);\n      day = ES.ConstrainToRange(day, 1, this.maximumMonthLength({ ...calendarDate, month }));\n    }\n    return { ...calendarDate, month, day };\n  }\n  calendarToIsoDate(dateParam: CalendarDateFields, overflow: Overflow = 'constrain', cache: OneObjectCache): ISODate {\n    const originalDate = dateParam as Partial<FullCalendarDate>;\n    // First, normalize the calendar date to ensure that (year, month, day)\n    // are all present, converting monthCode and eraYear if needed.\n    let date = this.adjustCalendarDate(dateParam, cache, overflow, false);\n\n    // Fix obviously out-of-bounds values. Values that are valid generally, but\n    // not in this particular year, may not be caught here for some calendars.\n    // If so, these will be handled lower below.\n    date = this.regulateMonthDayNaive(date, overflow, cache);\n\n    const { year, month, day } = date;\n    const key = JSON.stringify({ func: 'calendarToIsoDate', year, month, day, overflow, id: this.id });\n    let cached = cache.get(key);\n    if (cached) return cached;\n    // If YMD are present in the input but the input has been constrained\n    // already, then cache both the original value and the constrained value.\n    let keyOriginal;\n    if (\n      originalDate.year !== undefined &&\n      originalDate.month !== undefined &&\n      originalDate.day !== undefined &&\n      (originalDate.year !== date.year || originalDate.month !== date.month || originalDate.day !== date.day)\n    ) {\n      keyOriginal = JSON.stringify({\n        func: 'calendarToIsoDate',\n        year: originalDate.year,\n        month: originalDate.month,\n        day: originalDate.day,\n        overflow,\n        id: this.id\n      });\n      cached = cache.get(keyOriginal);\n      if (cached) return cached;\n    }\n\n    // First, try to roughly guess the result\n    let isoEstimate = this.estimateIsoDate({ year, month, day });\n    const calculateSameMonthResult = (diffDays: number) => {\n      // If the estimate is in the same year & month as the target, then we can\n      // calculate the result exactly and short-circuit any additional logic.\n      // This optimization assumes that months are continuous. It would break if\n      // a calendar skipped days, like the Julian->Gregorian switchover. But\n      // current ICU calendars only skip days (japanese/roc/buddhist) because of\n      // a bug (https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)\n      // that's currently worked around by a custom calendarToIsoDate\n      // implementation in those calendars. So this optimization should be safe\n      // for all ICU calendars.\n      let testIsoEstimate = this.addDaysIso(isoEstimate, diffDays);\n      if (date.day > this.minimumMonthLength(date)) {\n        // There's a chance that the calendar date is out of range. Throw or\n        // constrain if so.\n        let testCalendarDate = this.isoToCalendarDate(testIsoEstimate, cache);\n        while (testCalendarDate.month !== month || testCalendarDate.year !== year) {\n          if (overflow === 'reject') {\n            throw new RangeError(`day ${day} does not exist in month ${month} of year ${year}`);\n          }\n          // Back up a day at a time until we're not hanging over the month end\n          testIsoEstimate = this.addDaysIso(testIsoEstimate, -1);\n          testCalendarDate = this.isoToCalendarDate(testIsoEstimate, cache);\n        }\n      }\n      return testIsoEstimate;\n    };\n    let sign = 0;\n    let roundtripEstimate = this.isoToCalendarDate(isoEstimate, cache);\n    let diff = simpleDateDiff(date, roundtripEstimate);\n    if (diff.years !== 0 || diff.months !== 0 || diff.days !== 0) {\n      const diffTotalDaysEstimate = diff.years * 365 + diff.months * 30 + diff.days;\n      isoEstimate = this.addDaysIso(isoEstimate, diffTotalDaysEstimate);\n      roundtripEstimate = this.isoToCalendarDate(isoEstimate, cache);\n      diff = simpleDateDiff(date, roundtripEstimate);\n      if (diff.years === 0 && diff.months === 0) {\n        isoEstimate = calculateSameMonthResult(diff.days);\n      } else {\n        sign = this.compareCalendarDates(date, roundtripEstimate);\n      }\n    }\n    // If the initial guess is not in the same month, then bisect the\n    // distance to the target, starting with 8 days per step.\n    let increment = 8;\n    while (sign) {\n      isoEstimate = this.addDaysIso(isoEstimate, sign * increment);\n      const oldRoundtripEstimate = roundtripEstimate;\n      roundtripEstimate = this.isoToCalendarDate(isoEstimate, cache);\n      const oldSign = sign;\n      sign = this.compareCalendarDates(date, roundtripEstimate);\n      if (sign) {\n        diff = simpleDateDiff(date, roundtripEstimate);\n        if (diff.years === 0 && diff.months === 0) {\n          isoEstimate = calculateSameMonthResult(diff.days);\n          // Signal the loop condition that there's a match.\n          sign = 0;\n        } else if (oldSign && sign !== oldSign) {\n          if (increment > 1) {\n            // If the estimate overshot the target, try again with a smaller increment\n            // in the reverse direction.\n            increment /= 2;\n          } else {\n            // Increment is 1, and neither the previous estimate nor the new\n            // estimate is correct. The only way that can happen is if the\n            // original date was an invalid value that will be constrained or\n            // rejected here.\n            if (overflow === 'reject') {\n              throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({ ...originalDate })}`);\n            } else {\n              // To constrain, pick the earliest value\n              const order = this.compareCalendarDates(roundtripEstimate, oldRoundtripEstimate);\n              // If current value is larger, then back up to the previous value.\n              if (order > 0) isoEstimate = this.addDaysIso(isoEstimate, -1);\n              sign = 0;\n            }\n          }\n        }\n      }\n    }\n    cache.set(key, isoEstimate);\n    if (keyOriginal) cache.set(keyOriginal, isoEstimate);\n    if (\n      date.year === undefined ||\n      date.month === undefined ||\n      date.day === undefined ||\n      date.monthCode === undefined ||\n      (this.hasEra && (date.era === undefined || date.eraYear === undefined))\n    ) {\n      throw new RangeError('Unexpected missing property');\n    }\n    return isoEstimate;\n  }\n  compareCalendarDates(date1: CalendarYMD, date2: CalendarYMD) {\n    if (date1.year !== date2.year) return ES.ComparisonResult(date1.year - date2.year);\n    if (date1.month !== date2.month) return ES.ComparisonResult(date1.month - date2.month);\n    if (date1.day !== date2.day) return ES.ComparisonResult(date1.day - date2.day);\n    return 0;\n  }\n  /** Ensure that a calendar date actually exists. If not, return the closest earlier date. */\n  regulateDate(calendarDate: CalendarYMD, overflow: Overflow = 'constrain', cache: OneObjectCache): FullCalendarDate {\n    const isoDate = this.calendarToIsoDate(calendarDate, overflow, cache);\n    return this.isoToCalendarDate(isoDate, cache);\n  }\n  addDaysIso(isoDate: ISODate, days: number): ISODate {\n    const added = ES.BalanceISODate(isoDate.year, isoDate.month, isoDate.day + days);\n    return added;\n  }\n  addDaysCalendar(calendarDate: CalendarYMD, days: number, cache: OneObjectCache): FullCalendarDate {\n    const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n    const addedIso = this.addDaysIso(isoDate, days);\n    const addedCalendar = this.isoToCalendarDate(addedIso, cache);\n    return addedCalendar;\n  }\n  addMonthsCalendar(\n    calendarDateParam: CalendarYMD,\n    months: number,\n    overflow: Overflow,\n    cache: OneObjectCache\n  ): CalendarYMD {\n    let calendarDate = calendarDateParam;\n    const { day } = calendarDate;\n    for (let i = 0, absMonths = Math.abs(months); i < absMonths; i++) {\n      const { month } = calendarDate;\n      const oldCalendarDate = calendarDate;\n      const days =\n        months < 0\n          ? -Math.max(day, this.daysInPreviousMonth(calendarDate, cache))\n          : this.daysInMonth(calendarDate, cache);\n      const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n      let addedIso = this.addDaysIso(isoDate, days);\n      calendarDate = this.isoToCalendarDate(addedIso, cache);\n\n      // Normally, we can advance one month by adding the number of days in the\n      // current month. However, if we're at the end of the current month and\n      // the next month has fewer days, then we rolled over to the after-next\n      // month. Below we detect this condition and back up until we're back in\n      // the desired month.\n      if (months > 0) {\n        const monthsInOldYear = this.monthsInYear(oldCalendarDate, cache);\n        while (calendarDate.month - 1 !== month % monthsInOldYear) {\n          addedIso = this.addDaysIso(addedIso, -1);\n          calendarDate = this.isoToCalendarDate(addedIso, cache);\n        }\n      }\n\n      if (calendarDate.day !== day) {\n        // try to retain the original day-of-month, if possible\n        calendarDate = this.regulateDate({ ...calendarDate, day }, 'constrain', cache);\n      }\n    }\n    if (overflow === 'reject' && calendarDate.day !== day) {\n      throw new RangeError(`Day ${day} does not exist in resulting calendar month`);\n    }\n    return calendarDate;\n  }\n  addCalendar(\n    calendarDate: CalendarYMD & { monthCode: string },\n    { years = 0, months = 0, weeks = 0, days = 0 },\n    overflow: Overflow,\n    cache: OneObjectCache\n  ): FullCalendarDate {\n    const { year, day, monthCode } = calendarDate;\n    const addedYears = this.adjustCalendarDate({ year: year + years, monthCode, day }, cache);\n    const addedMonths = this.addMonthsCalendar(addedYears, months, overflow, cache);\n    const initialDays = days + weeks * 7;\n    const addedDays = this.addDaysCalendar(addedMonths, initialDays, cache);\n    return addedDays;\n  }\n  untilCalendar(\n    calendarOne: FullCalendarDate,\n    calendarTwo: FullCalendarDate,\n    largestUnit: Temporal.DateUnit,\n    cache: OneObjectCache\n  ): { years: number; months: number; weeks: number; days: number } {\n    let days = 0;\n    let weeks = 0;\n    let months = 0;\n    let years = 0;\n    switch (largestUnit) {\n      case 'day':\n        days = this.calendarDaysUntil(calendarOne, calendarTwo, cache);\n        break;\n      case 'week': {\n        const totalDays = this.calendarDaysUntil(calendarOne, calendarTwo, cache);\n        days = totalDays % 7;\n        weeks = (totalDays - days) / 7;\n        break;\n      }\n      case 'month':\n      case 'year': {\n        const sign = this.compareCalendarDates(calendarTwo, calendarOne);\n        if (!sign) {\n          return { years: 0, months: 0, weeks: 0, days: 0 };\n        }\n        const diffYears = calendarTwo.year - calendarOne.year;\n        const diffDays = calendarTwo.day - calendarOne.day;\n        if (largestUnit === 'year' && diffYears) {\n          let diffInYearSign = 0;\n          if (calendarTwo.monthCode > calendarOne.monthCode) diffInYearSign = 1;\n          if (calendarTwo.monthCode < calendarOne.monthCode) diffInYearSign = -1;\n          if (!diffInYearSign) diffInYearSign = Math.sign(diffDays);\n          const isOneFurtherInYear = diffInYearSign * sign < 0;\n          years = isOneFurtherInYear ? diffYears - sign : diffYears;\n        }\n        const yearsAdded = years ? this.addCalendar(calendarOne, { years }, 'constrain', cache) : calendarOne;\n        // Now we have less than one year remaining. Add one month at a time\n        // until we go over the target, then back up one month and calculate\n        // remaining days and weeks.\n        let current;\n        let next: CalendarYMD = yearsAdded;\n        do {\n          months += sign;\n          current = next;\n          next = this.addMonthsCalendar(current, sign, 'constrain', cache);\n          if (next.day !== calendarOne.day) {\n            // In case the day was constrained down, try to un-constrain it\n            next = this.regulateDate({ ...next, day: calendarOne.day }, 'constrain', cache);\n          }\n        } while (this.compareCalendarDates(calendarTwo, next) * sign >= 0);\n        months -= sign; // correct for loop above which overshoots by 1\n        const remainingDays = this.calendarDaysUntil(current, calendarTwo, cache);\n        days = remainingDays;\n        break;\n      }\n    }\n    return { years, months, weeks, days };\n  }\n  daysInMonth(calendarDate: CalendarYMD, cache: OneObjectCache): number {\n    // Add enough days to roll over to the next month. One we're in the next\n    // month, we can calculate the length of the current month. NOTE: This\n    // algorithm assumes that months are continuous. It would break if a\n    // calendar skipped days, like the Julian->Gregorian switchover. But current\n    // ICU calendars only skip days (japanese/roc/buddhist) because of a bug\n    // (https://bugs.chromium.org/p/chromium/issues/detail?id=1173158) that's\n    // currently worked around by a custom calendarToIsoDate implementation in\n    // those calendars. So this code should be safe for all ICU calendars.\n    const { day } = calendarDate;\n    const max = this.maximumMonthLength(calendarDate);\n    const min = this.minimumMonthLength(calendarDate);\n    // easiest case: we already know the month length if min and max are the same.\n    if (min === max) return min;\n\n    // Add enough days to get into the next month, without skipping it\n    const increment = day <= max - min ? max : min;\n    const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n    const addedIsoDate = this.addDaysIso(isoDate, increment);\n    const addedCalendarDate = this.isoToCalendarDate(addedIsoDate, cache);\n\n    // Now back up to the last day of the original month\n    const endOfMonthIso = this.addDaysIso(addedIsoDate, -addedCalendarDate.day);\n    const endOfMonthCalendar = this.isoToCalendarDate(endOfMonthIso, cache);\n    return endOfMonthCalendar.day;\n  }\n  daysInPreviousMonth(calendarDate: CalendarYMD, cache: OneObjectCache): number {\n    const { day, month, year } = calendarDate;\n\n    // Check to see if we already know the month length, and return it if so\n    const previousMonthYear = month > 1 ? year : year - 1;\n    let previousMonthDate = { year: previousMonthYear, month, day: 1 };\n    const previousMonth = month > 1 ? month - 1 : this.monthsInYear(previousMonthDate, cache);\n    previousMonthDate = { ...previousMonthDate, month: previousMonth };\n    const min = this.minimumMonthLength(previousMonthDate);\n    const max = this.maximumMonthLength(previousMonthDate);\n    if (min === max) return max;\n\n    const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n    const lastDayOfPreviousMonthIso = this.addDaysIso(isoDate, -day);\n    const lastDayOfPreviousMonthCalendar = this.isoToCalendarDate(lastDayOfPreviousMonthIso, cache);\n    return lastDayOfPreviousMonthCalendar.day;\n  }\n  startOfCalendarYear(calendarDate: CalendarYearOnly): CalendarYMD & { monthCode: string } {\n    return { year: calendarDate.year, month: 1, monthCode: 'M01', day: 1 };\n  }\n  startOfCalendarMonth(calendarDate: CalendarYM): CalendarYMD {\n    return { year: calendarDate.year, month: calendarDate.month, day: 1 };\n  }\n  calendarDaysUntil(calendarOne: CalendarYMD, calendarTwo: CalendarYMD, cache: OneObjectCache): number {\n    const oneIso = this.calendarToIsoDate(calendarOne, 'constrain', cache);\n    const twoIso = this.calendarToIsoDate(calendarTwo, 'constrain', cache);\n    return (\n      ES.ISODateToEpochDays(twoIso.year, twoIso.month - 1, twoIso.day) -\n      ES.ISODateToEpochDays(oneIso.year, oneIso.month - 1, oneIso.day)\n    );\n  }\n  // Override if calendar uses eras\n  hasEra = false;\n  // See https://github.com/tc39/proposal-temporal/issues/1784\n  erasBeginMidYear = false;\n  // Override this to shortcut the search space if certain month codes only\n  // occur long in the past\n  monthDaySearchStartYear(monthCode: string, day: number) {\n    void monthCode, day;\n    return 1972;\n  }\n  monthDayFromFields(fields: MonthDayFromFieldsObject, overflow: Overflow, cache: OneObjectCache): ISODate {\n    let { era, eraYear, year, month, monthCode, day } = fields;\n    if (month !== undefined && year === undefined && (!this.hasEra || era === undefined || eraYear === undefined)) {\n      throw new TypeError('when month is present, year (or era and eraYear) are required');\n    }\n    if (monthCode === undefined || year !== undefined || (this.hasEra && eraYear !== undefined)) {\n      // Apply overflow behaviour to year/month/day, to get correct monthCode/day\n      ({ monthCode, day } = this.isoToCalendarDate(this.calendarToIsoDate(fields, overflow, cache), cache));\n    }\n\n    let isoYear, isoMonth, isoDay;\n    let closestCalendar, closestIso;\n    // Look backwards starting from one of the calendar years spanning ISO year\n    // 1972, up to 20 calendar years prior, to find a year that has this month\n    // and day. Normal months and days will match immediately, but for leap days\n    // and leap months we may have to look for a while. For searches longer than\n    // 20 years, override the start date in monthDaySearchStartYear.\n    const startDateIso = {\n      year: this.monthDaySearchStartYear(monthCode, day),\n      month: 12,\n      day: 31\n    };\n    const calendarOfStartDateIso = this.isoToCalendarDate(startDateIso, cache);\n    // Note: relies on lexicographical ordering of monthCodes\n    const calendarYear =\n      calendarOfStartDateIso.monthCode > monthCode ||\n      (calendarOfStartDateIso.monthCode === monthCode && calendarOfStartDateIso.day >= day)\n        ? calendarOfStartDateIso.year\n        : calendarOfStartDateIso.year - 1;\n    for (let i = 0; i < 20; i++) {\n      const testCalendarDate: FullCalendarDate = this.adjustCalendarDate(\n        { day, monthCode, year: calendarYear - i },\n        cache\n      );\n      const isoDate = this.calendarToIsoDate(testCalendarDate, 'constrain', cache);\n      const roundTripCalendarDate = this.isoToCalendarDate(isoDate, cache);\n      ({ year: isoYear, month: isoMonth, day: isoDay } = isoDate);\n      if (roundTripCalendarDate.monthCode === monthCode && roundTripCalendarDate.day === day) {\n        return { month: isoMonth, day: isoDay, year: isoYear };\n      } else if (overflow === 'constrain') {\n        // If the requested day is never present in any instance of this month\n        // code, and the round trip date is an instance of this month code with\n        // the most possible days, we are as close as we can get.\n        const maxDayForMonthCode = this.maxLengthOfMonthCodeInAnyYear(roundTripCalendarDate.monthCode);\n        if (\n          roundTripCalendarDate.monthCode === monthCode &&\n          roundTripCalendarDate.day === maxDayForMonthCode &&\n          day > maxDayForMonthCode\n        ) {\n          return { month: isoMonth, day: isoDay, year: isoYear };\n        }\n        // non-ISO constrain algorithm tries to find the closest date in a matching month\n        if (\n          closestCalendar === undefined ||\n          (roundTripCalendarDate.monthCode === closestCalendar.monthCode &&\n            roundTripCalendarDate.day > closestCalendar.day)\n        ) {\n          closestCalendar = roundTripCalendarDate;\n          closestIso = isoDate;\n        }\n      }\n    }\n    if (overflow === 'constrain' && closestIso !== undefined) return closestIso;\n    throw new RangeError(`No recent ${this.id} year with monthCode ${monthCode} and day ${day}`);\n  }\n  getFirstDayOfWeek(): number | undefined {\n    return undefined;\n  }\n  getMinimalDaysInFirstWeek(): number | undefined {\n    return undefined;\n  }\n}\n\ninterface HebrewMonthInfo {\n  [m: string]: (\n    | {\n        leap: undefined;\n        regular: number;\n      }\n    | {\n        leap: number;\n        regular: undefined;\n      }\n    | {\n        leap: number;\n        regular: number;\n      }\n  ) & {\n    monthCode: string;\n    days:\n      | number\n      | {\n          min: number;\n          max: number;\n        };\n  };\n}\n\nclass HebrewHelper extends HelperBase {\n  id = 'hebrew' as const;\n  calendarType = 'lunisolar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    const { year } = calendarDate;\n    // FYI: In addition to adding a month in leap years, the Hebrew calendar\n    // also has per-year changes to the number of days of Heshvan and Kislev.\n    // Given that these can be calculated by counting the number of days in\n    // those months, I assume that these DO NOT need to be exposed as\n    // Hebrew-only prototype fields or methods.\n    return (7 * year + 1) % 19 < 7;\n  }\n  monthsInYear(calendarDate: CalendarYearOnly) {\n    return this.inLeapYear(calendarDate) ? 13 : 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM) {\n    return this.minMaxMonthLength(calendarDate, 'min');\n  }\n  maximumMonthLength(calendarDate: CalendarYM) {\n    return this.minMaxMonthLength(calendarDate, 'max');\n  }\n  minMaxMonthLength(calendarDate: CalendarYM, minOrMax: 'min' | 'max') {\n    const { month, year } = calendarDate;\n    const monthCode = this.getMonthCode(year, month);\n    const monthInfo = Object.entries(this.months).find((m) => m[1].monthCode === monthCode);\n    if (monthInfo === undefined) throw new RangeError(`unmatched Hebrew month: ${month}`);\n    const daysInMonth = monthInfo[1].days;\n    return typeof daysInMonth === 'number' ? daysInMonth : daysInMonth[minOrMax];\n  }\n  maxLengthOfMonthCodeInAnyYear(monthCode: string) {\n    return ['M04', 'M06', 'M08', 'M10', 'M12'].includes(monthCode) ? 29 : 30;\n  }\n  /** Take a guess at what ISO date a particular calendar date corresponds to */\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year } = calendarDate;\n    return { year: year - 3760, month: 1, day: 1 };\n  }\n  months: HebrewMonthInfo = {\n    Tishri: { leap: 1, regular: 1, monthCode: 'M01', days: 30 },\n    Heshvan: { leap: 2, regular: 2, monthCode: 'M02', days: { min: 29, max: 30 } },\n    Kislev: { leap: 3, regular: 3, monthCode: 'M03', days: { min: 29, max: 30 } },\n    Tevet: { leap: 4, regular: 4, monthCode: 'M04', days: 29 },\n    Shevat: { leap: 5, regular: 5, monthCode: 'M05', days: 30 },\n    Adar: { leap: undefined, regular: 6, monthCode: 'M06', days: 29 },\n    'Adar I': { leap: 6, regular: undefined, monthCode: 'M05L', days: 30 },\n    'Adar II': { leap: 7, regular: undefined, monthCode: 'M06', days: 29 },\n    Nisan: { leap: 8, regular: 7, monthCode: 'M07', days: 30 },\n    Iyar: { leap: 9, regular: 8, monthCode: 'M08', days: 29 },\n    Sivan: { leap: 10, regular: 9, monthCode: 'M09', days: 30 },\n    Tamuz: { leap: 11, regular: 10, monthCode: 'M10', days: 29 },\n    Av: { leap: 12, regular: 11, monthCode: 'M11', days: 30 },\n    Elul: { leap: 13, regular: 12, monthCode: 'M12', days: 29 }\n  };\n  getMonthCode(year: number, month: number) {\n    if (this.inLeapYear({ year })) {\n      return month === 6 ? buildMonthCode(5, true) : buildMonthCode(month < 6 ? month : month - 1);\n    } else {\n      return buildMonthCode(month);\n    }\n  }\n  override adjustCalendarDate(\n    calendarDate: Partial<FullCalendarDate>,\n    cache?: OneObjectCache,\n    overflow: Overflow = 'constrain',\n    fromLegacyDate = false\n  ): FullCalendarDate {\n    let { year, month, monthCode, day, monthExtra } = calendarDate as Omit<typeof calendarDate, 'day'> & {\n      day: number;\n    };\n    if (year === undefined) throw new TypeError('Missing property: year');\n    if (fromLegacyDate) {\n      // In Pre Node-14 V8, DateTimeFormat.formatToParts `month: 'numeric'`\n      // output returns the numeric equivalent of `month` as a string, meaning\n      // that `'6'` in a leap year is Adar I, while `'6'` in a non-leap year\n      // means Adar. In this case, `month` will already be correct and no action\n      // is needed. However, in Node 14 and later formatToParts returns the name\n      // of the Hebrew month (e.g. \"Tevet\"), so we'll need to look up the\n      // correct `month` using the string name as a key.\n      if (monthExtra) {\n        const monthInfo = this.months[monthExtra];\n        if (!monthInfo) throw new RangeError(`Unrecognized month from formatToParts: ${monthExtra}`);\n        month = this.inLeapYear({ year }) ? monthInfo.leap : monthInfo.regular;\n      }\n      // Because we're getting data from legacy Date, then `month` will always be present\n      monthCode = this.getMonthCode(year, month as number);\n      return { year, month: month as number, day, monthCode };\n    } else {\n      // When called without input coming from legacy Date output, simply ensure\n      // that all fields are present.\n      this.validateCalendarDate(calendarDate);\n      if (month === undefined) {\n        ES.assertExists(monthCode);\n        if (monthCode.endsWith('L')) {\n          if (monthCode !== 'M05L') {\n            throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${monthCode}`);\n          }\n          month = 6;\n          if (!this.inLeapYear({ year })) {\n            if (overflow === 'reject') {\n              throw new RangeError(`Hebrew monthCode M05L is invalid in year ${year} which is not a leap year`);\n            } else {\n              // constrain to same day of next month (Adar)\n              month = 6;\n              monthCode = 'M06';\n            }\n          }\n        } else {\n          month = nonLeapMonthCodeNumberPart(monthCode);\n          // if leap month is before this one, the month index is one more than the month code\n          if (this.inLeapYear({ year }) && month >= 6) month++;\n          const largestMonth = this.monthsInYear({ year });\n          if (month < 1 || month > largestMonth) throw new RangeError(`Invalid monthCode: ${monthCode}`);\n        }\n      } else {\n        if (overflow === 'reject') {\n          ES.RejectToRange(month, 1, this.monthsInYear({ year }));\n          ES.RejectToRange(day, 1, this.maximumMonthLength({ year, month }));\n        } else {\n          month = ES.ConstrainToRange(month, 1, this.monthsInYear({ year }));\n          day = ES.ConstrainToRange(day, 1, this.maximumMonthLength({ year, month }));\n        }\n        if (monthCode === undefined) {\n          monthCode = this.getMonthCode(year, month);\n        } else {\n          const calculatedMonthCode = this.getMonthCode(year, month);\n          if (calculatedMonthCode !== monthCode) {\n            throw new RangeError(`monthCode ${monthCode} doesn't correspond to month ${month} in Hebrew year ${year}`);\n          }\n        }\n      }\n      return { ...calendarDate, day, month, monthCode, year };\n    }\n  }\n}\n\n/**\n * For Temporal purposes, the Islamic calendar is simple because it's always the\n * same 12 months in the same order.\n */\nabstract class IslamicBaseHelper extends HelperBase {\n  abstract override id: BuiltinCalendarId;\n  calendarType = 'lunar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    const startOfYearCalendar = { year: calendarDate.year, month: 1, monthCode: 'M01', day: 1 };\n    const startOfNextYearCalendar = { year: calendarDate.year + 1, month: 1, monthCode: 'M01', day: 1 };\n    const result = this.calendarDaysUntil(startOfYearCalendar, startOfNextYearCalendar, cache);\n    return result === 355;\n  }\n  monthsInYear(/* calendarYear, cache */) {\n    return 12;\n  }\n  minimumMonthLength(/* calendarDate */) {\n    return 29;\n  }\n  maximumMonthLength(/* calendarDate */) {\n    return 30;\n  }\n  maxLengthOfMonthCodeInAnyYear(/* monthCode */) {\n    return 30;\n  }\n  DAYS_PER_ISLAMIC_YEAR = 354 + 11 / 30;\n  DAYS_PER_ISO_YEAR = 365.2425;\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year } = this.adjustCalendarDate(calendarDate);\n    return { year: Math.floor((year * this.DAYS_PER_ISLAMIC_YEAR) / this.DAYS_PER_ISO_YEAR) + 622, month: 1, day: 1 };\n  }\n}\n\n// There are 6 Islamic calendars with the same implementation in this polyfill.\n// They vary only in their ID. They do emit different output from the underlying\n// Intl implementation, but our code for each of them is identical.\nclass IslamicHelper extends IslamicBaseHelper {\n  id = 'islamic' as const;\n}\nclass IslamicUmalquraHelper extends IslamicBaseHelper {\n  id = 'islamic-umalqura' as const;\n}\nclass IslamicTblaHelper extends IslamicBaseHelper {\n  id = 'islamic-tbla' as const;\n}\nclass IslamicCivilHelper extends IslamicBaseHelper {\n  id = 'islamic-civil' as const;\n}\nclass IslamicRgsaHelper extends IslamicBaseHelper {\n  id = 'islamic-rgsa' as const;\n}\nclass IslamicCcHelper extends IslamicBaseHelper {\n  id = 'islamicc' as const;\n}\n\nclass PersianHelper extends HelperBase {\n  id = 'persian' as const;\n  calendarType = 'solar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    // If the last month has 30 days, it's a leap year.\n    return this.daysInMonth({ year: calendarDate.year, month: 12, day: 1 }, cache) === 30;\n  }\n  monthsInYear(/* calendarYear, cache */) {\n    return 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    if (month === 12) return 29;\n    return month <= 6 ? 31 : 30;\n  }\n  maximumMonthLength(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    if (month === 12) return 30;\n    return month <= 6 ? 31 : 30;\n  }\n  maxLengthOfMonthCodeInAnyYear(monthCode: string) {\n    const month = nonLeapMonthCodeNumberPart(monthCode);\n    return month <= 6 ? 31 : 30;\n  }\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year } = this.adjustCalendarDate(calendarDate);\n    return { year: year + 621, month: 1, day: 1 };\n  }\n}\n\ninterface IndianMonthInfo {\n  [month: number]: {\n    length: number;\n    month: number;\n    day: number;\n    leap?: {\n      length: number;\n      month: number;\n      day: number;\n    };\n    nextYear?: true | undefined;\n  };\n}\n\nclass IndianHelper extends HelperBase {\n  id = 'indian' as const;\n  calendarType = 'solar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    // From https://en.wikipedia.org/wiki/Indian_national_calendar:\n    // Years are counted in the Saka era, which starts its year 0 in the year 78\n    // of the Common Era. To determine leap years, add 78 to the Saka year – if\n    // the result is a leap year in the Gregorian calendar, then the Saka year\n    // is a leap year as well.\n    return isGregorianLeapYear(calendarDate.year + 78);\n  }\n  monthsInYear(/* calendarYear, cache */) {\n    return 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM) {\n    return this.getMonthInfo(calendarDate).length;\n  }\n  maximumMonthLength(calendarDate: CalendarYM) {\n    return this.getMonthInfo(calendarDate).length;\n  }\n  maxLengthOfMonthCodeInAnyYear(monthCode: string) {\n    const month = nonLeapMonthCodeNumberPart(monthCode);\n    let monthInfo = this.months[month];\n    monthInfo = monthInfo.leap ?? monthInfo;\n    return monthInfo.length;\n  }\n  // Indian months always start at the same well-known Gregorian month and\n  // day. So this conversion is easy and fast. See\n  // https://en.wikipedia.org/wiki/Indian_national_calendar\n  months: IndianMonthInfo = {\n    1: { length: 30, month: 3, day: 22, leap: { length: 31, month: 3, day: 21 } },\n    2: { length: 31, month: 4, day: 21 },\n    3: { length: 31, month: 5, day: 22 },\n    4: { length: 31, month: 6, day: 22 },\n    5: { length: 31, month: 7, day: 23 },\n    6: { length: 31, month: 8, day: 23 },\n    7: { length: 30, month: 9, day: 23 },\n    8: { length: 30, month: 10, day: 23 },\n    9: { length: 30, month: 11, day: 22 },\n    10: { length: 30, month: 12, day: 22 },\n    11: { length: 30, month: 1, nextYear: true, day: 21 },\n    12: { length: 30, month: 2, nextYear: true, day: 20 }\n  };\n  getMonthInfo(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    let monthInfo = this.months[month];\n    if (monthInfo === undefined) throw new RangeError(`Invalid month: ${month}`);\n    if (this.inLeapYear(calendarDate) && monthInfo.leap) monthInfo = monthInfo.leap;\n    return monthInfo;\n  }\n  estimateIsoDate(calendarDateParam: CalendarYMD) {\n    // FYI, this \"estimate\" is always the exact ISO date, which makes the Indian\n    // calendar fast!\n    const calendarDate = this.adjustCalendarDate(calendarDateParam);\n    const monthInfo = this.getMonthInfo(calendarDate);\n    const isoYear = calendarDate.year + 78 + (monthInfo.nextYear ? 1 : 0);\n    const isoMonth = monthInfo.month;\n    const isoDay = monthInfo.day;\n    const isoDate = ES.BalanceISODate(isoYear, isoMonth, isoDay + calendarDate.day - 1);\n    return isoDate;\n  }\n  // https://bugs.chromium.org/p/v8/issues/detail?id=10529 causes Intl's Indian\n  // calendar output to fail for all dates before 0001-01-01 ISO.  For example,\n  // in Node 12 0000-01-01 is calculated as 6146/12/-583 instead of 10/11/-79 as\n  // expected.\n  vulnerableToBceBug =\n    new Date('0000-01-01T00:00Z').toLocaleDateString('en-US-u-ca-indian', { timeZone: 'UTC' }) !== '10/11/-79 Saka';\n  override checkIcuBugs(isoDate: ISODate) {\n    if (this.vulnerableToBceBug && isoDate.year < 1) {\n      throw new RangeError(\n        `calendar '${this.id}' is broken for ISO dates before 0001-01-01` +\n          ' (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)'\n      );\n    }\n  }\n}\n\n/**\n * Era metadata defined for each calendar.\n * TODO: instead of optional properties, this should really have rules\n * encoded in the type, e.g. isoEpoch is required unless reverseOf is present.\n *  */\ninterface InputEra {\n  /**\n   * Era code, used to populate the 'era' field of Temporal instances.\n   * See https://tc39.es/proposal-intl-era-monthcode/#table-eras\n   */\n  code: string;\n\n  /**\n   * Names are additionally accepted as alternate era codes on input, and the\n   * first name is also output in error messages (and may be the era code if\n   * desired.)\n   * See https://tc39.es/proposal-intl-era-monthcode/#table-eras\n   * If absent, this field defaults to a single element matching the code.\n   */\n  names?: string[];\n\n  /**\n   * Signed calendar year where this era begins.Will be\n   * 1 (or 0 for zero-based eras) for the anchor era assuming that `year`\n   * numbering starts at the beginning of the anchor era, which is true\n   * for all ICU calendars except Japanese. If an era starts mid-year\n   * then a calendar month and day are included. Otherwise\n   * `{ month: 1, day: 1 }` is assumed.\n   */\n  anchorEpoch?: CalendarYearOnly | CalendarYMD;\n\n  /** ISO date of the first day of this era */\n  isoEpoch?: { year: number; month: number; day: number };\n\n  /**\n   * If present, then this era counts years backwards like BC\n   * and this property points to the forward era. This must be\n   * the last (oldest) era in the array.\n   * */\n  reverseOf?: string;\n\n  /**\n   * If true, the era's years are 0-based. If omitted or false,\n   * then the era's years are 1-based.\n   * */\n  hasYearZero?: boolean;\n\n  /**\n   * Override if this era is the anchor. Not normally used because\n   * anchor eras are inferred.\n   * */\n  isAnchor?: boolean;\n}\n/**\n * Transformation of the `InputEra` type with all fields filled in by\n * `adjustEras()`\n * */\ninterface Era {\n  /**\n   * Era code, used to populate the 'era' field of Temporal instances.\n   * See https://tc39.es/proposal-intl-era-monthcode/#table-eras\n   */\n  code: string;\n\n  /**\n   * Names are additionally accepted as alternate era codes on input, and the\n   * first name is also output in error messages (and may be the era code if\n   * desired.)\n   * See https://tc39.es/proposal-intl-era-monthcode/#table-eras\n   * If absent, this field defaults to a single element matching the code.\n   */\n  names: string[];\n\n  /**\n   * alternate name of the era used in old versions of ICU data\n   * format is `era{n}` where n is the zero-based index of the era\n   * with the oldest era being 0.\n   * */\n  genericName: string;\n\n  /**\n   * Signed calendar year where this era begins. Will be 1 (or 0 for zero-based\n   * eras) for the anchor era assuming that `year` numbering starts at the\n   * beginning of the anchor era, which is true for all ICU calendars except\n   * Japanese. For input, the month and day are optional. If an era starts\n   * mid-year then a calendar month and day are included.\n   * Otherwise `{ month: 1, day: 1 }` is assumed.\n   */\n  anchorEpoch: CalendarYMD;\n\n  /** ISO date of the first day of this era */\n  isoEpoch: ISODate;\n\n  /**\n   * If present, then this era counts years backwards like BC\n   * and this property points to the forward era. This must be\n   * the last (oldest) era in the array.\n   * */\n  reverseOf?: Era;\n\n  /**\n   * If true, the era's years are 0-based. If omitted or false,\n   * then the era's years are 1-based.\n   * */\n  hasYearZero?: boolean;\n\n  /**\n   * Override if this era is the anchor. Not normally used because\n   * anchor eras are inferred.\n   * */\n  isAnchor?: boolean;\n}\n\n/**\n * This function adds additional metadata that makes it easier to work with\n * eras. Note that it mutates and normalizes the original era objects, which is\n * OK because this is non-observable, internal-only metadata.\n *\n * The result is an array of eras with the shape defined above.\n * */\nfunction adjustEras(erasParam: InputEra[]): { eras: Era[]; anchorEra: Era } {\n  let eras: (InputEra | Era)[] = erasParam;\n  if (eras.length === 0) {\n    throw new RangeError('Invalid era data: eras are required');\n  }\n  if (eras.length === 1 && eras[0].reverseOf) {\n    throw new RangeError('Invalid era data: anchor era cannot count years backwards');\n  }\n  if (eras.length === 1 && !eras[0].code) {\n    throw new RangeError('Invalid era data: at least one named era is required');\n  }\n  if (eras.filter((e) => e.reverseOf != null).length > 1) {\n    throw new RangeError('Invalid era data: only one era can count years backwards');\n  }\n\n  // Find the \"anchor era\" which is the era used for (era-less) `year`. Reversed\n  // eras can never be anchors. The era without an `anchorEpoch` property is the\n  // anchor.\n  let anchorEra: Era | InputEra | undefined;\n  eras.forEach((e) => {\n    if (e.isAnchor || (!e.anchorEpoch && !e.reverseOf)) {\n      if (anchorEra) throw new RangeError('Invalid era data: cannot have multiple anchor eras');\n      anchorEra = e;\n      e.anchorEpoch = { year: e.hasYearZero ? 0 : 1 };\n    } else if (!e.code) {\n      throw new RangeError('If era name is blank, it must be the anchor era');\n    }\n  });\n\n  // If the era name is undefined, then it's an anchor that doesn't interact\n  // with eras at all. For example, Japanese `year` is always the same as ISO\n  // `year`.  So this \"era\" is the anchor era but isn't used for era matching.\n  // Strip it from the list that's returned.\n  eras = eras.filter((e) => e.code);\n\n  eras.forEach((e) => {\n    // Some eras are mirror images of another era e.g. B.C. is the reverse of A.D.\n    // Replace the string-valued \"reverseOf\" property with the actual era object\n    // that's reversed.\n    const { reverseOf } = e;\n    if (reverseOf) {\n      const reversedEra = eras.find((era) => era.code === reverseOf);\n      if (reversedEra === undefined) {\n        throw new RangeError(`Invalid era data: unmatched reverseOf era: ${reverseOf}`);\n      }\n      e.reverseOf = reversedEra as Era; // genericName property added later\n      e.anchorEpoch = reversedEra.anchorEpoch;\n      e.isoEpoch = reversedEra.isoEpoch;\n    }\n    type YMD = {\n      year: number;\n      month: number;\n      day: number;\n    };\n    if ((e.anchorEpoch as YMD).month === undefined) (e.anchorEpoch as YMD).month = 1;\n    if ((e.anchorEpoch as YMD).day === undefined) (e.anchorEpoch as YMD).day = 1;\n  });\n\n  // Ensure that the latest epoch is first in the array. This lets us try to\n  // match eras in index order, with the last era getting the remaining older\n  // years. Any reverse-signed era must be at the end.\n  eras.sort((e1, e2) => {\n    if (e1.reverseOf) return 1;\n    if (e2.reverseOf) return -1;\n    if (!e1.isoEpoch || !e2.isoEpoch) throw new RangeError('Invalid era data: missing ISO epoch');\n    return e2.isoEpoch.year - e1.isoEpoch.year;\n  });\n\n  // If there's a reversed era, then the one before it must be the era that's\n  // being reversed.\n  const lastEraReversed = eras[eras.length - 1].reverseOf;\n  if (lastEraReversed) {\n    if (lastEraReversed !== eras[eras.length - 2]) {\n      throw new RangeError('Invalid era data: invalid reverse-sign era');\n    }\n  }\n\n  // Finally, add a \"genericName\" property in the format \"era{n} where `n` is\n  // zero-based index, with the oldest era being zero. This format is used by\n  // older versions of ICU data.\n  eras.forEach((e, i) => {\n    (e as Era).genericName = `era${eras.length - 1 - i}`;\n  });\n\n  return { eras: eras as Era[], anchorEra: (anchorEra || eras[0]) as Era };\n}\n\nfunction isGregorianLeapYear(year: number) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n/** Base for all Gregorian-like calendars. */\nabstract class GregorianBaseHelperFixedEpoch extends HelperBase {\n  id: BuiltinCalendarId;\n  isoEpoch: ISODate;\n\n  constructor(id: BuiltinCalendarId, isoEpoch: ISODate) {\n    super();\n    this.id = id;\n    this.isoEpoch = isoEpoch;\n  }\n  calendarType = 'solar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    const { year } = this.estimateIsoDate({ month: 1, day: 1, year: calendarDate.year });\n    return isGregorianLeapYear(year);\n  }\n  monthsInYear(/* calendarDate */) {\n    return 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM): number {\n    const { month } = calendarDate;\n    if (month === 2) return this.inLeapYear(calendarDate) ? 29 : 28;\n    return [4, 6, 9, 11].indexOf(month) >= 0 ? 30 : 31;\n  }\n  maximumMonthLength(calendarDate: CalendarYM): number {\n    return this.minimumMonthLength(calendarDate);\n  }\n  maxLengthOfMonthCodeInAnyYear(monthCode: string) {\n    const month = nonLeapMonthCodeNumberPart(monthCode);\n    return [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month - 1];\n  }\n  estimateIsoDate(calendarDateParam: CalendarYMD) {\n    const calendarDate = this.adjustCalendarDate(calendarDateParam);\n    return ES.RegulateISODate(\n      calendarDate.year + this.isoEpoch.year,\n      calendarDate.month + this.isoEpoch.month,\n      calendarDate.day + this.isoEpoch.day,\n      'constrain'\n    );\n  }\n}\n\n/** Base for Gregorian-like calendars with eras. */\nabstract class GregorianBaseHelper extends HelperBase {\n  id: BuiltinCalendarId;\n  anchorEra: Era;\n\n  constructor(id: BuiltinCalendarId, originalEras: InputEra[]) {\n    super();\n    this.id = id;\n    const { eras, anchorEra } = adjustEras(originalEras);\n    this.anchorEra = anchorEra;\n    this.eras = eras;\n  }\n  override hasEra = true;\n  calendarType = 'solar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    // Calendars that don't override this method use the same months and leap\n    // years as Gregorian. Once we know the ISO year corresponding to the\n    // calendar year, we'll know if it's a leap year or not.\n    const { year } = this.estimateIsoDate({ month: 1, day: 1, year: calendarDate.year });\n    return isGregorianLeapYear(year);\n  }\n  monthsInYear(/* calendarDate */) {\n    return 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM): number {\n    const { month } = calendarDate;\n    if (month === 2) return this.inLeapYear(calendarDate) ? 29 : 28;\n    return [4, 6, 9, 11].indexOf(month) >= 0 ? 30 : 31;\n  }\n  maximumMonthLength(calendarDate: CalendarYM): number {\n    return this.minimumMonthLength(calendarDate);\n  }\n  maxLengthOfMonthCodeInAnyYear(monthCode: string) {\n    const month = nonLeapMonthCodeNumberPart(monthCode);\n    return [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month - 1];\n  }\n  /** Fill in missing parts of the (year, era, eraYear) tuple */\n  completeEraYear(\n    calendarDate: FullCalendarDate\n  ): FullCalendarDate & Required<Pick<FullCalendarDate, 'era' | 'eraYear'>> {\n    const checkField = (property: keyof FullCalendarDate, value: string | number | undefined, names?: string[]) => {\n      const currentValue = calendarDate[property];\n      if (currentValue != null && currentValue != value && !((names || []) as unknown[]).includes(currentValue)) {\n        // Prefer displaying an era alias, instead of \"gregory-inverse\"\n        const preferredName = names?.[0];\n        const expected = preferredName ? `${value} (also called ${preferredName})` : value;\n        throw new RangeError(`Input ${property} ${currentValue} doesn't match calculated value ${expected}`);\n      }\n    };\n    const eraFromYear = (year: number) => {\n      let eraYear;\n      const adjustedCalendarDate = { ...calendarDate, year };\n      const matchingEra = this.eras.find((e, i) => {\n        if (i === this.eras.length - 1) {\n          if (e.reverseOf) {\n            // This is a reverse-sign era (like BCE) which must be the oldest\n            // era. Count years backwards.\n            if (year > 0) throw new RangeError(`Signed year ${year} is invalid for era ${e.code}`);\n            eraYear = e.anchorEpoch.year - year;\n            return true;\n          }\n          // last era always gets all \"leftover\" (older than epoch) years,\n          // so no need for a comparison like below.\n          eraYear = year - e.anchorEpoch.year + (e.hasYearZero ? 0 : 1);\n          return true;\n        }\n        const comparison = this.compareCalendarDates(adjustedCalendarDate, e.anchorEpoch);\n        if (comparison >= 0) {\n          eraYear = year - e.anchorEpoch.year + (e.hasYearZero ? 0 : 1);\n          return true;\n        }\n        return false;\n      });\n      if (!matchingEra) throw new RangeError(`Year ${year} was not matched by any era`);\n      return { eraYear: eraYear as unknown as number, era: matchingEra.code, eraNames: matchingEra.names };\n    };\n\n    let { year, eraYear, era } = calendarDate;\n    if (year != null) {\n      const matchData = eraFromYear(year);\n      ({ eraYear, era } = matchData);\n      checkField('era', era, matchData?.eraNames);\n      checkField('eraYear', eraYear);\n    } else if (eraYear != null) {\n      if (era === undefined) throw new RangeError('era and eraYear must be provided together');\n      // TS limitation: https://github.com/microsoft/TypeScript/issues/11498\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const matchingEra = this.eras.find(({ code, names = [] }) => code === era || names.includes(era!));\n      if (!matchingEra) throw new RangeError(`Era ${era} (ISO year ${eraYear}) was not matched by any era`);\n      if (matchingEra.reverseOf) {\n        year = matchingEra.anchorEpoch.year - eraYear;\n      } else {\n        year = eraYear + matchingEra.anchorEpoch.year - (matchingEra.hasYearZero ? 0 : 1);\n      }\n      checkField('year', year);\n      // We'll accept dates where the month/day is earlier than the start of\n      // the era or after its end as long as it's in the same year. If that\n      // happens, we'll adjust the era/eraYear pair to be the correct era for\n      // the `year`.\n      ({ eraYear, era } = eraFromYear(year));\n    } else {\n      throw new RangeError('Either year or eraYear and era are required');\n    }\n    return { ...calendarDate, year, eraYear, era };\n  }\n  override adjustCalendarDate(\n    calendarDateParam: Partial<FullCalendarDate>,\n    cache?: OneObjectCache,\n    overflow: Overflow = 'constrain'\n  ): FullCalendarDate {\n    let calendarDate = calendarDateParam;\n    // Because this is not a lunisolar calendar, it's safe to convert monthCode to a number\n    const { month, monthCode } = calendarDate;\n    if (month === undefined) calendarDate = { ...calendarDate, month: nonLeapMonthCodeNumberPart(monthCode as string) };\n    this.validateCalendarDate(calendarDate);\n    calendarDate = this.completeEraYear(calendarDate);\n    return super.adjustCalendarDate(calendarDate, cache, overflow);\n  }\n  estimateIsoDate(calendarDateParam: CalendarYMD) {\n    const calendarDate = this.adjustCalendarDate(calendarDateParam);\n    const { year, month, day } = calendarDate;\n    const { anchorEra } = this;\n    const isoYearEstimate = year + anchorEra.isoEpoch.year - (anchorEra.hasYearZero ? 0 : 1);\n    return ES.RegulateISODate(isoYearEstimate, month, day, 'constrain');\n  }\n}\n\n/**\n * Some calendars are identical to Gregorian except era and year. For these\n * calendars, we can avoid using Intl.DateTimeFormat and just calculate the\n * year, era, and eraYear. This is faster (because Intl.DateTimeFormat is slow\n * and uses a huge amount of RAM), and it avoids ICU bugs like\n * https://bugs.chromium.org/p/chromium/issues/detail?id=1173158.\n */\nabstract class SameMonthDayAsGregorianBaseHelper extends GregorianBaseHelper {\n  constructor(id: BuiltinCalendarId, originalEras: InputEra[]) {\n    super(id, originalEras);\n  }\n  override isoToCalendarDate(isoDate: ISODate): FullCalendarDate {\n    // Month and day are same as ISO, so bypass Intl.DateTimeFormat and\n    // calculate the year, era, and eraYear here.\n    const { year: isoYear, month, day } = isoDate;\n    const monthCode = buildMonthCode(month);\n    const year = isoYear - this.anchorEra.isoEpoch.year + 1;\n    return this.completeEraYear({ year, month, monthCode, day });\n  }\n}\nconst OrthodoxOps = {\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    // Leap years happen one year before the Julian leap year. Note that this\n    // calendar is based on the Julian calendar which has a leap year every 4\n    // years, unlike the Gregorian calendar which doesn't have leap years on\n    // years divisible by 100 except years divisible by 400.\n    //\n    // Note that we're assuming that leap years in before-epoch times match\n    // how leap years are defined now. This is probably not accurate but I'm\n    // not sure how better to do it.\n    const { year } = calendarDate;\n    return (year + 1) % 4 === 0;\n  },\n  monthsInYear(/* calendarDate */) {\n    return 13;\n  },\n  minimumMonthLength(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    // Ethiopian/Coptic calendars have 12 30-day months and an extra 5-6 day 13th month.\n    if (month === 13) return this.inLeapYear(calendarDate) ? 6 : 5;\n    return 30;\n  },\n  maximumMonthLength(calendarDate: CalendarYM) {\n    return this.minimumMonthLength(calendarDate);\n  },\n  maxLengthOfMonthCodeInAnyYear(monthCode: string) {\n    return monthCode === 'M13' ? 6 : 30;\n  }\n};\nabstract class OrthodoxBaseHelperFixedEpoch extends GregorianBaseHelperFixedEpoch {\n  constructor(id: BuiltinCalendarId, isoEpoch: ISODate) {\n    super(id, isoEpoch);\n  }\n  override inLeapYear = OrthodoxOps.inLeapYear;\n  override monthsInYear = OrthodoxOps.monthsInYear;\n  override minimumMonthLength = OrthodoxOps.minimumMonthLength;\n  override maximumMonthLength = OrthodoxOps.maximumMonthLength;\n  override maxLengthOfMonthCodeInAnyYear = OrthodoxOps.maxLengthOfMonthCodeInAnyYear;\n}\nabstract class OrthodoxBaseHelper extends GregorianBaseHelper {\n  constructor(id: BuiltinCalendarId, originalEras: InputEra[]) {\n    super(id, originalEras);\n  }\n  override inLeapYear = OrthodoxOps.inLeapYear;\n  override monthsInYear = OrthodoxOps.monthsInYear;\n  override minimumMonthLength = OrthodoxOps.minimumMonthLength;\n  override maximumMonthLength = OrthodoxOps.maximumMonthLength;\n  override maxLengthOfMonthCodeInAnyYear = OrthodoxOps.maxLengthOfMonthCodeInAnyYear;\n}\n\n// `coptic` and `ethiopic` calendars are very similar to `ethioaa` calendar,\n// with the following differences:\n// - Coptic uses BCE-like positive numbers for years before its epoch (the other\n//   two use negative year numbers before epoch)\n// - Coptic has a different epoch date\n// - Ethiopic has an additional second era that starts at the same date as the\n//   zero era of ethioaa.\nclass EthioaaHelper extends OrthodoxBaseHelperFixedEpoch {\n  constructor() {\n    super('ethioaa', { year: -5492, month: 7, day: 17 });\n  }\n}\nclass CopticHelper extends OrthodoxBaseHelper {\n  constructor() {\n    super('coptic', [\n      { code: 'coptic', isoEpoch: { year: 284, month: 8, day: 29 } },\n      { code: 'coptic-inverse', reverseOf: 'coptic' }\n    ]);\n  }\n}\n\n// Anchor is currently the older era to match ethioaa, but should it be the newer era?\n// See https://github.com/tc39/ecma402/issues/534 for discussion.\nclass EthiopicHelper extends OrthodoxBaseHelper {\n  constructor() {\n    super('ethiopic', [\n      { code: 'ethioaa', names: ['ethiopic-amete-alem', 'mundi'], isoEpoch: { year: -5492, month: 7, day: 17 } },\n      { code: 'ethiopic', names: ['incar'], isoEpoch: { year: 8, month: 8, day: 27 }, anchorEpoch: { year: 5501 } }\n    ]);\n  }\n}\n\nclass RocHelper extends SameMonthDayAsGregorianBaseHelper {\n  constructor() {\n    super('roc', [\n      { code: 'roc', names: ['minguo'], isoEpoch: { year: 1912, month: 1, day: 1 } },\n      { code: 'roc-inverse', names: ['before-roc'], reverseOf: 'roc' }\n    ]);\n  }\n}\n\nclass BuddhistHelper extends GregorianBaseHelperFixedEpoch {\n  constructor() {\n    super('buddhist', { year: -543, month: 1, day: 1 });\n  }\n}\n\nclass GregoryHelper extends SameMonthDayAsGregorianBaseHelper {\n  constructor() {\n    super('gregory', [\n      { code: 'gregory', names: ['ad', 'ce'], isoEpoch: { year: 1, month: 1, day: 1 } },\n      { code: 'gregory-inverse', names: ['be', 'bce'], reverseOf: 'gregory' }\n    ]);\n  }\n  override reviseIntlEra<T extends Partial<EraAndEraYear>>(calendarDate: T /*, isoDate: IsoDate*/): T {\n    let { era, eraYear } = calendarDate;\n    // Firefox 96 introduced a bug where the `'short'` format of the era\n    // option mistakenly returns the one-letter (narrow) format instead. The\n    // code below handles either the correct or Firefox-buggy format. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1752253\n    if (era === 'b') era = 'gregory-inverse';\n    if (era === 'a') era = 'gregory';\n    return { era, eraYear } as T;\n  }\n  override getFirstDayOfWeek() {\n    return 1;\n  }\n  override getMinimalDaysInFirstWeek() {\n    return 1;\n  }\n}\n\n// NOTE: Only the 5 modern eras (Meiji and later) are included. For dates\n// before Meiji 1, the `ce` and `bce` eras are used. Challenges with pre-Meiji\n// eras include:\n// - Start/end dates of older eras are not precisely defined, which is\n//   challenging given Temporal's need for precision\n// - Some era dates and/or names are disputed by historians\n// - As historical research proceeds, new eras are discovered and existing era\n//   dates are modified, leading to considerable churn which is not good for\n//   Temporal use.\n//  - The earliest era (in 645 CE) may not end up being the earliest depending\n//    on future historical scholarship\n//  - Before Meiji, Japan used a lunar (or lunisolar?) calendar but AFAIK\n//    that's not reflected in the ICU implementation.\n//\n// For more discussion: https://github.com/tc39/proposal-temporal/issues/526.\n//\n// Here's a full list of CLDR/ICU eras:\n// https://github.com/unicode-org/icu/blob/master/icu4c/source/data/locales/root.txt#L1582-L1818\n// https://github.com/unicode-org/cldr/blob/master/common/supplemental/supplementalData.xml#L4310-L4546\n//\n// NOTE: Japan started using the Gregorian calendar in 6 Meiji, replacing a\n// lunisolar calendar. So the day before January 1 of 6 Meiji (1873) was not\n// December 31, but December 2, of 5 Meiji (1872). The existing Ecma-402\n// Japanese calendar doesn't seem to take this into account, so neither do we:\n// > args = ['en-ca-u-ca-japanese', { era: 'short' }]\n// > new Date('1873-01-01T12:00').toLocaleString(...args)\n// '1 1, 6 Meiji, 12:00:00 PM'\n// > new Date('1872-12-31T12:00').toLocaleString(...args)\n// '12 31, 5 Meiji, 12:00:00 PM'\nclass JapaneseHelper extends SameMonthDayAsGregorianBaseHelper {\n  constructor() {\n    super('japanese', [\n      // The Japanese calendar `year` is just the ISO year, because (unlike other\n      // ICU calendars) there's no obvious \"default era\", we use the ISO year.\n      { code: 'reiwa', isoEpoch: { year: 2019, month: 5, day: 1 }, anchorEpoch: { year: 2019, month: 5, day: 1 } },\n      { code: 'heisei', isoEpoch: { year: 1989, month: 1, day: 8 }, anchorEpoch: { year: 1989, month: 1, day: 8 } },\n      { code: 'showa', isoEpoch: { year: 1926, month: 12, day: 25 }, anchorEpoch: { year: 1926, month: 12, day: 25 } },\n      { code: 'taisho', isoEpoch: { year: 1912, month: 7, day: 30 }, anchorEpoch: { year: 1912, month: 7, day: 30 } },\n      { code: 'meiji', isoEpoch: { year: 1868, month: 9, day: 8 }, anchorEpoch: { year: 1868, month: 9, day: 8 } },\n      { code: 'japanese', names: ['japanese', 'gregory', 'ad', 'ce'], isoEpoch: { year: 1, month: 1, day: 1 } },\n      { code: 'japanese-inverse', names: ['japanese-inverse', 'gregory-inverse', 'bc', 'bce'], reverseOf: 'japanese' }\n    ]);\n  }\n\n  override erasBeginMidYear = true;\n\n  override reviseIntlEra<T extends Partial<EraAndEraYear>>(calendarDate: T, isoDate: ISODate): T {\n    const { era, eraYear } = calendarDate;\n    const { year: isoYear } = isoDate;\n    if (this.eras.find((e) => e.code === era)) return { era, eraYear } as T;\n    return (\n      isoYear < 1 ? { era: 'japanese-inverse', eraYear: 1 - isoYear } : { era: 'japanese', eraYear: isoYear }\n    ) as T;\n  }\n}\n\ninterface ChineseMonthInfo {\n  [key: string]: { monthIndex: number; daysInMonth: number };\n}\ninterface ChineseDraftMonthInfo {\n  [key: string]: { monthIndex: number; daysInMonth?: number };\n}\n\nabstract class ChineseBaseHelper extends HelperBase {\n  abstract override id: BuiltinCalendarId;\n  calendarType = 'lunisolar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    const months = this.getMonthList(calendarDate.year, cache);\n    return Object.entries(months).length === 13;\n  }\n  monthsInYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    return this.inLeapYear(calendarDate, cache) ? 13 : 12;\n  }\n  minimumMonthLength(/* calendarDate */) {\n    return 29;\n  }\n  maximumMonthLength(/* calendarDate */) {\n    return 30;\n  }\n  maxLengthOfMonthCodeInAnyYear(monthCode: string) {\n    // See note below about ICU4C vs ICU4X. It is possible this override should\n    // always return 30.\n    return ['M01L', 'M09L', 'M10L', 'M11L', 'M12L'].includes(monthCode) ? 29 : 30;\n  }\n  override monthDaySearchStartYear(monthCode: string, day: number) {\n    // Note that ICU4C actually has _no_ years in which leap months M01L and\n    // M09L through M12L have 30 days. The values marked with (*) here are years\n    // in which the leap month occurs with 29 days. ICU4C disagrees with ICU4X\n    // here and it is not clear which is correct.\n    const monthMap: Record<string, [number, number]> = {\n      M01L: [1651, 1651], // *\n      M02L: [1947, 1765],\n      M03L: [1966, 1955],\n      M04L: [1963, 1944],\n      M05L: [1971, 1952],\n      M06L: [1960, 1941],\n      M07L: [1968, 1938],\n      M08L: [1957, 1718],\n      M09L: [1832, 1832], // *\n      M10L: [1870, 1870], // *\n      M11L: [1814, 1814], // *\n      M12L: [1890, 1890] // *\n    };\n    const years = monthMap[monthCode] ?? [1972, 1972];\n    return day < 30 ? years[0] : years[1];\n  }\n  getMonthList(calendarYear: number, cache: OneObjectCache): ChineseMonthInfo {\n    if (calendarYear === undefined) {\n      throw new TypeError('Missing year');\n    }\n    const key = JSON.stringify({ func: 'getMonthList', calendarYear, id: this.id });\n    const cached = cache.get(key);\n    if (cached) return cached;\n    const dateTimeFormat = this.getFormatter();\n    const getCalendarDate = (isoYear: number, daysPastFeb1: number) => {\n      const isoStringFeb1 = toUtcIsoDateString({ isoYear, isoMonth: 2, isoDay: 1 });\n      const legacyDate = new Date(isoStringFeb1);\n      // Now add the requested number of days, which may wrap to the next month.\n      legacyDate.setUTCDate(daysPastFeb1 + 1);\n      const newYearGuess = dateTimeFormat.formatToParts(legacyDate);\n      // The 'month' and 'day' parts are guaranteed to be present because the\n      // formatter was created with month and day options.\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const calendarMonthString = newYearGuess.find((tv) => tv.type === 'month')!.value;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const calendarDay = +newYearGuess.find((tv) => tv.type === 'day')!.value;\n      const calendarYearPartToVerify = newYearGuess.find((tv) => (tv.type as string) === 'relatedYear');\n      let calendarYearToVerify: number | undefined;\n      if (calendarYearPartToVerify !== undefined) {\n        calendarYearToVerify = +calendarYearPartToVerify.value;\n      } else {\n        // Node 12 has outdated ICU data that lacks the `relatedYear` field in the\n        // output of Intl.DateTimeFormat.formatToParts.\n        throw new RangeError(\n          `Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`\n        );\n      }\n      return { calendarMonthString, calendarDay, calendarYearToVerify };\n    };\n\n    // First, find a date close to Chinese New Year. Feb 17 will either be in\n    // the first month or near the end of the last month of the previous year.\n    let isoDaysDelta = 17;\n    let { calendarMonthString, calendarDay, calendarYearToVerify } = getCalendarDate(calendarYear, isoDaysDelta);\n\n    // If we didn't guess the first month correctly, add (almost in some months)\n    // a lunar month\n    if (calendarMonthString !== '1') {\n      isoDaysDelta += 29;\n      ({ calendarMonthString, calendarDay } = getCalendarDate(calendarYear, isoDaysDelta));\n    }\n\n    // Now back up to near the start of the first month, but not too near that\n    // off-by-one issues matter.\n    isoDaysDelta -= calendarDay - 5;\n    const result = {} as ChineseDraftMonthInfo;\n    let monthIndex = 1;\n    let oldCalendarDay: number | undefined;\n    let oldMonthString: string | undefined;\n    let done = false;\n    do {\n      ({ calendarMonthString, calendarDay, calendarYearToVerify } = getCalendarDate(calendarYear, isoDaysDelta));\n      if (oldCalendarDay) {\n        result[oldMonthString as string].daysInMonth = oldCalendarDay + 30 - calendarDay;\n      }\n      if (calendarYearToVerify !== calendarYear) {\n        done = true;\n      } else {\n        result[calendarMonthString] = { monthIndex: monthIndex++ };\n        // Move to the next month. Because months are sometimes 29 days, the day of the\n        // calendar month will move forward slowly but not enough to flip over to a new\n        // month before the loop ends at 12-13 months.\n        isoDaysDelta += 30;\n      }\n      oldCalendarDay = calendarDay;\n      oldMonthString = calendarMonthString;\n    } while (!done);\n    result[oldMonthString].daysInMonth = oldCalendarDay + 30 - calendarDay;\n\n    cache.set(key, result);\n    return result as ChineseMonthInfo;\n  }\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year, month } = calendarDate;\n    return { year, month: month >= 12 ? 12 : month + 1, day: 1 };\n  }\n  override adjustCalendarDate(\n    calendarDate: Partial<FullCalendarDate>,\n    cache: OneObjectCache,\n    overflow: Overflow = 'constrain',\n    fromLegacyDate = false\n  ): FullCalendarDate {\n    let { year, month, monthExtra, day, monthCode } = calendarDate;\n    if (year === undefined) throw new TypeError('Missing property: year');\n    if (fromLegacyDate) {\n      // Legacy Date output returns a string that's an integer with an optional\n      // \"bis\" suffix used only by the Chinese/Dangi calendar to indicate a leap\n      // month. Below we'll normalize the output.\n      if (monthExtra && monthExtra !== 'bis') throw new RangeError(`Unexpected leap month suffix: ${monthExtra}`);\n      const monthCode = buildMonthCode(month as number, monthExtra !== undefined);\n      const monthString = `${month}${monthExtra || ''}`;\n      const months = this.getMonthList(year, cache);\n      const monthInfo = months[monthString];\n      if (monthInfo === undefined) throw new RangeError(`Unmatched month ${monthString} in Chinese year ${year}`);\n      month = monthInfo.monthIndex;\n      return { year, month, day: day as number, monthCode };\n    } else {\n      // When called without input coming from legacy Date output,\n      // simply ensure that all fields are present.\n      this.validateCalendarDate(calendarDate);\n      if (month === undefined) {\n        ES.assertExists(monthCode);\n        const months = this.getMonthList(year, cache);\n        let numberPart = monthCode.replace(/^M|L$/g, (ch) => (ch === 'L' ? 'bis' : ''));\n        if (numberPart[0] === '0') numberPart = numberPart.slice(1);\n        let monthInfo = months[numberPart];\n        month = monthInfo && monthInfo.monthIndex;\n\n        // If this leap month isn't present in this year, constrain to the same\n        // day of the previous month.\n        if (month === undefined && monthCode.endsWith('L') && monthCode != 'M13L' && overflow === 'constrain') {\n          const withoutML = +monthCode.replace(/^M0?|L$/g, '');\n          monthInfo = months[withoutML];\n          if (monthInfo) {\n            month = monthInfo.monthIndex;\n            monthCode = buildMonthCode(withoutML);\n          }\n        }\n        if (month === undefined) {\n          throw new RangeError(`Unmatched month ${monthCode} in Chinese year ${year}`);\n        }\n      } else if (monthCode === undefined) {\n        const months = this.getMonthList(year, cache);\n        const monthEntries = Object.entries(months);\n        const largestMonth = monthEntries.length;\n        if (overflow === 'reject') {\n          ES.RejectToRange(month, 1, largestMonth);\n          ES.RejectToRange(day as number, 1, this.maximumMonthLength());\n        } else {\n          month = ES.ConstrainToRange(month, 1, largestMonth);\n          day = ES.ConstrainToRange(day, 1, this.maximumMonthLength());\n        }\n        const matchingMonthEntry = monthEntries.find((entry) => entry[1].monthIndex === month);\n        if (matchingMonthEntry === undefined) {\n          throw new RangeError(`Invalid month ${month} in Chinese year ${year}`);\n        }\n        monthCode = buildMonthCode(\n          +matchingMonthEntry[0].replace('bis', ''),\n          matchingMonthEntry[0].indexOf('bis') !== -1\n        );\n      } else {\n        // Both month and monthCode are present. Make sure they don't conflict.\n        const months = this.getMonthList(year, cache);\n        let numberPart = monthCode.replace(/^M|L$/g, (ch) => (ch === 'L' ? 'bis' : ''));\n        if (numberPart[0] === '0') numberPart = numberPart.slice(1);\n        const monthInfo = months[numberPart];\n        if (!monthInfo) throw new RangeError(`Unmatched monthCode ${monthCode} in Chinese year ${year}`);\n        if (month !== monthInfo.monthIndex) {\n          throw new RangeError(`monthCode ${monthCode} doesn't correspond to month ${month} in Chinese year ${year}`);\n        }\n      }\n      return { ...calendarDate, year, month, monthCode, day: day as number };\n    }\n  }\n}\n\nclass ChineseHelper extends ChineseBaseHelper {\n  id = 'chinese' as const;\n}\n\n// Dangi (Korean) calendar has same implementation as Chinese\nclass DangiHelper extends ChineseBaseHelper {\n  id = 'dangi' as const;\n}\n\n/**\n * Common implementation of all non-ISO calendars.\n * Per-calendar id and logic live in `id` and `helper` properties attached later.\n * This split allowed an easy separation between code that was similar between\n * ISO and non-ISO implementations vs. code that was very different.\n */\nclass NonIsoCalendar implements CalendarImpl {\n  constructor(private readonly helper: HelperBase) {}\n  extraFields(fields: FieldKey[]): FieldKey[] {\n    if (this.helper.hasEra && fields.includes('year')) {\n      return ['era', 'eraYear'];\n    }\n    return [];\n  }\n  resolveFields(fields: CalendarFieldsRecord /* , type */) {\n    if (this.helper.calendarType !== 'lunisolar') {\n      const cache = new OneObjectCache();\n      const largestMonth = this.helper.monthsInYear({ year: fields.year ?? 1972 }, cache);\n      resolveNonLunisolarMonth(fields, undefined, largestMonth);\n    }\n  }\n  dateToISO(fields: CalendarDateFields, overflow: Overflow) {\n    const cache = new OneObjectCache();\n    const result = this.helper.calendarToIsoDate(fields, overflow, cache);\n    cache.setObject(result);\n    return result;\n  }\n  monthDayToISOReferenceDate(fields: MonthDayFromFieldsObject, overflow: Overflow) {\n    const cache = new OneObjectCache();\n    const result = this.helper.monthDayFromFields(fields, overflow, cache);\n    // result.year is a reference year where this month/day exists in this calendar\n    cache.setObject(result);\n    return result;\n  }\n  fieldKeysToIgnore(\n    keys: Exclude<keyof Temporal.PlainDateLike, 'calendar'>[]\n  ): Exclude<keyof Temporal.PlainDateLike, 'calendar'>[] {\n    const result = new Set<(typeof keys)[number]>();\n    for (let ix = 0; ix < keys.length; ix++) {\n      const key = keys[ix];\n      result.add(key);\n      switch (key) {\n        case 'era':\n          result.add('eraYear');\n          result.add('year');\n          break;\n        case 'eraYear':\n          result.add('era');\n          result.add('year');\n          break;\n        case 'year':\n          result.add('era');\n          result.add('eraYear');\n          break;\n        case 'month':\n          result.add('monthCode');\n          // See https://github.com/tc39/proposal-temporal/issues/1784\n          if (this.helper.erasBeginMidYear) {\n            result.add('era');\n            result.add('eraYear');\n          }\n          break;\n        case 'monthCode':\n          result.add('month');\n          if (this.helper.erasBeginMidYear) {\n            result.add('era');\n            result.add('eraYear');\n          }\n          break;\n        case 'day':\n          if (this.helper.erasBeginMidYear) {\n            result.add('era');\n            result.add('eraYear');\n          }\n          break;\n      }\n    }\n    return arrayFromSet(result);\n  }\n  dateAdd(isoDate: ISODate, { years, months, weeks, days }: DateDuration, overflow: Overflow) {\n    const cache = OneObjectCache.getCacheForObject(isoDate);\n    const calendarDate = this.helper.isoToCalendarDate(isoDate, cache);\n    const added = this.helper.addCalendar(calendarDate, { years, months, weeks, days }, overflow, cache);\n    const isoAdded = this.helper.calendarToIsoDate(added, 'constrain', cache);\n    // The new object's cache starts with the cache of the old object\n    if (!OneObjectCache.getCacheForObject(isoAdded)) {\n      const newCache = new OneObjectCache(cache);\n      newCache.setObject(isoAdded);\n    }\n    return isoAdded;\n  }\n  dateUntil(one: ISODate, two: ISODate, largestUnit: Temporal.DateUnit) {\n    const cacheOne = OneObjectCache.getCacheForObject(one);\n    const cacheTwo = OneObjectCache.getCacheForObject(two);\n    const calendarOne = this.helper.isoToCalendarDate(one, cacheOne);\n    const calendarTwo = this.helper.isoToCalendarDate(two, cacheTwo);\n    const result = this.helper.untilCalendar(calendarOne, calendarTwo, largestUnit, cacheOne);\n    return result;\n  }\n  isoToDate<\n    Request extends Partial<Record<keyof CalendarDateRecord, true>>,\n    T extends {\n      [Field in keyof CalendarDateRecord]: Request extends { [K in Field]: true } ? CalendarDateRecord[Field] : never;\n    }\n  >(isoDate: ISODate, requestedFields: Request): T {\n    const cache = OneObjectCache.getCacheForObject(isoDate);\n    const calendarDate: Partial<CalendarDateRecord> & FullCalendarDate = this.helper.isoToCalendarDate(isoDate, cache);\n    if (requestedFields.dayOfWeek) {\n      calendarDate.dayOfWeek = impl['iso8601'].isoToDate(isoDate, { dayOfWeek: true }).dayOfWeek;\n    }\n    if (requestedFields.dayOfYear) {\n      const startOfYear = this.helper.startOfCalendarYear(calendarDate);\n      const diffDays = this.helper.calendarDaysUntil(startOfYear, calendarDate, cache);\n      calendarDate.dayOfYear = diffDays + 1;\n    }\n    if (requestedFields.weekOfYear) calendarDate.weekOfYear = calendarDateWeekOfYear(this.helper.id, isoDate);\n    calendarDate.daysInWeek = 7;\n    if (requestedFields.daysInMonth) calendarDate.daysInMonth = this.helper.daysInMonth(calendarDate, cache);\n    if (requestedFields.daysInYear) {\n      const startOfYearCalendar = this.helper.startOfCalendarYear(calendarDate);\n      const startOfNextYearCalendar = this.helper.addCalendar(startOfYearCalendar, { years: 1 }, 'constrain', cache);\n      calendarDate.daysInYear = this.helper.calendarDaysUntil(startOfYearCalendar, startOfNextYearCalendar, cache);\n    }\n    if (requestedFields.monthsInYear) calendarDate.monthsInYear = this.helper.monthsInYear(calendarDate, cache);\n    if (requestedFields.inLeapYear) calendarDate.inLeapYear = this.helper.inLeapYear(calendarDate, cache);\n    return calendarDate as T;\n  }\n  getFirstDayOfWeek(): number | undefined {\n    return this.helper.getFirstDayOfWeek();\n  }\n  getMinimalDaysInFirstWeek(): number | undefined {\n    return this.helper.getMinimalDaysInFirstWeek();\n  }\n}\n\nfor (const Helper of [\n  HebrewHelper,\n  PersianHelper,\n  EthiopicHelper,\n  EthioaaHelper,\n  CopticHelper,\n  ChineseHelper,\n  DangiHelper,\n  RocHelper,\n  IndianHelper,\n  BuddhistHelper,\n  GregoryHelper,\n  JapaneseHelper,\n  IslamicHelper,\n  IslamicUmalquraHelper,\n  IslamicTblaHelper,\n  IslamicCivilHelper,\n  IslamicRgsaHelper,\n  IslamicCcHelper\n]) {\n  const helper = new Helper();\n  // Construct a new NonIsoCalendar instance with the given Helper implementation that contains\n  // per-calendar logic.\n  impl[helper.id] = new NonIsoCalendar(helper);\n}\n\nfunction calendarImpl(calendar: BuiltinCalendarId) {\n  return impl[calendar];\n}\n// Probably not what the intrinsics mechanism was intended for, but view this as\n// an export of calendarImpl while avoiding circular dependencies\nDefineIntrinsic('calendarImpl', calendarImpl);\n", "import { assert } from './assert';\nimport * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport {\n  CAL_ID,\n  CALENDAR,\n  CreateSlots,\n  DATE,\n  DATETIME,\n  DAYS,\n  EPOCHNANOSECONDS,\n  GetSlot,\n  HasSlot,\n  HOURS,\n  INST,\n  ISO_DATE,\n  ISO_DATE_TIME,\n  LOCALE,\n  MD,\n  MICROSECONDS,\n  MILLISECONDS,\n  MINUTES,\n  MONTHS,\n  NANOSECONDS,\n  OPTIONS,\n  ORIGINAL,\n  ResetSlot,\n  SECONDS,\n  SetSlot,\n  TIME,\n  TIME_FMT,\n  TZ_CANONICAL,\n  TZ_ORIGINAL,\n  WEEKS,\n  YEARS,\n  YM\n} from './slots';\nimport type { Temporal } from '..';\nimport type { DateTimeFormatParams as Params, DateTimeFormatReturn as Return } from './internaltypes';\n\n// Save the original Intl.DateTimeFormat, it will likely be overwritten\nconst OriginalIntlDateTimeFormat = Intl.DateTimeFormat;\n\ntype LazySlot = typeof DATE | typeof YM | typeof MD | typeof TIME_FMT | typeof DATETIME | typeof INST;\n\n// Construction of built-in Intl.DateTimeFormat objects is sloooooow,\n// so we'll only create those instances when we need them.\n// See https://bugs.chromium.org/p/v8/issues/detail?id=6528\nfunction getSlotLazy(obj: DateTimeFormatImpl, slot: LazySlot) {\n  let val = GetSlot(obj, slot);\n  if (typeof val === 'function') {\n    // If we get here, `val` is an \"amender function\". It will take the user's\n    // options and transform them into suitable options to be passed into the\n    // built-in (non-polyfill) Intl.DateTimeFormat constructor. These options\n    // will vary depending on the Temporal type, so that's why we store separate\n    // formatters in separate props on the polyfill's DateTimeFormat instances.\n    // The efficiency happens because we don't create an (expensive) formatter\n    // until the user calls toLocaleString for that Temporal type.\n    val = new OriginalIntlDateTimeFormat(GetSlot(obj, LOCALE), val(GetSlot(obj, OPTIONS)));\n    ResetSlot(obj, slot, val);\n  }\n  return val;\n}\n\nfunction createDateTimeFormat(\n  dtf: DateTimeFormatImpl,\n  locale: Params['constructor'][0],\n  optionsParam: Params['constructor'][1]\n) {\n  const hasOptions = typeof optionsParam !== 'undefined';\n  let options: Intl.DateTimeFormatOptions;\n  if (hasOptions) {\n    // Read all the options in the expected order and copy them to a\n    // null-prototype object with which we can do further operations\n    // unobservably\n    const props: (keyof Intl.DateTimeFormatOptions)[] = [\n      'localeMatcher',\n      'calendar',\n      'numberingSystem',\n      'hour12',\n      'hourCycle',\n      'timeZone',\n      'weekday',\n      'era',\n      'year',\n      'month',\n      'day',\n      'dayPeriod',\n      'hour',\n      'minute',\n      'second',\n      'fractionalSecondDigits',\n      'timeZoneName',\n      'formatMatcher',\n      'dateStyle',\n      'timeStyle'\n    ];\n    options = ES.ToObject(optionsParam);\n    const newOptions = Object.create(null);\n    for (let i = 0; i < props.length; i++) {\n      const prop = props[i];\n      if (Object.prototype.hasOwnProperty.call(options, prop)) {\n        newOptions[prop] = options[prop];\n      }\n    }\n    options = newOptions;\n  } else {\n    options = Object.create(null);\n  }\n  const original = new OriginalIntlDateTimeFormat(locale, options);\n  const ro = original.resolvedOptions();\n\n  CreateSlots(dtf);\n\n  // DateTimeFormat instances are very expensive to create. Therefore, they will\n  // be lazily created only when needed, using the locale and options provided.\n  // But it's possible for callers to mutate those inputs before lazy creation\n  // happens. For this reason, we clone the inputs instead of caching the\n  // original objects. To avoid the complexity of deep cloning any inputs that\n  // are themselves objects (e.g. the locales array, or options property values\n  // that will be coerced to strings), we rely on `resolvedOptions()` to do the\n  // coercion and cloning for us. Unfortunately, we can't just use the resolved\n  // options as-is because our options-amending logic adds additional fields if\n  // the user doesn't supply any unit fields like year, month, day, hour, etc.\n  // Therefore, we limit the properties in the clone to properties that were\n  // present in the original input.\n  if (hasOptions) {\n    const clonedResolved = Object.assign(Object.create(null), ro);\n    for (const prop in clonedResolved) {\n      if (!Object.prototype.hasOwnProperty.call(options, prop)) {\n        delete clonedResolved[prop as keyof typeof clonedResolved];\n      }\n    }\n    // hour12/hourCycle don't show up in resolvedOptions() unless the chosen\n    // format includes an hour component, so copy them explicitly in case they\n    // would otherwise be lost\n    clonedResolved.hour12 = options.hour12;\n    clonedResolved.hourCycle = options.hourCycle;\n    SetSlot(dtf, OPTIONS, clonedResolved);\n  } else {\n    SetSlot(dtf, OPTIONS, options);\n  }\n\n  SetSlot(dtf, LOCALE, ro.locale);\n  SetSlot(dtf, ORIGINAL, original);\n  SetSlot(dtf, TZ_CANONICAL, ro.timeZone);\n  SetSlot(dtf, CAL_ID, ro.calendar);\n  SetSlot(dtf, DATE, dateAmend);\n  SetSlot(dtf, YM, yearMonthAmend);\n  SetSlot(dtf, MD, monthDayAmend);\n  SetSlot(dtf, TIME_FMT, timeAmend);\n  SetSlot(dtf, DATETIME, datetimeAmend);\n  SetSlot(dtf, INST, instantAmend);\n\n  // Save the original time zone, for a few reasons:\n  // - Clearer error messages\n  // - More clearly follows the spec for InitializeDateTimeFormat\n  // - Because it follows the spec more closely, will make it easier to integrate\n  //   support of offset strings and other potential changes like proposal-canonical-tz.\n  const timeZoneOption = hasOptions ? options.timeZone : undefined;\n  if (timeZoneOption === undefined) {\n    SetSlot(dtf, TZ_ORIGINAL, ro.timeZone);\n  } else {\n    const id = ES.ToString(timeZoneOption);\n    if (id.startsWith('−')) {\n      // The initial (Node 23) implementation of offset time zones allowed use\n      // of the Unicode minus sign, which was disallowed by a later spec change.\n      throw new RangeError('Unicode minus (U+2212) is not supported in time zone offsets');\n    }\n    // store a normalized identifier\n    SetSlot(dtf, TZ_ORIGINAL, ES.ToTemporalTimeZoneIdentifier(id));\n  }\n  return undefined; // TODO: I couldn't satisfy TS without adding this. Is there another way?\n}\n\nfunction IsPatchedDateTimeFormat(item: unknown): item is DateTimeFormatImpl {\n  return HasSlot(item, ORIGINAL);\n}\n\nclass DateTimeFormatImpl {\n  constructor(locales: Params['constructor'][0] = undefined, options: Params['constructor'][1] = undefined) {\n    createDateTimeFormat(this, locales, options);\n  }\n\n  get format() {\n    ES.CheckReceiver(this, IsPatchedDateTimeFormat);\n    const boundFormat = format.bind(this);\n    Object.defineProperties(boundFormat, {\n      length: { value: 1, enumerable: false, writable: false, configurable: true },\n      name: { value: '', enumerable: false, writable: false, configurable: true }\n    });\n    return boundFormat;\n  }\n\n  formatRange(a: Params['formatRange'][0], b: Params['formatRange'][1]): Return['formatRange'] {\n    ES.CheckReceiver(this, IsPatchedDateTimeFormat);\n    return formatRange.call(this, a, b);\n  }\n\n  formatToParts?<P extends readonly unknown[]>(\n    datetime: Params['formatToParts'][0],\n    ...rest: P\n  ): Return['formatToParts'] {\n    ES.CheckReceiver(this, IsPatchedDateTimeFormat);\n    return formatToParts.call(this, datetime, ...rest);\n  }\n\n  formatRangeToParts?(\n    a: Params['formatRangeToParts'][0],\n    b: Params['formatRangeToParts'][1]\n  ): Return['formatRangeToParts'] {\n    ES.CheckReceiver(this, IsPatchedDateTimeFormat);\n    return formatRangeToParts.call(this, a, b);\n  }\n\n  resolvedOptions(): Return['resolvedOptions'] {\n    ES.CheckReceiver(this, IsPatchedDateTimeFormat);\n    return resolvedOptions.call(this);\n  }\n}\n\nif (!('formatToParts' in OriginalIntlDateTimeFormat.prototype)) {\n  delete DateTimeFormatImpl.prototype.formatToParts;\n}\n\nif (!('formatRangeToParts' in OriginalIntlDateTimeFormat.prototype)) {\n  delete DateTimeFormatImpl.prototype.formatRangeToParts;\n}\nexport type { DateTimeFormatImpl };\n\ninterface DateTimeFormatInterface {\n  (locales: Params['constructor'][0], options: Params['constructor'][1]): DateTimeFormatImpl;\n  new (locales: Params['constructor'][0], options: Params['constructor'][1]): DateTimeFormatImpl;\n  supportedLocalesOf: typeof Intl.DateTimeFormat.supportedLocalesOf;\n}\n\n// A non-class constructor is needed because Intl.DateTimeFormat must be able to\n// be called without 'new'\nexport const DateTimeFormat = function (\n  locales: Params['constructor'][0] = undefined,\n  options: Params['constructor'][1] = undefined\n): DateTimeFormatImpl {\n  return new DateTimeFormatImpl(locales, options);\n} as unknown as DateTimeFormatInterface;\nDateTimeFormatImpl.prototype.constructor = DateTimeFormat;\n\nObject.defineProperty(DateTimeFormat, 'prototype', {\n  value: DateTimeFormatImpl.prototype,\n  writable: false,\n  enumerable: false,\n  configurable: false\n});\nDateTimeFormat.supportedLocalesOf = OriginalIntlDateTimeFormat.supportedLocalesOf;\nMakeIntrinsicClass(DateTimeFormat as unknown as typeof Intl.DateTimeFormat, 'Intl.DateTimeFormat');\n\nfunction resolvedOptions(this: DateTimeFormatImpl): Return['resolvedOptions'] {\n  const resolved = GetSlot(this, ORIGINAL).resolvedOptions();\n  resolved.timeZone = GetSlot(this, TZ_ORIGINAL);\n  return resolved;\n}\n\n// TODO: investigate why there's a rest parameter here. Does this function really need to accept extra params?\n// And if so, why doesn't formatRange also accept extra params?\nfunction format<P extends readonly unknown[]>(\n  this: DateTimeFormatImpl,\n  datetime: Params['format'][0],\n  ...rest: P\n): Return['format'] {\n  let overrides = extractOverrides(datetime, this);\n  let formatter, formatArgs: [Params['format'][0], ...unknown[]];\n  if (overrides.formatter) {\n    formatter = overrides.formatter;\n    formatArgs = [ES.epochNsToMs(overrides.epochNs, 'floor')];\n  } else {\n    formatter = GetSlot(this, ORIGINAL);\n    formatArgs = [datetime, ...rest];\n  }\n  return formatter.format(...(formatArgs as [number | Date | undefined]));\n}\n\nfunction formatToParts<P extends readonly unknown[]>(\n  this: DateTimeFormatImpl,\n  datetime: Params['formatToParts'][0],\n  ...rest: P\n): Return['formatToParts'] {\n  let overrides = extractOverrides(datetime, this);\n  let formatter, formatArgs;\n  if (overrides.formatter) {\n    formatter = overrides.formatter;\n    formatArgs = [ES.epochNsToMs(overrides.epochNs, 'floor')];\n  } else {\n    formatter = GetSlot(this, ORIGINAL);\n    formatArgs = [datetime, ...rest];\n  }\n  return formatter.formatToParts(...(formatArgs as [number | Date | undefined]));\n}\n\nfunction formatRange(this: DateTimeFormatImpl, aParam: Params['formatRange'][0], bParam: Params['formatRange'][1]) {\n  if (aParam === undefined || bParam === undefined) {\n    throw new TypeError('Intl.DateTimeFormat.formatRange requires two values');\n  }\n  const a = toDateTimeFormattable(aParam);\n  const b = toDateTimeFormattable(bParam);\n  let formatArgs = [a, b] as const;\n  let formatter;\n  if (isTemporalObject(a) !== isTemporalObject(b)) {\n    throw new TypeError('Intl.DateTimeFormat.formatRange accepts two values of the same type');\n  }\n  if (isTemporalObject(a)) {\n    if (!sameTemporalType(a, b)) {\n      throw new TypeError('Intl.DateTimeFormat.formatRange accepts two values of the same type');\n    }\n    const { epochNs: aa, formatter: aformatter } = extractOverrides(a, this);\n    const { epochNs: bb, formatter: bformatter } = extractOverrides(b, this);\n    if (aformatter) {\n      assert(bformatter == aformatter, 'formatters for same Temporal type should be identical');\n      formatter = aformatter;\n      formatArgs = [ES.epochNsToMs(aa, 'floor'), ES.epochNsToMs(bb, 'floor')];\n    }\n  }\n  if (!formatter) {\n    formatter = GetSlot(this, ORIGINAL);\n  }\n  return formatter.formatRange(...(formatArgs as [number, number]));\n}\n\nfunction formatRangeToParts(\n  this: DateTimeFormatImpl,\n  aParam: Params['formatRangeToParts'][0],\n  bParam: Params['formatRangeToParts'][1]\n) {\n  if (aParam === undefined || bParam === undefined) {\n    throw new TypeError('Intl.DateTimeFormat.formatRange requires two values');\n  }\n  const a = toDateTimeFormattable(aParam);\n  const b = toDateTimeFormattable(bParam);\n  let formatArgs = [a, b] as const;\n  let formatter;\n  if (isTemporalObject(a) !== isTemporalObject(b)) {\n    throw new TypeError('Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type');\n  }\n  if (isTemporalObject(a)) {\n    if (!sameTemporalType(a, b)) {\n      throw new TypeError('Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type');\n    }\n    const { epochNs: aa, formatter: aformatter } = extractOverrides(a, this);\n    const { epochNs: bb, formatter: bformatter } = extractOverrides(b, this);\n    if (aformatter) {\n      assert(bformatter == aformatter, 'formatters for same Temporal type should be identical');\n      formatter = aformatter;\n      formatArgs = [ES.epochNsToMs(aa, 'floor'), ES.epochNsToMs(bb, 'floor')];\n    }\n  }\n  if (!formatter) {\n    formatter = GetSlot(this, ORIGINAL);\n  }\n  return formatter.formatRangeToParts(...(formatArgs as [number, number]));\n}\n\n// \"false\" is a signal to delete this option\ntype MaybeFalseOptions = {\n  [K in keyof Intl.DateTimeFormatOptions]?: Intl.DateTimeFormatOptions[K] | false;\n};\n\nfunction amend(optionsParam: Intl.DateTimeFormatOptions = {}, amended: MaybeFalseOptions = {}) {\n  const options = Object.assign({}, optionsParam);\n  const props = [\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'weekday',\n    'dayPeriod',\n    'timeZoneName',\n    'dateStyle',\n    'timeStyle'\n  ] as const;\n  for (let i = 0; i < props.length; i++) {\n    const opt = props[i];\n    // TODO: can this be typed more cleanly?\n    type OptionMaybeFalse = (typeof options)[typeof opt] | false;\n    (options[opt] as OptionMaybeFalse) = opt in amended ? amended[opt] : options[opt];\n    if ((options[opt] as OptionMaybeFalse) === false || options[opt] === undefined) delete options[opt];\n  }\n  return options;\n}\n\ntype OptionsType<T extends TypesWithToLocaleString> = NonNullable<Parameters<T['toLocaleString']>[1]>;\n\nfunction timeAmend(originalOptions: OptionsType<Temporal.PlainTime>) {\n  const options = amend(originalOptions, {\n    year: false,\n    month: false,\n    day: false,\n    weekday: false,\n    timeZoneName: false,\n    dateStyle: false\n  });\n  if (options.timeStyle === 'long' || options.timeStyle === 'full') {\n    // Try to fake what timeStyle should do if not printing the time zone name\n    delete options.timeStyle;\n    Object.assign(options, { hour: 'numeric', minute: '2-digit', second: '2-digit' });\n  }\n  if (!hasTimeOptions(options)) {\n    if (hasAnyDateTimeOptions(originalOptions)) {\n      throw new TypeError(`cannot format Temporal.PlainTime with options [${Object.keys(originalOptions)}]`);\n    }\n    Object.assign(options, {\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction yearMonthAmend(originalOptions: OptionsType<Temporal.PlainYearMonth>) {\n  // Try to fake what dateStyle should do for dates without a day. This is not\n  // accurate for locales that always print the era\n  const dateStyleHacks = {\n    short: { year: '2-digit', month: 'numeric' },\n    medium: { year: 'numeric', month: 'short' },\n    long: { year: 'numeric', month: 'long' },\n    full: { year: 'numeric', month: 'long' }\n  };\n  const options = amend(originalOptions, {\n    day: false,\n    hour: false,\n    minute: false,\n    second: false,\n    weekday: false,\n    dayPeriod: false,\n    timeZoneName: false,\n    timeStyle: false\n  });\n  if ('dateStyle' in options && options.dateStyle) {\n    const style = options.dateStyle;\n    delete options.dateStyle;\n    Object.assign(options, dateStyleHacks[style]);\n  }\n  if (!('year' in options || 'month' in options || 'era' in options)) {\n    if (hasAnyDateTimeOptions(originalOptions)) {\n      throw new TypeError(`cannot format PlainYearMonth with options [${Object.keys(originalOptions)}]`);\n    }\n    Object.assign(options, { year: 'numeric', month: 'numeric' });\n  }\n  return options;\n}\n\nfunction monthDayAmend(originalOptions: OptionsType<Temporal.PlainMonthDay>) {\n  // Try to fake what dateStyle should do for dates without a day\n  const dateStyleHacks = {\n    short: { month: 'numeric', day: 'numeric' },\n    medium: { month: 'short', day: 'numeric' },\n    long: { month: 'long', day: 'numeric' },\n    full: { month: 'long', day: 'numeric' }\n  };\n  const options = amend(originalOptions, {\n    year: false,\n    hour: false,\n    minute: false,\n    second: false,\n    weekday: false,\n    dayPeriod: false,\n    timeZoneName: false,\n    timeStyle: false\n  });\n  if ('dateStyle' in options && options.dateStyle) {\n    const style = options.dateStyle;\n    delete options.dateStyle;\n    Object.assign(options, dateStyleHacks[style]);\n  }\n  if (!('month' in options || 'day' in options)) {\n    if (hasAnyDateTimeOptions(originalOptions)) {\n      throw new TypeError(`cannot format PlainMonthDay with options [${Object.keys(originalOptions)}]`);\n    }\n    Object.assign(options, { month: 'numeric', day: 'numeric' });\n  }\n  return options;\n}\n\nfunction dateAmend(originalOptions: OptionsType<Temporal.PlainDate>) {\n  const options = amend(originalOptions, {\n    hour: false,\n    minute: false,\n    second: false,\n    dayPeriod: false,\n    timeZoneName: false,\n    timeStyle: false\n  });\n  if (!hasDateOptions(options)) {\n    if (hasAnyDateTimeOptions(originalOptions)) {\n      throw new TypeError(`cannot format PlainDate with options [${Object.keys(originalOptions)}]`);\n    }\n    Object.assign(options, {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction datetimeAmend(originalOptions: OptionsType<Temporal.PlainDateTime>) {\n  const options = amend(originalOptions, { timeZoneName: false });\n  if (options.timeStyle === 'long' || options.timeStyle === 'full') {\n    // Try to fake what timeStyle should do if not printing the time zone name\n    delete options.timeStyle;\n    Object.assign(options, { hour: 'numeric', minute: '2-digit', second: '2-digit' });\n\n    // If moving to a fake timeStyle while dateStyle is present, we also have to\n    // move to a fake dateStyle. dateStyle is mutually exclusive with hour etc.\n    if (options.dateStyle) {\n      const dateStyleHacks = {\n        short: { year: 'numeric', month: 'numeric', day: 'numeric' },\n        medium: { year: 'numeric', month: 'short', day: 'numeric' },\n        long: { year: 'numeric', month: 'long', day: 'numeric' },\n        full: { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' }\n      };\n      Object.assign(options, dateStyleHacks[options.dateStyle]);\n      delete options.dateStyle;\n    }\n  }\n  if (!hasTimeOptions(options) && !hasDateOptions(options)) {\n    if (hasAnyDateTimeOptions(originalOptions)) {\n      throw new TypeError(`cannot format PlainDateTime with options [${Object.keys(originalOptions)}]`);\n    }\n    Object.assign(options, {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction instantAmend(optionsParam: OptionsType<Temporal.Instant>) {\n  let options = optionsParam;\n  if (!hasTimeOptions(options) && !hasDateOptions(options)) {\n    options = Object.assign({}, options, {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction hasDateOptions(options: OptionsType<TypesWithToLocaleString>) {\n  return (\n    'year' in options ||\n    'month' in options ||\n    'day' in options ||\n    'weekday' in options ||\n    'dateStyle' in options ||\n    'era' in options\n  );\n}\n\nfunction hasTimeOptions(options: OptionsType<TypesWithToLocaleString>) {\n  return (\n    'hour' in options ||\n    'minute' in options ||\n    'second' in options ||\n    'timeStyle' in options ||\n    'dayPeriod' in options ||\n    'fractionalSecondDigits' in options\n  );\n}\n\nfunction hasAnyDateTimeOptions(originalOptions: OptionsType<TypesWithToLocaleString>) {\n  return (\n    hasDateOptions(originalOptions) ||\n    hasTimeOptions(originalOptions) ||\n    'dateStyle' in originalOptions ||\n    'timeStyle' in originalOptions ||\n    'timeZoneName' in originalOptions\n  );\n}\n\nfunction isTemporalObject(\n  obj: unknown\n): obj is\n  | Temporal.PlainDate\n  | Temporal.PlainTime\n  | Temporal.PlainDateTime\n  | Temporal.ZonedDateTime\n  | Temporal.PlainYearMonth\n  | Temporal.PlainMonthDay\n  | Temporal.Instant {\n  return (\n    ES.IsTemporalDate(obj) ||\n    ES.IsTemporalTime(obj) ||\n    ES.IsTemporalDateTime(obj) ||\n    ES.IsTemporalZonedDateTime(obj) ||\n    ES.IsTemporalYearMonth(obj) ||\n    ES.IsTemporalMonthDay(obj) ||\n    ES.IsTemporalInstant(obj)\n  );\n}\n\nfunction toDateTimeFormattable(value: unknown) {\n  if (isTemporalObject(value)) return value;\n  return ES.ToNumber(value);\n}\n\nfunction sameTemporalType(x: unknown, y: unknown) {\n  if (!isTemporalObject(x) || !isTemporalObject(y)) return false;\n  if (ES.IsTemporalTime(x) && !ES.IsTemporalTime(y)) return false;\n  if (ES.IsTemporalDate(x) && !ES.IsTemporalDate(y)) return false;\n  if (ES.IsTemporalDateTime(x) && !ES.IsTemporalDateTime(y)) return false;\n  if (ES.IsTemporalZonedDateTime(x) && !ES.IsTemporalZonedDateTime(y)) return false;\n  if (ES.IsTemporalYearMonth(x) && !ES.IsTemporalYearMonth(y)) return false;\n  if (ES.IsTemporalMonthDay(x) && !ES.IsTemporalMonthDay(y)) return false;\n  if (ES.IsTemporalInstant(x) && !ES.IsTemporalInstant(y)) return false;\n  return true;\n}\n\ntype TypesWithToLocaleString =\n  | Temporal.PlainDateTime\n  | Temporal.PlainDate\n  | Temporal.PlainTime\n  | Temporal.PlainYearMonth\n  | Temporal.PlainMonthDay\n  | Temporal.ZonedDateTime\n  | Temporal.Instant;\n\nfunction extractOverrides(temporalObj: Params['format'][0], main: DateTimeFormatImpl) {\n  if (ES.IsTemporalTime(temporalObj)) {\n    const isoDateTime = {\n      isoDate: { year: 1970, month: 1, day: 1 },\n      time: GetSlot(temporalObj, TIME)\n    };\n    return {\n      epochNs: ES.GetEpochNanosecondsFor(GetSlot(main, TZ_CANONICAL), isoDateTime, 'compatible'),\n      formatter: getSlotLazy(main, TIME_FMT)\n    };\n  }\n\n  if (ES.IsTemporalYearMonth(temporalObj)) {\n    const calendar = GetSlot(temporalObj, CALENDAR);\n    const mainCalendar = GetSlot(main, CAL_ID);\n    if (calendar !== mainCalendar) {\n      throw new RangeError(\n        `cannot format PlainYearMonth with calendar ${calendar} in locale with calendar ${mainCalendar}`\n      );\n    }\n    const isoDateTime = ES.CombineISODateAndTimeRecord(GetSlot(temporalObj, ISO_DATE), ES.NoonTimeRecord());\n    return {\n      epochNs: ES.GetEpochNanosecondsFor(GetSlot(main, TZ_CANONICAL), isoDateTime, 'compatible'),\n      formatter: getSlotLazy(main, YM)\n    };\n  }\n\n  if (ES.IsTemporalMonthDay(temporalObj)) {\n    const calendar = GetSlot(temporalObj, CALENDAR);\n    const mainCalendar = GetSlot(main, CAL_ID);\n    if (calendar !== mainCalendar) {\n      throw new RangeError(\n        `cannot format PlainMonthDay with calendar ${calendar} in locale with calendar ${mainCalendar}`\n      );\n    }\n    const isoDateTime = ES.CombineISODateAndTimeRecord(GetSlot(temporalObj, ISO_DATE), ES.NoonTimeRecord());\n    return {\n      epochNs: ES.GetEpochNanosecondsFor(GetSlot(main, TZ_CANONICAL), isoDateTime, 'compatible'),\n      formatter: getSlotLazy(main, MD)\n    };\n  }\n\n  if (ES.IsTemporalDate(temporalObj)) {\n    const calendar = GetSlot(temporalObj, CALENDAR);\n    const mainCalendar = GetSlot(main, CAL_ID);\n    if (calendar !== 'iso8601' && calendar !== mainCalendar) {\n      throw new RangeError(`cannot format PlainDate with calendar ${calendar} in locale with calendar ${mainCalendar}`);\n    }\n    const isoDateTime = ES.CombineISODateAndTimeRecord(GetSlot(temporalObj, ISO_DATE), ES.NoonTimeRecord());\n    return {\n      epochNs: ES.GetEpochNanosecondsFor(GetSlot(main, TZ_CANONICAL), isoDateTime, 'compatible'),\n      formatter: getSlotLazy(main, DATE)\n    };\n  }\n\n  if (ES.IsTemporalDateTime(temporalObj)) {\n    const calendar = GetSlot(temporalObj, CALENDAR);\n    const mainCalendar = GetSlot(main, CAL_ID);\n    if (calendar !== 'iso8601' && calendar !== mainCalendar) {\n      throw new RangeError(\n        `cannot format PlainDateTime with calendar ${calendar} in locale with calendar ${mainCalendar}`\n      );\n    }\n    const isoDateTime = GetSlot(temporalObj, ISO_DATE_TIME);\n    return {\n      epochNs: ES.GetEpochNanosecondsFor(GetSlot(main, TZ_CANONICAL), isoDateTime, 'compatible'),\n      formatter: getSlotLazy(main, DATETIME)\n    };\n  }\n\n  if (ES.IsTemporalZonedDateTime(temporalObj)) {\n    throw new TypeError(\n      'Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.'\n    );\n  }\n\n  if (ES.IsTemporalInstant(temporalObj)) {\n    return {\n      epochNs: GetSlot(temporalObj, EPOCHNANOSECONDS),\n      formatter: getSlotLazy(main, INST)\n    };\n  }\n\n  return {};\n}\n\nfunction temporalDurationToCompatibilityRecord(duration: Temporal.Duration) {\n  const record = Object.create(null);\n  record.years = GetSlot(duration, YEARS);\n  record.months = GetSlot(duration, MONTHS);\n  record.weeks = GetSlot(duration, WEEKS);\n  record.days = GetSlot(duration, DAYS);\n  record.hours = GetSlot(duration, HOURS);\n  record.minutes = GetSlot(duration, MINUTES);\n  record.seconds = GetSlot(duration, SECONDS);\n  record.milliseconds = GetSlot(duration, MILLISECONDS);\n  record.microseconds = GetSlot(duration, MICROSECONDS);\n  record.nanoseconds = GetSlot(duration, NANOSECONDS);\n  return record;\n}\n\nconst { format: IntlDurationFormatPrototypeFormat, formatToParts: IntlDurationFormatPrototypeFormatToParts } =\n  Intl.DurationFormat?.prototype ?? Object.create(null);\n\nexport function ModifiedIntlDurationFormatPrototypeFormat(\n  this: Intl.DurationFormat,\n  durationLike: Temporal.DurationLike\n) {\n  Intl.DurationFormat.prototype.resolvedOptions.call(this); // brand check\n  const duration = ES.ToTemporalDuration(durationLike);\n  const record = temporalDurationToCompatibilityRecord(duration);\n  return IntlDurationFormatPrototypeFormat.call(this, record);\n}\n\nif (Intl.DurationFormat?.prototype) {\n  Intl.DurationFormat.prototype.format = ModifiedIntlDurationFormatPrototypeFormat;\n  Intl.DurationFormat.prototype.formatToParts = function formatToParts(durationLike: Temporal.DurationLike) {\n    Intl.DurationFormat.prototype.resolvedOptions.call(this); // brand check\n    const duration = ES.ToTemporalDuration(durationLike);\n    const record = temporalDurationToCompatibilityRecord(duration);\n    return IntlDurationFormatPrototypeFormatToParts.call(this, record);\n  };\n}\n", "import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { EPOCHNANOSECONDS, GetSlot } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { InstantParams as Params, InstantReturn as Return } from './internaltypes';\n\nimport JSBI from 'jsbi';\n\nexport class Instant implements Temporal.Instant {\n  constructor(epochNanoseconds: bigint | JSBI) {\n    // Note: if the argument is not passed, ToBigInt(undefined) will throw. This check exists only\n    //       to improve the error message.\n    if (arguments.length < 1) {\n      throw new TypeError('missing argument: epochNanoseconds is required');\n    }\n\n    const ns = ES.ToBigInt(epochNanoseconds);\n    ES.CreateTemporalInstantSlots(this, ns);\n  }\n\n  get epochMilliseconds(): Return['epochMilliseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    const value = GetSlot(this, EPOCHNANOSECONDS);\n    return ES.epochNsToMs(value, 'floor');\n  }\n  get epochNanoseconds(): Return['epochNanoseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    return ES.ToBigIntExternal(JSBI.BigInt(GetSlot(this, EPOCHNANOSECONDS)));\n  }\n\n  add(temporalDurationLike: Params['add'][0]): Return['add'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    return ES.AddDurationToInstant('add', this, temporalDurationLike);\n  }\n  subtract(temporalDurationLike: Params['subtract'][0]): Return['subtract'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    return ES.AddDurationToInstant('subtract', this, temporalDurationLike);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    return ES.DifferenceTemporalInstant('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    return ES.DifferenceTemporalInstant('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.GetTemporalRoundingIncrementOption(roundTo);\n    const roundingMode = ES.GetRoundingModeOption(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(roundTo, 'smallestUnit', 'time', ES.REQUIRED);\n    const maximumIncrements = {\n      hour: 24,\n      minute: 1440,\n      second: 86400,\n      millisecond: 86400e3,\n      microsecond: 86400e6,\n      nanosecond: 86400e9\n    };\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximumIncrements[smallestUnit], true);\n    const ns = GetSlot(this, EPOCHNANOSECONDS);\n    const roundedNs = ES.RoundTemporalInstant(ns, roundingIncrement, smallestUnit, roundingMode);\n    return ES.CreateTemporalInstant(roundedNs);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    const other = ES.ToTemporalInstant(otherParam);\n    const one = GetSlot(this, EPOCHNANOSECONDS);\n    const two = GetSlot(other, EPOCHNANOSECONDS);\n    return JSBI.equal(JSBI.BigInt(one), JSBI.BigInt(two));\n  }\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const digits = ES.GetTemporalFractionalSecondDigitsOption(resolvedOptions);\n    const roundingMode = ES.GetRoundingModeOption(resolvedOptions, 'trunc');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(resolvedOptions, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    let timeZone = resolvedOptions.timeZone;\n    if (timeZone !== undefined) timeZone = ES.ToTemporalTimeZoneIdentifier(timeZone);\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    const ns = GetSlot(this, EPOCHNANOSECONDS);\n    const roundedNs = ES.RoundTemporalInstant(ns, increment, unit, roundingMode);\n    const roundedInstant = ES.CreateTemporalInstant(roundedNs);\n    return ES.TemporalInstantToString(roundedInstant, timeZone, precision);\n  }\n  toJSON(): string {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    return ES.TemporalInstantToString(this, undefined, 'auto');\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('Instant');\n  }\n  toZonedDateTimeISO(timeZoneParam: Params['toZonedDateTimeISO'][0]): Return['toZonedDateTimeISO'] {\n    ES.CheckReceiver(this, ES.IsTemporalInstant);\n    const timeZone = ES.ToTemporalTimeZoneIdentifier(timeZoneParam);\n    return ES.CreateTemporalZonedDateTime(GetSlot(this, EPOCHNANOSECONDS), timeZone, 'iso8601');\n  }\n\n  static fromEpochMilliseconds(epochMilliseconds: Params['fromEpochMilliseconds'][0]): Return['fromEpochMilliseconds'] {\n    const epochNanoseconds = ES.epochMsToNs(ES.ToNumber(epochMilliseconds));\n    return ES.CreateTemporalInstant(epochNanoseconds);\n  }\n  static fromEpochNanoseconds(\n    epochNanosecondsParam: Params['fromEpochNanoseconds'][0]\n  ): Return['fromEpochNanoseconds'] {\n    const epochNanoseconds = ES.ToBigInt(epochNanosecondsParam);\n    return ES.CreateTemporalInstant(epochNanoseconds);\n  }\n  static from(item: Params['from'][0]): Return['from'] {\n    return ES.ToTemporalInstant(item);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalInstant(oneParam);\n    const two = ES.ToTemporalInstant(twoParam);\n    const oneNs = GetSlot(one, EPOCHNANOSECONDS);\n    const twoNs = GetSlot(two, EPOCHNANOSECONDS);\n    if (JSBI.lessThan(oneNs, twoNs)) return -1;\n    if (JSBI.greaterThan(oneNs, twoNs)) return 1;\n    return 0;\n  }\n  [Symbol.toStringTag]!: 'Temporal.Instant';\n}\n\nMakeIntrinsicClass(Instant, 'Temporal.Instant');\n", "import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { CALENDAR, GetSlot, ISO_DATE, TIME } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { CalendarDateRecord, PlainDateParams as Params, PlainDateReturn as Return } from './internaltypes';\n\nexport class PlainDate implements Temporal.PlainDate {\n  constructor(\n    isoYear: Params['constructor'][0],\n    isoMonth: Params['constructor'][1],\n    isoDay: Params['constructor'][2],\n    calendarParam: Params['constructor'][3] = 'iso8601'\n  ) {\n    const year = ES.ToIntegerWithTruncation(isoYear);\n    const month = ES.ToIntegerWithTruncation(isoMonth);\n    const day = ES.ToIntegerWithTruncation(isoDay);\n    const calendar = ES.CanonicalizeCalendar(calendarParam === undefined ? 'iso8601' : ES.RequireString(calendarParam));\n    ES.RejectISODate(year, month, day);\n\n    ES.CreateTemporalDateSlots(this, { year, month, day }, calendar);\n  }\n  get calendarId(): Return['calendarId'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    return GetSlot(this, CALENDAR);\n  }\n  get era(): Return['era'] {\n    return getCalendarProperty(this, 'era');\n  }\n  get eraYear(): Return['eraYear'] {\n    return getCalendarProperty(this, 'eraYear');\n  }\n  get year(): Return['year'] {\n    return getCalendarProperty(this, 'year');\n  }\n  get month(): Return['month'] {\n    return getCalendarProperty(this, 'month');\n  }\n  get monthCode(): Return['monthCode'] {\n    return getCalendarProperty(this, 'monthCode');\n  }\n  get day(): Return['day'] {\n    return getCalendarProperty(this, 'day');\n  }\n  get dayOfWeek(): Return['dayOfWeek'] {\n    return getCalendarProperty(this, 'dayOfWeek');\n  }\n  get dayOfYear(): Return['dayOfYear'] {\n    return getCalendarProperty(this, 'dayOfYear');\n  }\n  get weekOfYear(): Return['weekOfYear'] {\n    return getCalendarProperty(this, 'weekOfYear')?.week;\n  }\n  get yearOfWeek(): Return['yearOfWeek'] {\n    return getCalendarProperty(this, 'weekOfYear')?.year;\n  }\n  get daysInWeek(): Return['daysInWeek'] {\n    return getCalendarProperty(this, 'daysInWeek');\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    return getCalendarProperty(this, 'daysInMonth');\n  }\n  get daysInYear(): Return['daysInYear'] {\n    return getCalendarProperty(this, 'daysInYear');\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    return getCalendarProperty(this, 'monthsInYear');\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    return getCalendarProperty(this, 'inLeapYear');\n  }\n  with(temporalDateLike: Params['with'][0], options: Params['with'][1] = undefined): Return['with'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    if (!ES.IsObject(temporalDateLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalDateLike);\n\n    const calendar = GetSlot(this, CALENDAR);\n    let fields = ES.ISODateToFields(calendar, GetSlot(this, ISO_DATE));\n    const partialDate = ES.PrepareCalendarFields(\n      calendar,\n      temporalDateLike,\n      ['year', 'month', 'monthCode', 'day'],\n      [],\n      'partial'\n    );\n    fields = ES.CalendarMergeFields(calendar, fields, partialDate);\n\n    const overflow = ES.GetTemporalOverflowOption(ES.GetOptionsObject(options));\n    const isoDate = ES.CalendarDateFromFields(calendar, fields, overflow);\n    return ES.CreateTemporalDate(isoDate, calendar);\n  }\n  withCalendar(calendarParam: Params['withCalendar'][0]): Return['withCalendar'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    const calendar = ES.ToTemporalCalendarIdentifier(calendarParam);\n    return ES.CreateTemporalDate(GetSlot(this, ISO_DATE), calendar);\n  }\n  add(temporalDurationLike: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    return ES.AddDurationToDate('add', this, temporalDurationLike, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    options: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    return ES.AddDurationToDate('subtract', this, temporalDurationLike, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    return ES.DifferenceTemporalPlainDate('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    return ES.DifferenceTemporalPlainDate('since', this, other, options);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    const other = ES.ToTemporalDate(otherParam);\n    if (ES.CompareISODate(GetSlot(this, ISO_DATE), GetSlot(other, ISO_DATE)) !== 0) return false;\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const showCalendar = ES.GetTemporalShowCalendarNameOption(resolvedOptions);\n    return ES.TemporalDateToString(this, showCalendar);\n  }\n  toJSON(): Return['toJSON'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    return ES.TemporalDateToString(this);\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('PlainDate');\n  }\n  toPlainDateTime(temporalTime: Params['toPlainDateTime'][0] = undefined): Return['toPlainDateTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    const time = ES.ToTimeRecordOrMidnight(temporalTime);\n    const isoDateTime = ES.CombineISODateAndTimeRecord(GetSlot(this, ISO_DATE), time);\n    return ES.CreateTemporalDateTime(isoDateTime, GetSlot(this, CALENDAR));\n  }\n  toZonedDateTime(item: Params['toZonedDateTime'][0]): Return['toZonedDateTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n\n    let timeZone, temporalTime;\n    if (ES.IsObject(item)) {\n      const timeZoneLike = item.timeZone;\n      if (timeZoneLike === undefined) {\n        timeZone = ES.ToTemporalTimeZoneIdentifier(item);\n      } else {\n        timeZone = ES.ToTemporalTimeZoneIdentifier(timeZoneLike);\n        temporalTime = item.plainTime;\n      }\n    } else {\n      timeZone = ES.ToTemporalTimeZoneIdentifier(item);\n    }\n\n    const isoDate = GetSlot(this, ISO_DATE);\n    let epochNs;\n    if (temporalTime === undefined) {\n      epochNs = ES.GetStartOfDay(timeZone, isoDate);\n    } else {\n      temporalTime = ES.ToTemporalTime(temporalTime);\n      const isoDateTime = ES.CombineISODateAndTimeRecord(isoDate, GetSlot(temporalTime, TIME));\n      epochNs = ES.GetEpochNanosecondsFor(timeZone, isoDateTime, 'compatible');\n    }\n    return ES.CreateTemporalZonedDateTime(epochNs, timeZone, GetSlot(this, CALENDAR));\n  }\n  toPlainYearMonth(): Return['toPlainYearMonth'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    const calendar = GetSlot(this, CALENDAR);\n    const fields = ES.ISODateToFields(calendar, GetSlot(this, ISO_DATE));\n    const isoDate = ES.CalendarYearMonthFromFields(calendar, fields, 'constrain');\n    return ES.CreateTemporalYearMonth(isoDate, calendar);\n  }\n  toPlainMonthDay(): Return['toPlainMonthDay'] {\n    ES.CheckReceiver(this, ES.IsTemporalDate);\n    const calendar = GetSlot(this, CALENDAR);\n    const fields = ES.ISODateToFields(calendar, GetSlot(this, ISO_DATE));\n    const isoDate = ES.CalendarMonthDayFromFields(calendar, fields, 'constrain');\n    return ES.CreateTemporalMonthDay(isoDate, calendar);\n  }\n\n  static from(item: Params['from'][0], options: Params['from'][1] = undefined): Return['from'] {\n    return ES.ToTemporalDate(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalDate(oneParam);\n    const two = ES.ToTemporalDate(twoParam);\n    return ES.CompareISODate(GetSlot(one, ISO_DATE), GetSlot(two, ISO_DATE));\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainDate';\n}\n\nMakeIntrinsicClass(PlainDate, 'Temporal.PlainDate');\n\nfunction getCalendarProperty<P extends keyof CalendarDateRecord>(\n  date: Temporal.PlainDate,\n  prop: P\n): CalendarDateRecord[P] {\n  ES.CheckReceiver(date, ES.IsTemporalDate);\n  const isoDate = GetSlot(date, ISO_DATE);\n  return ES.calendarImplForObj(date).isoToDate(isoDate, { [prop]: true })[prop];\n}\n", "import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\n\nimport { CALENDAR, GetSlot, ISO_DATE_TIME } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { CalendarDateRecord, PlainDateTimeParams as Params, PlainDateTimeReturn as Return } from './internaltypes';\n\nexport class PlainDateTime implements Temporal.PlainDateTime {\n  constructor(\n    isoYear: Params['constructor'][0],\n    isoMonth: Params['constructor'][1],\n    isoDay: Params['constructor'][2],\n    hourParam: Params['constructor'][3] = 0,\n    minuteParam: Params['constructor'][4] = 0,\n    secondParam: Params['constructor'][5] = 0,\n    millisecondParam: Params['constructor'][6] = 0,\n    microsecondParam: Params['constructor'][7] = 0,\n    nanosecondParam: Params['constructor'][8] = 0,\n    calendarParam: Params['constructor'][9] = 'iso8601'\n  ) {\n    const year = ES.ToIntegerWithTruncation(isoYear);\n    const month = ES.ToIntegerWithTruncation(isoMonth);\n    const day = ES.ToIntegerWithTruncation(isoDay);\n    const hour = hourParam === undefined ? 0 : ES.ToIntegerWithTruncation(hourParam);\n    const minute = minuteParam === undefined ? 0 : ES.ToIntegerWithTruncation(minuteParam);\n    const second = secondParam === undefined ? 0 : ES.ToIntegerWithTruncation(secondParam);\n    const millisecond = millisecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(millisecondParam);\n    const microsecond = microsecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(microsecondParam);\n    const nanosecond = nanosecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(nanosecondParam);\n    const calendar = ES.CanonicalizeCalendar(calendarParam === undefined ? 'iso8601' : ES.RequireString(calendarParam));\n\n    ES.RejectDateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n\n    ES.CreateTemporalDateTimeSlots(\n      this,\n      { isoDate: { year, month, day }, time: { hour, minute, second, millisecond, microsecond, nanosecond } },\n      calendar\n    );\n  }\n  get calendarId(): Return['calendarId'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return GetSlot(this, CALENDAR);\n  }\n  get year(): Return['year'] {\n    return getCalendarProperty(this, 'year');\n  }\n  get month(): Return['month'] {\n    return getCalendarProperty(this, 'month');\n  }\n  get monthCode(): Return['monthCode'] {\n    return getCalendarProperty(this, 'monthCode');\n  }\n  get day(): Return['day'] {\n    return getCalendarProperty(this, 'day');\n  }\n  get hour(): Return['hour'] {\n    return getTimeProperty(this, 'hour');\n  }\n  get minute(): Return['minute'] {\n    return getTimeProperty(this, 'minute');\n  }\n  get second(): Return['second'] {\n    return getTimeProperty(this, 'second');\n  }\n  get millisecond(): Return['millisecond'] {\n    return getTimeProperty(this, 'millisecond');\n  }\n  get microsecond(): Return['microsecond'] {\n    return getTimeProperty(this, 'microsecond');\n  }\n  get nanosecond(): Return['nanosecond'] {\n    return getTimeProperty(this, 'nanosecond');\n  }\n  get era(): Return['era'] {\n    return getCalendarProperty(this, 'era');\n  }\n  get eraYear(): Return['eraYear'] {\n    return getCalendarProperty(this, 'eraYear');\n  }\n  get dayOfWeek(): Return['dayOfWeek'] {\n    return getCalendarProperty(this, 'dayOfWeek');\n  }\n  get dayOfYear(): Return['dayOfYear'] {\n    return getCalendarProperty(this, 'dayOfYear');\n  }\n  get weekOfYear(): Return['weekOfYear'] {\n    return getCalendarProperty(this, 'weekOfYear')?.week;\n  }\n  get yearOfWeek(): Return['yearOfWeek'] {\n    return getCalendarProperty(this, 'weekOfYear')?.year;\n  }\n  get daysInWeek(): Return['daysInWeek'] {\n    return getCalendarProperty(this, 'daysInWeek');\n  }\n  get daysInYear(): Return['daysInYear'] {\n    return getCalendarProperty(this, 'daysInYear');\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    return getCalendarProperty(this, 'daysInMonth');\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    return getCalendarProperty(this, 'monthsInYear');\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    return getCalendarProperty(this, 'inLeapYear');\n  }\n  with(temporalDateTimeLike: Params['with'][0], options: Params['with'][1] = undefined): Return['with'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    if (!ES.IsObject(temporalDateTimeLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalDateTimeLike);\n\n    const calendar = GetSlot(this, CALENDAR);\n    const isoDateTime = GetSlot(this, ISO_DATE_TIME);\n    let fields = {\n      ...ES.ISODateToFields(calendar, isoDateTime.isoDate),\n      ...isoDateTime.time\n    };\n    const partialDateTime = ES.PrepareCalendarFields(\n      calendar,\n      temporalDateTimeLike,\n      ['year', 'month', 'monthCode', 'day'],\n      ['hour', 'minute', 'second', 'millisecond', 'microsecond', 'nanosecond'],\n      'partial'\n    );\n    fields = ES.CalendarMergeFields(calendar, fields, partialDateTime);\n\n    const overflow = ES.GetTemporalOverflowOption(ES.GetOptionsObject(options));\n    const newDateTime = ES.InterpretTemporalDateTimeFields(calendar, fields, overflow);\n    return ES.CreateTemporalDateTime(newDateTime, calendar);\n  }\n  withPlainTime(temporalTime: Params['withPlainTime'][0] = undefined): Return['withPlainTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    const time = ES.ToTimeRecordOrMidnight(temporalTime);\n    const isoDateTime = ES.CombineISODateAndTimeRecord(GetSlot(this, ISO_DATE_TIME).isoDate, time);\n    return ES.CreateTemporalDateTime(isoDateTime, GetSlot(this, CALENDAR));\n  }\n  withCalendar(calendarParam: Params['withCalendar'][0]): Return['withCalendar'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    const calendar = ES.ToTemporalCalendarIdentifier(calendarParam);\n    return ES.CreateTemporalDateTime(GetSlot(this, ISO_DATE_TIME), calendar);\n  }\n  add(temporalDurationLike: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return ES.AddDurationToDateTime('add', this, temporalDurationLike, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    options: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return ES.AddDurationToDateTime('subtract', this, temporalDurationLike, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return ES.DifferenceTemporalPlainDateTime('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return ES.DifferenceTemporalPlainDateTime('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.GetTemporalRoundingIncrementOption(roundTo);\n    const roundingMode = ES.GetRoundingModeOption(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(roundTo, 'smallestUnit', 'time', ES.REQUIRED, ['day']);\n    const maximumIncrements = {\n      day: 1,\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    };\n    const maximum = maximumIncrements[smallestUnit];\n    const inclusive = maximum === 1;\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximum, inclusive);\n\n    const isoDateTime = GetSlot(this, ISO_DATE_TIME);\n    if (roundingIncrement === 1 && smallestUnit === 'nanosecond') {\n      return ES.CreateTemporalDateTime(isoDateTime, GetSlot(this, CALENDAR));\n    }\n    const result = ES.RoundISODateTime(isoDateTime, roundingIncrement, smallestUnit, roundingMode);\n\n    return ES.CreateTemporalDateTime(result, GetSlot(this, CALENDAR));\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    const other = ES.ToTemporalDateTime(otherParam);\n    if (ES.CompareISODateTime(GetSlot(this, ISO_DATE_TIME), GetSlot(other, ISO_DATE_TIME)) !== 0) return false;\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const showCalendar = ES.GetTemporalShowCalendarNameOption(resolvedOptions);\n    const digits = ES.GetTemporalFractionalSecondDigitsOption(resolvedOptions);\n    const roundingMode = ES.GetRoundingModeOption(resolvedOptions, 'trunc');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(resolvedOptions, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    const result = ES.RoundISODateTime(GetSlot(this, ISO_DATE_TIME), increment, unit, roundingMode);\n    ES.RejectDateTimeRange(result);\n    return ES.ISODateTimeToString(result, GetSlot(this, CALENDAR), precision, showCalendar);\n  }\n  toJSON(): Return['toJSON'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return ES.ISODateTimeToString(GetSlot(this, ISO_DATE_TIME), GetSlot(this, CALENDAR), 'auto');\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('PlainDateTime');\n  }\n\n  toZonedDateTime(\n    temporalTimeZoneLike: Params['toZonedDateTime'][0],\n    options: Params['toZonedDateTime'][1] = undefined\n  ): Return['toZonedDateTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    const timeZone = ES.ToTemporalTimeZoneIdentifier(temporalTimeZoneLike);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const disambiguation = ES.GetTemporalDisambiguationOption(resolvedOptions);\n    const epochNs = ES.GetEpochNanosecondsFor(timeZone, GetSlot(this, ISO_DATE_TIME), disambiguation);\n    return ES.CreateTemporalZonedDateTime(epochNs, timeZone, GetSlot(this, CALENDAR));\n  }\n  toPlainDate(): Return['toPlainDate'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return ES.CreateTemporalDate(GetSlot(this, ISO_DATE_TIME).isoDate, GetSlot(this, CALENDAR));\n  }\n  toPlainTime(): Return['toPlainTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalDateTime);\n    return ES.CreateTemporalTime(GetSlot(this, ISO_DATE_TIME).time);\n  }\n\n  static from(item: Params['from'][0], options: Params['from'][1] = undefined): Return['from'] {\n    return ES.ToTemporalDateTime(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalDateTime(oneParam);\n    const two = ES.ToTemporalDateTime(twoParam);\n    return ES.CompareISODateTime(GetSlot(one, ISO_DATE_TIME), GetSlot(two, ISO_DATE_TIME));\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainDateTime';\n}\n\nMakeIntrinsicClass(PlainDateTime, 'Temporal.PlainDateTime');\n\nfunction getCalendarProperty<P extends keyof CalendarDateRecord>(\n  dt: Temporal.PlainDateTime,\n  prop: P\n): CalendarDateRecord[P] {\n  ES.CheckReceiver(dt, ES.IsTemporalDateTime);\n  const isoDate = GetSlot(dt, ISO_DATE_TIME).isoDate;\n  return ES.calendarImplForObj(dt).isoToDate(isoDate, { [prop]: true })[prop];\n}\n\nfunction getTimeProperty(dt: Temporal.PlainDateTime, prop: Temporal.TimeUnit) {\n  ES.CheckReceiver(dt, ES.IsTemporalDateTime);\n  return GetSlot(dt, ISO_DATE_TIME).time[prop];\n}\n", "import { DEBUG } from './debug';\nimport { assert } from './assert';\nimport * as ES from './ecmascript';\nimport { ModifiedIntlDurationFormatPrototypeFormat } from './intl';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport {\n  YEARS,\n  MONTHS,\n  WEEKS,\n  DAYS,\n  HOURS,\n  MINUTES,\n  SECONDS,\n  MILLISECONDS,\n  MICROSECONDS,\n  NANOSECONDS,\n  CALENDAR,\n  EPOCHNANOSECONDS,\n  CreateSlots,\n  GetSlot,\n  ISO_DATE,\n  SetSlot,\n  TIME_ZONE\n} from './slots';\nimport { TimeDuration } from './timeduration';\nimport type { Temporal } from '..';\nimport type { DurationParams as Params, DurationReturn as Return } from './internaltypes';\nimport JSBI from 'jsbi';\n\nexport class Duration implements Temporal.Duration {\n  constructor(\n    yearsParam: Params['constructor'][0] = 0,\n    monthsParam: Params['constructor'][1] = 0,\n    weeksParam: Params['constructor'][2] = 0,\n    daysParam: Params['constructor'][3] = 0,\n    hoursParam: Params['constructor'][4] = 0,\n    minutesParam: Params['constructor'][5] = 0,\n    secondsParam: Params['constructor'][6] = 0,\n    millisecondsParam: Params['constructor'][7] = 0,\n    microsecondsParam: Params['constructor'][8] = 0,\n    nanosecondsParam: Params['constructor'][9] = 0\n  ) {\n    const years = yearsParam === undefined ? 0 : ES.ToIntegerIfIntegral(yearsParam);\n    const months = monthsParam === undefined ? 0 : ES.ToIntegerIfIntegral(monthsParam);\n    const weeks = weeksParam === undefined ? 0 : ES.ToIntegerIfIntegral(weeksParam);\n    const days = daysParam === undefined ? 0 : ES.ToIntegerIfIntegral(daysParam);\n    const hours = hoursParam === undefined ? 0 : ES.ToIntegerIfIntegral(hoursParam);\n    const minutes = minutesParam === undefined ? 0 : ES.ToIntegerIfIntegral(minutesParam);\n    const seconds = secondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(secondsParam);\n    const milliseconds = millisecondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(millisecondsParam);\n    const microseconds = microsecondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(microsecondsParam);\n    const nanoseconds = nanosecondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(nanosecondsParam);\n\n    ES.RejectDuration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n\n    CreateSlots(this);\n    SetSlot(this, YEARS, years);\n    SetSlot(this, MONTHS, months);\n    SetSlot(this, WEEKS, weeks);\n    SetSlot(this, DAYS, days);\n    SetSlot(this, HOURS, hours);\n    SetSlot(this, MINUTES, minutes);\n    SetSlot(this, SECONDS, seconds);\n    SetSlot(this, MILLISECONDS, milliseconds);\n    SetSlot(this, MICROSECONDS, microseconds);\n    SetSlot(this, NANOSECONDS, nanoseconds);\n\n    if (DEBUG) {\n      Object.defineProperty(this, '_repr_', {\n        value: `Temporal.Duration <${ES.TemporalDurationToString(this, 'auto')}>`,\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n  get years(): Return['years'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, YEARS);\n  }\n  get months(): Return['months'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, MONTHS);\n  }\n  get weeks(): Return['weeks'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, WEEKS);\n  }\n  get days(): Return['days'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, DAYS);\n  }\n  get hours(): Return['hours'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, HOURS);\n  }\n  get minutes(): Return['minutes'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, MINUTES);\n  }\n  get seconds(): Return['seconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, SECONDS);\n  }\n  get milliseconds(): Return['milliseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, MILLISECONDS);\n  }\n  get microseconds(): Return['microseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, MICROSECONDS);\n  }\n  get nanoseconds(): Return['nanoseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return GetSlot(this, NANOSECONDS);\n  }\n  get sign(): Return['sign'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return ES.DurationSign(this);\n  }\n  get blank(): Return['blank'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return ES.DurationSign(this) === 0;\n  }\n  with(durationLike: Params['with'][0]): Return['with'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    const partialDuration = ES.ToTemporalPartialDurationRecord(durationLike);\n    const {\n      years = GetSlot(this, YEARS),\n      months = GetSlot(this, MONTHS),\n      weeks = GetSlot(this, WEEKS),\n      days = GetSlot(this, DAYS),\n      hours = GetSlot(this, HOURS),\n      minutes = GetSlot(this, MINUTES),\n      seconds = GetSlot(this, SECONDS),\n      milliseconds = GetSlot(this, MILLISECONDS),\n      microseconds = GetSlot(this, MICROSECONDS),\n      nanoseconds = GetSlot(this, NANOSECONDS)\n    } = partialDuration;\n    return new Duration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  }\n  negated(): Return['negated'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return ES.CreateNegatedTemporalDuration(this);\n  }\n  abs(): Return['abs'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return new Duration(\n      Math.abs(GetSlot(this, YEARS)),\n      Math.abs(GetSlot(this, MONTHS)),\n      Math.abs(GetSlot(this, WEEKS)),\n      Math.abs(GetSlot(this, DAYS)),\n      Math.abs(GetSlot(this, HOURS)),\n      Math.abs(GetSlot(this, MINUTES)),\n      Math.abs(GetSlot(this, SECONDS)),\n      Math.abs(GetSlot(this, MILLISECONDS)),\n      Math.abs(GetSlot(this, MICROSECONDS)),\n      Math.abs(GetSlot(this, NANOSECONDS))\n    );\n  }\n  add(other: Params['add'][0]): Return['add'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return ES.AddDurations('add', this, other);\n  }\n  subtract(other: Params['subtract'][0]): Return['subtract'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return ES.AddDurations('subtract', this, other);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n\n    const existingLargestUnit = ES.DefaultTemporalLargestUnit(this);\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n\n    let largestUnit = ES.GetTemporalUnitValuedOption(roundTo, 'largestUnit', 'datetime', undefined, ['auto']);\n    let { plainRelativeTo, zonedRelativeTo } = ES.GetTemporalRelativeToOption(roundTo);\n    const roundingIncrement = ES.GetTemporalRoundingIncrementOption(roundTo);\n    const roundingMode = ES.GetRoundingModeOption(roundTo, 'halfExpand');\n    let smallestUnit = ES.GetTemporalUnitValuedOption(roundTo, 'smallestUnit', 'datetime', undefined);\n\n    let smallestUnitPresent = true;\n    if (!smallestUnit) {\n      smallestUnitPresent = false;\n      smallestUnit = 'nanosecond';\n    }\n    const defaultLargestUnit = ES.LargerOfTwoTemporalUnits(existingLargestUnit, smallestUnit);\n    let largestUnitPresent = true;\n    if (!largestUnit) {\n      largestUnitPresent = false;\n      largestUnit = defaultLargestUnit;\n    }\n    if (largestUnit === 'auto') largestUnit = defaultLargestUnit;\n    if (!smallestUnitPresent && !largestUnitPresent) {\n      throw new RangeError('at least one of smallestUnit or largestUnit is required');\n    }\n    if (ES.LargerOfTwoTemporalUnits(largestUnit, smallestUnit) !== largestUnit) {\n      throw new RangeError(`largestUnit ${largestUnit} cannot be smaller than smallestUnit ${smallestUnit}`);\n    }\n\n    const maximumIncrements = {\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    } as { [k in Temporal.DateTimeUnit]?: number };\n    const maximum = maximumIncrements[smallestUnit];\n    if (maximum !== undefined) ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximum, false);\n    if (roundingIncrement > 1 && ES.TemporalUnitCategory(smallestUnit) === 'date' && largestUnit !== smallestUnit) {\n      throw new RangeError('For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit');\n    }\n\n    if (zonedRelativeTo) {\n      let duration = ES.ToInternalDurationRecord(this);\n      const timeZone = GetSlot(zonedRelativeTo, TIME_ZONE);\n      const calendar = GetSlot(zonedRelativeTo, CALENDAR);\n      const relativeEpochNs = GetSlot(zonedRelativeTo, EPOCHNANOSECONDS);\n      const targetEpochNs = ES.AddZonedDateTime(relativeEpochNs, timeZone, calendar, duration);\n      duration = ES.DifferenceZonedDateTimeWithRounding(\n        relativeEpochNs,\n        targetEpochNs,\n        timeZone,\n        calendar,\n        largestUnit,\n        roundingIncrement,\n        smallestUnit,\n        roundingMode\n      );\n      if (ES.TemporalUnitCategory(largestUnit) === 'date') largestUnit = 'hour';\n      return ES.TemporalDurationFromInternal(duration, largestUnit);\n    }\n\n    if (plainRelativeTo) {\n      let duration = ES.ToInternalDurationRecordWith24HourDays(this);\n      const targetTime = ES.AddTime(ES.MidnightTimeRecord(), duration.time);\n\n      // Delegate the date part addition to the calendar\n      const isoRelativeToDate = GetSlot(plainRelativeTo, ISO_DATE);\n      const calendar = GetSlot(plainRelativeTo, CALENDAR);\n      const dateDuration = ES.AdjustDateDurationRecord(duration.date, targetTime.deltaDays);\n      const targetDate = ES.CalendarDateAdd(calendar, isoRelativeToDate, dateDuration, 'constrain');\n\n      const isoDateTime = ES.CombineISODateAndTimeRecord(isoRelativeToDate, ES.MidnightTimeRecord());\n      const targetDateTime = ES.CombineISODateAndTimeRecord(targetDate, targetTime);\n      duration = ES.DifferencePlainDateTimeWithRounding(\n        isoDateTime,\n        targetDateTime,\n        calendar,\n        largestUnit,\n        roundingIncrement,\n        smallestUnit,\n        roundingMode\n      );\n      return ES.TemporalDurationFromInternal(duration, largestUnit);\n    }\n\n    // No reference date to calculate difference relative to\n    if (ES.IsCalendarUnit(existingLargestUnit)) {\n      throw new RangeError(`a starting point is required for ${existingLargestUnit}s balancing`);\n    }\n    if (ES.IsCalendarUnit(largestUnit)) {\n      throw new RangeError(`a starting point is required for ${largestUnit}s balancing`);\n    }\n    assert(!ES.IsCalendarUnit(smallestUnit), 'smallestUnit was larger than largestUnit');\n    let internalDuration = ES.ToInternalDurationRecordWith24HourDays(this);\n    if (smallestUnit === 'day') {\n      // First convert time units up to days\n      const { quotient, remainder } = internalDuration.time.divmod(ES.DAY_NANOS);\n      let days = internalDuration.date.days + quotient + ES.TotalTimeDuration(remainder, 'day');\n      days = ES.RoundNumberToIncrement(days, roundingIncrement, roundingMode);\n      const dateDuration = { years: 0, months: 0, weeks: 0, days };\n      internalDuration = ES.CombineDateAndTimeDuration(dateDuration, TimeDuration.ZERO);\n    } else {\n      const timeDuration = ES.RoundTimeDuration(internalDuration.time, roundingIncrement, smallestUnit, roundingMode);\n      internalDuration = ES.CombineDateAndTimeDuration(ES.ZeroDateDuration(), timeDuration);\n    }\n    return ES.TemporalDurationFromInternal(internalDuration, largestUnit);\n  }\n  total(optionsParam: Params['total'][0]): Return['total'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n\n    if (optionsParam === undefined) throw new TypeError('options argument is required');\n    const options =\n      typeof optionsParam === 'string'\n        ? (ES.CreateOnePropObject('unit', optionsParam) as Exclude<typeof optionsParam, string>)\n        : ES.GetOptionsObject(optionsParam);\n    let { plainRelativeTo, zonedRelativeTo } = ES.GetTemporalRelativeToOption(options);\n    const unit = ES.GetTemporalUnitValuedOption(options, 'unit', 'datetime', ES.REQUIRED);\n\n    if (zonedRelativeTo) {\n      const duration = ES.ToInternalDurationRecord(this);\n      const timeZone = GetSlot(zonedRelativeTo, TIME_ZONE);\n      const calendar = GetSlot(zonedRelativeTo, CALENDAR);\n      const relativeEpochNs = GetSlot(zonedRelativeTo, EPOCHNANOSECONDS);\n      const targetEpochNs = ES.AddZonedDateTime(relativeEpochNs, timeZone, calendar, duration);\n      return ES.DifferenceZonedDateTimeWithTotal(relativeEpochNs, targetEpochNs, timeZone, calendar, unit);\n    }\n\n    if (plainRelativeTo) {\n      const duration = ES.ToInternalDurationRecordWith24HourDays(this);\n      let targetTime = ES.AddTime(ES.MidnightTimeRecord(), duration.time);\n\n      // Delegate the date part addition to the calendar\n      const isoRelativeToDate = GetSlot(plainRelativeTo, ISO_DATE);\n      const calendar = GetSlot(plainRelativeTo, CALENDAR);\n      const dateDuration = ES.AdjustDateDurationRecord(duration.date, targetTime.deltaDays);\n      const targetDate = ES.CalendarDateAdd(calendar, isoRelativeToDate, dateDuration, 'constrain');\n\n      const isoDateTime = ES.CombineISODateAndTimeRecord(isoRelativeToDate, ES.MidnightTimeRecord());\n      const targetDateTime = ES.CombineISODateAndTimeRecord(targetDate, targetTime);\n      return ES.DifferencePlainDateTimeWithTotal(isoDateTime, targetDateTime, calendar, unit);\n    }\n\n    // No reference date to calculate difference relative to\n    const largestUnit = ES.DefaultTemporalLargestUnit(this);\n    if (ES.IsCalendarUnit(largestUnit)) {\n      throw new RangeError(`a starting point is required for ${largestUnit}s total`);\n    }\n    if (ES.IsCalendarUnit(unit)) {\n      throw new RangeError(`a starting point is required for ${unit}s total`);\n    }\n    const duration = ES.ToInternalDurationRecordWith24HourDays(this);\n    return ES.TotalTimeDuration(duration.time, unit);\n  }\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const digits = ES.GetTemporalFractionalSecondDigitsOption(resolvedOptions);\n    const roundingMode = ES.GetRoundingModeOption(resolvedOptions, 'trunc');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(resolvedOptions, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour' || smallestUnit === 'minute') {\n      throw new RangeError('smallestUnit must be a time unit other than \"hours\" or \"minutes\"');\n    }\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    ES.uncheckedAssertNarrowedType<Exclude<typeof precision, 'minute'>>(\n      precision,\n      'Precision cannot be \"minute\" because of RangeError above'\n    );\n\n    if (unit === 'nanosecond' && increment === 1) return ES.TemporalDurationToString(this, precision);\n\n    const largestUnit = ES.DefaultTemporalLargestUnit(this);\n    let internalDuration = ES.ToInternalDurationRecord(this);\n    const timeDuration = ES.RoundTimeDuration(internalDuration.time, increment, unit, roundingMode);\n    internalDuration = ES.CombineDateAndTimeDuration(internalDuration.date, timeDuration);\n    const roundedDuration = ES.TemporalDurationFromInternal(\n      internalDuration,\n      ES.LargerOfTwoTemporalUnits(largestUnit, 'second')\n    );\n    return ES.TemporalDurationToString(roundedDuration, precision);\n  }\n  toJSON(): Return['toJSON'] {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    return ES.TemporalDurationToString(this, 'auto');\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalDuration);\n    if (typeof Intl.DurationFormat === 'function') {\n      const formatter = new Intl.DurationFormat(locales, options as Intl.DurationFormatOptions);\n      return ModifiedIntlDurationFormatPrototypeFormat.call(formatter, this);\n    }\n    console.warn('Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat.');\n    return ES.TemporalDurationToString(this, 'auto');\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('Duration');\n  }\n  static from(item: Params['from'][0]): Return['from'] {\n    return ES.ToTemporalDuration(item);\n  }\n  static compare(\n    oneParam: Params['compare'][0],\n    twoParam: Params['compare'][1],\n    options: Params['compare'][2] = undefined\n  ): Return['compare'] {\n    const one = ES.ToTemporalDuration(oneParam);\n    const two = ES.ToTemporalDuration(twoParam);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const { plainRelativeTo, zonedRelativeTo } = ES.GetTemporalRelativeToOption(resolvedOptions);\n\n    if (\n      GetSlot(one, YEARS) === GetSlot(two, YEARS) &&\n      GetSlot(one, MONTHS) === GetSlot(two, MONTHS) &&\n      GetSlot(one, WEEKS) === GetSlot(two, WEEKS) &&\n      GetSlot(one, DAYS) === GetSlot(two, DAYS) &&\n      GetSlot(one, HOURS) === GetSlot(two, HOURS) &&\n      GetSlot(one, MINUTES) === GetSlot(two, MINUTES) &&\n      GetSlot(one, SECONDS) === GetSlot(two, SECONDS) &&\n      GetSlot(one, MILLISECONDS) === GetSlot(two, MILLISECONDS) &&\n      GetSlot(one, MICROSECONDS) === GetSlot(two, MICROSECONDS) &&\n      GetSlot(one, NANOSECONDS) === GetSlot(two, NANOSECONDS)\n    ) {\n      return 0;\n    }\n\n    const largestUnit1 = ES.DefaultTemporalLargestUnit(one);\n    const largestUnit2 = ES.DefaultTemporalLargestUnit(two);\n    const duration1 = ES.ToInternalDurationRecord(one);\n    const duration2 = ES.ToInternalDurationRecord(two);\n\n    if (\n      zonedRelativeTo &&\n      (ES.TemporalUnitCategory(largestUnit1) === 'date' || ES.TemporalUnitCategory(largestUnit2) === 'date')\n    ) {\n      const timeZone = GetSlot(zonedRelativeTo, TIME_ZONE);\n      const calendar = GetSlot(zonedRelativeTo, CALENDAR);\n      const epochNs = GetSlot(zonedRelativeTo, EPOCHNANOSECONDS);\n\n      const after1 = ES.AddZonedDateTime(epochNs, timeZone, calendar, duration1);\n      const after2 = ES.AddZonedDateTime(epochNs, timeZone, calendar, duration2);\n      return ES.ComparisonResult(JSBI.toNumber(JSBI.subtract(after1, after2)));\n    }\n\n    let d1 = duration1.date.days;\n    let d2 = duration2.date.days;\n    if (ES.IsCalendarUnit(largestUnit1) || ES.IsCalendarUnit(largestUnit2)) {\n      if (!plainRelativeTo) {\n        throw new RangeError('A starting point is required for years, months, or weeks comparison');\n      }\n      d1 = ES.DateDurationDays(duration1.date, plainRelativeTo);\n      d2 = ES.DateDurationDays(duration2.date, plainRelativeTo);\n    }\n    const timeDuration1 = duration1.time.add24HourDays(d1);\n    const timeDuration2 = duration2.time.add24HourDays(d2);\n    return timeDuration1.cmp(timeDuration2);\n  }\n  [Symbol.toStringTag]!: 'Temporal.Duration';\n}\n\nMakeIntrinsicClass(Duration, 'Temporal.Duration');\n", "import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { CALENDAR, GetSlot, ISO_DATE } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { CalendarDateRecord, PlainMonthDayParams as Params, PlainMonthDayReturn as Return } from './internaltypes';\n\nexport class PlainMonthDay implements Temporal.PlainMonthDay {\n  constructor(\n    isoMonth: Params['constructor'][0],\n    isoDay: Params['constructor'][0],\n    calendarParam = 'iso8601',\n    referenceISOYear = 1972\n  ) {\n    const month = ES.ToIntegerWithTruncation(isoMonth);\n    const day = ES.ToIntegerWithTruncation(isoDay);\n    const calendar = ES.CanonicalizeCalendar(calendarParam === undefined ? 'iso8601' : ES.RequireString(calendarParam));\n    const year = ES.ToIntegerWithTruncation(referenceISOYear);\n\n    ES.RejectISODate(year, month, day);\n    ES.CreateTemporalMonthDaySlots(this, { year, month, day }, calendar);\n  }\n\n  get monthCode(): Return['monthCode'] {\n    return getCalendarProperty(this, 'monthCode');\n  }\n  get day(): Return['day'] {\n    return getCalendarProperty(this, 'day');\n  }\n  get calendarId(): Return['calendarId'] {\n    ES.CheckReceiver(this, ES.IsTemporalMonthDay);\n    return GetSlot(this, CALENDAR);\n  }\n\n  with(temporalMonthDayLike: Params['with'][0], options: Params['with'][1] = undefined): Return['with'] {\n    ES.CheckReceiver(this, ES.IsTemporalMonthDay);\n    if (!ES.IsObject(temporalMonthDayLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalMonthDayLike);\n\n    const calendar = GetSlot(this, CALENDAR);\n    let fields = ES.ISODateToFields(calendar, GetSlot(this, ISO_DATE), 'month-day');\n    const partialMonthDay = ES.PrepareCalendarFields(\n      calendar,\n      temporalMonthDayLike,\n      ['year', 'month', 'monthCode', 'day'],\n      [],\n      'partial'\n    );\n    fields = ES.CalendarMergeFields(calendar, fields, partialMonthDay);\n\n    const overflow = ES.GetTemporalOverflowOption(ES.GetOptionsObject(options));\n    const isoDate = ES.CalendarMonthDayFromFields(calendar, fields, overflow);\n    return ES.CreateTemporalMonthDay(isoDate, calendar);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    ES.CheckReceiver(this, ES.IsTemporalMonthDay);\n    const other = ES.ToTemporalMonthDay(otherParam);\n    if (ES.CompareISODate(GetSlot(this, ISO_DATE), GetSlot(other, ISO_DATE)) !== 0) return false;\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalMonthDay);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const showCalendar = ES.GetTemporalShowCalendarNameOption(resolvedOptions);\n    return ES.TemporalMonthDayToString(this, showCalendar);\n  }\n  toJSON(): Return['toJSON'] {\n    ES.CheckReceiver(this, ES.IsTemporalMonthDay);\n    return ES.TemporalMonthDayToString(this);\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalMonthDay);\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('PlainMonthDay');\n  }\n  toPlainDate(item: Params['toPlainDate'][0]): Return['toPlainDate'] {\n    ES.CheckReceiver(this, ES.IsTemporalMonthDay);\n    if (!ES.IsObject(item)) throw new TypeError('argument should be an object');\n    const calendar = GetSlot(this, CALENDAR);\n\n    const fields = ES.ISODateToFields(calendar, GetSlot(this, ISO_DATE), 'month-day');\n    const inputFields = ES.PrepareCalendarFields(calendar, item, ['year'], [], []);\n    let mergedFields = ES.CalendarMergeFields(calendar, fields, inputFields);\n    const isoDate = ES.CalendarDateFromFields(calendar, mergedFields, 'constrain');\n    return ES.CreateTemporalDate(isoDate, calendar);\n  }\n\n  static from(item: Params['from'][0], options: Params['from'][1] = undefined): Return['from'] {\n    return ES.ToTemporalMonthDay(item, options);\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainMonthDay';\n}\n\nMakeIntrinsicClass(PlainMonthDay, 'Temporal.PlainMonthDay');\n\nfunction getCalendarProperty<P extends keyof CalendarDateRecord>(\n  md: Temporal.PlainMonthDay,\n  prop: P\n): CalendarDateRecord[P] {\n  ES.CheckReceiver(md, ES.IsTemporalMonthDay);\n  const isoDate = GetSlot(md, ISO_DATE);\n  return ES.calendarImplForObj(md).isoToDate(isoDate, { [prop]: true })[prop];\n}\n", "import * as ES from './ecmascript';\nimport type { Temporal } from '..';\n\nfunction SystemDateTime(timeZone: string) {\n  return ES.GetISODateTimeFor(timeZone, ES.SystemUTCEpochNanoSeconds());\n}\n\nconst instant: (typeof Temporal.Now)['instant'] = () => {\n  return ES.CreateTemporalInstant(ES.SystemUTCEpochNanoSeconds());\n};\nconst plainDateTimeISO: (typeof Temporal.Now)['plainDateTimeISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  const timeZone = ES.ToTemporalTimeZoneIdentifier(temporalTimeZoneLike);\n  const isoDateTime = SystemDateTime(timeZone);\n  return ES.CreateTemporalDateTime(isoDateTime, 'iso8601');\n};\nconst zonedDateTimeISO: (typeof Temporal.Now)['zonedDateTimeISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  const timeZone = ES.ToTemporalTimeZoneIdentifier(temporalTimeZoneLike);\n  return ES.CreateTemporalZonedDateTime(ES.SystemUTCEpochNanoSeconds(), timeZone, 'iso8601');\n};\nconst plainDateISO: (typeof Temporal.Now)['plainDateISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  const timeZone = ES.ToTemporalTimeZoneIdentifier(temporalTimeZoneLike);\n  const isoDateTime = SystemDateTime(timeZone);\n  return ES.CreateTemporalDate(isoDateTime.isoDate, 'iso8601');\n};\nconst plainTimeISO: (typeof Temporal.Now)['plainTimeISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  const timeZone = ES.ToTemporalTimeZoneIdentifier(temporalTimeZoneLike);\n  const isoDateTime = SystemDateTime(timeZone);\n  return ES.CreateTemporalTime(isoDateTime.time);\n};\nconst timeZoneId: (typeof Temporal.Now)['timeZoneId'] = () => {\n  return ES.DefaultTimeZone();\n};\n\nexport const Now: typeof Temporal.Now = {\n  instant,\n  plainDateTimeISO,\n  plainDateISO,\n  plainTimeISO,\n  timeZoneId,\n  zonedDateTimeISO,\n  [Symbol.toStringTag]: 'Temporal.Now'\n};\nObject.defineProperty(Now, Symbol.toStringTag, {\n  value: 'Temporal.Now',\n  writable: false,\n  enumerable: false,\n  configurable: true\n});\n", "import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\n\nimport { GetSlot, TIME } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { PlainTimeParams as Params, PlainTimeReturn as Return } from './internaltypes';\n\nexport class PlainTime implements Temporal.PlainTime {\n  constructor(isoHour = 0, isoMinute = 0, isoSecond = 0, isoMillisecond = 0, isoMicrosecond = 0, isoNanosecond = 0) {\n    const hour = isoHour === undefined ? 0 : ES.ToIntegerWithTruncation(isoHour);\n    const minute = isoMinute === undefined ? 0 : ES.ToIntegerWithTruncation(isoMinute);\n    const second = isoSecond === undefined ? 0 : ES.ToIntegerWithTruncation(isoSecond);\n    const millisecond = isoMillisecond === undefined ? 0 : ES.ToIntegerWithTruncation(isoMillisecond);\n    const microsecond = isoMicrosecond === undefined ? 0 : ES.ToIntegerWithTruncation(isoMicrosecond);\n    const nanosecond = isoNanosecond === undefined ? 0 : ES.ToIntegerWithTruncation(isoNanosecond);\n\n    ES.RejectTime(hour, minute, second, millisecond, microsecond, nanosecond);\n    const time = { hour, minute, second, millisecond, microsecond, nanosecond };\n\n    ES.CreateTemporalTimeSlots(this, time);\n  }\n\n  get hour(): Return['hour'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return GetSlot(this, TIME).hour;\n  }\n  get minute(): Return['minute'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return GetSlot(this, TIME).minute;\n  }\n  get second(): Return['second'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return GetSlot(this, TIME).second;\n  }\n  get millisecond(): Return['millisecond'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return GetSlot(this, TIME).millisecond;\n  }\n  get microsecond(): Return['microsecond'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return GetSlot(this, TIME).microsecond;\n  }\n  get nanosecond(): Return['nanosecond'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return GetSlot(this, TIME).nanosecond;\n  }\n\n  with(temporalTimeLike: Params['with'][0], options: Params['with'][1] = undefined): Return['with'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    if (!ES.IsObject(temporalTimeLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalTimeLike);\n\n    const partialTime = ES.ToTemporalTimeRecord(temporalTimeLike, 'partial');\n\n    const fields = ES.ToTemporalTimeRecord(this);\n    let { hour, minute, second, millisecond, microsecond, nanosecond } = Object.assign(fields, partialTime);\n    const overflow = ES.GetTemporalOverflowOption(ES.GetOptionsObject(options));\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = ES.RegulateTime(\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      overflow\n    ));\n    return new PlainTime(hour, minute, second, millisecond, microsecond, nanosecond);\n  }\n  add(temporalDurationLike: Params['add'][0]): Return['add'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return ES.AddDurationToTime('add', this, temporalDurationLike);\n  }\n  subtract(temporalDurationLike: Params['subtract'][0]): Return['subtract'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return ES.AddDurationToTime('subtract', this, temporalDurationLike);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return ES.DifferenceTemporalPlainTime('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return ES.DifferenceTemporalPlainTime('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.GetTemporalRoundingIncrementOption(roundTo);\n    const roundingMode = ES.GetRoundingModeOption(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(roundTo, 'smallestUnit', 'time', ES.REQUIRED);\n    const MAX_INCREMENTS = {\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    };\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, MAX_INCREMENTS[smallestUnit], false);\n\n    const time = ES.RoundTime(GetSlot(this, TIME), roundingIncrement, smallestUnit, roundingMode);\n    return ES.CreateTemporalTime(time);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    const other = ES.ToTemporalTime(otherParam);\n    return ES.CompareTimeRecord(GetSlot(this, TIME), GetSlot(other, TIME)) === 0;\n  }\n\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const digits = ES.GetTemporalFractionalSecondDigitsOption(resolvedOptions);\n    const roundingMode = ES.GetRoundingModeOption(resolvedOptions, 'trunc');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(resolvedOptions, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    const time = ES.RoundTime(GetSlot(this, TIME), increment, unit, roundingMode);\n    return ES.TimeRecordToString(time, precision);\n  }\n  toJSON(): Return['toJSON'] {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return ES.TimeRecordToString(GetSlot(this, TIME), 'auto');\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalTime);\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('PlainTime');\n  }\n\n  static from(item: Params['from'][0], options: Params['from'][1] = undefined): Return['from'] {\n    return ES.ToTemporalTime(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalTime(oneParam);\n    const two = ES.ToTemporalTime(twoParam);\n    return ES.CompareTimeRecord(GetSlot(one, TIME), GetSlot(two, TIME));\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainTime';\n}\n\nMakeIntrinsicClass(PlainTime, 'Temporal.PlainTime');\n", "import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { CALENDAR, GetSlot, ISO_DATE } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type {\n  CalendarDateRecord,\n  PlainYearMonthParams as Params,\n  PlainYearMonthReturn as Return\n} from './internaltypes';\n\nexport class PlainYearMonth implements Temporal.PlainYearMonth {\n  constructor(\n    isoYear: Params['constructor'][0],\n    isoMonth: Params['constructor'][1],\n    calendarParam: Params['constructor'][2] = 'iso8601',\n    referenceISODay: Params['constructor'][3] = 1\n  ) {\n    const year = ES.ToIntegerWithTruncation(isoYear);\n    const month = ES.ToIntegerWithTruncation(isoMonth);\n    const calendar = ES.CanonicalizeCalendar(calendarParam === undefined ? 'iso8601' : ES.RequireString(calendarParam));\n    const day = ES.ToIntegerWithTruncation(referenceISODay);\n\n    ES.RejectISODate(year, month, day);\n    ES.CreateTemporalYearMonthSlots(this, { year, month, day }, calendar);\n  }\n  get year(): Return['year'] {\n    return getCalendarProperty(this, 'year');\n  }\n  get month(): Return['month'] {\n    return getCalendarProperty(this, 'month');\n  }\n  get monthCode(): Return['monthCode'] {\n    return getCalendarProperty(this, 'monthCode');\n  }\n  get calendarId(): Return['calendarId'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    return GetSlot(this, CALENDAR);\n  }\n  get era(): Return['era'] {\n    return getCalendarProperty(this, 'era');\n  }\n  get eraYear(): Return['eraYear'] {\n    return getCalendarProperty(this, 'eraYear');\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    return getCalendarProperty(this, 'daysInMonth');\n  }\n  get daysInYear(): Return['daysInYear'] {\n    return getCalendarProperty(this, 'daysInYear');\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    return getCalendarProperty(this, 'monthsInYear');\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    return getCalendarProperty(this, 'inLeapYear');\n  }\n  with(temporalYearMonthLike: Params['with'][0], options: Params['with'][1] = undefined): Return['with'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    if (!ES.IsObject(temporalYearMonthLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalYearMonthLike);\n\n    const calendar = GetSlot(this, CALENDAR);\n    let fields = ES.ISODateToFields(calendar, GetSlot(this, ISO_DATE), 'year-month');\n    const partialYearMonth = ES.PrepareCalendarFields(\n      calendar,\n      temporalYearMonthLike,\n      ['year', 'month', 'monthCode'],\n      [],\n      'partial'\n    );\n    fields = ES.CalendarMergeFields(calendar, fields, partialYearMonth);\n\n    const overflow = ES.GetTemporalOverflowOption(ES.GetOptionsObject(options));\n    const isoDate = ES.CalendarYearMonthFromFields(calendar, fields, overflow);\n    return ES.CreateTemporalYearMonth(isoDate, calendar);\n  }\n  add(temporalDurationLike: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    return ES.AddDurationToYearMonth('add', this, temporalDurationLike, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    options: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    return ES.AddDurationToYearMonth('subtract', this, temporalDurationLike, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    return ES.DifferenceTemporalPlainYearMonth('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    return ES.DifferenceTemporalPlainYearMonth('since', this, other, options);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    const other = ES.ToTemporalYearMonth(otherParam);\n    if (ES.CompareISODate(GetSlot(this, ISO_DATE), GetSlot(other, ISO_DATE)) !== 0) return false;\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const showCalendar = ES.GetTemporalShowCalendarNameOption(resolvedOptions);\n    return ES.TemporalYearMonthToString(this, showCalendar);\n  }\n  toJSON(): Return['toJSON'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    return ES.TemporalYearMonthToString(this);\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('PlainYearMonth');\n  }\n  toPlainDate(item: Params['toPlainDate'][0]): Return['toPlainDate'] {\n    ES.CheckReceiver(this, ES.IsTemporalYearMonth);\n    if (!ES.IsObject(item)) throw new TypeError('argument should be an object');\n    const calendar = GetSlot(this, CALENDAR);\n\n    const fields = ES.ISODateToFields(calendar, GetSlot(this, ISO_DATE), 'year-month');\n    const inputFields = ES.PrepareCalendarFields(calendar, item, ['day'], [], []);\n    const mergedFields = ES.CalendarMergeFields(calendar, fields, inputFields);\n    const isoDate = ES.CalendarDateFromFields(calendar, mergedFields, 'constrain');\n    return ES.CreateTemporalDate(isoDate, calendar);\n  }\n\n  static from(item: Params['from'][0], options: Params['from'][1] = undefined): Return['from'] {\n    return ES.ToTemporalYearMonth(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalYearMonth(oneParam);\n    const two = ES.ToTemporalYearMonth(twoParam);\n    return ES.CompareISODate(GetSlot(one, ISO_DATE), GetSlot(two, ISO_DATE));\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainYearMonth';\n}\n\nMakeIntrinsicClass(PlainYearMonth, 'Temporal.PlainYearMonth');\n\nfunction getCalendarProperty<P extends keyof CalendarDateRecord>(\n  ym: Temporal.PlainYearMonth,\n  prop: P\n): CalendarDateRecord[P] {\n  ES.CheckReceiver(ym, ES.IsTemporalYearMonth);\n  const isoDate = GetSlot(ym, ISO_DATE);\n  return ES.calendarImplForObj(ym).isoToDate(isoDate, { [prop]: true })[prop];\n}\n", "import { assert } from './assert';\nimport * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { CALENDAR, EPOCHNANOSECONDS, TIME, TIME_ZONE, GetSlot } from './slots';\nimport { TimeDuration } from './timeduration';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type {\n  BuiltinCalendarId,\n  CalendarDateRecord,\n  ZonedDateTimeParams as Params,\n  ZonedDateTimeReturn as Return\n} from './internaltypes';\n\nimport JSBI from 'jsbi';\n\nconst customResolvedOptions = DateTimeFormat.prototype.resolvedOptions as Intl.DateTimeFormat['resolvedOptions'];\n\nexport class ZonedDateTime implements Temporal.ZonedDateTime {\n  constructor(epochNanosecondsParam: bigint | JSBI, timeZoneParam: string, calendarParam = 'iso8601') {\n    // Note: if the argument is not passed, ToBigInt(undefined) will throw. This check exists only\n    //       to improve the error message.\n    if (arguments.length < 1) {\n      throw new TypeError('missing argument: epochNanoseconds is required');\n    }\n    const epochNanoseconds = ES.ToBigInt(epochNanosecondsParam);\n    let timeZone = ES.RequireString(timeZoneParam);\n    const { tzName, offsetMinutes } = ES.ParseTimeZoneIdentifier(timeZone);\n    if (offsetMinutes === undefined) {\n      // if offsetMinutes is undefined, then tzName must be present\n      const record = ES.GetAvailableNamedTimeZoneIdentifier(tzName);\n      if (!record) throw new RangeError(`unknown time zone ${tzName}`);\n      timeZone = record.identifier;\n    } else {\n      timeZone = ES.FormatOffsetTimeZoneIdentifier(offsetMinutes);\n    }\n    const calendar = ES.CanonicalizeCalendar(calendarParam === undefined ? 'iso8601' : ES.RequireString(calendarParam));\n\n    ES.CreateTemporalZonedDateTimeSlots(this, epochNanoseconds, timeZone, calendar);\n  }\n  get calendarId(): Return['calendarId'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return GetSlot(this, CALENDAR);\n  }\n  get timeZoneId(): Return['timeZoneId'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return GetSlot(this, TIME_ZONE);\n  }\n  get year(): Return['year'] {\n    return getCalendarProperty(this, 'year');\n  }\n  get month(): Return['month'] {\n    return getCalendarProperty(this, 'month');\n  }\n  get monthCode(): Return['monthCode'] {\n    return getCalendarProperty(this, 'monthCode');\n  }\n  get day(): Return['day'] {\n    return getCalendarProperty(this, 'day');\n  }\n  get hour(): Return['hour'] {\n    return getTimeProperty(this, 'hour');\n  }\n  get minute(): Return['minute'] {\n    return getTimeProperty(this, 'minute');\n  }\n  get second(): Return['second'] {\n    return getTimeProperty(this, 'second');\n  }\n  get millisecond(): Return['millisecond'] {\n    return getTimeProperty(this, 'millisecond');\n  }\n  get microsecond(): Return['microsecond'] {\n    return getTimeProperty(this, 'microsecond');\n  }\n  get nanosecond(): Return['nanosecond'] {\n    return getTimeProperty(this, 'nanosecond');\n  }\n  get era(): Return['era'] {\n    return getCalendarProperty(this, 'era');\n  }\n  get eraYear(): Return['eraYear'] {\n    return getCalendarProperty(this, 'eraYear');\n  }\n  get epochMilliseconds(): Return['epochMilliseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const value = GetSlot(this, EPOCHNANOSECONDS);\n    return ES.epochNsToMs(value, 'floor');\n  }\n  get epochNanoseconds(): Return['epochNanoseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.ToBigIntExternal(GetSlot(this, EPOCHNANOSECONDS));\n  }\n  get dayOfWeek(): Return['dayOfWeek'] {\n    return getCalendarProperty(this, 'dayOfWeek');\n  }\n  get dayOfYear(): Return['dayOfYear'] {\n    return getCalendarProperty(this, 'dayOfYear');\n  }\n  get weekOfYear(): Return['weekOfYear'] {\n    return getCalendarProperty(this, 'weekOfYear')?.week;\n  }\n  get yearOfWeek(): Return['yearOfWeek'] {\n    return getCalendarProperty(this, 'weekOfYear')?.year;\n  }\n  get hoursInDay(): Return['hoursInDay'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const today = dateTime(this).isoDate;\n    const tomorrow = ES.BalanceISODate(today.year, today.month, today.day + 1);\n    const todayNs = ES.GetStartOfDay(timeZone, today);\n    const tomorrowNs = ES.GetStartOfDay(timeZone, tomorrow);\n    const diff = TimeDuration.fromEpochNsDiff(tomorrowNs, todayNs);\n    return ES.TotalTimeDuration(diff, 'hour');\n  }\n  get daysInWeek(): Return['daysInWeek'] {\n    return getCalendarProperty(this, 'daysInWeek');\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    return getCalendarProperty(this, 'daysInMonth');\n  }\n  get daysInYear(): Return['daysInYear'] {\n    return getCalendarProperty(this, 'daysInYear');\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    return getCalendarProperty(this, 'monthsInYear');\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    return getCalendarProperty(this, 'inLeapYear');\n  }\n  get offset(): Return['offset'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const offsetNs = ES.GetOffsetNanosecondsFor(GetSlot(this, TIME_ZONE), GetSlot(this, EPOCHNANOSECONDS));\n    return ES.FormatUTCOffsetNanoseconds(offsetNs);\n  }\n  get offsetNanoseconds(): Return['offsetNanoseconds'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.GetOffsetNanosecondsFor(GetSlot(this, TIME_ZONE), GetSlot(this, EPOCHNANOSECONDS));\n  }\n  with(temporalZonedDateTimeLike: Params['with'][0], options: Params['with'][1] = undefined): Return['with'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    if (!ES.IsObject(temporalZonedDateTimeLike)) {\n      throw new TypeError('invalid zoned-date-time-like');\n    }\n    ES.RejectTemporalLikeObject(temporalZonedDateTimeLike);\n\n    const calendar = GetSlot(this, CALENDAR);\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const epochNs = GetSlot(this, EPOCHNANOSECONDS);\n    const offsetNs = ES.GetOffsetNanosecondsFor(timeZone, epochNs);\n    const isoDateTime = dateTime(this);\n    let fields = {\n      ...ES.ISODateToFields(calendar, isoDateTime.isoDate),\n      ...isoDateTime.time,\n      offset: ES.FormatUTCOffsetNanoseconds(offsetNs)\n    };\n    const partialZonedDateTime = ES.PrepareCalendarFields(\n      calendar,\n      temporalZonedDateTimeLike,\n      ['year', 'month', 'monthCode', 'day'],\n      ['hour', 'minute', 'second', 'millisecond', 'microsecond', 'nanosecond', 'offset'],\n      'partial'\n    );\n    fields = ES.CalendarMergeFields(calendar, fields, partialZonedDateTime);\n\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const disambiguation = ES.GetTemporalDisambiguationOption(resolvedOptions);\n    const offset = ES.GetTemporalOffsetOption(resolvedOptions, 'prefer');\n    const overflow = ES.GetTemporalOverflowOption(resolvedOptions);\n\n    const newDateTime = ES.InterpretTemporalDateTimeFields(calendar, fields, overflow);\n    const newOffsetNs = ES.ParseDateTimeUTCOffset(fields.offset);\n    const epochNanoseconds = ES.InterpretISODateTimeOffset(\n      newDateTime.isoDate,\n      newDateTime.time,\n      'option',\n      newOffsetNs,\n      timeZone,\n      disambiguation,\n      offset,\n      /* matchMinute = */ false\n    );\n\n    return ES.CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar);\n  }\n  withPlainTime(temporalTimeParam: Params['withPlainTime'][0] = undefined): Return['withPlainTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const calendar = GetSlot(this, CALENDAR);\n    const iso = dateTime(this).isoDate;\n\n    let epochNs;\n    if (temporalTimeParam === undefined) {\n      epochNs = ES.GetStartOfDay(timeZone, iso);\n    } else {\n      const temporalTime = ES.ToTemporalTime(temporalTimeParam);\n      const dt = ES.CombineISODateAndTimeRecord(iso, GetSlot(temporalTime, TIME));\n      epochNs = ES.GetEpochNanosecondsFor(timeZone, dt, 'compatible');\n    }\n    return ES.CreateTemporalZonedDateTime(epochNs, timeZone, calendar);\n  }\n  withTimeZone(timeZoneParam: Params['withTimeZone'][0]): Return['withTimeZone'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const timeZone = ES.ToTemporalTimeZoneIdentifier(timeZoneParam);\n    return ES.CreateTemporalZonedDateTime(GetSlot(this, EPOCHNANOSECONDS), timeZone, GetSlot(this, CALENDAR));\n  }\n  withCalendar(calendarParam: Params['withCalendar'][0]): Return['withCalendar'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const calendar = ES.ToTemporalCalendarIdentifier(calendarParam);\n    return ES.CreateTemporalZonedDateTime(GetSlot(this, EPOCHNANOSECONDS), GetSlot(this, TIME_ZONE), calendar);\n  }\n  add(temporalDurationLike: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.AddDurationToZonedDateTime('add', this, temporalDurationLike, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    options: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.AddDurationToZonedDateTime('subtract', this, temporalDurationLike, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.DifferenceTemporalZonedDateTime('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.DifferenceTemporalZonedDateTime('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.GetTemporalRoundingIncrementOption(roundTo);\n    const roundingMode = ES.GetRoundingModeOption(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(roundTo, 'smallestUnit', 'time', ES.REQUIRED, ['day']);\n    const maximumIncrements = {\n      day: 1,\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    };\n    const maximum = maximumIncrements[smallestUnit];\n    const inclusive = maximum === 1;\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximum, inclusive);\n\n    if (smallestUnit === 'nanosecond' && roundingIncrement === 1) {\n      return ES.CreateTemporalZonedDateTime(\n        GetSlot(this, EPOCHNANOSECONDS),\n        GetSlot(this, TIME_ZONE),\n        GetSlot(this, CALENDAR)\n      );\n    }\n\n    // first, round the underlying DateTime fields\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const thisNs = GetSlot(this, EPOCHNANOSECONDS);\n    const iso = dateTime(this);\n    let epochNanoseconds;\n\n    if (smallestUnit === 'day') {\n      // Compute Instants for start-of-day and end-of-day\n      // Determine how far the current instant has progressed through this span.\n      const dateStart = iso.isoDate;\n      const dateEnd = ES.BalanceISODate(dateStart.year, dateStart.month, dateStart.day + 1);\n\n      const startNs = ES.GetStartOfDay(timeZone, dateStart);\n      assert(\n        JSBI.greaterThanOrEqual(thisNs, startNs),\n        'cannot produce an instant during a day that occurs before start-of-day instant'\n      );\n\n      const endNs = ES.GetStartOfDay(timeZone, dateEnd);\n      assert(\n        JSBI.lessThan(thisNs, endNs),\n        'cannot produce an instant during a day that occurs on or after end-of-day instant'\n      );\n\n      const dayLengthNs = JSBI.subtract(endNs, startNs);\n      const dayProgressNs = TimeDuration.fromEpochNsDiff(thisNs, startNs);\n      const roundedDayNs = dayProgressNs.round(dayLengthNs, roundingMode);\n      epochNanoseconds = roundedDayNs.addToEpochNs(startNs);\n    } else {\n      // smallestUnit < day\n      // Round based on ISO-calendar time units\n      const roundedDateTime = ES.RoundISODateTime(iso, roundingIncrement, smallestUnit, roundingMode);\n\n      // Now reset all DateTime fields but leave the TimeZone. The offset will\n      // also be retained if the new date/time values are still OK with the old\n      // offset. Otherwise the offset will be changed to be compatible with the\n      // new date/time values. If DST disambiguation is required, the `compatible`\n      // disambiguation algorithm will be used.\n      const offsetNs = ES.GetOffsetNanosecondsFor(timeZone, thisNs);\n      epochNanoseconds = ES.InterpretISODateTimeOffset(\n        roundedDateTime.isoDate,\n        roundedDateTime.time,\n        'option',\n        offsetNs,\n        timeZone,\n        'compatible',\n        'prefer',\n        /* matchMinute = */ false\n      );\n    }\n\n    return ES.CreateTemporalZonedDateTime(epochNanoseconds, timeZone, GetSlot(this, CALENDAR));\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const other = ES.ToTemporalZonedDateTime(otherParam);\n    const one = GetSlot(this, EPOCHNANOSECONDS);\n    const two = GetSlot(other, EPOCHNANOSECONDS);\n    if (!JSBI.equal(JSBI.BigInt(one), JSBI.BigInt(two))) return false;\n    if (!ES.TimeZoneEquals(GetSlot(this, TIME_ZONE), GetSlot(other, TIME_ZONE))) return false;\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(options: Params['toString'][0] = undefined): string {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const resolvedOptions = ES.GetOptionsObject(options);\n    const showCalendar = ES.GetTemporalShowCalendarNameOption(resolvedOptions);\n    const digits = ES.GetTemporalFractionalSecondDigitsOption(resolvedOptions);\n    const showOffset = ES.GetTemporalShowOffsetOption(resolvedOptions);\n    const roundingMode = ES.GetRoundingModeOption(resolvedOptions, 'trunc');\n    const smallestUnit = ES.GetTemporalUnitValuedOption(resolvedOptions, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    const showTimeZone = ES.GetTemporalShowTimeZoneNameOption(resolvedOptions);\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    return ES.TemporalZonedDateTimeToString(this, precision, showCalendar, showTimeZone, showOffset, {\n      unit,\n      increment,\n      roundingMode\n    });\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const resolvedOptions = ES.GetOptionsObject(options);\n\n    // This is not quite per specification, but this polyfill's DateTimeFormat\n    // already doesn't match the InitializeDateTimeFormat operation, and the\n    // access order might change anyway;\n    // see https://github.com/tc39/ecma402/issues/747\n    const optionsCopy = Object.create(null);\n    ES.CopyDataProperties(optionsCopy, resolvedOptions, ['timeZone']);\n\n    if (resolvedOptions.timeZone !== undefined) {\n      throw new TypeError('ZonedDateTime toLocaleString does not accept a timeZone option');\n    }\n\n    if (\n      optionsCopy.year === undefined &&\n      optionsCopy.month === undefined &&\n      optionsCopy.day === undefined &&\n      optionsCopy.era === undefined &&\n      optionsCopy.weekday === undefined &&\n      optionsCopy.dateStyle === undefined &&\n      optionsCopy.hour === undefined &&\n      optionsCopy.minute === undefined &&\n      optionsCopy.second === undefined &&\n      optionsCopy.fractionalSecondDigits === undefined &&\n      optionsCopy.timeStyle === undefined &&\n      optionsCopy.dayPeriod === undefined &&\n      optionsCopy.timeZoneName === undefined\n    ) {\n      optionsCopy.timeZoneName = 'short';\n      // The rest of the defaults will be filled in by formatting the Instant\n    }\n\n    optionsCopy.timeZone = GetSlot(this, TIME_ZONE);\n    if (ES.IsOffsetTimeZoneIdentifier(optionsCopy.timeZone)) {\n      // Note: https://github.com/tc39/ecma402/issues/683 will remove this\n      throw new RangeError('toLocaleString does not currently support offset time zones');\n    }\n\n    const formatter = new DateTimeFormat(locales, optionsCopy);\n\n    const localeCalendarIdentifier = customResolvedOptions.call(formatter).calendar as BuiltinCalendarId;\n    const calendarIdentifier = GetSlot(this, CALENDAR);\n    if (\n      calendarIdentifier !== 'iso8601' &&\n      localeCalendarIdentifier !== 'iso8601' &&\n      !ES.CalendarEquals(localeCalendarIdentifier, calendarIdentifier)\n    ) {\n      throw new RangeError(\n        `cannot format ZonedDateTime with calendar ${calendarIdentifier}` +\n          ` in locale with calendar ${localeCalendarIdentifier}`\n      );\n    }\n\n    return formatter.format(ES.CreateTemporalInstant(GetSlot(this, EPOCHNANOSECONDS)));\n  }\n  toJSON(): Return['toJSON'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.TemporalZonedDateTimeToString(this, 'auto');\n  }\n  valueOf(): never {\n    ES.ValueOfThrows('ZonedDateTime');\n  }\n  startOfDay(): Return['startOfDay'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const isoDate = dateTime(this).isoDate;\n    const epochNanoseconds = ES.GetStartOfDay(timeZone, isoDate);\n    return ES.CreateTemporalZonedDateTime(epochNanoseconds, timeZone, GetSlot(this, CALENDAR));\n  }\n  getTimeZoneTransition(directionParam: Params['getTimeZoneTransition'][0]): Return['getTimeZoneTransition'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    const timeZone = GetSlot(this, TIME_ZONE);\n\n    if (directionParam === undefined) throw new TypeError('options parameter is required');\n    const direction = ES.GetDirectionOption(\n      typeof directionParam === 'string'\n        ? (ES.CreateOnePropObject('direction', directionParam) as Exclude<typeof directionParam, string>)\n        : ES.GetOptionsObject(directionParam)\n    );\n    if (direction === undefined) throw new TypeError('direction option is required');\n\n    // Offset time zones or UTC have no transitions\n    if (ES.IsOffsetTimeZoneIdentifier(timeZone) || timeZone === 'UTC') {\n      return null;\n    }\n\n    const thisEpochNanoseconds = GetSlot(this, EPOCHNANOSECONDS);\n    const epochNanoseconds =\n      direction === 'next'\n        ? ES.GetNamedTimeZoneNextTransition(timeZone, thisEpochNanoseconds)\n        : ES.GetNamedTimeZonePreviousTransition(timeZone, thisEpochNanoseconds);\n    return epochNanoseconds === null\n      ? null\n      : ES.CreateTemporalZonedDateTime(epochNanoseconds, timeZone, GetSlot(this, CALENDAR));\n  }\n  toInstant(): Return['toInstant'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.CreateTemporalInstant(GetSlot(this, EPOCHNANOSECONDS));\n  }\n  toPlainDate(): Return['toPlainDate'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.CreateTemporalDate(dateTime(this).isoDate, GetSlot(this, CALENDAR));\n  }\n  toPlainTime(): Return['toPlainTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.CreateTemporalTime(dateTime(this).time);\n  }\n  toPlainDateTime(): Return['toPlainDateTime'] {\n    ES.CheckReceiver(this, ES.IsTemporalZonedDateTime);\n    return ES.CreateTemporalDateTime(dateTime(this), GetSlot(this, CALENDAR));\n  }\n\n  static from(item: Params['from'][0], optionsParam: Params['from'][1] = undefined): Return['from'] {\n    return ES.ToTemporalZonedDateTime(item, optionsParam);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalZonedDateTime(oneParam);\n    const two = ES.ToTemporalZonedDateTime(twoParam);\n    const ns1 = GetSlot(one, EPOCHNANOSECONDS);\n    const ns2 = GetSlot(two, EPOCHNANOSECONDS);\n    if (JSBI.lessThan(JSBI.BigInt(ns1), JSBI.BigInt(ns2))) return -1;\n    if (JSBI.greaterThan(JSBI.BigInt(ns1), JSBI.BigInt(ns2))) return 1;\n    return 0;\n  }\n  [Symbol.toStringTag]!: 'Temporal.ZonedDateTime';\n}\n\nMakeIntrinsicClass(ZonedDateTime, 'Temporal.ZonedDateTime');\n\nfunction dateTime(zdt: Temporal.ZonedDateTime) {\n  return ES.GetISODateTimeFor(GetSlot(zdt, TIME_ZONE), GetSlot(zdt, EPOCHNANOSECONDS));\n}\n\nfunction getCalendarProperty<P extends keyof CalendarDateRecord>(\n  zdt: Temporal.ZonedDateTime,\n  prop: P\n): CalendarDateRecord[P] {\n  ES.CheckReceiver(zdt, ES.IsTemporalZonedDateTime);\n  const isoDate = dateTime(zdt).isoDate;\n  return ES.calendarImplForObj(zdt).isoToDate(isoDate, { [prop]: true })[prop];\n}\n\nfunction getTimeProperty(zdt: Temporal.ZonedDateTime, prop: Temporal.TimeUnit) {\n  ES.CheckReceiver(zdt, ES.IsTemporalZonedDateTime);\n  return dateTime(zdt).time[prop];\n}\n", "import * as ES from './ecmascript';\n\n// By default, a plain function can be called as a constructor. A method such as\n// Date.prototype.toTemporalInstant should not be able to. We could check\n// new.target in the body of toTemporalInstant, but that is not sufficient for\n// preventing construction when passing it as the newTarget parameter of\n// Reflect.construct. So we create it as a method of an otherwise unused class,\n// and monkeypatch it onto Date.prototype.\n\nclass LegacyDateImpl {\n  toTemporalInstant(this: Date) {\n    const epochNanoseconds = ES.epochMsToNs(Date.prototype.valueOf.call(this));\n    return ES.CreateTemporalInstant(epochNanoseconds);\n  }\n}\n\nexport const toTemporalInstant = LegacyDateImpl.prototype.toTemporalInstant;\n", "// This entry point treats Temporal as a library, and does not polyfill it onto\n// the global object.\n// This is in order to avoid breaking the web in the future, if the polyfill\n// gains wide adoption before the API is finalized. We do not want checks such\n// as `if (typeof Temporal === 'undefined')` in the wild, until browsers start\n// shipping the finalized API.\n\nimport * as Temporal from './temporal';\nimport * as Intl from './intl';\nimport { toTemporalInstant } from './legacydate';\n\n// Work around https://github.com/babel/babel/issues/2025.\nconst types = [\n  Temporal.Instant,\n  Temporal.PlainDate,\n  Temporal.PlainDateTime,\n  Temporal.Duration,\n  Temporal.PlainMonthDay,\n  // Temporal.Now, // plain object (not a constructor), so no `prototype`\n  Temporal.PlainTime,\n  Temporal.PlainYearMonth,\n  Temporal.ZonedDateTime\n];\nfor (const type of types) {\n  const descriptor = Object.getOwnPropertyDescriptor(type, 'prototype') as PropertyDescriptor;\n  if (descriptor.configurable || descriptor.enumerable || descriptor.writable) {\n    descriptor.configurable = false;\n    descriptor.enumerable = false;\n    descriptor.writable = false;\n    Object.defineProperty(type, 'prototype', descriptor);\n  }\n}\n\nexport { Temporal, Intl, toTemporalInstant };\n", "// Public: Create a new SelectorSet.\nexport default function SelectorSet() {\n  // Construct new SelectorSet if called as a function.\n  if (!(this instanceof SelectorSet)) {\n    return new SelectorSet();\n  }\n\n  // Public: Number of selectors added to the set\n  this.size = 0;\n\n  // Internal: Incrementing ID counter\n  this.uid = 0;\n\n  // Internal: Array of String selectors in the set\n  this.selectors = [];\n\n  // Internal: Map of selector ids to objects\n  this.selectorObjects = {};\n\n  // Internal: All Object index String names mapping to Index objects.\n  this.indexes = Object.create(this.indexes);\n\n  // Internal: Used Object index String names mapping to Index objects.\n  this.activeIndexes = [];\n}\n\n// Detect prefixed Element#matches function.\nvar docElem = window.document.documentElement;\nvar matches =\n  docElem.matches ||\n  docElem.webkitMatchesSelector ||\n  docElem.mozMatchesSelector ||\n  docElem.oMatchesSelector ||\n  docElem.msMatchesSelector;\n\n// Public: Check if element matches selector.\n//\n// Maybe overridden with custom Element.matches function.\n//\n// el       - An Element\n// selector - String CSS selector\n//\n// Returns true or false.\nSelectorSet.prototype.matchesSelector = function(el, selector) {\n  return matches.call(el, selector);\n};\n\n// Public: Find all elements in the context that match the selector.\n//\n// Maybe overridden with custom querySelectorAll function.\n//\n// selectors - String CSS selectors.\n// context   - Element context\n//\n// Returns non-live list of Elements.\nSelectorSet.prototype.querySelectorAll = function(selectors, context) {\n  return context.querySelectorAll(selectors);\n};\n\n// Public: Array of indexes.\n//\n// name     - Unique String name\n// selector - Function that takes a String selector and returns a String key\n//            or undefined if it can't be used by the index.\n// element  - Function that takes an Element and returns an Array of String\n//            keys that point to indexed values.\n//\nSelectorSet.prototype.indexes = [];\n\n// Index by element id\nvar idRe = /^#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'ID',\n  selector: function matchIdSelector(sel) {\n    var m;\n    if ((m = sel.match(idRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementId(el) {\n    if (el.id) {\n      return [el.id];\n    }\n  }\n});\n\n// Index by all of its class names\nvar classRe = /^\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'CLASS',\n  selector: function matchClassSelector(sel) {\n    var m;\n    if ((m = sel.match(classRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementClassNames(el) {\n    var className = el.className;\n    if (className) {\n      if (typeof className === 'string') {\n        return className.split(/\\s/);\n      } else if (typeof className === 'object' && 'baseVal' in className) {\n        // className is a SVGAnimatedString\n        // global SVGAnimatedString is not an exposed global in Opera 12\n        return className.baseVal.split(/\\s/);\n      }\n    }\n  }\n});\n\n// Index by tag/node name: `DIV`, `FORM`, `A`\nvar tagRe = /^((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'TAG',\n  selector: function matchTagSelector(sel) {\n    var m;\n    if ((m = sel.match(tagRe))) {\n      return m[0].toUpperCase();\n    }\n  },\n  element: function getElementTagName(el) {\n    return [el.nodeName.toUpperCase()];\n  }\n});\n\n// Default index just contains a single array of elements.\nSelectorSet.prototype.indexes['default'] = {\n  name: 'UNIVERSAL',\n  selector: function() {\n    return true;\n  },\n  element: function() {\n    return [true];\n  }\n};\n\n// Use ES Maps when supported\nvar Map;\nif (typeof window.Map === 'function') {\n  Map = window.Map;\n} else {\n  Map = (function() {\n    function Map() {\n      this.map = {};\n    }\n    Map.prototype.get = function(key) {\n      return this.map[key + ' '];\n    };\n    Map.prototype.set = function(key, value) {\n      this.map[key + ' '] = value;\n    };\n    return Map;\n  })();\n}\n\n// Regexps adopted from Sizzle\n//   https://github.com/jquery/sizzle/blob/1.7/sizzle.js\n//\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n\n// Internal: Get indexes for selector.\n//\n// selector - String CSS selector\n//\n// Returns Array of {index, key}.\nfunction parseSelectorIndexes(allIndexes, selector) {\n  allIndexes = allIndexes.slice(0).concat(allIndexes['default']);\n\n  var allIndexesLen = allIndexes.length,\n    i,\n    j,\n    m,\n    dup,\n    rest = selector,\n    key,\n    index,\n    indexes = [];\n\n  do {\n    chunker.exec('');\n    if ((m = chunker.exec(rest))) {\n      rest = m[3];\n      if (m[2] || !rest) {\n        for (i = 0; i < allIndexesLen; i++) {\n          index = allIndexes[i];\n          if ((key = index.selector(m[1]))) {\n            j = indexes.length;\n            dup = false;\n            while (j--) {\n              if (indexes[j].index === index && indexes[j].key === key) {\n                dup = true;\n                break;\n              }\n            }\n            if (!dup) {\n              indexes.push({ index: index, key: key });\n            }\n            break;\n          }\n        }\n      }\n    }\n  } while (m);\n\n  return indexes;\n}\n\n// Internal: Find first item in Array that is a prototype of `proto`.\n//\n// ary   - Array of objects\n// proto - Prototype of expected item in `ary`\n//\n// Returns object from `ary` if found. Otherwise returns undefined.\nfunction findByPrototype(ary, proto) {\n  var i, len, item;\n  for (i = 0, len = ary.length; i < len; i++) {\n    item = ary[i];\n    if (proto.isPrototypeOf(item)) {\n      return item;\n    }\n  }\n}\n\n// Public: Log when added selector falls under the default index.\n//\n// This API should not be considered stable. May change between\n// minor versions.\n//\n// obj - {selector, data} Object\n//\n//   SelectorSet.prototype.logDefaultIndexUsed = function(obj) {\n//     console.warn(obj.selector, \"could not be indexed\");\n//   };\n//\n// Returns nothing.\nSelectorSet.prototype.logDefaultIndexUsed = function() {};\n\n// Public: Add selector to set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.add = function(selector, data) {\n  var obj,\n    i,\n    indexProto,\n    key,\n    index,\n    objs,\n    selectorIndexes,\n    selectorIndex,\n    indexes = this.activeIndexes,\n    selectors = this.selectors,\n    selectorObjects = this.selectorObjects;\n\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  obj = {\n    id: this.uid++,\n    selector: selector,\n    data: data\n  };\n  selectorObjects[obj.id] = obj;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n    key = selectorIndex.key;\n    indexProto = selectorIndex.index;\n\n    index = findByPrototype(indexes, indexProto);\n    if (!index) {\n      index = Object.create(indexProto);\n      index.map = new Map();\n      indexes.push(index);\n    }\n\n    if (indexProto === this.indexes['default']) {\n      this.logDefaultIndexUsed(obj);\n    }\n    objs = index.map.get(key);\n    if (!objs) {\n      objs = [];\n      index.map.set(key, objs);\n    }\n    objs.push(obj);\n  }\n\n  this.size++;\n  selectors.push(selector);\n};\n\n// Public: Remove selector from set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.remove = function(selector, data) {\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  var selectorIndexes,\n    selectorIndex,\n    i,\n    j,\n    k,\n    selIndex,\n    objs,\n    obj,\n    indexes = this.activeIndexes,\n    selectors = (this.selectors = []),\n    selectorObjects = this.selectorObjects,\n    removedIds = {},\n    removeAll = arguments.length === 1;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n\n    j = indexes.length;\n    while (j--) {\n      selIndex = indexes[j];\n      if (selectorIndex.index.isPrototypeOf(selIndex)) {\n        objs = selIndex.map.get(selectorIndex.key);\n        if (objs) {\n          k = objs.length;\n          while (k--) {\n            obj = objs[k];\n            if (obj.selector === selector && (removeAll || obj.data === data)) {\n              objs.splice(k, 1);\n              removedIds[obj.id] = true;\n            }\n          }\n        }\n        break;\n      }\n    }\n  }\n\n  for (i in removedIds) {\n    delete selectorObjects[i];\n    this.size--;\n  }\n\n  for (i in selectorObjects) {\n    selectors.push(selectorObjects[i].selector);\n  }\n};\n\n// Sort by id property handler.\n//\n// a - Selector obj.\n// b - Selector obj.\n//\n// Returns Number.\nfunction sortById(a, b) {\n  return a.id - b.id;\n}\n\n// Public: Find all matching decendants of the context element.\n//\n// context - An Element\n//\n// Returns Array of {selector, data, elements} matches.\nSelectorSet.prototype.queryAll = function(context) {\n  if (!this.selectors.length) {\n    return [];\n  }\n\n  var matches = {},\n    results = [];\n  var els = this.querySelectorAll(this.selectors.join(', '), context);\n\n  var i, j, len, len2, el, m, match, obj;\n  for (i = 0, len = els.length; i < len; i++) {\n    el = els[i];\n    m = this.matches(el);\n    for (j = 0, len2 = m.length; j < len2; j++) {\n      obj = m[j];\n      if (!matches[obj.id]) {\n        match = {\n          id: obj.id,\n          selector: obj.selector,\n          data: obj.data,\n          elements: []\n        };\n        matches[obj.id] = match;\n        results.push(match);\n      } else {\n        match = matches[obj.id];\n      }\n      match.elements.push(el);\n    }\n  }\n\n  return results.sort(sortById);\n};\n\n// Public: Match element against all selectors in set.\n//\n// el - An Element\n//\n// Returns Array of {selector, data} matches.\nSelectorSet.prototype.matches = function(el) {\n  if (!el) {\n    return [];\n  }\n\n  var i, j, k, len, len2, len3, index, keys, objs, obj, id;\n  var indexes = this.activeIndexes,\n    matchedIds = {},\n    matches = [];\n\n  for (i = 0, len = indexes.length; i < len; i++) {\n    index = indexes[i];\n    keys = index.element(el);\n    if (keys) {\n      for (j = 0, len2 = keys.length; j < len2; j++) {\n        if ((objs = index.map.get(keys[j]))) {\n          for (k = 0, len3 = objs.length; k < len3; k++) {\n            obj = objs[k];\n            id = obj.id;\n            if (!matchedIds[id] && this.matchesSelector(el, obj.selector)) {\n              matchedIds[id] = true;\n              matches.push(obj);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return matches.sort(sortById);\n};\n", "import SelectorSet from 'selector-set';\n\nvar bubbleEvents = {};\nvar captureEvents = {};\nvar propagationStopped = new WeakMap();\nvar immediatePropagationStopped = new WeakMap();\nvar currentTargets = new WeakMap();\nvar currentTargetDesc = Object.getOwnPropertyDescriptor(Event.prototype, 'currentTarget');\n\nfunction before(subject, verb, fn) {\n  var source = subject[verb];\n\n  subject[verb] = function () {\n    fn.apply(subject, arguments);\n    return source.apply(subject, arguments);\n  };\n\n  return subject;\n}\n\nfunction matches(selectors, target, reverse) {\n  var queue = [];\n  var node = target;\n\n  do {\n    if (node.nodeType !== 1) break;\n\n    var _matches = selectors.matches(node);\n\n    if (_matches.length) {\n      var matched = {\n        node: node,\n        observers: _matches\n      };\n\n      if (reverse) {\n        queue.unshift(matched);\n      } else {\n        queue.push(matched);\n      }\n    }\n  } while (node = node.parentElement);\n\n  return queue;\n}\n\nfunction trackPropagation() {\n  propagationStopped.set(this, true);\n}\n\nfunction trackImmediate() {\n  propagationStopped.set(this, true);\n  immediatePropagationStopped.set(this, true);\n}\n\nfunction getCurrentTarget() {\n  return currentTargets.get(this) || null;\n}\n\nfunction defineCurrentTarget(event, getter) {\n  if (!currentTargetDesc) return;\n  Object.defineProperty(event, 'currentTarget', {\n    configurable: true,\n    enumerable: true,\n    get: getter || currentTargetDesc.get\n  });\n}\n\nfunction canDispatch(event) {\n  try {\n    event.eventPhase;\n    return true;\n  } catch (_) {\n    return false;\n  }\n}\n\nfunction dispatch(event) {\n  if (!canDispatch(event)) return;\n  var events = event.eventPhase === 1 ? captureEvents : bubbleEvents;\n  var selectors = events[event.type];\n  if (!selectors) return;\n  var queue = matches(selectors, event.target, event.eventPhase === 1);\n  if (!queue.length) return;\n  before(event, 'stopPropagation', trackPropagation);\n  before(event, 'stopImmediatePropagation', trackImmediate);\n  defineCurrentTarget(event, getCurrentTarget);\n\n  for (var i = 0, len1 = queue.length; i < len1; i++) {\n    if (propagationStopped.get(event)) break;\n    var matched = queue[i];\n    currentTargets.set(event, matched.node);\n\n    for (var j = 0, len2 = matched.observers.length; j < len2; j++) {\n      if (immediatePropagationStopped.get(event)) break;\n      matched.observers[j].data.call(matched.node, event);\n    }\n  }\n\n  currentTargets[\"delete\"](event);\n  defineCurrentTarget(event);\n}\n\nfunction on(name, selector, fn) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var capture = options.capture ? true : false;\n  var events = capture ? captureEvents : bubbleEvents;\n  var selectors = events[name];\n\n  if (!selectors) {\n    selectors = new SelectorSet();\n    events[name] = selectors;\n    document.addEventListener(name, dispatch, capture);\n  }\n\n  selectors.add(selector, fn);\n}\nfunction off(name, selector, fn) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var capture = options.capture ? true : false;\n  var events = capture ? captureEvents : bubbleEvents;\n  var selectors = events[name];\n  if (!selectors) return;\n  selectors.remove(selector, fn);\n  if (selectors.size) return;\n  delete events[name];\n  document.removeEventListener(name, dispatch, capture);\n}\nfunction fire(target, name, detail) {\n  return target.dispatchEvent(new CustomEvent(name, {\n    bubbles: true,\n    cancelable: true,\n    detail: detail\n  }));\n}\n\nexport { fire, off, on };\n", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {import('./index').ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\nimport { NULL, UNDEFINED } from './constants';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != NULL) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] == UNDEFINED) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, NULL);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {import('./internal').VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: NULL,\n\t\t_parent: NULL,\n\t\t_depth: 0,\n\t\t_dom: NULL,\n\t\t_component: NULL,\n\t\tconstructor: UNDEFINED,\n\t\t_original: original == NULL ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == NULL && options.vnode != NULL) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: NULL };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != NULL && vnode.constructor == UNDEFINED;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE, NULL } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != NULL && this._nextState != this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == NULL) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](https://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == NULL) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: NULL;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != NULL && sibling._dom != NULL) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : NULL;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : NULL,\n\t\t\tcommitQueue,\n\t\t\toldDom == NULL ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != NULL && vnode._component != NULL) {\n\t\tvnode._dom = vnode._component.base = NULL;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != NULL && child._dom != NULL) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce != options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c,\n\t\tl = 1;\n\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile (rerenderQueue.length) {\n\t\t// Keep the rerender queue sorted by (depth, insertion order). The queue\n\t\t// will initially be sorted on the first iteration only if it has more than 1 item.\n\t\t//\n\t\t// New items can be added to the queue e.g. when rerendering a provider, so we want to\n\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t// single pass\n\t\tif (rerenderQueue.length > l) {\n\t\t\trerenderQueue.sort(depthSort);\n\t\t}\n\n\t\tc = rerenderQueue.shift();\n\t\tl = rerenderQueue.length;\n\n\t\tif (c._dirty) {\n\t\t\trenderComponent(c);\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { IS_NON_DIMENSIONAL, NULL, SVG_NAMESPACE } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] == '-') {\n\t\tstyle.setProperty(key, value == NULL ? '' : value);\n\t} else if (value == NULL) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\nconst CAPTURE_REGEX = /(PointerCapture)$|Capture$/i;\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name == 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] != oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] == 'o' && name[1] == 'n') {\n\t\tuseCapture = name != (name = name.replace(CAPTURE_REGEX, '$1'));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (\n\t\t\tname.toLowerCase() in dom ||\n\t\t\tname == 'onFocusOut' ||\n\t\t\tname == 'onFocusIn'\n\t\t)\n\t\t\tname = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == SVG_NAMESPACE) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == NULL ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != NULL && (value !== false || name[4] == '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {import('../internal').PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == NULL) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n", "import { enqueueRender } from './component';\nimport { NULL } from './constants';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tfunction Context(props) {\n\t\tif (!this.getChildContext) {\n\t\t\t/** @type {Set<import('./internal').Component> | null} */\n\t\t\tlet subs = new Set();\n\t\t\tlet ctx = {};\n\t\t\tctx[Context._id] = this;\n\n\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\tsubs = NULL;\n\t\t\t};\n\n\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t// @ts-expect-error even\n\t\t\t\tif (this.props.value != _props.value) {\n\t\t\t\t\tsubs.forEach(c => {\n\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.sub = c => {\n\t\t\t\tsubs.add(c);\n\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\tif (subs) {\n\t\t\t\t\t\tsubs.delete(c);\n\t\t\t\t\t}\n\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\treturn props.children;\n\t}\n\n\tContext._id = '__cC' + i++;\n\tContext._defaultValue = defaultValue;\n\n\t/** @type {import('./internal').FunctionComponent} */\n\tContext.Consumer = (props, contextValue) => {\n\t\treturn props.children(contextValue);\n\t};\n\n\t// we could also get rid of _contextRef entirely\n\tContext.Provider =\n\t\tContext._contextRef =\n\t\tContext.Consumer.contextType =\n\t\t\tContext;\n\n\treturn Context;\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport {\n\tEMPTY_OBJ,\n\tEMPTY_ARR,\n\tINSERT_VNODE,\n\tMATCHED,\n\tUNDEFINED,\n\tNULL\n} from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\toldDom = constructNewChildrenArray(\n\t\tnewParentVNode,\n\t\trenderResult,\n\t\toldChildren,\n\t\toldDom,\n\t\tnewChildrenLength\n\t);\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == NULL) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index == -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tlet result = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, NULL, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == NULL && newDom != NULL) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tif (\n\t\t\tchildVNode._flags & INSERT_VNODE ||\n\t\t\toldVNode._children === childVNode._children\n\t\t) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom);\n\t\t} else if (typeof childVNode.type == 'function' && result !== UNDEFINED) {\n\t\t\toldDom = result;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(\n\tnewParentVNode,\n\trenderResult,\n\toldChildren,\n\toldDom,\n\tnewChildrenLength\n) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = new Array(newChildrenLength);\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == NULL ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tnewParentVNode._children[i] = NULL;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tNULL,\n\t\t\t\tchildVNode,\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (childVNode.constructor == UNDEFINED && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : NULL,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = NULL;\n\t\tif (matchingIndex != -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original == null\n\t\tconst isMounting = oldVNode == NULL || oldVNode._original == NULL;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\t// When the array of children is growing we need to decrease the skew\n\t\t\t\t// as we are adding a new element to the array.\n\t\t\t\t// Example:\n\t\t\t\t// [1, 2, 3] --> [0, 1, 2, 3]\n\t\t\t\t// oldChildren   newChildren\n\t\t\t\t//\n\t\t\t\t// The new element is at index 0, so our skew is 0,\n\t\t\t\t// we need to decrease the skew as we are adding a new element.\n\t\t\t\t// The decrease will cause us to compare the element at position 1\n\t\t\t\t// with value 1 with the element at position 0 with value 0.\n\t\t\t\t//\n\t\t\t\t// A linear concept is applied when the array is shrinking,\n\t\t\t\t// if the length is unchanged we can assume that no skew\n\t\t\t\t// changes are needed.\n\t\t\t\tif (newChildrenLength > oldChildrenLength) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else if (newChildrenLength < oldChildrenLength) {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex != skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != NULL && (oldVNode._flags & MATCHED) == 0) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (oldDom && parentVNode.type && !parentDom.contains(oldDom)) {\n\t\t\toldDom = getDomSibling(parentVNode);\n\t\t}\n\t\tparentDom.insertBefore(parentVNode._dom, oldDom || NULL);\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != NULL && oldDom.nodeType == 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == NULL || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\t//\n\t// If there is an unkeyed functional VNode, that isn't a built-in like our Fragment,\n\t// we should not search as we risk re-using state of an unrelated VNode. (reverted for now)\n\tlet shouldSearch =\n\t\t// (typeof type != 'function' || type === Fragment || key) &&\n\t\tremainingOldChildren >\n\t\t(oldVNode != NULL && (oldVNode._flags & MATCHED) == 0 ? 1 : 0);\n\n\tif (\n\t\t(oldVNode === NULL && childVNode.key == null) ||\n\t\t(oldVNode &&\n\t\t\tkey == oldVNode.key &&\n\t\t\ttype == oldVNode.type &&\n\t\t\t(oldVNode._flags & MATCHED) == 0)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\tlet x = skewedIndex - 1;\n\t\tlet y = skewedIndex + 1;\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype == oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype == oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n", "import {\n\tEMPTY_OBJ,\n\tMATH_NAMESPACE,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tNULL,\n\tRESET_MODE,\n\tSVG_NAMESPACE,\n\tUNDEFINED,\n\tXHTML_NAMESPACE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * @template {any} T\n * @typedef {import('../internal').Ref<T>} Ref<T>\n */\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor != UNDEFINED) return NULL;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == NULL) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != NULL) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tc.componentWillMount != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != NULL &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original == oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original != oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != NULL) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != NULL) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != NULL) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != NULL && tmp.type === Fragment && tmp.key == NULL;\n\t\t\tlet renderResult = tmp;\n\n\t\t\tif (isTopLevelFragment) {\n\t\t\t\trenderResult = cloneNode(tmp.props.children);\n\t\t\t}\n\n\t\t\toldDom = diffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = NULL;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = NULL;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != NULL) {\n\t\t\t\tif (e.then) {\n\t\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\t\twhile (oldDom && oldDom.nodeType == 8 && oldDom.nextSibling) {\n\t\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = NULL;\n\t\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = excessDomChildren.length; i--; ) {\n\t\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == NULL &&\n\t\tnewVNode._original == oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\toldDom = newVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n\n\treturn newVNode._flags & MODE_SUSPENDED ? undefined : oldDom;\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\nfunction cloneNode(node) {\n\tif (\n\t\ttypeof node != 'object' ||\n\t\tnode == NULL ||\n\t\t(node._depth && node._depth > 0)\n\t) {\n\t\treturn node;\n\t}\n\n\tif (isArray(node)) {\n\t\treturn node.map(cloneNode);\n\t}\n\n\treturn assign({}, node);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType == 'svg') namespace = SVG_NAMESPACE;\n\telse if (nodeType == 'math') namespace = MATH_NAMESPACE;\n\telse if (!namespace) namespace = XHTML_NAMESPACE;\n\n\tif (excessDomChildren != NULL) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value == !!nodeType &&\n\t\t\t\t(nodeType ? value.localName == nodeType : value.nodeType == 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = NULL;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == NULL) {\n\t\tif (nodeType == NULL) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = NULL;\n\t}\n\n\tif (nodeType == NULL) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data != newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != NULL) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (!(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, NULL, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html != oldHtml.__html && newHtml.__html != dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\t// @ts-expect-error\n\t\t\t\tnewVNode.type == 'template' ? dom.content : dom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType == 'foreignObject' ? XHTML_NAMESPACE : namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != NULL) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType == 'progress' && inputValue == NULL) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue != UNDEFINED &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType == 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType == 'option' && inputValue != oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked != UNDEFINED && checked != dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != NULL) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current == vnode._dom) {\n\t\t\tapplyRef(r, NULL, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != NULL) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = NULL;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\tvnode._component = vnode._parent = vnode._dom = UNDEFINED;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ, NULL } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\t// https://github.com/preactjs/preact/issues/3794\n\tif (parentDom == document) {\n\t\tparentDom = document.documentElement;\n\t}\n\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? NULL\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, NULL, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? NULL\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: NULL,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\nimport { NULL, UNDEFINED } from './constants';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] == UNDEFINED && defaultProps != UNDEFINED) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tNULL\n\t);\n}\n", "import { NULL } from '../constants';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component,\n\t\t/** @type {import('../internal').ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != NULL) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != NULL) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "import { options as _options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\n// Cast to use internal Options type\nconst options = /** @type {import('./internal').Options} */ (_options);\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\nlet oldRoot = options._root;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._root = (vnode, parentDom) => {\n\tif (vnode && parentDom._children && parentDom._children._mask) {\n\t\tvnode._mask = parentDom._children._mask;\n\t}\n\n\tif (oldRoot) oldRoot(vnode, parentDom);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingArgs = hookItem._nextValue = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\n// TODO: Improve typing of commitQueue parameter\n/** @type {(vnode: import('./internal').VNode, commitQueue: any) => void} */\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\n\treturn hooks._list[index];\n}\n\n/**\n * @template {unknown} S\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} [initialState]\n * @returns {[S, (state: S) => void]}\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @template {unknown} S\n * @template {unknown} A\n * @param {import('./index').Reducer<S, A>} reducer\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ S, (state: S) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\t/** @type {(x: import('./internal').HookState) => x is import('./internal').ReducerHookState} */\n\t\t\t\tconst isStateHook = x => !!x._component;\n\t\t\t\tconst stateHooks =\n\t\t\t\t\thookState._component.__hooks._list.filter(isStateHook);\n\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = hookState._component.props !== p;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn prevScu\n\t\t\t\t\t? prevScu.call(this, p, s, c) || shouldUpdate\n\t\t\t\t\t: shouldUpdate;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\n/** @type {(initialValue: unknown) => unknown} */\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tconst result = ref(createHandle());\n\t\t\t\treturn () => {\n\t\t\t\t\tref(null);\n\t\t\t\t\tif (result && typeof result == 'function') result();\n\t\t\t\t};\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @template {unknown} T\n * @param {() => T} factory\n * @param {unknown[]} args\n * @returns {T}\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState<T>} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {unknown[]} args\n * @returns {() => void}\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(\n\t\t\tformatter ? formatter(value) : /** @type {any}*/ (value)\n\t\t);\n\t}\n}\n\n/**\n * @param {(error: unknown, errorInfo: import('preact').ErrorInfo) => void} cb\n * @returns {[unknown, () => void]}\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/** @type {() => string} */\nexport function useId() {\n\t/** @type {import('./internal').IdHookState} */\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n * @returns {void}\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').HookState} hook\n * @returns {void}\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n * @returns {void}\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {unknown[]} oldArgs\n * @param {unknown[]} newArgs\n * @returns {boolean}\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\n/**\n * @template Arg\n * @param {Arg} arg\n * @param {(arg: Arg) => any} f\n * @returns {any}\n */\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n", "export function onDocumentReady(fn: () => void): void {\n  if (document.readyState === 'interactive' || document.readyState === 'complete') {\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      fn();\n    });\n  }\n}\n", "const ENCODE_HTML_RULES: Record<string, string> = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;',\n};\nconst MATCH_HTML = /[&<>'\"]/g;\n\nfunction encodeCharacter(c: string) {\n  return ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Based on the `escapeXML` function from the `ejs` library.\n */\nfunction escapeHtmlRaw(value: string): string {\n  return value == null ? '' : String(value).replace(MATCH_HTML, encodeCharacter);\n}\n\nfunction escapeValue(value: unknown): string {\n  if (value instanceof HtmlSafeString) {\n    // Already escaped!\n    return value.toString();\n  } else if (Array.isArray(value)) {\n    return value.map((val) => escapeValue(val)).join('');\n  } else if (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    typeof value === 'bigint' ||\n    typeof value === 'boolean'\n  ) {\n    return escapeHtmlRaw(String(value));\n  } else if (value == null) {\n    // undefined or null -- render nothing\n    return '';\n  } else if (typeof value === 'object') {\n    throw new Error(`Cannot interpolate object in template: ${JSON.stringify(value)}`);\n  } else {\n    // There shouldn't be any other types\n    throw new Error(\n      `Unexpected type in template: ${typeof value} for value ${JSON.stringify(value)}`,\n    );\n  }\n}\n\n// Based on https://github.com/Janpot/escape-html-template-tag\nexport class HtmlSafeString {\n  private readonly strings: readonly string[];\n  private readonly values: unknown[];\n\n  constructor(strings: readonly string[], values: unknown[]) {\n    this.strings = strings;\n    this.values = values;\n  }\n\n  toString(): string {\n    return this.values.reduce<string>((acc, val, i) => {\n      return acc + escapeValue(val) + this.strings[i + 1];\n    }, this.strings[0]);\n  }\n}\n\nexport type HtmlValue =\n  | string\n  | number\n  | boolean\n  | bigint\n  | HtmlSafeString\n  | undefined\n  | null\n  | HtmlValue[];\n\nexport function html(strings: TemplateStringsArray, ...values: HtmlValue[]): HtmlSafeString {\n  return new HtmlSafeString(strings, values);\n}\n\n/**\n * Pre-escapes the rendered HTML. Useful for when you want to inline the HTML\n * in something else, for instance in a `data-bs-content` attribute for a Bootstrap\n * popover.\n */\nexport function escapeHtml(html: HtmlSafeString): HtmlSafeString {\n  return unsafeHtml(escapeHtmlRaw(html.toString()));\n}\n\n/**\n * Will render the provided value without any additional escaping. Use carefully\n * with user-provided data.\n *\n * @param value The value to render.\n * @returns An {@link HtmlSafeString} representing the provided value.\n */\nexport function unsafeHtml(value: string): HtmlSafeString {\n  return new HtmlSafeString([value], []);\n}\n\n/**\n * Joins a list of HTML values with a separator.\n *\n * @param values The values to join.\n * @param separator The separator to use between values.\n */\nexport function joinHtml(values: HtmlValue[], separator: HtmlValue = ''): HtmlSafeString {\n  return unsafeHtml(values.map(escapeValue).join(escapeValue(separator)));\n}\n", "type AttributeMap = Record<string, string>;\n\n/**\n * For each key in `attributes`, copies that attribute's value from `source`\n * into all elements within `target` that match the corresponding value in\n * `attributes`.\n *\n * For `<input type=\"checkbox\">` elements it interprets the attribute as JSON\n * and uses the truthiness of it to set `checked`. For other `<input>` elements,\n * it sets the `value` attribute. For all others, it sets the `textContent`\n * attribute.\n *\n * @param source The element to copy attributes from\n * @param target The element to copy attributes into\n * @param attributes A map of attributes to copy from `source` to `target`\n * @param param.debug If true, logs debug information to the console\n */\nexport function templateFromAttributes(\n  source: HTMLElement,\n  target: HTMLElement,\n  attributes: AttributeMap,\n) {\n  Object.entries(attributes).forEach(([sourceAttribute, targetSelector]) => {\n    const attributeValue = source.getAttribute(sourceAttribute);\n    if (attributeValue == null) {\n      console.error(`Attribute \"${sourceAttribute}\" not found on source element`);\n      return;\n    }\n\n    const targets = target.querySelectorAll(targetSelector);\n    if (targets.length === 0) {\n      console.error(`No elements found matching selector \"${targetSelector}\"`);\n      return;\n    }\n\n    targets.forEach((targetElement) => {\n      if (targetElement instanceof HTMLInputElement) {\n        if (targetElement.type === 'checkbox') {\n          const attributeParsed = JSON.parse(attributeValue);\n          targetElement.checked = !!attributeParsed;\n          // Manually trigger a 'change' event. This does not trigger\n          // automatically when we change properties like 'checked'.\n          targetElement.dispatchEvent(new Event('change', { bubbles: true }));\n        } else {\n          targetElement.value = attributeValue;\n        }\n      } else if (targetElement instanceof HTMLSelectElement) {\n        const i = Array.from(targetElement.options).findIndex((o) => o.value === attributeValue);\n        if (i >= 0) {\n          targetElement.selectedIndex = i;\n          // Manually trigger a 'change' event. This does not trigger\n          // automatically when we change properties like 'checked'.\n          targetElement.dispatchEvent(new Event('change', { bubbles: true }));\n        } else {\n          console.error(`Could not find option with value \"${attributeValue}\"`);\n        }\n      } else {\n        targetElement.textContent = attributeValue;\n      }\n    });\n  });\n}\n", "import keyBy from 'lodash/keyBy.js';\n\n/**\n * Format a date to a human-readable string like '2020-03-27T12:34:56 (CDT)'.\n *\n * @param date The date to format.\n * @param timeZone The time zone to use for formatting.\n * @param param2.includeTz Whether to include the time zone in the output (default true).\n * @param param2.longTz Whether to use the long time zone name (default false).\n * @returns Human-readable string representing the date.\n */\nexport function formatDate(\n  date: Date,\n  timeZone: string,\n  {\n    includeTz = true,\n    longTz = false,\n    includeMs = false,\n  }: { includeTz?: boolean; longTz?: boolean; includeMs?: boolean } = {},\n): string {\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone,\n    hourCycle: 'h23',\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    fractionalSecondDigits: includeMs ? 3 : undefined,\n    timeZoneName: longTz ? 'long' : 'short',\n  };\n  const parts = keyBy(new Intl.DateTimeFormat('en-US', options).formatToParts(date), (x) => x.type);\n  let dateFormatted = `${parts.year.value}-${parts.month.value}-${parts.day.value} ${parts.hour.value}:${parts.minute.value}:${parts.second.value}`;\n  if (includeMs) {\n    dateFormatted = `${dateFormatted}.${parts.fractionalSecond.value}`;\n  }\n  if (includeTz) {\n    dateFormatted = `${dateFormatted} (${parts.timeZoneName.value})`;\n  }\n  return dateFormatted;\n}\n\n/**\n * Format a date to a human-readable string like '2020-03-27'.\n *\n * @param date The date to format.\n * @param timeZone The time zone to use for formatting.\n * @returns Human-readable string representing the date.\n */\nexport function formatDateYMD(date: Date, timeZone: string): string {\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone,\n    hourCycle: 'h23',\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n  };\n  const parts = keyBy(new Intl.DateTimeFormat('en-US', options).formatToParts(date), (x) => x.type);\n  return `${parts.year.value}-${parts.month.value}-${parts.day.value}`;\n}\n\n/**\n * Format a date to a human-readable string like '2020-03-27 14:27'.\n *\n * @param date The date to format.\n * @param timeZone The time zone to use for formatting.\n * @returns Human-readable string representing the date.\n */\nexport function formatDateYMDHM(date: Date, timeZone: string): string {\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone,\n    hourCycle: 'h23',\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n  };\n  const parts = keyBy(new Intl.DateTimeFormat('en-US', options).formatToParts(date), (x) => x.type);\n  return `${parts.year.value}-${parts.month.value}-${parts.day.value} ${parts.hour.value}:${parts.minute.value}`;\n}\n", "import { html } from '@prairielearn/html';\n\nexport function Scorebar(\n  score: number | null,\n  {\n    minWidth = '5em',\n    maxWidth = '20em',\n    classes = '',\n  }: { minWidth?: string; maxWidth?: string; classes?: string } = {},\n) {\n  if (score == null) return '';\n  return html`\n    <div\n      class=\"progress border border-success ${classes}\"\n      style=\"min-width: ${minWidth}; max-width: ${maxWidth};\"\n    >\n      <div class=\"progress-bar bg-success\" style=\"width: ${Math.floor(Math.min(100, score))}%\">\n        ${score >= 50 ? `${Math.floor(score)}%` : ''}\n      </div>\n      <div\n        class=\"d-flex flex-column justify-content-center text-center\"\n        style=\"width: ${100 - Math.floor(Math.min(100, score))}%\"\n      >\n        ${score >= 50 ? '' : `${Math.floor(score)}%`}\n      </div>\n    </div>\n  `;\n}\n", "/**\n * Given a popover trigger element, returns the container. Only works if the popover is open.\n */\nexport function getPopoverContainerForTrigger(trigger: HTMLElement): HTMLElement | null {\n  const popoverId = trigger.getAttribute('aria-describedby');\n  if (!popoverId) return null;\n\n  const popoverContainer = document.querySelector<HTMLElement>(`#${popoverId}`);\n  return popoverContainer;\n}\n\n/**\n * Given a popover container element, returns the trigger element.\n */\nexport function getPopoverTriggerForContainer(container: HTMLElement): HTMLElement | null {\n  const popoverId = container.getAttribute('id');\n  if (!popoverId) return null;\n\n  const popoverTrigger = document.querySelector<HTMLElement>(`[aria-describedby=\"${popoverId}\"]`);\n  return popoverTrigger;\n}\n", "const ENCODED_ENTITIES = /[\"&<]/;\n\n/** @param {string} str */\nexport function encodeEntities(str) {\n\t// Skip all work for strings with no entities needing encoding:\n\tif (str.length === 0 || ENCODED_ENTITIES.test(str) === false) return str;\n\n\tlet last = 0,\n\t\ti = 0,\n\t\tout = '',\n\t\tch = '';\n\n\t// Seek forward in str until the next entity char:\n\tfor (; i < str.length; i++) {\n\t\tswitch (str.charCodeAt(i)) {\n\t\t\tcase 34:\n\t\t\t\tch = '&quot;';\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\tch = '&amp;';\n\t\t\t\tbreak;\n\t\t\tcase 60:\n\t\t\t\tch = '&lt;';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontinue;\n\t\t}\n\t\t// Append skipped/buffered characters and the encoded entity:\n\t\tif (i !== last) out += str.slice(last, i);\n\t\tout += ch;\n\t\t// Start the next seek/buffer after the entity's offset:\n\t\tlast = i + 1;\n\t}\n\tif (i !== last) out += str.slice(last, i);\n\treturn out;\n}\n", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { options, Fragment } from 'preact';\nimport { encodeEntities } from './utils';\nimport { IS_NON_DIMENSIONAL } from '../../src/constants';\n\nlet vnodeId = 0;\n\nconst isArray = Array.isArray;\n\n/**\n * @fileoverview\n * This file exports various methods that implement Babel's \"automatic\" JSX runtime API:\n * - jsx(type, props, key)\n * - jsxs(type, props, key)\n * - jsxDEV(type, props, key, __source, __self)\n *\n * The implementation of createVNode here is optimized for performance.\n * Benchmarks: https://esbench.com/bench/5f6b54a0b4632100a7dcd2b3\n */\n\n/**\n * JSX.Element factory used by Babel's {runtime:\"automatic\"} JSX transform\n * @param {VNode['type']} type\n * @param {VNode['props']} props\n * @param {VNode['key']} [key]\n * @param {unknown} [isStaticChildren]\n * @param {unknown} [__source]\n * @param {unknown} [__self]\n */\nfunction createVNode(type, props, key, isStaticChildren, __source, __self) {\n\tif (!props) props = {};\n\t// We'll want to preserve `ref` in props to get rid of the need for\n\t// forwardRef components in the future, but that should happen via\n\t// a separate PR.\n\tlet normalizedProps = props,\n\t\tref,\n\t\ti;\n\n\tif ('ref' in normalizedProps) {\n\t\tnormalizedProps = {};\n\t\tfor (i in props) {\n\t\t\tif (i == 'ref') {\n\t\t\t\tref = props[i];\n\t\t\t} else {\n\t\t\t\tnormalizedProps[i] = props[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/** @type {VNode & { __source: any; __self: any }} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops: normalizedProps,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: --vnodeId,\n\t\t_index: -1,\n\t\t_flags: 0,\n\t\t__source,\n\t\t__self\n\t};\n\n\t// If a Component VNode, check for and apply defaultProps.\n\t// Note: `type` is often a String, and can be `undefined` in development.\n\tif (typeof type === 'function' && (ref = type.defaultProps)) {\n\t\tfor (i in ref)\n\t\t\tif (typeof normalizedProps[i] === 'undefined') {\n\t\t\t\tnormalizedProps[i] = ref[i];\n\t\t\t}\n\t}\n\n\tif (options.vnode) options.vnode(vnode);\n\treturn vnode;\n}\n\n/**\n * Create a template vnode. This function is not expected to be\n * used directly, but rather through a precompile JSX transform\n * @param {string[]} templates\n * @param  {Array<string | null | VNode>} exprs\n * @returns {VNode}\n */\nfunction jsxTemplate(templates, ...exprs) {\n\tconst vnode = createVNode(Fragment, { tpl: templates, exprs });\n\t// Bypass render to string top level Fragment optimization\n\tvnode.key = vnode._vnode;\n\treturn vnode;\n}\n\nconst JS_TO_CSS = {};\nconst CSS_REGEX = /[A-Z]/g;\n\n/**\n * Serialize an HTML attribute to a string. This function is not\n * expected to be used directly, but rather through a precompile\n * JSX transform\n * @param {string} name The attribute name\n * @param {*} value The attribute value\n * @returns {string}\n */\nfunction jsxAttr(name, value) {\n\tif (options.attr) {\n\t\tconst result = options.attr(name, value);\n\t\tif (typeof result === 'string') return result;\n\t}\n\n\tif (name === 'ref' || name === 'key') return '';\n\tif (name === 'style' && typeof value === 'object') {\n\t\tlet str = '';\n\t\tfor (let prop in value) {\n\t\t\tlet val = value[prop];\n\t\t\tif (val != null && val !== '') {\n\t\t\t\tconst name =\n\t\t\t\t\tprop[0] == '-'\n\t\t\t\t\t\t? prop\n\t\t\t\t\t\t: JS_TO_CSS[prop] ||\n\t\t\t\t\t\t\t(JS_TO_CSS[prop] = prop.replace(CSS_REGEX, '-$&').toLowerCase());\n\n\t\t\t\tlet suffix = ';';\n\t\t\t\tif (\n\t\t\t\t\ttypeof val === 'number' &&\n\t\t\t\t\t// Exclude custom-attributes\n\t\t\t\t\t!name.startsWith('--') &&\n\t\t\t\t\t!IS_NON_DIMENSIONAL.test(name)\n\t\t\t\t) {\n\t\t\t\t\tsuffix = 'px;';\n\t\t\t\t}\n\t\t\t\tstr = str + name + ':' + val + suffix;\n\t\t\t}\n\t\t}\n\t\treturn name + '=\"' + str + '\"';\n\t}\n\n\tif (\n\t\tvalue == null ||\n\t\tvalue === false ||\n\t\ttypeof value === 'function' ||\n\t\ttypeof value === 'object'\n\t) {\n\t\treturn '';\n\t} else if (value === true) return name;\n\n\treturn name + '=\"' + encodeEntities(value) + '\"';\n}\n\n/**\n * Escape a dynamic child passed to `jsxTemplate`. This function\n * is not expected to be used directly, but rather through a\n * precompile JSX transform\n * @param {*} value\n * @returns {string | null | VNode | Array<string | null | VNode>}\n */\nfunction jsxEscape(value) {\n\tif (\n\t\tvalue == null ||\n\t\ttypeof value === 'boolean' ||\n\t\ttypeof value === 'function'\n\t) {\n\t\treturn null;\n\t}\n\n\tif (typeof value === 'object') {\n\t\t// Check for VNode\n\t\tif (value.constructor === undefined) return value;\n\n\t\tif (isArray(value)) {\n\t\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\t\tvalue[i] = jsxEscape(value[i]);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t}\n\n\treturn encodeEntities('' + value);\n}\n\nexport {\n\tcreateVNode as jsx,\n\tcreateVNode as jsxs,\n\tcreateVNode as jsxDEV,\n\tFragment,\n\t// precompiled JSX transform\n\tjsxTemplate,\n\tjsxAttr,\n\tjsxEscape\n};\n", "import { Temporal } from '@js-temporal/polyfill';\nimport { on } from 'delegated-events';\nimport { render } from 'preact';\nimport React, { useState } from 'preact/hooks';\n\nimport { onDocumentReady, templateFromAttributes } from '@prairielearn/browser-utils';\nimport { formatDate } from '@prairielearn/formatter';\nimport { escapeHtml, html } from '@prairielearn/html';\n\nimport { Scorebar } from '../../src/components/Scorebar.html.js';\nimport { type AssessmentInstanceRow } from '../../src/pages/instructorAssessmentInstances/instructorAssessmentInstances.types.js';\n\nimport { getPopoverTriggerForContainer } from './lib/popover.js';\n\ntype TimeLimitAction =\n  | 'set_total'\n  | 'set_rem'\n  | 'set_exact'\n  | 'add'\n  | 'subtract'\n  | 'remove'\n  | 'expire';\n\nonDocumentReady(() => {\n  const dataset = document.getElementById('usersTable')?.dataset;\n  if (!dataset) {\n    return;\n  }\n  const { assessmentSetAbbr, assessmentNumber, csrfToken, urlPrefix } = dataset;\n  const assessmentGroupWork = dataset.assessmentGroupWork === 'true';\n  const assessmentMultipleInstance = dataset.assessmentMultipleInstance === 'true';\n  const hasCourseInstancePermissionEdit = dataset.hasCourseInstancePermissionEdit === 'true';\n  const timezone = dataset.timezone ?? 'UTC';\n\n  const bsTable = $('#usersTable').bootstrapTable({\n    // TODO: If we can pick up the following change, we can drop the `icons` config here:\n    // https://github.com/wenzhixin/bootstrap-table/pull/7190\n    iconsPrefix: 'fa',\n    icons: {\n      refresh: 'fa-sync',\n      autoRefresh: 'fa-clock',\n      columns: 'fa-table-list',\n    },\n\n    buttons: {\n      studentsOnly: {\n        text: 'Students Only',\n        icon: 'fa-user-graduate',\n        attributes: { title: 'List only enrolled students' },\n        event: () => {\n          const table = $('#usersTable');\n          const filterOn = !table.data('filter-student-only');\n          table.data('filter-student-only', filterOn);\n\n          $('.columns button[name=studentsOnly]').toggleClass('active', filterOn);\n          // The filter object triggers the customSearch function, which performs the actual search.\n          table.bootstrapTable('filterBy', filterOn ? { role: 'Student' } : {});\n        },\n      },\n    },\n    onPreBody() {\n      $('.spinning-wheel').show();\n    },\n    onResetView() {\n      $('.spinning-wheel').hide();\n\n      updateTotals($('#usersTable').bootstrapTable('getData'));\n\n      $('.time-limit-edit-button')\n        .popover({\n          sanitize: false,\n          title() {\n            const row = $(this).data('row');\n            return row.action === 'set_time_limit_all'\n              ? 'Change Time Limits'\n              : row.open\n                ? 'Change Time Limit'\n                : 'Re-Open Instance';\n          },\n          container: 'body',\n          html: true,\n          trigger: 'click',\n          content: timeLimitEditPopoverContent,\n          customClass: 'popover-narrow-fixed',\n        })\n        .on('show.bs.popover', function () {\n          $(this).find('.select-time-limit').trigger('change');\n        });\n    },\n    customSearch: (\n      data: AssessmentInstanceRow[],\n      searchText: string,\n      filter?: Record<string, any>,\n    ) => {\n      return data.filter((row) => {\n        const search = searchText.toLowerCase();\n        return assessmentGroupWork\n          ? (!filter?.role || row.group_roles?.includes(filter.role)) &&\n              (row.group_name?.toLowerCase().includes(search) ||\n                row.uid_list?.some((uid) => uid.toLowerCase().includes(search)) ||\n                row.user_name_list?.some((name) => name?.toLowerCase().includes(search)) ||\n                row.group_roles?.some((role) => role.toLowerCase().includes(search)))\n          : (!filter?.role || row.role === filter.role) &&\n              (row.uid?.toLowerCase().includes(search) ||\n                row.name?.toLowerCase().includes(search) ||\n                row.role?.toLowerCase().includes(search));\n      });\n    },\n    columns: tableColumns(assessmentGroupWork),\n  });\n\n  on('submit', 'form.js-popover-form', (event) => {\n    if (!event.currentTarget) return;\n\n    event.preventDefault();\n    $.post(\n      window.location.pathname,\n      $(event.currentTarget).serialize(),\n      function () {\n        refreshTable();\n      },\n      'json',\n    );\n\n    // Immediately close the popover. Note that this is done before the above\n    // HTTP request has finished. A potential improvement would be to disable\n    // the form and show a spinner until the request completes, at which point\n    // the popover would be closed.\n    const popover = event.currentTarget.closest<HTMLElement>('.popover');\n    if (popover) {\n      const trigger = getPopoverTriggerForContainer(popover);\n      if (trigger) {\n        $(trigger).popover('hide');\n      }\n    }\n  });\n\n  $(document).on('keydown', (event) => {\n    if (\n      (event.ctrlKey || event.metaKey) &&\n      String.fromCharCode(event.which).toLowerCase() === 'f' &&\n      $('.fixed-table-toolbar .search input')[0] !== document.activeElement\n    ) {\n      $('.fixed-table-toolbar .search input').trigger('focus');\n      event.preventDefault();\n    }\n  });\n\n  $('#deleteAssessmentInstanceModal').on('show.bs.modal', function (event) {\n    const modal = $(this);\n\n    modal\n      .parents('form')\n      .off('submit')\n      .on('submit', (e) => {\n        e.preventDefault();\n        $.post(\n          $(e.target).attr('action') ?? '',\n          $(e.target).serialize(),\n          function () {\n            refreshTable();\n          },\n          'json',\n        );\n        modal.modal('hide');\n      });\n\n    // @ts-expect-error -- The BS5 types don't include the `relatedTarget` property on jQuery events.\n    const { relatedTarget } = event;\n\n    if (relatedTarget) {\n      templateFromAttributes(relatedTarget, modal[0], {\n        'data-uid': '.modal-uid',\n        'data-name': '.modal-name',\n        'data-group-name': '.modal-group-name',\n        'data-uid-list': '.modal-uid-list',\n        'data-number': '.modal-number',\n        'data-date-formatted': '.modal-date',\n        'data-score-perc': '.modal-score-perc',\n        'data-assessment-instance-id': '.modal-assessment-instance-id',\n      });\n    }\n  });\n\n  $('#deleteAllAssessmentInstancesModal').on('show.bs.modal', function () {\n    const modal = $(this);\n\n    modal\n      .parents('form')\n      .off('submit')\n      .on('submit', (e) => {\n        e.preventDefault();\n        $.post(\n          $(e.target).attr('action') ?? '',\n          $(e.target).serialize(),\n          function () {\n            refreshTable();\n          },\n          'json',\n        );\n        modal.modal('hide');\n      });\n  });\n\n  $('[data-bs-toggle=\"modal\"]').on('click', function (e) {\n    e.stopPropagation(); // Keep click from changing sort\n    $($(e.currentTarget).data('target')).modal('show');\n  });\n\n  function tableColumns(assessmentGroupWork: boolean) {\n    return [\n      {\n        field: 'assessment_instance_id',\n        title: '<span class=\"visually-hidden\">Assessment Instance</span>',\n        sortable: true,\n        sorter: detailsLinkSorter,\n        formatter: detailsLinkFormatter,\n        class: 'align-middle sticky-column text-nowrap',\n        switchable: false,\n      },\n      ...(assessmentGroupWork\n        ? [\n            {\n              field: 'group_name',\n              title: 'Name',\n              visible: false,\n              sortable: true,\n              class: 'align-middle',\n              switchable: true,\n              formatter: (value: string) => html`${value}`.toString(),\n            },\n            {\n              field: 'uid_list',\n              title: 'Group Members',\n              sortable: true,\n              class: 'text-center align-middle text-wrap',\n              formatter: listFormatter,\n              switchable: true,\n            },\n            {\n              field: 'user_name_list',\n              title: 'Group Member Name',\n              sortable: true,\n              visible: false,\n              class: 'text-center align-middle text-wrap',\n              formatter: listFormatter,\n              switchable: true,\n            },\n            {\n              field: 'group_roles',\n              title: html`\n                Roles\n                <button\n                  class=\"btn btn-xs btn-ghost\"\n                  type=\"button\"\n                  aria-label=\"Roles help\"\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#role-help\"\n                >\n                  <i class=\"bi-question-circle-fill\" aria-hidden=\"true\"></i>\n                </button>\n              `,\n              sortable: true,\n              class: 'text-center align-middle text-wrap',\n              formatter: uniqueListFormatter,\n              switchable: true,\n            },\n          ]\n        : [\n            {\n              field: 'uid',\n              title: 'UID',\n              visible: false,\n              sortable: true,\n              class: 'align-middle text-nowrap',\n              switchable: true,\n              formatter: (value: string) => html`${value}`.toString(),\n            },\n            {\n              field: 'name',\n              title: 'Name',\n              sortable: true,\n              class: 'align-middle text-nowrap',\n              switchable: true,\n              formatter: (value: string) => html`${value}`.toString(),\n            },\n            {\n              field: 'role',\n              title: html`\n                Role\n                <button\n                  class=\"btn btn-xs btn-ghost\"\n                  type=\"button\"\n                  aria-label=\"Roles help\"\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#role-help\"\n                >\n                  <i class=\"bi-question-circle-fill\" aria-hidden=\"true\"></i>\n                </button>\n              `,\n              sortable: true,\n              class: 'text-center align-middle text-nowrap',\n              switchable: true,\n            },\n          ]),\n      {\n        field: 'number',\n        title: 'Instance',\n        visible: false,\n        sortable: true,\n        class: 'text-center align-middle',\n        switchable: true,\n      },\n      {\n        field: 'score_perc',\n        title: 'Score',\n        sortable: true,\n        class: 'text-center align-middle',\n        formatter: scorebarFormatter,\n        switchable: true,\n      },\n      {\n        field: 'date_formatted',\n        title: 'Date started',\n        sortable: true,\n        sortName: 'date',\n        class: 'text-center align-middle text-nowrap',\n        switchable: true,\n      },\n      {\n        field: 'duration',\n        title: html`\n          Duration\n          <button\n            class=\"btn btn-xs btn-ghost\"\n            type=\"button\"\n            aria-label=\"Duration help\"\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#duration-help\"\n          >\n            <i class=\"bi-question-circle-fill\" aria-hidden=\"true\"></i>\n          </button>\n        `,\n        sortable: true,\n        sortName: 'duration_secs',\n        class: 'text-center align-middle text-nowrap',\n        switchable: true,\n      },\n      {\n        field: 'time_remaining',\n        title: html`\n          Remaining\n          <button\n            class=\"btn btn-xs btn-ghost\"\n            type=\"button\"\n            aria-label=\"Remaining time help\"\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#time-remaining-help\"\n          >\n            <i class=\"bi-question-circle-fill\" aria-hidden=\"true\"></i>\n          </button>\n        `,\n        sortable: true,\n        sortName: 'time_remaining_sec',\n        sorter: timeRemainingLimitSorter,\n        formatter: timeRemainingLimitFormatter,\n        class: 'text-center align-middle text-nowrap',\n        switchable: true,\n      },\n      {\n        field: 'total_time',\n        title: 'Total Time Limit',\n        visible: false,\n        sortable: true,\n        sortName: 'total_time_sec',\n        formatter: timeRemainingLimitFormatter,\n        class: 'text-center align-middle',\n        switchable: true,\n      },\n      {\n        field: 'client_fingerprint_id_change_count',\n        title: html`\n          Fingerprint Changes\n          <button\n            class=\"btn btn-xs btn-ghost\"\n            type=\"button\"\n            aria-label=\"Fingerprint changes help\"\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#fingerprint-changes-help\"\n          >\n            <i class=\"bi-question-circle-fill\" aria-hidden=\"true\"></i>\n          </button>\n        `,\n        class: 'text-center align-middle',\n        // Hidden for groupwork by default, as it is not as relevant in that context\n        visible: !assessmentGroupWork,\n        switchable: true,\n        sortable: true,\n      },\n      {\n        field: 'action_button',\n        title: 'Actions',\n        formatter: actionButtonFormatter,\n        class: 'text-center align-middle',\n        switchable: false,\n      },\n    ];\n  }\n\n  function refreshTable() {\n    bsTable.bootstrapTable('refresh', { silent: true });\n  }\n\n  function TimeLimitExplanation({ action }: { action: TimeLimitAction }) {\n    let explanation = '';\n    if (action === 'set_total') {\n      explanation =\n        'Updating the total time limit will set the given amount of time for the assessment based on when the assessment was started.';\n    } else if (action === 'set_rem') {\n      explanation =\n        'Updating the time remaining will set the given amount of time for the assessment based on the current time.';\n    } else if (action === 'set_exact') {\n      explanation = 'This will set the exact closing time for the assessment.';\n    } else if (action === 'add') {\n      explanation = 'This will add the given amount of time to the remaining time limit.';\n    } else if (action === 'subtract') {\n      explanation = 'This will subtract the given amount of time from the remaining time limit.';\n    } else if (action === 'remove') {\n      explanation = 'This will remove the time limit and the assessment will remain open.';\n    } else if (action === 'expire') {\n      explanation =\n        'This will expire the time limit and students will be unable to submit any further answers.';\n    }\n    return <small class=\"form-text text-muted\">{explanation}</small>;\n  }\n\n  function TimeLimitEditPopover({\n    row,\n  }: {\n    row: {\n      action: string;\n      assessment_instance_id: number;\n      date: string;\n      has_closed_instance: boolean;\n      has_open_instance: boolean;\n      total_time: string;\n      total_time_sec: number;\n      time_remaining: string;\n      time_remaining_sec: number;\n      open: boolean;\n    };\n  }) {\n    const [form, setForm] = useState({\n      action: 'add' as TimeLimitAction,\n      time_add: 5,\n      date: Temporal.Now.zonedDateTimeISO(timezone).toPlainDateTime().toString().slice(0, 16),\n      reopen_closed: false,\n      reopen_without_limit: true,\n    });\n    const showTimeLimitOptions =\n      row.action === 'set_time_limit_all' || row.open || !form.reopen_without_limit;\n\n    function updateFormState<T extends keyof typeof form>(key: T, value: (typeof form)[T]) {\n      setForm({\n        ...form,\n        [key]: value,\n      });\n    }\n\n    function proposedClosingTime() {\n      const totalTime = Math.round(row.total_time_sec);\n\n      let startDate = Temporal.Instant.from(row.date).toZonedDateTimeISO(timezone);\n      if (form.action === 'set_total') {\n        startDate = startDate.add({ minutes: form.time_add });\n      } else if (form.action === 'set_rem') {\n        startDate = Temporal.Now.zonedDateTimeISO(timezone).add({ minutes: form.time_add });\n      } else if (form.action === 'add') {\n        startDate = startDate.add({ seconds: totalTime }).add({ minutes: form.time_add });\n      } else if (form.action === 'subtract') {\n        startDate = startDate.add({ seconds: totalTime }).subtract({ minutes: form.time_add });\n      }\n\n      return formatDate(new Date(startDate.epochMilliseconds), timezone);\n    }\n\n    return (\n      <form name=\"set-time-limit-form\" class=\"js-popover-form\" method=\"POST\">\n        <input type=\"hidden\" name=\"__action\" value={row.action ?? 'set_time_limit'} />\n        <input type=\"hidden\" name=\"__csrf_token\" value={csrfToken} />\n        {row.assessment_instance_id ? (\n          <input type=\"hidden\" name=\"assessment_instance_id\" value={row.assessment_instance_id} />\n        ) : null}\n        {row.action !== 'set_time_limit_all' && !row.open ? (\n          <div>\n            <div class=\"form-check\">\n              <input\n                class=\"form-check-input\"\n                type=\"radio\"\n                name=\"reopen_without_limit\"\n                id=\"reopen_without_limit\"\n                value=\"true\"\n                checked={form.reopen_without_limit}\n                onClick={() => updateFormState('reopen_without_limit', true)}\n              />\n              <label class=\"form-check-label\" for=\"reopen_without_limit\">\n                Re-open without time limit\n              </label>\n            </div>\n            <div class=\"form-check\">\n              <input\n                class=\"form-check-input\"\n                type=\"radio\"\n                name=\"reopen_without_limit\"\n                id=\"reopen_with_limit\"\n                value=\"false\"\n                checked={!form.reopen_without_limit}\n                onClick={() => updateFormState('reopen_without_limit', false)}\n              />\n              <label class=\"form-check-label\" for=\"reopen_with_limit\">\n                Re-open with time limit\n              </label>\n            </div>\n          </div>\n        ) : null}\n        <p>\n          Total time limit: {row.total_time}\n          <br />\n          Remaining time: {row.time_remaining}\n        </p>\n        {showTimeLimitOptions ? (\n          <p>\n            <select\n              class=\"form-select select-time-limit\"\n              name=\"action\"\n              aria-label=\"Time limit options\"\n              onChange={(e) => updateFormState('action', e.currentTarget.value as TimeLimitAction)}\n            >\n              {row.time_remaining_sec !== null ? (\n                row.has_open_instance ? (\n                  <>\n                    <option value=\"add\">Add to instances with time limit</option>\n                    <option value=\"subtract\">Subtract from instances with time limit</option>\n                  </>\n                ) : (\n                  <>\n                    <option value=\"add\">Add</option>\n                    <option value=\"subtract\">Subtract</option>\n                  </>\n                )\n              ) : null}\n              <option value=\"set_total\">Set total time limit</option>\n              <option value=\"set_rem\">Set remaining time</option>\n              <option value=\"set_exact\">Set exact closing time</option>\n              {row.action === 'set_time_limit_all' ||\n              (row.open && row.time_remaining) !== 'Open (no time limit)' ? (\n                <option value=\"remove\">Remove time limit</option>\n              ) : null}\n              {row.open && row.time_remaining !== 'Expired' ? (\n                <option value=\"expire\">Expire time limit</option>\n              ) : null}\n            </select>\n            <TimeLimitExplanation action={form.action} />\n          </p>\n        ) : null}\n        {showTimeLimitOptions &&\n        form.action !== 'set_exact' &&\n        form.action !== 'remove' &&\n        form.action !== 'expire' ? (\n          <div class=\"input-group mb-2\">\n            <input\n              class=\"form-control time-limit-field\"\n              type=\"number\"\n              name=\"time_add\"\n              aria-label=\"Time value\"\n              value={form.time_add}\n              onChange={(e) => updateFormState('time_add', parseFloat(e.currentTarget.value))}\n            />\n            <span class=\"input-group-text time-limit-field\">minutes</span>\n          </div>\n        ) : null}\n        {showTimeLimitOptions && form.action === 'set_exact' ? (\n          <div class=\"input-group date-picker mb-2\">\n            <input\n              class=\"form-control date-picker\"\n              type=\"datetime-local\"\n              name=\"date\"\n              value={form.date}\n              onChange={(e) => updateFormState('date', e.currentTarget.value)}\n            />\n            <span class=\"input-group-text date-picker\">{timezone}</span>\n          </div>\n        ) : null}\n        {(row.open || !form.reopen_without_limit) &&\n        (form.action === 'set_total' ||\n          form.action === 'set_rem' ||\n          form.action === 'add' ||\n          form.action === 'subtract') ? (\n          <p>Proposed closing time: {proposedClosingTime()}</p>\n        ) : null}\n        <p>\n          {row.has_closed_instance ? (\n            <div class=\"form-check\">\n              <input\n                class=\"form-check-input\"\n                type=\"checkbox\"\n                name=\"reopen_closed\"\n                value=\"true\"\n                checked={form.reopen_closed}\n                id=\"reopen_closed\"\n                onChange={(e) => updateFormState('reopen_closed', e.currentTarget.checked)}\n              />\n              <label class=\"form-check-label\" for=\"reopen_closed\">\n                Also re-open closed instances\n              </label>\n            </div>\n          ) : null}\n        </p>\n        <div class=\"btn-toolbar justify-content-end\">\n          <button type=\"button\" class=\"btn btn-secondary me-2\" data-bs-dismiss=\"popover\">\n            Cancel\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary\">\n            Set\n          </button>\n        </div>\n      </form>\n    );\n  }\n\n  function timeLimitEditPopoverContent(this: any) {\n    const div = document.createElement('div');\n\n    render(<TimeLimitEditPopover row={$(this).data('row')} />, div);\n\n    return div;\n  }\n\n  function scorebarFormatter(score: number | null) {\n    return Scorebar(score).toString();\n  }\n\n  function listFormatter(list: string[]) {\n    if (!list || !list[0]) list = ['(empty)'];\n    return html`<small>${list.join(', ')}</small>`;\n  }\n\n  function uniqueListFormatter(list: string[]) {\n    if (!list || !list[0]) list = ['(empty)'];\n    const uniq = Array.from(new Set(list));\n    return html`<small>${uniq.join(', ')}</small>`;\n  }\n\n  function timeRemainingLimitFormatter(value: string, row: AssessmentInstanceRow) {\n    return html`\n      ${value}\n      <span>\n        <button\n          class=\"btn btn-secondary btn-xs ms-1 time-limit-edit-button\"\n          id=\"row${row.assessment_instance_id}PopoverTimeLimit\"\n          aria-label=\"Change time limit\"\n          data-row=\"${JSON.stringify(row)}\"\n          data-bs-placement=\"bottom\"\n        >\n          <i class=\"bi-pencil-square\" aria-hidden=\"true\"></i>\n        </a>\n      </span>\n    `.toString();\n  }\n\n  function detailsLinkFormatter(value: string, row: AssessmentInstanceRow) {\n    const name = assessmentGroupWork ? row.group_name : row.uid;\n\n    let number;\n    if (!assessmentMultipleInstance) {\n      number = row.number === 1 ? '' : `#${row.number}`;\n    }\n    return html`\n      <a href=\"${urlPrefix}/assessment_instance/${value}\">\n        ${assessmentSetAbbr}${assessmentNumber}${number} for ${name}\n      </a>\n    `.toString();\n  }\n\n  function detailsLinkSorter(\n    valueA: number,\n    valueB: number,\n    rowA: AssessmentInstanceRow,\n    rowB: AssessmentInstanceRow,\n  ) {\n    const nameKey = assessmentGroupWork ? 'group_name' : 'uid';\n    const idKey = assessmentGroupWork ? 'group_id' : 'user_id';\n\n    const nameA = rowA[nameKey];\n    const nameB = rowB[nameKey];\n    const idA = rowA[idKey] ?? '';\n    const idB = rowB[idKey] ?? '';\n\n    // Compare first by UID/group name, then user/group ID, then\n    // instance number, then by instance ID.\n    let compare = nameA?.localeCompare(nameB ?? '');\n    if (!compare) compare = (parseInt(idA) ?? 0) - (parseInt(idB) ?? 0);\n    if (!compare) compare = (rowA.number ?? 0) - (rowB.number ?? 0);\n    if (!compare) compare = valueA - valueB;\n    return compare;\n  }\n\n  function timeRemainingLimitSorter(\n    valueA: number,\n    valueB: number,\n    rowA: AssessmentInstanceRow,\n    rowB: AssessmentInstanceRow,\n  ) {\n    // Closed assessments are listed first, followed by time limits\n    // ascending, followed by open without a time limit\n    return Number(rowA.open) - Number(rowB.open) || (valueA ?? Infinity) - (valueB ?? Infinity);\n  }\n\n  function actionButtonFormatter(_value: string, row: AssessmentInstanceRow) {\n    const ai_id = parseInt(row.assessment_instance_id);\n    if (!csrfToken) {\n      throw new Error('CSRF token not found');\n    }\n    return html`\n      <div>\n        <div class=\"dropdown\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary btn-xs dropdown-toggle\"\n            data-bs-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n            data-bs-boundary=\"window\"\n          >\n            Action\n          </button>\n          <div class=\"dropdown-menu\">\n            ${hasCourseInstancePermissionEdit\n              ? html`\n                  <button\n                    class=\"dropdown-item\"\n                    data-bs-toggle=\"modal\"\n                    data-bs-target=\"#deleteAssessmentInstanceModal\"\n                    data-uid=\"${row.uid}\"\n                    data-name=\"${row.name}\"\n                    data-number=\"${row.number}\"\n                    data-date-formatted=\"${row.date_formatted}\"\n                    data-group-name=\"${row.group_name}\"\n                    data-uid-list=\"${row.uid_list?.join(', ') || 'empty'}\"\n                    data-score-perc=\"${Math.floor(row.score_perc ?? 0)}\"\n                    data-assessment-instance-id=\"${row.assessment_instance_id}\"\n                  >\n                    <i class=\"fas fa-times me-2\" aria-hidden=\"true\"></i>\n                    Delete\n                  </button>\n                  <button\n                    class=\"dropdown-item ${row.open ? '' : 'disabled'}\"\n                    data-bs-toggle=\"popover\"\n                    data-bs-container=\"body\"\n                    data-bs-html=\"true\"\n                    data-bs-title=\"Confirm close\"\n                    data-bs-content=\"${escapeHtml(CloseForm({ csrfToken, ai_id }))}\"\n                    data-bs-placement=\"auto\"\n                  >\n                    <i class=\"fas fa-ban me-2\" aria-hidden=\"true\"></i>\n                    Grade &amp; Close\n                  </button>\n                  <button\n                    class=\"dropdown-item ${!row.open ? '' : 'disabled'}\"\n                    onclick=\"$('#row${ai_id}PopoverTimeLimit').popover('show')\"\n                  >\n                    <i class=\"fas fa-clock me-2\" aria-hidden=\"true\"></i>\n                    Re-open\n                  </button>\n                  <button\n                    class=\"dropdown-item\"\n                    data-bs-toggle=\"popover\"\n                    data-bs-container=\"body\"\n                    data-bs-html=\"true\"\n                    data-bs-title=\"Confirm regrade\"\n                    data-bs-content=\"${escapeHtml(RegradeForm({ csrfToken, ai_id }))}\"\n                    data-bs-placement=\"auto\"\n                  >\n                    <i class=\"fas fa-sync me-2\" aria-hidden=\"true\"></i>\n                    Regrade\n                  </button>\n                `\n              : html` <button class=\"dropdown-item disabled\">Must have editor permission</button> `}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  function updateTotals(data: AssessmentInstanceRow[]) {\n    let time_limit_list: Record<string, any> = new Object();\n    let remaining_time_min = 0;\n    let remaining_time_max = 0;\n    let has_open_instance = false;\n    let has_closed_instance = false;\n\n    data.forEach(function (row) {\n      if (!row.open) {\n        has_closed_instance = true;\n      } else if (row.time_remaining_sec === null) {\n        has_open_instance = true;\n      } else {\n        if (row.total_time_sec === null) {\n          return;\n        }\n        if (!(row.total_time_sec in time_limit_list)) {\n          time_limit_list[row.total_time_sec] = row.total_time;\n        }\n        if (remaining_time_min === 0 || remaining_time_min > row.time_remaining_sec) {\n          remaining_time_min = row.time_remaining_sec;\n        }\n        if (remaining_time_max === 0 || remaining_time_max < row.time_remaining_sec) {\n          remaining_time_max = row.time_remaining_sec;\n        }\n      }\n    });\n\n    time_limit_list = Object.values(time_limit_list);\n    if (time_limit_list.length > 5) {\n      time_limit_list.splice(3, time_limit_list.length - 4, '...');\n    }\n    const time_limit_totals = {\n      total_time: time_limit_list.length > 0 ? time_limit_list.join(', ') : 'No time limits',\n      time_remaining_sec: remaining_time_max,\n      has_open_instance,\n      has_closed_instance,\n      action: 'set_time_limit_all',\n      time_remaining: '',\n    };\n    if (remaining_time_min === null) {\n      time_limit_totals.time_remaining = 'No time limits';\n    } else if (remaining_time_max < 60) {\n      time_limit_totals.time_remaining = 'Less than a minute';\n    } else if (remaining_time_min < 60) {\n      time_limit_totals.time_remaining = 'up to ' + Math.floor(remaining_time_max / 60) + ' min';\n    } else if (Math.floor(remaining_time_min / 60) === Math.floor(remaining_time_max / 60)) {\n      time_limit_totals.time_remaining = Math.floor(remaining_time_min / 60) + ' min';\n    } else {\n      time_limit_totals.time_remaining =\n        'between ' +\n        Math.floor(remaining_time_min / 60) +\n        ' and ' +\n        Math.floor(remaining_time_max / 60) +\n        ' min';\n    }\n\n    $('.time-limit-edit-all-button').data('row', time_limit_totals);\n  }\n});\n\nfunction CloseForm({ csrfToken, ai_id }: { csrfToken: string; ai_id: number }) {\n  return html`\n    <form name=\"close-form\" class=\"js-popover-form\" method=\"POST\">\n      <input type=\"hidden\" name=\"__action\" value=\"close\" />\n      <input type=\"hidden\" name=\"__csrf_token\" value=\"${csrfToken}\" />\n      <input type=\"hidden\" name=\"assessment_instance_id\" value=\"${ai_id}\" />\n      <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"popover\">Cancel</button>\n      <button type=\"submit\" class=\"btn btn-danger\">Grade and close</button>\n    </form>\n  `;\n}\n\nfunction RegradeForm({ csrfToken, ai_id }: { csrfToken: string; ai_id: number }) {\n  return html`\n    <form name=\"regrade-form\" method=\"POST\">\n      <input type=\"hidden\" name=\"__action\" value=\"regrade\" />\n      <input type=\"hidden\" name=\"__csrf_token\" value=\"${csrfToken}\" />\n      <input type=\"hidden\" name=\"assessment_instance_id\" value=\"${ai_id}\" />\n      <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"popover\">Cancel</button>\n      <button type=\"submit\" class=\"btn btn-primary\">Regrade</button>\n    </form>\n  `;\n}\n"],
  "mappings": "4oCAo7DkBA,KAAKC,KAAAA,EANJD,KAAKE,MAAAA,SAAAA,EAAAA,EAAAA,CAAAA,0BAAAA,OAAAA,EAAAA,OAAAA,QAAAA,YAAAA,OAAAA,OAAAA,UAAAA,SAAAA,SAAAA,EAAAA,CAAAA,OAAAA,OAAAA,CAAAA,EAAAA,SAAAA,EAAAA,CAAAA,OAAAA,GAAAA,OAAAA,QAAAA,YAAAA,EAAAA,cAAAA,QAAAA,IAAAA,OAAAA,UAAAA,SAAAA,OAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,GAAAA,EAAAA,aAAAA,GAAAA,MAAAA,IAAAA,UAAAA,mCAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,QAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,WAAAA,EAAAA,YAAAA,GAAAA,EAAAA,aAAAA,GAAAA,UAAAA,IAAAA,EAAAA,SAAAA,IAAAA,OAAAA,eAAAA,EAAAA,EAAAA,IAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,OAAAA,GAAAA,EAAAA,EAAAA,UAAAA,CAAAA,EAAAA,GAAAA,EAAAA,EAAAA,CAAAA,EAAAA,OAAAA,eAAAA,EAAAA,YAAAA,CAAAA,SAAAA,EAAAA,CAAAA,EAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,GAAAA,OAAAA,GAAAA,YAAAA,IAAAA,KAAAA,MAAAA,IAAAA,UAAAA,oDAAAA,EAAAA,EAAAA,UAAAA,OAAAA,OAAAA,GAAAA,EAAAA,UAAAA,CAAAA,YAAAA,CAAAA,MAAAA,EAAAA,SAAAA,GAAAA,aAAAA,EAAAA,CAAAA,CAAAA,EAAAA,OAAAA,eAAAA,EAAAA,YAAAA,CAAAA,SAAAA,EAAAA,CAAAA,EAAAA,GAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA,OAAAA,EAAAA,OAAAA,eAAAA,OAAAA,eAAAA,SAAAA,EAAAA,CAAAA,OAAAA,EAAAA,WAAAA,OAAAA,eAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,OAAAA,EAAAA,OAAAA,gBAAAA,SAAAA,EAAAA,EAAAA,CAAAA,OAAAA,EAAAA,UAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,SAAAA,GAAAA,CAAAA,GAAAA,OAAAA,SAAAA,aAAAA,CAAAA,QAAAA,WAAAA,QAAAA,UAAAA,KAAAA,MAAAA,GAAAA,GAAAA,OAAAA,OAAAA,WAAAA,MAAAA,GAAAA,GAAAA,CAAAA,OAAAA,QAAAA,UAAAA,QAAAA,KAAAA,QAAAA,UAAAA,QAAAA,CAAAA,EAAAA,UAAAA,CAAAA,CAAAA,CAAAA,EAAAA,EAAAA,OAAAA,EAAAA,CAAAA,MAAAA,EAAAA,CAAAA,CAAAA,SAAAA,GAAAA,CAAAA,OAAAA,EAAAA,EAAAA,EAAAA,QAAAA,UAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,CAAAA,IAAAA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,EAAAA,IAAAA,EAAAA,SAAAA,KAAAA,MAAAA,EAAAA,CAAAA,EAAAA,EAAAA,IAAAA,EAAAA,OAAAA,GAAAA,EAAAA,EAAAA,EAAAA,SAAAA,EAAAA,CAAAA,EAAAA,EAAAA,MAAAA,KAAAA,SAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA,OAAAA,SAAAA,SAAAA,KAAAA,CAAAA,EAAAA,QAAAA,eAAAA,IAAAA,EAAAA,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,OAAAA,KAAAA,WAAAA,IAAAA,IAAAA,OAAAA,OAAAA,EAAAA,SAAAA,EAAAA,CAAAA,SAAAA,GAAAA,CAAAA,OAAAA,EAAAA,EAAAA,UAAAA,EAAAA,IAAAA,EAAAA,WAAAA,CAAAA,CAAAA,GAAAA,IAAAA,MAAAA,CAAAA,EAAAA,CAAAA,EAAAA,OAAAA,EAAAA,GAAAA,OAAAA,GAAAA,WAAAA,MAAAA,IAAAA,UAAAA,oDAAAA,EAAAA,GAAAA,OAAAA,GAAAA,YAAAA,CAAAA,GAAAA,EAAAA,IAAAA,CAAAA,EAAAA,OAAAA,EAAAA,IAAAA,CAAAA,EAAAA,EAAAA,IAAAA,EAAAA,CAAAA,CAAAA,CAAAA,OAAAA,EAAAA,UAAAA,OAAAA,OAAAA,EAAAA,UAAAA,CAAAA,YAAAA,CAAAA,MAAAA,EAAAA,WAAAA,GAAAA,SAAAA,GAAAA,aAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA,GAAAA,IAAAA,OAAAA,MAAAA,IAAAA,eAAAA,2DAAAA,EAAAA,OAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,GAAAA,IAAAA,OAAAA,GAAAA,UAAAA,OAAAA,GAAAA,YAAAA,OAAAA,EAAAA,GAAAA,IAAAA,OAAAA,MAAAA,IAAAA,UAAAA,0DAAAA,EAAAA,OAAAA,EAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,EAAAA,EAAAA,OAAAA,UAAAA,CAAAA,IAAAA,EAAAA,EAAAA,EAAAA,CAAAA,EAAAA,GAAAA,EAAAA,CAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,YAAAA,EAAAA,QAAAA,UAAAA,EAAAA,UAAAA,CAAAA,CAAAA,MAAAA,EAAAA,EAAAA,MAAAA,KAAAA,SAAAA,EAAAA,OAAAA,EAAAA,KAAAA,CAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,OAAAA,EAAAA,CAAAA,GAAAA,EAAAA,EAAAA,CAAAA,GAAAA,EAAAA,EAAAA,CAAAA,GAAAA,EAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA,GAAAA,MAAAA,QAAAA,CAAAA,EAAAA,OAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,GAAAA,KAAAA,KAAAA,OAAAA,QAAAA,aAAAA,EAAAA,OAAAA,QAAAA,GAAAA,EAAAA,YAAAA,EAAAA,GAAAA,GAAAA,KAAAA,CAAAA,IAAAA,EAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,GAAAA,CAAAA,IAAAA,EAAAA,EAAAA,KAAAA,CAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,KAAAA,GAAAA,QAAAA,EAAAA,KAAAA,EAAAA,KAAAA,EAAAA,EAAAA,GAAAA,EAAAA,SAAAA,IAAAA,EAAAA,GAAAA,CAAAA,OAAAA,EAAAA,CAAAA,EAAAA,GAAAA,EAAAA,CAAAA,QAAAA,CAAAA,GAAAA,CAAAA,GAAAA,EAAAA,QAAAA,MAAAA,EAAAA,OAAAA,CAAAA,QAAAA,CAAAA,GAAAA,EAAAA,MAAAA,CAAAA,CAAAA,CAAAA,OAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,CAAAA,GAAAA,EAAAA,CAAAA,GAAAA,OAAAA,GAAAA,SAAAA,OAAAA,EAAAA,EAAAA,CAAAA,EAAAA,IAAAA,EAAAA,OAAAA,UAAAA,SAAAA,KAAAA,CAAAA,EAAAA,MAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,UAAAA,EAAAA,cAAAA,EAAAA,EAAAA,YAAAA,MAAAA,IAAAA,OAAAA,IAAAA,MAAAA,MAAAA,KAAAA,CAAAA,EAAAA,IAAAA,aAAAA,2CAAAA,KAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAAA,EAAAA,MAAAA,CAAAA,CAAAA,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,UAAAA,EAAAA,EAAAA,QAAAA,QAAAA,EAAAA,EAAAA,EAAAA,MAAAA,CAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,OAAAA,CAAAA,CAAAA,SAAAA,GAAAA,CAAAA,MAAAA,IAAAA,UAAAA;mFAAAA,CAAAA,CAAAA,SAAAA,GAAAA,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,OAAAA,QAAAA,aAAAA,EAAAA,OAAAA,QAAAA,GAAAA,EAAAA,YAAAA,EAAAA,GAAAA,CAAAA,EAAAA,CAAAA,GAAAA,MAAAA,QAAAA,CAAAA,IAAAA,EAAAA,EAAAA,CAAAA,IAAAA,GAAAA,GAAAA,OAAAA,EAAAA,QAAAA,SAAAA,CAAAA,IAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,EAAAA,UAAAA,CAAAA,EAAAA,MAAAA,CAAAA,EAAAA,EAAAA,EAAAA,UAAAA,CAAAA,OAAAA,GAAAA,EAAAA,OAAAA,CAAAA,KAAAA,EAAAA,EAAAA,CAAAA,KAAAA,GAAAA,MAAAA,EAAAA,GAAAA,CAAAA,CAAAA,EAAAA,EAAAA,SAAAA,EAAAA,CAAAA,MAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,MAAAA,IAAAA,UAAAA;mFAAAA,CAAAA,CAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,MAAAA,CAAAA,EAAAA,UAAAA,CAAAA,EAAAA,EAAAA,KAAAA,CAAAA,CAAAA,EAAAA,EAAAA,UAAAA,CAAAA,IAAAA,EAAAA,EAAAA,KAAAA,EAAAA,OAAAA,EAAAA,EAAAA,KAAAA,CAAAA,EAAAA,EAAAA,SAAAA,EAAAA,CAAAA,EAAAA,GAAAA,EAAAA,CAAAA,EAAAA,EAAAA,UAAAA,CAAAA,GAAAA,CAAAA,GAAAA,EAAAA,QAAAA,MAAAA,EAAAA,OAAAA,CAAAA,QAAAA,CAAAA,GAAAA,EAAAA,MAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAj6DlBC,GAAAA,SAAAA,EAAAA,CAAAA,IAAAA,EA+/BaH,KAAKI,IAAAA,EAjrBGJ,KAAKK,IAAAA,EA1TGL,KAAKM,MAAAA,SAAAA,EAnBlBC,EAAwBC,EAAa,CAAA,IAAAC,EAAA,GAAAC,EAAA,KAAAC,CAAA,EAAAF,EAAAG,EAAA,KAAA,KACjDL,CAAAA,EAAAA,EAAAA,KAAAA,EAAAA,OAGCM,eAAAA,EAAAA,CAAAA,EAAqBV,EAAKW,SAAAA,EAC7BP,EAASJ,EAAKY,aAAAA,MACV,IAAIC,WAAW,8BAAf,EAAA,OAAAP,CAAA,CAAAQ,EAAAN,EAAAO,CAAA,EAAA,IAAAN,EAAAO,EAAAR,CAAA,EAAA,OAAAS,EAAAT,EAAA,CAAA,CAAA,IAAA,gBAAA,MAqCV,UAAa,CAAA,IAAAO,EACLG,EAAS,CAAC,SAAD,EADJZ,EAAAa,GAES,IAAA,EAFT,GAAA,CAAA,IAAAb,EAAA,EAAA,EAAA,EAAAS,EAAAT,EAAA,EAAA,GAAA,MAEe,CAAA,IAAfc,EAAeL,EAAA,MAAAM,EACjBC,MAAMF,IAASA,IAAU,GAAGG,SAAS,EAAvB,GAAsC,IAAA,CAAA,CAAA,OAAAR,EAAA,CAAAT,EAAA,EAAAS,CAAA,CAAA,QAAA,CAAAT,EAAA,EAAA,CAAA,CAAA,OAAAe,EAEtDC,KAAK,GAAA,EACLJ,EAAOM,KAAK,EAAZN,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,WAAAA,MAGA,UAA2B,CAAA,IAAlBO,EAAkB,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAF,GAAA,GACpB,EAARA,GAAqB,GAARA,EAAAA,MACT,IAAIZ,WACN,oDADE,EAF0B,OAK9B,KAAKT,SAAW,EAAU,KACzBqB,EAASA,EAAQ,IAAQ,EACrBzB,EAAK0B,yBAAyB,KAAMD,CAApCzB,EAEFA,EAAK2B,kBAAkB,KAAMF,EAA7BzB,EAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,UAAAA,MAGA,UAAO,CAAA,MACR,IAAI4B,MACN,4DADE,CAAA,CAAA,EAAA,CAAA,IAAA,SAAA,MA0gBR,UAAM,CAAA,QACEV,EAAS,IAAIlB,EAAK,KAAKI,OAAQ,KAAKC,IAA3B,EACNC,EAAI,EAAGA,EAAI,KAAKF,OAAQE,IAACS,EACzBT,CAAD,EAAM,KAAKA,CAAL,EAAA,OAEPY,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,SAAAA,MAGT,UAAM,CAAA,QACAW,EAAY,KAAKzB,OACjB0B,EAAO,KAAKD,EAAY,CAAjB,EACJC,IAAS,GAHZf,IAAAM,EAKK,KAAKQ,EAAY,CAAjB,EALL,KAMGE,IAAAA,EANH,OAQAF,IAAc,IAAG,KAAKxB,KAAL,IACd,IAAA,CAAA,EAAA,CAAA,IAAA,qBAAA,MAGT,UAAkB,CAAA,QACPC,EAAI,EAAGA,EAAI,KAAKF,OAAQE,IAAC,KAC3BA,CAAAA,EAAK,CAAA,CAAA,EAAA,CAAA,IAAA,WAAA,MAkkBd,UAAQ,CAAA,OACCN,EAAKgC,QAAQ,KAAKC,QAAQ,KAAK7B,OAAS,CAA3B,CAAbJ,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,uBAAAA,MA6QT,SAAqBkC,EAAoBC,EAAiB/B,EAAc,CAElEA,EAAS,KAAKA,SAAQA,EAAS,KAAKA,QAF8B,QAGhEgC,EAAoB,MAAbF,EACPG,EAAQH,IAAe,GACzBI,EAAQ,EACRC,EAAOJ,EACF7B,EAAI,EAAGA,EAAIF,EAAQE,IAAK,CAAA,IACzBkC,EAAI,KAAKP,QAAQ3B,CAAb,EACJmC,EAAW,MAAJD,EACPE,EAAQF,IAAM,GACdG,EAAO3C,EAAK4C,OAAOH,EAAML,CAAlBpC,EACP6C,EAAQ7C,EAAK4C,OAAOH,EAAMJ,CAAlBrC,EACR8C,EAAQ9C,EAAK4C,OAAOF,EAAON,CAAnBpC,EACR+C,EAAQ/C,EAAK4C,OAAOF,EAAOL,CAAnBrC,EACVkB,GAASqB,EAAOI,EAAOL,EARIxB,EASvBI,KAAW,GATY8B,IAUrB,WAVqBA,MAWX,MAARH,IAAmB,MAAgB,MAARC,IAAmB,IAX3BhC,GAYtBI,KAAW,GAZW+B,EAaxBF,GAASF,IAAU,KAAOC,IAAU,IAbZ,KAc1BI,WAAW5C,EAAY,WAATY,EAAAA,CAAAA,CAAAA,GAEjBoB,IAAU,GAAKC,IAAS,EAATA,MACX,IAAIX,MAAM,oBAAV,CAAA,CAAA,EAAA,CAAA,IAAA,eAAA,MAAA,SA2GGO,EAAegB,EAAoBC,EAAkB,CAAA,QAGxDC,EAFJf,EAAQ,EACHhC,EAAI,EAAGA,EAAI8C,EAAY9C,IACxB+C,EAAM,KAAKC,YAAYH,EAAa7C,CAA9B,EACF6B,EAAQmB,YAAYhD,CAApB6B,EACAG,EAAAA,EACFe,IAAQ,GAAA,KACXE,eAAeJ,EAAa7C,EAAS,MAAN+C,CAAAA,EAAAA,OAE/Bf,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,eAAAA,MAGT,SAAakB,EAAkBL,EAAoBC,EAAkB,CAAA,IAG/DK,EAAS,EAHsD,GAIlD,EAAbN,EAAgB,CAAA9B,IAGH,EAHG,QAIdqC,EAAU,KAAKzB,QAAQkB,CAAb,EACVQ,EAAe,MAAVD,EACLpD,EAAI,EACDA,EATU8C,EAAa,IAAO,EASf9C,IAAK,CAAA,IACnBsD,EAAMJ,EAAWvB,QAAQ3B,CAAnBkD,EACNK,GAAOH,IAAY,KAAa,MAANE,GAAgBH,EAFvBK,EAGD,EAAdD,IAAQ,GAHO,KAIpBX,WAAWC,EAAa7C,GAAW,MAANuD,IAAiB,GAAY,MAALF,CAAAA,EAJjC1C,EAKf,KAAKgB,QAAQkB,EAAa7C,EAAI,CAA9B,EALeQ,GAMT,MAAV4C,IAAqBE,IAAQ,IAAMH,EANhBK,EAOF,EAAbH,IAAO,EAdD,CAAA,IAiBZC,EAAMJ,EAAWvB,QAAQ3B,CAAnBkD,EACNK,GAAOH,IAAY,KAAa,MAANE,GAAgBH,EAlB9B,GAAAK,EAmBM,EAAdD,IAAQ,GAnBA,KAoBbX,WAAWC,EAAa7C,GAAW,MAANuD,IAAiB,GAAY,MAALF,CAAAA,EAEtDR,EAAa7C,EAAI,GAAK,KAAKF,OAAAA,MACvB,IAAIS,WAAW,eAAf,GAEU,EAAbuC,IAAoB,IAzBPnC,EA0BN,KAAKgB,QAAQkB,EAAa7C,EAAI,CAA9B,EA1BMQ,GA2BA,MAAV4C,IANOE,IAAQ,IAMcH,EA3BnBK,EA4BO,EAAbH,IAAO,GA5BD,KA6BXT,WAAWC,EAAaK,EAAWpD,OACzB,WAAVsD,EAA8B,MAALC,CAAAA,EA9BlC,KAgCO,CAAAtC,IACU,EADV,QAEDf,EAAI,EACDA,EAAIkD,EAAWpD,OAAS,EAAGE,IAAK,CAAA,IAC/BoD,EAAU,KAAKzB,QAAQkB,EAAa7C,CAA1B,EACVsD,EAAMJ,EAAWvB,QAAQ3B,CAAnBkD,EACNG,GAAgB,MAAVD,IAA2B,MAANE,GAAgBH,EAHZK,EAId,EAAbH,IAAO,GAJoB,IAK/BE,IAAOH,IAAY,KAAOE,IAAQ,IAAMH,EAAAA,EACtB,EAAdI,KAAQ,GANmB,KAOhCX,WAAWC,EAAa7C,GAAW,MAANuD,KAAiB,GAAY,MAALF,CAAAA,CAAAA,CAVvD,IAYCD,GAAU,KAAKzB,QAAQkB,EAAa7C,CAA1B,EACVsD,GAAMJ,EAAWvB,QAAQ3B,CAAnBkD,EACNG,IAAgB,MAAVD,KAA2B,MAANE,IAAgBH,EAd5CK,EAekB,EAAbH,KAAO,GAfZ,IAgBDE,GAAM,GACQ,EAAbT,IAAoB,IAjBpBW,IAkBIL,KAAY,KAAOE,KAAQ,IAAMH,EAlBrCK,EAmBqB,EAAdD,KAAQ,IAnBf,KAqBAX,WAAWC,EAAa7C,GAAW,MAANuD,KAAiB,GAAY,MAALF,EAAAA,CAAAA,CAAAA,OAErDF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,sBAAAA,MAGT,SAAoBO,EAAa,CAAA,GAC3BA,IAAU,EAAVA,CAAAA,QAIIxB,EAHJF,EAAQ,KAAKL,QAAQ,CAAb,IAAoB+B,EAC1BlC,EAAO,KAAK1B,OAAS,EAClBE,EAAI,EAAGA,EAAIwB,EAAMxB,IAClBkC,EAAI,KAAKP,QAAQ3B,EAAI,CAAjB,EAAA,KACL4C,WAAW5C,EAA0B,WAArBkC,GAAM,GAAKwB,EAAwB1B,CAAAA,EAAAA,EAChDE,IAAMwB,EAAAA,KAEXd,WAAWpB,EAAMQ,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,UAAAA,MAAAA,SAwNhBhC,EAAS,CAAA,OACR,KAAKA,CAAL,CAAA,CAAA,EAAA,CAAA,IAAA,kBAAA,MAET,SAAgBA,EAAS,CAAA,OAChB,KAAKA,CAAL,IAAY,CAAA,CAAA,EAAA,CAAA,IAAA,aAAA,MAErB,SAAWA,EAAWc,EAAa,CAAA,KAC5Bd,CAAAA,EAAa,EAARc,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,iBAAAA,MAEZ,SAAed,EAAWc,EAAa,CAAA,KAChCd,CAAAA,EAAa,EAARc,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,oBAAAA,MAEZ,UAAiB,CAAA,IACT6C,EAAM,KAAK7D,OADF,MAEsB,QAAjC,KAAK8D,gBAAgBD,EAAM,CAA3B,EAAsD,EAANA,EAAU,EACnD,EAAJA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,cAAAA,MAET,SAAY3D,EAAS,CAAA,MACyB,OAApC,KAAKA,IAAM,CAAX,IAA6B,IAAL,EAAJA,EAAD,CAAA,EAAA,CAAA,IAAA,iBAAA,MAE7B,SAAeA,EAAW6D,EAAa,CAAA,IAC/BC,EAAa9D,IAAM,EACnB+D,EAAW,KAAKpC,QAAQmC,CAAb,EACXE,EAAe,EAAJhE,EAAqB,MAAX+D,EAAsBF,GAAS,GACpB,WAAXE,EAAkC,MAARF,EAJhB,KAKhCjB,WAAWkB,EAAYE,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,CAAAA,IAAAA,SAAAA,MA92D9B,SAAcC,EAAiC,CAAA,IAAAlD,EAStCmD,OAAOC,SAT+B,GACzC,OAAOF,GAAQ,SAAU,CAAA,GACvBA,IAAQ,EAAG,OAAOvE,EAAK0E,OAAL1E,EAAP,GACXA,EAAK2E,gBAAgBJ,CAArBvE,EAAAA,MACQ,GAANuE,EACKvE,EAAK4E,WAAW,CAACL,EAAjBvE,EAAAA,EAEFA,EAAK4E,WAAWL,EAAhBvE,EAAAA,EAAAA,GAEL,CAACwE,EAAgBD,CAAhBC,GAAwB3E,EAAW0E,CAAX1E,IAAoB0E,EAAAA,MACzC,IAAI1D,WAAW,cAAgB0D,EAAhB,6DAAf,EAAA,OAGDvE,EAAK6E,aAAaN,CAAlBvE,CAZT,CAaO,GAAI,OAAOuE,GAAQ,SAAU,CAAA,IAC5BrD,EAASlB,EAAK8E,aAAaP,CAAlBvE,EAAAA,GACXkB,IAAW,KAAXA,MACI,IAAI6D,YAAY,kBAAoBR,EAAM,cAA1C,EAAA,OAEDrD,CALF,CAMA,GAAI,OAAOqD,GAAQ,UAAnB,OACDA,IAAAA,GACKvE,EAAK4E,WAAW,EAAhB5E,EAAAA,EAEFA,EAAK0E,OAAL1E,EACF,GAAIgF,EAAOT,CAAAA,IAAQ,SAAU,CAAA,GAC9BA,EAAIU,cAAgBjF,EAAM,OAAOuE,EAAP,IACxBW,EAAYlF,EAAKmF,cAAcZ,CAAnBvE,EAAAA,OACXA,EAAKoF,OAAOF,CAAZlF,CAAAA,CAAAA,MAEH,IAAIqF,UAAU,kBAAoBd,EAAM,cAAxC,CAAA,CAAA,EAAA,CAAA,IAAA,WAAA,MA+BR,SAAgBe,EAAO,CAAA,IACfC,EAAUD,EAAElF,OAAAA,GACdmF,IAAY,EAAG,MAAO,GAAP,GACfA,IAAY,EAAG,CAAA,IACXpB,EAAQmB,EAAEpB,gBAAgB,CAAlBoB,EAAAA,OACPA,EAAEjF,KAAO,CAAC8D,EAAQA,CAAAA,CALN,IAOfqB,EAAOF,EAAErD,QAAQsD,EAAU,CAApBD,EACPG,EAAkBzF,EAAKgC,QAAQwD,CAAbxF,EAClB0F,EAAuB,GAAVH,EAAeE,EATb,GAUJ,KAAbC,EAAmB,OAAOJ,EAAEjF,KAAO,KAATiF,IAVT,IAWjBK,EAAWD,EAAa,EACxBE,EAAeJ,EACfpB,EAAamB,EAAU,EACrBvB,EAAQyB,EAAkB,EAC5BI,EAAgB7B,IAAU,GAAM,EAAI4B,GAAgB5B,EAfnC8B,KAgBH,GAhBG,IAiBfC,EAAwB/B,EAAQ,GAClCgC,EAAwB,IAAThC,EAAe,EAAK4B,GAAiB,GAAK5B,EACzDiC,EAAuB,GAAKjC,EAnBX,IAoBO,EAAxB+B,GAA0C,EAAb3B,IApBZ3D,IAAAwC,EAsBJqC,EAAErD,QAAQmC,CAAVkB,EAtBIQ,GAuBFF,IAAkB,GAAKG,EAvBrBG,EAwBLN,GAAgBG,EAAwB,EAxBnCI,EAyBIJ,EAAwB,GAEnB,EAAvBE,GAAyC,EAAb7B,GA3Bd3D,IAAAwC,EA6BJqC,EAAErD,QAAQmC,CAAVkB,EA7BIY,GA8BS,IAAxBD,EACcL,GAAiBK,EAAuB,GAExCL,IAAkB,GAAKK,EAjCtBE,GAmCK,GAnCL,IAqCfC,EAAWpG,EAAKqG,iBAAiBf,EAAGW,EACtC7B,EAAYwB,CADC5F,EAAAA,IAEboG,IAAa,GAAMA,IAAa,IAAoB,EAAdJ,IAAqB,KAAtBE,EACxBF,EAAc,IAAO,EAChCA,IAAgB,IAAhBA,IAGGH,IAAiB,IAAQ,IAARC,EAEL,EAAAhF,IAEA,KAAX6E,KAAAA,OAEKL,EAAEjF,KAAO,KAATiF,IAAAA,IAKTgB,GAAUhB,EAAEjF,KAAFiF,YAAqB,EAAA,OAAAxE,EACzB6E,EAAW,MAAU,GAAAnF,EAC5B+F,qBAAqB,CAAA,EAAKD,GAAUX,EAAWE,EAAAA,EAC/CU,qBAAqB,CAAA,EAAKP,EACxBhG,EAAKwG,uBAAuB,CAA5BxG,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,aAAAA,MAKT,SAAkBsF,EAAO,CAAA,GACnBA,EAAElF,SAAW,EAAG,OAAOkF,EAAP,IACdpE,EAASoE,EAAEmB,OAAFnB,EAAAA,OAAAA,EACRjF,KAAO,CAACiF,EAAEjF,KACVa,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,aAAAA,MAGT,SAAkBoE,EAAO,CAAA,OACnBA,EAAEjF,KAEGL,EAAK0G,iBAAiBpB,CAAtBtF,EAAyB2G,OAAzB3G,EAGFA,EAAK4G,iBAAiBtB,EAAtBtF,EAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,eAAAA,MAGT,SAAoBsF,EAASuB,EAAO,CAAA,GAC9BA,EAAExG,KAAAA,MACE,IAAIQ,WAAW,2BAAf,EAAA,GAEJgG,EAAEzG,SAAW,EAAXA,OACGJ,EAAK4E,WAAW,EAAhB5E,EAAAA,EAAAA,GAELsF,EAAElF,SAAW,EAAG,OAAOkF,EAAP,GAChBA,EAAElF,SAAW,GAAKkF,EAAErD,QAAQ,CAAVqD,IAAiB,EAAjBA,OAEhBA,EAAEjF,OAAwB,EAAfwG,EAAE5E,QAAQ,CAAV4E,IAAsB,EAC5B7G,EAAK8G,WAAWxB,CAAhBtF,EAGFsF,EAAAA,GAIM,EAAXuB,EAAEzG,OAAY,MAAM,IAAIS,WAAW,gBAAf,EAAN,IACdkG,EAAWF,EAAE3C,gBAAgB,CAAlB2C,EAAAA,GACXE,IAAa,EAAG,OAAOzB,EAAP,GAChByB,GAAY/G,EAAKgH,iBAAAA,MACb,IAAInG,WAAW,gBAAf,EAAA,GAEJyE,EAAElF,SAAW,GAAKkF,EAAErD,QAAQ,CAAVqD,IAAiB,EAAG,CAAA,IAElC2B,EAAe,GAAuB,EAAjBF,EAAW,IAChC1G,EAAOiF,EAAEjF,OAAqB,EAAX0G,IAAkB,EACrC7F,EAAS,IAAIlB,EAAKiH,EAAc5G,CAAvB,EAJyBY,EAKjCiG,mBAAAA,EALiC,IAOlCC,EAAM,GAAMJ,EAAW,GAAA,OAAA9F,EACtBiC,WAAW+D,EAAe,EAAGE,CAAAA,EAC7BjG,CAAAA,CAjCyB,IAmC9BA,EAAS,KACTkG,EAAgB9B,EApCc,KAsClB,EAAXyB,IAAkB,IAAG7F,EAASoE,GAAAA,IACtB,EACNyB,IAAa,EAAGA,IAAa,EAAAtG,EAClBT,EAAKqH,SAASD,EAAeA,CAA7BpH,GACA,EAAX+G,IAAkB,IACjB7F,IAAW,KAAXA,EACOkG,EAAAA,EAEApH,EAAKqH,SAASnG,EAAQkG,CAAtBpH,GAAAA,OAKRkB,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,WAAAA,MAGT,SAAgBoE,EAASuB,EAAO,CAAA,GAC1BvB,EAAElF,SAAW,EAAG,OAAOkF,EAAP,GAChBuB,EAAEzG,SAAW,EAAG,OAAOyG,EAAP,IAChBS,EAAehC,EAAElF,OAASyG,EAAEzG,OACG,IAA/BkF,EAAEiC,SAAFjC,EAAeuB,EAAEU,SAAFV,GAJWtG,IAAA,IAOxBW,EAAS,IAAIlB,EAAKsH,EAAchC,EAAEjF,OAASwG,EAAExG,IAApC,EAAAyD,EACRoD,mBAAAA,EARuB,QASrB5G,EAAI,EAAGA,EAAIgF,EAAElF,OAAQE,IAACE,EACxBgH,qBAAqBX,EAAGvB,EAAErD,QAAQ3B,CAAVgF,EAAcpE,EAAQZ,CAAAA,EAAAA,OAE9CY,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,SAAAA,MAGT,SAAcoE,EAASuB,EAAO,CAAA,GACxBA,EAAEzG,SAAW,EAAG,MAAM,IAAIS,WAAW,kBAAf,EAAN,GACe,EAA/Bb,EAAKyH,kBAAkBnC,EAAGuB,CAA1B7G,EAAkC,OAAOA,EAAK0E,OAAL1E,EAFjB,IAKxB0H,EAFEC,EAAarC,EAAEjF,OAASwG,EAAExG,KAC1BuH,EAAUf,EAAE3C,gBAAgB,CAAlB2C,EAJY,GAMxBA,EAAEzG,SAAW,GAAgB,OAAXwH,EAAmB,CAAA,GACnCA,IAAY,EAAZA,OACKD,IAAerC,EAAEjF,KAAOiF,EAAItF,EAAK8G,WAAWxB,CAAhBtF,EAAAA,EAE1BA,EAAK6H,mBAAmBvC,EAAGsC,EAAS,IAApC5H,CAJb,MAAAM,EAMaN,EAAK8H,mBAAmBxC,EAAGuB,EAA3B7G,GAAAA,EAAAA,EAAAA,OAAAA,EAEJK,KAAOsH,EACTD,EAASf,OAATe,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,YAAAA,MAGT,SAAiBpC,EAASuB,EAAO,CAAA,GAC3BA,EAAEzG,SAAW,EAAG,MAAM,IAAIS,WAAW,kBAAf,EAAN,GACe,EAA/Bb,EAAKyH,kBAAkBnC,EAAGuB,CAA1B7G,EAAkC,OAAOsF,EAAP,IAChCsC,EAAUf,EAAE3C,gBAAgB,CAAlB2C,EAAAA,GACZA,EAAEzG,SAAW,GAAgB,OAAXwH,EAAmB,CAAA,GACnCA,IAAY,EAAG,OAAO5H,EAAK0E,OAAL1E,EAAP,IACb+H,EAAiB/H,EAAKgI,mBAAmB1C,EAAGsC,CAA3B5H,EAFgB,OAGnC+H,IAAmB,EAAU/H,EAAK0E,OAAL1E,EAC1BA,EAAK4E,WAAWmD,EAAgBzC,EAAEjF,IAAlCL,CAAAA,CAAAA,IAEHiI,EAAYjI,EAAK8H,mBAAmBxC,EAAGuB,EAA3B7G,GAAAA,EAAAA,EAAAA,OAAAA,EACRK,KAAOiF,EAAEjF,KACZ4H,EAAUtB,OAAVsB,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,MAAAA,MAGT,SAAW3C,EAASuB,EAAO,CAAA,IACnBxG,EAAOiF,EAAEjF,KADU,OAErBA,IAASwG,EAAExG,KAGNL,EAAKkI,cAAc5C,EAAGuB,EAAGxG,CAAzBL,EAI2B,GAAhCA,EAAKyH,kBAAkBnC,EAAGuB,CAA1B7G,EACKA,EAAKmI,cAAc7C,EAAGuB,EAAGxG,CAAzBL,EAEFA,EAAKmI,cAActB,EAAGvB,EAAG,CAACjF,CAA1BL,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,WAAAA,MAGT,SAAgBsF,EAASuB,EAAO,CAAA,IACxBxG,EAAOiF,EAAEjF,KADe,OAE1BA,IAASwG,EAAExG,KAOqB,GAAhCL,EAAKyH,kBAAkBnC,EAAGuB,CAA1B7G,EACKA,EAAKmI,cAAc7C,EAAGuB,EAAGxG,CAAzBL,EAEFA,EAAKmI,cAActB,EAAGvB,EAAG,CAACjF,CAA1BL,EAPEA,EAAKkI,cAAc5C,EAAGuB,EAAGxG,CAAzBL,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,YAAAA,MAUX,SAAiBsF,EAASuB,EAAO,CAAA,OAC3BA,EAAEzG,SAAW,GAAKkF,EAAElF,SAAW,EAAUkF,EACzCuB,EAAExG,KAAaL,EAAKoI,uBAAuB9C,EAAGuB,CAA/B7G,EACZA,EAAKqI,sBAAsB/C,EAAGuB,CAA9B7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,mBAAAA,MAGT,SAAwBsF,EAASuB,EAAO,CAAA,OAClCA,EAAEzG,SAAW,GAAKkF,EAAElF,SAAW,EAAUkF,EACzCuB,EAAExG,KAAaL,EAAKqI,sBAAsB/C,EAAGuB,CAA9B7G,EACZA,EAAKoI,uBAAuB9C,EAAGuB,CAA/B7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,qBAAAA,MAGT,UAAyB,CAAA,MACjB,IAAIqF,UACN,sDADE,CAAA,CAAA,EAAA,CAAA,IAAA,WAAA,MAIR,SAAgBC,EAASuB,EAAO,CAAA,MACQ,GAA/B7G,EAAKsI,kBAAkBhD,EAAGuB,CAA1B7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,kBAAAA,MAGT,SAAuBsF,EAASuB,EAAO,CAAA,MACE,IAAhC7G,EAAKsI,kBAAkBhD,EAAGuB,CAA1B7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,cAAAA,MAGT,SAAmBsF,EAASuB,EAAO,CAAA,MACK,GAA/B7G,EAAKsI,kBAAkBhD,EAAGuB,CAA1B7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,qBAAAA,MAGT,SAA0BsF,EAASuB,EAAO,CAAA,MACD,IAAhC7G,EAAKsI,kBAAkBhD,EAAGuB,CAA1B7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,QAAAA,MAGT,SAAasF,EAASuB,EAAO,CACJ,GAAnBvB,EAAEjF,OAASwG,EAAExG,MACbiF,EAAElF,SAAWyG,EAAEzG,OAAQ,MAAA,GAAA,QAClBE,EAAI,EAAGA,EAAIgF,EAAElF,OAAQE,IAAC,GACzBgF,EAAErD,QAAQ3B,CAAVgF,IAAiBuB,EAAE5E,QAAQ3B,CAAVuG,EAAc,MAAA,GAAA,MAAA,EAAA,CAAA,EAAA,CAAA,IAAA,WAAA,MAKvC,SAAgBvB,EAASuB,EAAO,CAAA,MACvB,CAAC7G,EAAKuI,MAAMjD,EAAGuB,CAAd7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,aAAAA,MAGV,SAAkBsF,EAASuB,EAAO,CAAA,GAC5B,CAACvB,EAAEjF,MAAQ,CAACwG,EAAExG,KAAAA,OACTL,EAAKwI,cAAclD,EAAGuB,CAAtB7G,EAAyB2G,OAAzB3G,EACF,GAAIsF,EAAEjF,MAAQwG,EAAExG,KAAM,CAAA,IACrBiH,EAAezH,EAASyF,EAAElF,OAAQyG,EAAEzG,MAArBP,EAA+B,EAGhDqB,EAASlB,EAAK0G,iBAAiBpB,EAAGgC,CAAzBtH,EACPyI,EAAKzI,EAAK0G,iBAAiBG,CAAtB7G,EALgB,OAAAO,EAMlBP,EAAK0I,aAAaxH,EAAQuH,EAAIvH,CAA9BlB,EACFA,EAAK4G,iBAAiB1F,EAAtBlB,GAAoCkB,CAApClB,EAA4C2G,OAA5C3G,CAVuB,CAAA,GAa5BsF,EAAEjF,KAAM,CAAA,IAAAS,EACD,CAAC+F,EAAGvB,CAAJ,EAAAvE,EADCD,EAAA,CAAA,EAAAO,EAAAP,EAAA,CAAA,CAboB,CAAA,OAiBzBd,EAAK2I,iBAAiBrD,EAAGtF,EAAK0G,iBAAiBG,CAAtB7G,CAAzBA,EAAmD2G,OAAnD3G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,aAAAA,MAGT,SAAkBsF,EAASuB,EAAO,CAAA,GAC5B,CAACvB,EAAEjF,MAAQ,CAACwG,EAAExG,KAAAA,OACTL,EAAK4I,cAActD,EAAGuB,CAAtB7G,EAAyB2G,OAAzB3G,EACF,GAAIsF,EAAEjF,MAAQwG,EAAExG,KAAM,CAAA,IAErBiH,EAAezH,EAASyF,EAAElF,OAAQyG,EAAEzG,MAArBP,EACfqB,EAASlB,EAAK0G,iBAAiBpB,EAAGgC,CAAzBtH,EACTyI,EAAKzI,EAAK0G,iBAAiBG,CAAtB7G,EAJgB,OAKpBA,EAAK4I,cAAc1H,EAAQuH,EAAIvH,CAA/BlB,EAAuC2G,OAAvC3G,CAAAA,CAAAA,IAEHsH,EAAezH,EAASyF,EAAElF,OAAQyG,EAAEzG,MAArBP,EAA+B,EAAA,GAEhDyF,EAAEjF,KAAM,CAAA,IAAA4C,EACD,CAAC4D,EAAGvB,CAAJ,EAAAvE,EADCkC,EAAA,CAAA,EAAA5B,EAAA4B,EAAA,CAAA,CAZoB,CAAA,IAgB5B/B,EAASlB,EAAK0G,iBAAiBG,EAAGS,CAAzBtH,EAAAA,OAAAA,EACJA,EAAK4I,cAAc1H,EAAQoE,EAAGpE,CAA9BlB,EACFA,EAAK4G,iBAAiB1F,EAAtBlB,GAAoCkB,CAApClB,EAA4C2G,OAA5C3G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,YAAAA,MAGT,SAAiBsF,EAASuB,EAAO,CAAA,IACzBS,EAAezH,EAASyF,EAAElF,OAAQyG,EAAEzG,MAArBP,EAAAA,GACjB,CAACyF,EAAEjF,MAAQ,CAACwG,EAAExG,KAAAA,OACTL,EAAK0I,aAAapD,EAAGuB,CAArB7G,EAAwB2G,OAAxB3G,EACF,GAAIsF,EAAEjF,MAAQwG,EAAExG,KAAM,CAAA,IAGvBa,EAASlB,EAAK0G,iBAAiBpB,EAAGgC,CAAzBtH,EACPyI,EAAKzI,EAAK0G,iBAAiBG,CAAtB7G,EAJgB,OAAAO,EAKlBP,EAAKwI,cAActH,EAAQuH,EAAIvH,CAA/BlB,EACFA,EAAK4G,iBAAiB1F,EAAtBlB,GAAoCkB,CAApClB,EAA4C2G,OAA5C3G,CAVsB,CAAA,GAa3BsF,EAAEjF,KAAM,CAAA,IAAAS,EACD,CAAC+F,EAAGvB,CAAJ,EAAAvE,EADCD,EAAA,CAAA,EAAAO,EAAAP,EAAA,CAAA,CAbmB,CAAA,IAiB3BI,EAASlB,EAAK0G,iBAAiBG,EAAGS,CAAzBtH,EAAAA,OAAAA,EACJA,EAAK2I,iBAAiBzH,EAAQoE,EAAGpE,CAAjClB,EACFA,EAAK4G,iBAAiB1F,EAAtBlB,GAAoCkB,CAApClB,EAA4C2G,OAA5C3G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,SAAAA,MAGT,SAAc8D,EAAWwB,EAAO,CAAA,GAC1BA,EAAElF,SAAW,EAAG,OAAOkF,EAAP,GAAAvE,EAChBlB,EAAWiE,CAAXjE,EACI,EAAJiE,EAAAA,MACI,IAAIjD,WACN,oDADE,EAAA,GAGJiD,IAAM,EAAG,OAAO9D,EAAK0E,OAAL1E,EAAP,GAET8D,GAAK9D,EAAKgH,iBAAkB,OAAO1B,EAAP,IAC1BuD,EAAiC,GAAhB/E,EAAI,IAAM,GAAA,GAC7BwB,EAAElF,OAASyI,EAAc,OAAOvD,EAXN,IAYxBwD,EAAWxD,EAAEpB,gBAAgB2E,EAAe,CAAjCvD,EACXyD,EAAe,IAAOjF,EAAI,GAAK,GAbP,GAc1BwB,EAAElF,SAAWyI,GAAgBC,EAAWC,EAAc,OAAOzD,EAAP,IAE1CwD,EAAWC,KAAkBA,EAChC,OAAO/I,EAAKgJ,kBAAkBlF,EAAGwB,CAA1BtF,EAAP,GACT,CAACsF,EAAEjF,KAAM,OAAOL,EAAKiJ,+BAA+BnF,EAAGwB,EAAvCtF,EAAAA,EAAP,IACR8I,EAAYC,EAAe,IAAQ,EAAG,CAAA,QAChCzI,EAAIuI,EAAe,EAAQ,GAALvI,EAAQA,IAAC,GAClCgF,EAAErD,QAAQ3B,CAAVgF,IAAiB,EAAjBA,OACKtF,EAAKiJ,+BAA+BnF,EAAGwB,EAAvCtF,EAAAA,EAH8B,OAMrCsF,EAAElF,SAAWyI,GAAgBC,IAAaC,EAAqBzD,EAC5DtF,EAAKgJ,kBAAkBlF,EAAGwB,CAA1BtF,CAAAA,CAAAA,OAEFA,EAAKiJ,+BAA+BnF,EAAGwB,EAAvCtF,EAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,UAAAA,MAGT,SAAe8D,EAAWwB,EAAO,CAAA,GAC3BA,EAAElF,SAAW,EAAG,OAAOkF,EAAP,GAAAvE,EAChBlB,EAAWiE,CAAXjE,EACI,EAAJiE,EAAAA,MACI,IAAIjD,WACN,oDADE,EAAA,GAGJiD,IAAM,EAAG,OAAO9D,EAAK0E,OAAL1E,EAAP,GAETsF,EAAEjF,KAAM,CAAA,GACNyD,EAAI9D,EAAKgH,iBAAAA,MACL,IAAInG,WAAW,gBAAf,EAAA,OAEDb,EAAKiJ,+BAA+BnF,EAAGwB,EAAvCtF,EAAAA,CAbsB,CAAA,GAgB3B8D,GAAK9D,EAAKgH,iBAAkB,OAAO1B,EAAP,IAC1BuD,EAAiC,GAAhB/E,EAAI,IAAM,GAAA,GAC7BwB,EAAElF,OAASyI,EAAc,OAAOvD,EAAP,IACvB4D,EAAiBpF,EAAI,GAAA,GACvBwB,EAAElF,QAAUyI,EAAc,CAAA,GACxBK,IAAmB,EAAG,OAAO5D,EAAP,IACpBwD,EAAWxD,EAAErD,QAAQ4G,EAAe,CAAzBvD,EAAAA,GACZwD,EAAAA,IAAaI,GAAuB,OAAO5D,CAvBnB,CAAA,OA0BxBtF,EAAKgJ,kBAAkBlF,EAAGwB,CAA1BtF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,MAAAA,MAKT,SAAWsF,EAAQuB,EAAM,CAAA,GAAA9F,EACnBf,EAAKmF,cAAcG,CAAnBtF,EAAAA,EACAA,EAAKmF,cAAc0B,CAAnB7G,EACA,OAAOsF,GAAM,SAANA,OACL,OAAOuB,GAAM,WAAUA,EAAIA,EAAEtF,SAAFsF,GACxBvB,EAAIuB,EAAAA,GAET,OAAOA,GAAM,SAANA,OACFvB,EAAE/D,SAAF+D,EAAeuB,EAAAA,GAAAA,EAEpB7G,EAAKmJ,YAAY7D,CAAjBtF,EAAAA,EACAA,EAAKmJ,YAAYtC,CAAjB7G,EACAA,EAAKoJ,WAAW9D,CAAhBtF,GAAsBA,EAAKoJ,WAAWvC,CAAhB7G,EAAAA,OACjBA,EAAKqJ,IAAI/D,EAAGuB,CAAZ7G,EAAAA,GAEL,OAAOsF,GAAM,UAAY,OAAOuB,GAAM,SAANA,OAC3BvB,EAAIuB,EAAAA,MAEP,IAAIxB,UACN,6DADE,CAAA,CAAA,EAAA,CAAA,IAAA,KAAA,MAIR,SAAUC,EAAQuB,EAAM,CAAA,OACf7G,EAAKsJ,UAAUhE,EAAGuB,EAAG,CAArB7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,KAAAA,MAET,SAAUsF,EAAQuB,EAAM,CAAA,OACf7G,EAAKsJ,UAAUhE,EAAGuB,EAAG,CAArB7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,KAAAA,MAET,SAAUsF,EAAQuB,EAAM,CAAA,OACf7G,EAAKsJ,UAAUhE,EAAGuB,EAAG,CAArB7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,KAAAA,MAET,SAAUsF,EAAQuB,EAAM,CAAA,OACf7G,EAAKsJ,UAAUhE,EAAGuB,EAAG,CAArB7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,KAAAA,MAGT,SAAUsF,EAAQuB,EAAM,CAAA,OAAA,CAAA,GAEhB7G,EAAKoJ,WAAW9D,CAAhBtF,EAAAA,OACEA,EAAKoJ,WAAWvC,CAAhB7G,EAA2BA,EAAKuI,MAAMjD,EAAGuB,CAAd7G,EACxBA,EAAKuJ,GAAG1C,EAAGvB,CAAXtF,EACF,GAAI,OAAOsF,GAAM,SAAU,CAAA,GAC5BtF,EAAKoJ,WAAWvC,CAAhB7G,EAAoB,OAAOA,EAAKwJ,gBAAgB3C,EAAGvB,CAAxBtF,EAAP,GACpBgF,EAAO6B,CAAAA,IAAM,SAAU,OAAOvB,GAAKuB,EAAZxF,EACvBrB,EAAKmF,cAAc0B,CAAnB7G,CAHC,SAII,OAAOsF,GAAM,SAAU,CAAA,GAC5BtF,EAAKoJ,WAAWvC,CAAhB7G,EAAAA,OAAAA,EACEA,EAAK8E,aAAaQ,CAAlBtF,EACAsF,IAAM,MACHtF,EAAKuI,MAAMjD,EAAGuB,CAAd7G,EAAAA,GAELgF,EAAO6B,CAAAA,IAAM,SAAU,OAAOvB,GAAKuB,EAAZxF,EACvBrB,EAAKmF,cAAc0B,CAAnB7G,CAPC,SAQI,OAAOsF,GAAM,UAAW,CAAA,GAC7BtF,EAAKoJ,WAAWvC,CAAhB7G,EAAoB,OAAOA,EAAKwJ,gBAAgB3C,EAAG,CAACvB,CAAzBtF,EAAP,GACpBgF,EAAO6B,CAAAA,IAAM,SAAU,OAAOvB,GAAKuB,EAAZxF,EACvBrB,EAAKmF,cAAc0B,CAAnB7G,CAHC,SAIIgF,EAAOM,CAAAA,IAAM,SAAU,CAAA,GAC5BtF,EAAKoJ,WAAWvC,CAAhB7G,EAAoB,MAAA,GAAA,GACpBgF,EAAO6B,CAAAA,IAAM,SAAU,OAAOvB,GAAKuB,EAAZxF,EACvBrB,EAAKmF,cAAc0B,CAAnB7G,CAHC,SAIIgF,EAAOM,CAAAA,IAAM,SAAU,CAAA,GAC5BN,EAAO6B,CAAAA,IAAM,UAAYA,EAAE5B,cAAgBjF,EAAM,OAAOsF,GAAKuB,EAAZ9F,EACjDf,EAAKmF,cAAcG,CAAnBtF,CAFC,KAAA,QAIEsF,GAAKuB,CA7BM,CAAA,CAAA,EAAA,CAAA,IAAA,KAAA,MAkCxB,SAAUvB,EAAQuB,EAAM,CAAA,MACf,CAAC7G,EAAKuJ,GAAGjE,EAAGuB,CAAX7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,sBAAAA,MAKV,SACIyJ,EAAoBC,EAAiD,CAAA,IAA7BC,EAA6B,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,QAAA,UAAA,CAAA,EAAA,OAChE3J,EAAK4J,OACR,GAAI5J,EAAK6J,qBAAqBJ,EAAUC,EAAYC,CAAhD3J,CADDA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,uBAAAA,MAIT,SACIyJ,EAAoBC,EAAiD,CAAA,IAA7BC,EAA6B,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,QAAA,UAAA,CAAA,EAAApJ,EACxDoJ,EAAe,CAAC,EAAG,CAAJ,EAAS,CAAC,EAAG,CAAJ,EADgC7F,EAAAd,EAAAzC,EAAA,CAAA,EAChE2F,EAAPpC,EAAA,CAAA,EAAU7C,EAAV6C,EAAA,CAAA,EACMvB,EAAOkH,EAASK,UAAUJ,EAAaxD,EAAGyD,CAAnCF,EACPM,EAAMN,EAASK,UAAUJ,EAAazI,EAAG0I,CAAnCF,EACNvI,EAAS,IAAIlB,EAAK,EAAT,EAAA,EAJwD,OAAAgK,EAKhE9G,WAAW,EAAS,WAAN6G,CAAAA,EAAAA,EACd7G,WAAW,GAAY,UAAPX,IAAqB,EAAMwH,IAAQ,EAAA,EAAAC,EACnD9G,WAAW,EAAGX,IAAS,EAAA,EACvBrB,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,sBAAAA,MAGT,SACIuI,EAAoBC,EAAoBvF,EACX,CAAA,IAA7BwF,EAA6B,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,QAAA,UAAA,CAAA,EAAAnJ,EAC1ByJ,qBAAqBR,EAAUC,EAAYvF,EAAOwF,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,uBAAAA,MAGzD,SACIF,EAAoBC,EAAoBvF,EACX,CAAA,IAA7BwF,EAA6B,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,QAAA,UAAA,CAAA,EAAArJ,EACvBN,EAAKkK,QAAQ,GAAI/F,CAAjBnE,EADuB,IAE3BuC,EAAO,EACPwH,EAAM,EAHqB,GAIZ,EAAf5F,EAAM/D,SAAAA,EACF+D,EAAMlC,QAAQ,CAAdkC,EACa,EAAfA,EAAM/D,QAAY,CAAA,IACd+J,EAAKhG,EAAMlC,QAAQ,CAAdkC,EAAAA,GACCgG,GAAM,GAFErG,EAGbqG,IAAO,EACK,EAAfhG,EAAM/D,SAJU0D,GAKHK,EAAMlC,QAAQ,CAAdkC,GAAoB,GALjB,CAAA,IAAA1D,EASTkJ,EAAe,CAAC,EAAG,CAAJ,EAAS,CAAC,EAAG,CAAJ,EAAAK,EAAAhH,EAAAvC,EAAA,CAAA,EAAhCyF,EAAP8D,EAAA,CAAA,EAAU/I,EAAV+I,EAAA,CAAA,EAAAjJ,EACSqJ,UAAUV,EAAaxD,EAAG3D,EAAMoH,CAAAA,EAhBV5I,EAiBtBqJ,UAAUV,EAAazI,EAAG8I,EAAKJ,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,SAAAA,MAK1C,UAAa,CAAA,OACJ,IAAI3J,EAAK,EAAT,EAAA,CAAA,CAAA,EAAA,CAAA,IAAA,aAAA,MAGT,SAAkBmE,EAAe9D,EAAa,CAAA,IACtCa,EAAS,IAAIlB,EAAK,EAAGK,CAAZ,EAAA,OAAAC,EACR4C,WAAW,EAAGiB,CAAAA,EACdjD,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,mBAAAA,MA6BT,SAAwBoE,EAAS+E,EAC7BjG,EAAoBwB,EAAoB,CAAA,GAClB,EAApByE,EAAuB,MAAO,GAAP,IACvBC,EAAAA,GACoB,EAApBD,EAAAA,EACiB,CAACA,EAAoB,MACnC,CAAA,GAEDjG,IAAe,EAAG,MAAO,GAAP9D,IAFjBC,EAIU+E,EAAErD,QAAQmC,CAAVkB,EAJVxB,EAKc,EAVqB,CAAA,IAatCyG,EAAO,GAAKD,EAAAA,IACX1E,EAAe2E,IAAU,EAAG,MAAO,GAAP,GAAAtJ,GAEzB,GACH2E,EAAe2E,IAAU,EAAG,MAAO,GAjBE,KAkBtB,EAAbnG,GAlBmC,GAAA9D,IAoBpCgF,EAAErD,QAAQmC,CAAVkB,IAA0B,EAAG,MAAO,GAAP,MAE5B,EAAA,CAAA,EAAA,CAAA,IAAA,eAAA,MAGT,SAAoBnB,EAAa,CAAA3D,EAE1BgG,uBAAuB,CAAA,EAAKrC,EAFF,IAiB3B/C,EAdEoJ,EAAsD,KAAvCxK,EAAKuG,qBAAqB,CAA1BvG,IAAiC,GAChD2F,EAAW6E,EAAc,KACzBC,GAA4B,EAAjB9E,EAAW,IAAW,EACjCzE,EAAS,IAAIlB,EAAKyK,EALH,EAARtG,CAKE,EAEX0B,EAA+C,QAA/B7F,EAAKuG,qBAAqB,CAA1BvG,EADD,QAEfgG,EAAchG,EAAKuG,qBAAqB,CAA1BvG,EACZ0K,EAAsB,GAEtBC,EAAYhF,EAAW,GAGzBiF,EAAwB,EAfG,GAmB3BD,EAAYD,EAAqB,CAAA,IAC7B1G,EAAQ0G,EAAsBC,EAAAA,EACZ3G,EAAQ,GAFG3C,EAG3BwE,IAAiB7B,EAHUlD,EAInB+E,GAAiB,GAAK7B,EAAWgC,IAAgBhC,EAJ9Bf,IAKL,GAAKe,CALrC,SAMW2G,IAAcD,EAAlB5E,EACmB,GADnBzE,EAEGwE,EAFH/E,EAGUkF,EAHV/C,EAIS,MACT,CAAA,IACCe,EAAQ2G,EAAYD,EAAAA,EACF,GAAK1G,EAFxB3C,EAGIwE,GAAgB7B,EAAUgC,IAAiB,GAAKhC,EAHpDlD,EAIUkF,GAAehC,EAJzBf,EAKS,CAAA,CAAAhC,EAETiC,WAAWuH,EAAS,EAAGrJ,CAAAA,EArCC,QAuCtBgD,EAAaqG,EAAS,EAAiB,GAAdrG,EAAiBA,IACrB,EAAxBwG,GAAAA,GACuB,GAAAvJ,EACjBwE,IAAiB,EAAA/E,EACT+E,GAAgB,GAAOG,IAAgB,EAAA/C,IACzB,IAAA5B,EAEtB,EAAAJ,EAEHiC,WAAWkB,EAAYhD,CAAAA,EAAAA,OAEzBF,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,iBAAAA,MAGT,SAAsBF,EAAS,CAAA,MACpB,KAALA,GAAkB,GAALA,IACR,KAALA,EAAkBA,GAAM,GACnB,QAALA,EACKA,GAAM,KAAQA,GAAM,KAEpB,QAALA,GANyBD,GAOtB,OACO,IAALC,GAAaA,GAAM,IAAQA,GAAM,IAAQA,GAAM,IAC/CA,GAAM,IAAQA,GAAM,MAEtBA,GAAM,MAXgB,CAAA,EAAA,CAAA,IAAA,eAAA,MAc/B,SAAoB6J,EAAgC,CAAA,IAAhBpJ,EAAgB,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAD,EAC7CpB,EAAO,EAELD,EAASyK,EAAOzK,OAClB0K,EAAS,EAJqC,GAK9CA,IAAW1K,EAAQ,OAAOJ,EAAK0E,OAAL1E,EALoB,QAM9C0D,EAAUmH,EAAOE,WAAWD,CAAlBD,EAEP7K,EAAKgL,eAAetH,CAApB1D,GAA8B,CAAA,GAC/B,EAAE8K,IAAW1K,EAAQ,OAAOJ,EAAK0E,OAAL1E,EAAPiB,EACf4J,EAAOE,WAAWD,CAAlBD,CAVsC,CAAA,GAc9CnH,IAAY,GAAM,CAAA,GAChB,EAAEoH,IAAW1K,EAAQ,OAAO,KAAPa,EACf4J,EAAOE,WAAWD,CAAlBD,EAFUvK,EAGb,CAHT,SAIWoD,IAAY,GAAM,CAAA,GACvB,EAAEoH,IAAW1K,EAAQ,OAAO,KAAPa,EACf4J,EAAOE,WAAWD,CAAlBD,EAFiBvK,EAGpB,EAAC,CAAA,GAGNmB,IAAU,GAAVA,GAAAA,EACM,GACJiC,IAAY,GAAM,CAAA,GAChB,EAAEoH,IAAW1K,EAAQ,OAAOJ,EAAK0E,OAAL1E,EAAP,GAAAiB,EACf4J,EAAOE,WAAWD,CAAlBD,EACNnH,IAAY,IAAQA,IAAY,IAAM,CAAA,GAAArC,EAChC,GACJ,EAAEyJ,IAAW1K,EAAQ,OAAO,KAAPa,EACf4J,EAAOE,WAAWD,CAAlBD,CAHZ,SAIWnH,IAAY,IAAQA,IAAY,IAAM,CAAA,GAAArC,EACvC,EACJ,EAAEyJ,IAAW1K,EAAQ,OAAO,KAAPa,EACf4J,EAAOE,WAAWD,CAAlBD,CAHL,SAIInH,IAAY,IAAQA,IAAY,GAAM,CAAA,GAAArC,EACvC,EACJ,EAAEyJ,IAAW1K,EAAQ,OAAO,KAAPa,EACf4J,EAAOE,WAAWD,CAAlBD,CAAAA,CAAAA,UAKLpJ,IAAU,IACfiC,IAAY,GAAM,CAAA,GAEhB,EAAEoH,IAAW1K,EAAQ,OAAOJ,EAAK0E,OAAL1E,EAAP,GAAAiB,EACf4J,EAAOE,WAAWD,CAAlBD,EACNnH,IAAY,IAAQA,IAAY,IAAM,CAAA,GACpC,EAAEoH,IAAW1K,EAAQ,OAAO,KAAPa,EACf4J,EAAOE,WAAWD,CAAlBD,CAAAA,CAAAA,CAAAA,GAMZxK,IAAS,GAAKoB,IAAU,GAAI,OAAO,KA1DW,KA4D3CiC,IAAY,IAAM,CAAA,GAEnB,EAAEoH,IAAW1K,EAAQ,OAAOJ,EAAK0E,OAAL1E,EAAPiB,EACf4J,EAAOE,WAAWD,CAAlBD,CA/DsC,CAAA,IAmE5CI,EAAQ7K,EAAS0K,EACnBI,EAAclL,EAAKmL,kBAAkB1J,CAAvBzB,EACdoL,EAAUpL,EAAKqL,8BAAgC,EArED,GAsE9CJ,EAAQ,WAAYC,EAAa,OAAO,KAtEM,IAuE5CI,EACDJ,EAAcD,EAAQG,IAAapL,EAAKuL,yBAEvCrK,EAAS,IAAIlB,EAD0B,GAAtBsL,EAAU,IAAM,GACxB,EAAA,EAGTE,EAAmB,GAAR/J,EAAaA,EAAQ,GAChCgK,EAAmB,GAARhK,EAAaA,EAAQ,GAAK,EA9EO,IAgF7CA,EAASA,EAAQ,IAAQ,EAAG,CAAAwB,IAEfjD,EAAKuL,yBAFU,IAGzBG,EAAQ,CAAA,EACRC,EAAY,CAAA,EACdC,GAAI,GALuB,EAM5B,CAAA,QAIKpJ,GAHFqJ,GAAO,EACPC,GAAO,IACE,CAAA,GACPtJ,GAAAA,OACEkB,EAAU,KAAQ,EAAK8H,EAAAA,GACvB9H,EAAU,YACQ,GAAVA,GAAgB,KAAQ,EAAK+H,EAApCM,IACU,GAAVrI,GAAgB,OAChB,CAAAmD,GACD,GADC,KAAA,CAAA,GAAAmF,IAICd,EAAAA,GACAW,IAAQX,EAAe1I,GAC3B,EAAEsI,IAAW1K,EAAQ,CAAAyG,GACnB,GADmB,KAAA,CAAA,GAAA5F,EAIf4J,EAAOE,WAAWD,CAAlBD,EACe,GAArBiB,GAAOZ,EAAkB,KAAA,CAAAlK,EAEzBM,KAAKuK,EAAAA,EAtBV7I,EAuBS1B,KAAKwK,EAAAA,CAvBjB,OAwBS,CAACF,IAAAA,EACLK,gBAAgB/K,EAAQwK,EAAOC,CAAAA,CA/BtC,KAgCO,CAAA7F,EACEoB,mBAAAA,EADF,IAED0E,GAAI,GACJM,GAAa,EAHZ,EAIF,CAAA,QAIK1J,GAHFqJ,GAAO,EACP3J,GAAa,IACJ,CAAA,GACPM,GAAAA,OACEkB,EAAU,KAAQ,EAAK8H,EAAAA,GACvB9H,EAAU,YACQ,GAAVA,GAAgB,KAAQ,EAAK+H,EAApCU,IACU,GAAVzI,GAAgB,OAChB,CAAA0I,GACD,GADC,KAAA,CAAA,IAKDC,GAAInK,GAAaT,EAAAA,GACf,WAAJ4K,GAAgB,MAAA,GAAAC,GACPD,GAAAA,GACNR,GAAOpK,EAAQe,GAAAA,KAElB,EAAEsI,IAAW1K,EAAQ,CAAAgM,GACnB,GADmB,KAAA,CAAAnL,EAIf4J,EAAOE,WAAWD,CAAlBD,CAAAA,CAAAA,EAEmC,GAArC7K,EAAKqL,8BAAqC,EAzBnD,IA0BKkB,GACsD,GADrCrB,EAAcgB,GAAad,IAC7BpL,EAAKuL,0BAA4B,GAAAzF,EAC/C0G,qBAAqBtK,GAAY2J,GAAMU,EAAAA,CA5BhD,OA6BS,CAACX,GAAAA,CAAAA,GAGRd,IAAW1K,EAAQ,CAAA,GACjB,CAACJ,EAAKgL,eAAetH,CAApB1D,EAA8B,OAAO,KAAP,IAC9B8K,IAAUA,EAAS1K,EAAQ0K,IAAM,GAAA7J,EAC1B4J,EAAOE,WAAWD,CAAlBD,EACN,CAAC7K,EAAKgL,eAAetH,CAApB1D,EAA8B,OAAO,IAxJI,CAAA,OAAA8F,EA6J3CzF,KAAQA,IAAS,GACjBa,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,kBAAAA,MAGT,SAAuBA,EAAcwK,EAAiBC,EAAmB,CAAA,QAEnEvH,EAAa,EACbhD,EAAQ,EACRqL,EAAc,EACTnM,EAAIoL,EAAMtL,OAAS,EAAQ,GAALE,EAAQA,IAAK,CAAA,IACpCuL,EAAOH,EAAMpL,CAAD,EACZoM,EAAWf,EAAUrL,CAAD,EAFgBW,GAGhC4K,GAAQY,EAHwB3L,GAI3B4L,EACXD,IAAgB,IALsB1L,EAMjCmC,WAAWkB,IAAchD,CAAAA,EANQN,EAO1B,EAP0BG,EAQhC,GACe,GAAdwL,IAT+B1L,EAUjCmC,WAAWkB,IAAsB,WAARhD,CAAAA,EAVQN,GAWzB,GAXyBG,EAYhC4K,IAAUa,EAAWD,EAZW,CAAA,GAexCrL,IAAU,EAAG,CAAA,GACXgD,GAAclD,EAAOd,OAAQ,MAAM,IAAIwB,MAAM,oBAAV,EAANb,EAC1BmC,WAAWkB,IAAchD,CAAAA,CAAAA,CAAAA,KAE3BgD,EAAalD,EAAOd,OAAQgE,IAAUrD,EACpCmC,WAAWkB,EAAY,CAAA,CAAA,CAAA,EAAA,CAAA,IAAA,2BAAA,MAIlC,SAAgCkB,EAAS7D,EAAa,CAAA,IAC9CrB,EAASkF,EAAElF,OACb0L,EAAOrK,EAAQ,EAFiCqC,GAG7B,GAAdgI,IAAS,IAAqB,GAAPA,GAHoBhI,GAI7B,GAAdgI,IAAS,IAAqB,GAAPA,GAJoBhI,GAK7B,GAAdgI,IAAS,IAAqB,GAAPA,GALoB,IAM9CZ,EAAcY,EACda,EAAWlL,EAAQ,EACnB0F,EAAM7B,EAAErD,QAAQ7B,EAAS,CAAnBkF,EACNG,EAAkBzF,EAAKgC,QAAQmF,CAAbnH,EAEpB4M,EACgD,GAFzB,GAATxM,EAAcqF,EAEdyF,EAAc,GAAKA,EAZe,GAahD5F,EAAEjF,MAAMuM,IACRA,UAAAA,EAA2B,MAAM,IAAIhL,MAAM,iBAAV,EAAN,QACzBV,EAAa2L,MAAMD,CAAb,EACRE,EAAMF,EAAgB,EACtBxL,EAAQ,EACR2L,EAAgB,EACXzM,EAAI,EAAGA,EAAIF,EAAS,EAAGE,IAAK,CAAA,IAC7B0M,EAAW1H,EAAErD,QAAQ3B,CAAVgF,EACX5B,IAAWtC,EAAS4L,GAAYD,GAAkBJ,EAFrB7G,EAG5BgH,GAAD,EAAU9M,EAAKiN,mBAAmBvJ,EAAxB1D,EAHmB,IAI7BkN,GAAehC,EAAc6B,EAJA,IAAA7G,EAK3B8G,IAAaE,GALc/G,EAMnB,GAAK+G,GACdH,GAAiB7B,GAPWpF,EAQ1BgH,GAAD,EAAU9M,EAAKiN,mBAAmB7L,EAAQuL,CAAhC3M,EARiBkG,KAStBgF,EATsB/E,GAUhB+E,CAAAA,CAAAA,IAGfxH,IAAWtC,EAAS+F,GAAO4F,GAAkBJ,EAhCC,IAAA7G,EAiC7CgH,GAAD,EAAU9M,EAAKiN,mBAAmBvJ,EAAxB1D,EAjCoCkG,EAkC5CiB,IAAS+D,EAAc6B,EACxB3L,IAAU,GAnCmC0E,EAoC3CgH,GAAD,EAAU9M,EAAKiN,mBAAmB7L,EAAQuL,CAAhC3M,EApCkCkG,KAqCvCgF,EArCuC,GAuChD5F,EAAEjF,OAAMa,EAAO4L,GAAD,EAAU,KACxBA,IAAQ,GAAI,MAAM,IAAIlL,MAAM,oBAAV,EAAN,OACTV,EAAOM,KAAK,EAAZN,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,oBAAAA,MAGT,SAAyBoE,EAAS7D,EAAe0L,EAAwB,CAAA,IAEjE/M,EAASkF,EAAElF,OAAAA,GACbA,IAAW,EAAG,MAAO,GAAP,GACdA,IAAW,EAAG,CAAA,IACZc,EAASoE,EAAEpB,gBAAgB,CAAlBoB,EAAqB/D,SAASE,CAA9B6D,EAAAA,OACT6H,IAAAA,IAA6B7H,EAAEjF,OAAAA,EACxB,IAAMa,GAEVA,CAAAA,CAT8D,IAWjEkM,EAAqB,GAAThN,EAAcJ,EAAKgC,QAAQsD,EAAErD,QAAQ7B,EAAS,CAAnBkF,CAAbtF,EAC1BqN,EAAiBrN,EAAKmL,kBAAkB1J,CAAvBzB,EACjBsN,EAAiBD,EAAiB,EACpCT,EAAgBQ,EAAYpN,EAAKqL,8BAdkCrB,GAetDsD,EAAiB,EAfqCtD,EAgBpB,EAAlC4C,EAAgBU,EAhBsC,IAsBnE5F,EACA6F,EANEC,EAAmBZ,EAAgB,GAAM,EAGzCa,EAAYzN,EAAK0N,aAAa1N,EAAK4E,WAAWnD,EAAhBzB,EAAAA,EAChCA,EAAK4E,WAAW4I,EAAhBxN,EAAAA,CADcA,EAIZ4H,EAAU6F,EAAUvJ,gBAAgB,CAA1BuJ,EAxBuD,GAyBnEA,EAAUrN,SAAW,GAAgB,OAAXwH,EAAmB,CAAA9B,EACpC,IAAI9F,EAAKsF,EAAElF,OAAX,EAAA,EADoC0F,EAEtCoB,mBAAAA,EAFsC,QAKvCyG,EAFJ1F,GAAY,EACP3H,GAAe,EAAXgF,EAAElF,OAAa,EAAQ,GAALE,GAAQA,KAC/BqN,EAAS1F,IAAa,GAAM3C,EAAEhC,YAAYhD,EAAdgF,EAAAA,EACzB/B,eAAejD,GAAuB,EAAnBqN,EAAQ/F,CAAAA,EAAAA,GACJ,EAAnB+F,EAAQ/F,EAAAA,EAEVK,GAAU1G,SAASE,CAAnBwG,CATf,KAUO,CAAA,IACC2F,GAAiB5N,EAAK8H,mBAAmBxC,EAAGmI,EAA3BzN,GAAAA,EAAAA,EAAAA,EACZ4N,GAAelG,SAFrB,IAGCO,GAAY2F,GAAe3F,UAAUtB,OAAzBiH,EAAAA,EACL5N,EAAK2B,kBAAkBsG,GAAWxG,EAAlCzB,EAAAA,CAAAA,CAAAA,EAEN2G,OAAAA,EAzC8D,QA0CnEkH,GAAY7N,EAAK2B,kBAAkB+F,EAAUjG,EAAjCzB,EAAAA,EACTuN,EAAWnN,OAASoN,GA3C4ChL,EA4CxD,IAAM+K,EAAAA,OAEjBJ,IAAAA,IAA6B7H,EAAEjF,OAAAA,GACrB,IAAMwN,IAEbA,GAAYN,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,gBAAAA,MAGrB,SAAqBO,EAAqB,CAAA,OACjCA,EAAe,GAAK,CAAA,CAAA,EAAA,CAAA,IAAA,oBAAA,MAE7B,SAAyBC,EAAqB,CAAA,OACrCA,EAAe,GAAK,CAAA,CAAA,EAAA,CAAA,IAAA,iBAAA,MAE7B,SAAsBA,EAAqB,CAAA,OAClCA,EAAe,EAAI,EAAC,CAAA,EAAA,CAAA,IAAA,oBAAA,MAG7B,SAAyBzI,EAASuB,EAAO,CAAA,IACjCmH,EAAQ1I,EAAEjF,KAAAA,GACZ2N,IAAUnH,EAAExG,KAAM,OAAOL,EAAKiO,cAAcD,CAAnBhO,EAAP,IAChBkB,EAASlB,EAAKyH,kBAAkBnC,EAAGuB,CAA1B7G,EAHwB,MAI1B,GAATkB,EAAmBlB,EAAKkO,kBAAkBF,CAAvBhO,EACV,EAATkB,EAAmBlB,EAAKmO,eAAeH,CAApBhO,EAChB,CAAA,CAAA,EAAA,CAAA,IAAA,oBAAA,MAGT,SAAyBsF,EAASuB,EAAS,CAAA,GACrC7G,EAAK2E,gBAAgBkC,CAArB7G,EAAyB,CAAA,IACrBgO,EAAQ1I,EAAEjF,KACV+N,EAAa,EAAJvH,EAFY,GAGvBmH,IAAUI,EAAO,OAAOpO,EAAKiO,cAAcD,CAAnBhO,EAAP,GACjBsF,EAAElF,SAAW,EAAG,CAAA,GACdgO,EAAO,MAAM,IAAIxM,MAAM,oBAAV,EAAN,OACJiF,IAAM,EAAI,EAAI,EANI,CAAA,GASZ,EAAXvB,EAAElF,OAAY,OAAOJ,EAAKkO,kBAAkBF,CAAvBhO,EATE,IAUrBqO,EAAOxO,EAASgH,CAAThH,EACPyO,EAAShJ,EAAEpB,gBAAgB,CAAlBoB,EAXY,OAYvBgJ,EAASD,EAAarO,EAAKkO,kBAAkBF,CAAvBhO,EACtBsO,EAASD,EAAarO,EAAKmO,eAAeH,CAApBhO,EACnB,CAAA,CAAA,OAEFA,EAAKuO,kBAAkBjJ,EAAGuB,CAA1B7G,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,oBAAAA,MAGT,SAAyBsF,EAASuB,EAAS,CAAA,GACrCA,IAAMA,EAAG,OAAOA,EAAP,GACTA,IAAC,IAAe,MAAO,GAAP,GAChBA,IAAM,KAAW,MAAO,GAHa,IAInCmH,EAAQ1I,EAAEjF,KAJyB,GAMrC2N,IADe,EAAJnH,EACM,OAAO7G,EAAKiO,cAAcD,CAAnBhO,EAAP,GACjB6G,IAAM,EAANA,MACI,IAAIjF,MAAM,iDAAV,EAAA,GAEJ0D,EAAElF,SAAW,EAAG,MAAO,GAAPI,EACfgG,uBAAuB,CAAA,EAAKK,EAXQ,IAYnC2D,EAAsD,KAAvCxK,EAAKuG,qBAAqB,CAA1BvG,IAAiC,GAAA,GAClDwK,GAAgB,KAAhBA,MACI,IAAI5I,MAAM,uCAAV,EAAA,IAEF+D,EAAW6E,EAAc,KAAA,GAChB,EAAX7E,EAAAA,OAGK3F,EAAKkO,kBAAkBF,CAAvBhO,EApBgC,IAsBnCuF,EAAUD,EAAElF,OACdoF,EAAOF,EAAErD,QAAQsD,EAAU,CAApBD,EACLG,EAAkBzF,EAAKgC,QAAQwD,CAAbxF,EAClB0F,EAAuB,GAAVH,EAAeE,EAC5B+I,EAAa7I,EAAW,EA1BW,GA2BrCD,EAAa8I,EAAY,OAAOxO,EAAKmO,eAAeH,CAApBhO,EAAP,GACzB0F,EAAa8I,EAAY,OAAOxO,EAAKkO,kBAAkBF,CAAvBhO,EA5BK,IAgCrC6F,EAAgB7F,QAA+B,QAA/BA,EAAKuG,qBAAqB,CAA1BvG,EAChBgG,EAAchG,EAAKuG,qBAAqB,CAA1BvG,EACZ0K,EAAsB,GACtBC,EAAY,GAAKlF,EAnCkB,GAoCrCkF,KAAyC,GAAxBjF,EAAa,GAAK,IAA1B,MACL,IAAI9D,MAAM,oBAAV,EArCiC,IAuCrC6M,EACA7D,GAAwB,EAxCa,GA0CrCD,EAAYD,EAAqB,CAAA,IAC7B1G,GAAQ0G,EAAsBC,EAAAA,GACZ3G,GAAQ,GAFGqI,EAGjBxG,IAAiB7B,GAHA8B,EAInBD,GAAiB,GAAK7B,GAAWgC,IAAgBhC,GAJ9BxB,IAKL,GAAKwB,EALrC,SAMW2G,IAAcD,EAAlB1J,GACmB,GADnBqL,EAEaxG,EAFbC,EAGUE,EAHVxD,EAIS,MACT,CAAA,IACCwB,GAAQ2G,EAAYD,EAAAA,GACF,GAAK1G,GAFxBqI,EAIAxG,GAAgB7B,GAAUgC,IAAiB,GAAKhC,GAJhD8B,EAKUE,GAAehC,GALzBxB,EAMS,CAAA,CAAA,GAAA1B,KAEA,EAAAuL,KACsB,EAClC7G,EAAOiJ,EAAiB,OAAOzO,EAAKkO,kBAAkBF,CAAvBhO,EAAP,GACxBwF,EAAOiJ,EAAiB,OAAOzO,EAAKmO,eAAeH,CAApBhO,EAAP,QAEnBoE,GAAamB,EAAU,EAAiB,GAAdnB,GAAiBA,KAAc,CACpC,EAAxBwG,IAD4D5J,IAErC,GAFqCqL,EAG5CxG,IAAiB,EAH2BC,EAI9CD,GAAgB,GAAOG,IAAgB,EAJOxD,IAKhC,IALgC6J,EAO5C,EAP4C,IAS1DjL,GAAQkE,EAAEpB,gBAAgBE,EAAlBkB,EAAAA,GACVlE,GAAQqN,EAAiB,OAAOzO,EAAKkO,kBAAkBF,CAAvBhO,EAAP,GACzBoB,GAAQqN,EAAiB,OAAOzO,EAAKmO,eAAeH,CAApBhO,CA7EG,CAAA,GAgFrC6F,IAAiB,GAAKG,IAAgB,EAAG,CAAA,GACvC4E,KAA0B,EAAG,MAAM,IAAIhJ,MAAM,oBAAV,EAAN,OAC1B5B,EAAKmO,eAAeH,CAApBhO,CAAAA,CAAAA,MAEF,EAAA,CAAA,EAAA,CAAA,IAAA,kBAAA,MAGT,SAAuBsF,EAASuB,EAAS,CAAA,OACnC7G,EAAK2E,gBAAgBkC,CAArB7G,EACE6G,IAAM,EAAUvB,EAAElF,SAAW,EAEzBkF,EAAElF,SAAW,GAAOkF,EAAEjF,OAAc,EAAJwG,GAChCvB,EAAEpB,gBAAgB,CAAlBoB,IAAyBzF,EAASgH,CAAThH,EAE5BG,EAAKuO,kBAAkBjJ,EAAGuB,CAA1B7G,IAAiC,CAAjCA,CAAAA,EAAAA,CAAAA,IAAAA,2BAAAA,MAQT,SAAgCkB,EAAgBwN,EAAW,CAAA,OACjDA,IACD,EAAmB,EAATxN,EADTwN,IAED,EAAoB,GAAVxN,EAFTwN,IAGD,EAAmB,EAATxN,EAHTwN,IAID,EAAoB,GAAVxN,EALwC,MAAA,CAAA,EAAA,CAAA,IAAA,YAAA,MAS3D,SAAiBoE,EAAQuB,EAAQ6H,EAAW,CAAA,GAAA3N,EACtCf,EAAKmF,cAAcG,CAAnBtF,EAAAA,EACAA,EAAKmF,cAAc0B,CAAnB7G,EACA,OAAOsF,GAAM,UAAY,OAAOuB,GAAM,SAANA,OAC1B6H,EAAAA,CAAAA,IACD,GAAA,OAAUpJ,EAAIuB,EAAAA,IACd,GAAA,OAAUvB,GAAKuB,EAAAA,IACf,GAAA,OAAUvB,EAAIuB,EAAAA,IACd,GAAA,OAAUvB,GAAKuB,CAAAA,CAAAA,GAGpB7G,EAAKoJ,WAAW9D,CAAhBtF,GAAsB,OAAO6G,GAAM,SAANA,OAAAA,EAC3B7G,EAAK8E,aAAa+B,CAAlB7G,EACA6G,IAAM,MACH7G,EAAK2O,yBAAyB3O,EAAKsI,kBAAkBhD,EAAGuB,CAA1B7G,EAA8B0O,CAA5D1O,EAAAA,GAEL,OAAOsF,GAAM,UAAYtF,EAAKoJ,WAAWvC,CAAhB7G,EAAAA,OAAAA,EACvBA,EAAK8E,aAAaQ,CAAlBtF,EACAsF,IAAM,MACHtF,EAAK2O,yBAAyB3O,EAAKsI,kBAAkBhD,EAAGuB,CAA1B7G,EAA8B0O,CAA5D1O,EAAAA,GAAAA,EAELA,EAAKmJ,YAAY7D,CAAjBtF,EAAAA,EACAA,EAAKmJ,YAAYtC,CAAjB7G,EACAA,EAAKoJ,WAAW9D,CAAhBtF,EAAoB,CAAA,GAClBA,EAAKoJ,WAAWvC,CAAhB7G,EAAAA,OACKA,EAAK2O,yBAAyB3O,EAAKsI,kBAAkBhD,EAAGuB,CAA1B7G,EAA8B0O,CAA5D1O,EAAAA,GAEL,OAAO6G,GAAM,SAAU,MAAM,IAAIjF,MAAM,oBAAV,EAAN,OACpB5B,EAAK2O,yBAAyB3O,EAAK4O,kBAAkBtJ,EAAGuB,CAA1B7G,EAA8B0O,CAA5D1O,CAAAA,CAAAA,GAEL,OAAOsF,GAAM,SAAU,MAAM,IAAI1D,MAAM,oBAAV,EAAN,GACvB5B,EAAKoJ,WAAWvC,CAAhB7G,EAAAA,OAEKA,EAAK2O,yBAAyB3O,EAAK4O,kBAAkB/H,EAAGvB,CAA1BtF,EAC3B,EAAL0O,CADE1O,EAAAA,GAGL,OAAO6G,GAAM,SAAU,MAAM,IAAIjF,MAAM,oBAAV,EApCS,OAqClC8M,IACD,EAAUpJ,EAAIuB,EADb6H,IAED,EAAUpJ,GAAKuB,EAFd6H,IAGD,EAAUpJ,EAAIuB,EAHb6H,IAID,EAAUpJ,GAAKuB,EAzCoB,MAAA,CAAA,EAAA,CAAA,IAAA,gBAAA,MAiD5C,SAAqBvB,EAASuB,EAASc,EAAmB,CAAA,GACpDrC,EAAElF,OAASyG,EAAEzG,OAAQ,OAAOJ,EAAKkI,cAAcrB,EAAGvB,EAAGqC,CAAzB3H,EAAP,GACrBsF,EAAElF,SAAW,EAAG,OAAOkF,EAAP,GAChBuB,EAAEzG,SAAW,EAAG,OAAOkF,EAAEjF,OAASsH,EAAarC,EAAItF,EAAK8G,WAAWxB,CAAhBtF,EAAnC,IAChBsH,EAAehC,EAAElF,QACjBkF,EAAEiC,SAAFjC,IAAiB,GAAMuB,EAAEzG,SAAWkF,EAAElF,QAAUyG,EAAEU,SAAFV,IAAiB,IALb/C,IAAA,QAYhDgC,EAJF5E,EAAS,IAAIlB,EAAKsH,EAAcK,CAAvB,EACXrF,EAAQ,EACRhC,EAAI,EACDA,EAAIuG,EAAEzG,OAAQE,IACbwF,EAAIR,EAAErD,QAAQ3B,CAAVgF,EAAeuB,EAAE5E,QAAQ3B,CAAVuG,EAAevE,EAAAA,EAChCwD,IAAM,GAAAhF,EACPoC,WAAW5C,EAAO,WAAJwF,CAAAA,EAAAA,KAEhBxF,EAAIgF,EAAElF,OAAQE,IAAK,CAAA,IAClBwF,EAAIR,EAAErD,QAAQ3B,CAAVgF,EAAehD,EAAAA,EACjBwD,IAAM,GAFUhF,EAGjBoC,WAAW5C,EAAO,WAAJwF,CAAAA,CAAAA,CAAAA,OAEnBxF,EAAIY,EAAOd,QAAAA,EACN8C,WAAW5C,EAAGgC,CAAAA,EAEhBpB,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,gBAAAA,MAGT,SAAqBoE,EAASuB,EAASc,EAAmB,CAAA,GACpDrC,EAAElF,SAAW,EAAG,OAAOkF,EAAP,GAChBuB,EAAEzG,SAAW,EAAG,OAAOkF,EAAEjF,OAASsH,EAAarC,EAAItF,EAAK8G,WAAWxB,CAAhBtF,EAAnC,QAKZ8F,EAJF5E,EAAS,IAAIlB,EAAKsF,EAAElF,OAAQuH,CAAnB,EACXlE,EAAS,EACTnD,EAAI,EACDA,EAAIuG,EAAEzG,OAAQE,IACbwF,EAAIR,EAAErD,QAAQ3B,CAAVgF,EAAeuB,EAAE5E,QAAQ3B,CAAVuG,EAAepD,EAAAA,EAClB,EAAZqC,IAAM,GAAA7E,EACTiC,WAAW5C,EAAO,WAAJwF,CAAAA,EAAAA,KAEhBxF,EAAIgF,EAAElF,OAAQE,IAAK,CAAA,IAClBwF,EAAIR,EAAErD,QAAQ3B,CAAVgF,EAAe7B,EAAAA,EACH,EAAZqC,IAAM,GAFQ7E,EAGjBiC,WAAW5C,EAAO,WAAJwF,CAAAA,CAAAA,CAAAA,OAEhB5E,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,mBAAAA,MAGT,SAAwBoE,EAASjF,EAAuC,CAAA,IAAxBa,EAAwB,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAJ,KAC5D2N,EAAcvJ,EAAElF,OAClBc,IAAW,KAFuDX,EAG3D,IAAIP,EAAK6O,EAAaxO,CAAtB,EAH2DE,EAK7DF,KAAOA,EALsD,QAS9DyF,EAFJxD,EAAQ,EACHhC,EAAI,EAAGA,EAAIuO,EAAavO,IACzBwF,EAAIR,EAAErD,QAAQ3B,CAAVgF,EAAehD,EAAAA,EACjBwD,IAAM,GAAAvF,EACP2C,WAAW5C,EAAO,WAAJwF,CAAAA,EAAAA,OAEnBxD,IAAU,GAAVA,EACKwM,eAAeD,EAAa,CAAA,EAE9B3N,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,mBAAAA,MAGT,SAAwBoE,EAASgC,EAAqB,CAAA,IAC9ClH,EAASkF,EAAElF,OAAAA,EACFkH,GAAgBlH,EAFqB,QAM5C0F,EAHF5E,EAAS,IAAIlB,EAAKsH,EAAT,EAAA,EACX7D,EAAS,EACJnD,EAAI,EAAGA,EAAIF,EAAQE,IACpBwF,EAAIR,EAAErD,QAAQ3B,CAAVgF,EAAe7B,EAAAA,EACH,EAAZqC,IAAM,GAAA7E,EACTiC,WAAW5C,EAAO,WAAJwF,CAAAA,EAAAA,GAEnBrC,IAAW,EAAG,MAAM,IAAI7B,MAAM,oBAAV,EAAN,QACTtB,EAAIF,EAAQE,EAAIgH,EAAchH,IAACW,EAC/BiC,WAAW5C,EAAG,CAAA,EAAA,OAEhBY,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,gBAAAA,MAGT,SAAqBoE,EAASuB,EAAiC,CAAA,IAAxB3F,EAAwB,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAJ,KACrDqE,EAAUD,EAAElF,OACZ2O,EAAUlI,EAAEzG,OACZ4O,EAAWD,EAH8C,GAIzDxJ,EAAUwJ,EAAS,CAAAjO,EACVyE,EADU,IAEf0J,EAAM3J,EACN4J,EAAY3J,EAHGxE,EAIjB8F,EAJiB/C,EAKXiL,EALW1N,EAMjB4N,EANiBhO,EAOXiO,CAAAA,CAAAA,IAER5H,EAAe0H,EACf9N,IAAW,KAd8CX,EAelD,IAAIP,EAAKsH,EAAT,EAAA,EAfkD0C,EAiB5C9I,EAAOd,OAjBqC,QAmBzDE,EAAI,EACDA,EAAI0O,EAAU1O,IAACC,EACb2C,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,EAAeuB,EAAE5E,QAAQ3B,CAAVuG,CAAAA,EAAAA,KAE/BvG,EAAIgH,EAAchH,IAACC,EACjB2C,WAAW5C,EAAG,CAAA,EAAA,OAEhBY,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,mBAAAA,MAGT,SAAwBoE,EAASuB,EAAiC,CAAA,IAAxB3F,EAAwB,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAJ,KACtDqE,EAAUD,EAAElF,OACZ2O,EAAUlI,EAAEzG,OACd4O,EAAWD,EACXxJ,EAAUwJ,IAJkDjO,EAKnDyE,GALmD,IAO5D+B,EAAe/B,EACfrE,IAAW,KARiDX,EASrD,IAAIP,EAAKsH,EAAT,EAAA,EATqDrE,EAW/C/B,EAAOd,OAXwC,QAa5DE,EAAI,EACDA,EAAI0O,EAAU1O,IAACC,EACb2C,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,EAAe,CAACuB,EAAE5E,QAAQ3B,CAAVuG,CAAAA,EAAAA,KAEhCvG,EAAIiF,EAASjF,IAACC,EACZ2C,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,CAAAA,EAAAA,KAEhBhF,EAAIgH,EAAchH,IAACC,EACjB2C,WAAW5C,EAAG,CAAA,EAAA,OAEhBY,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,eAAAA,MAGT,SAAoBoE,EAASuB,EAAiC,CAAA,IAAxB3F,EAAwB,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAJ,KACpDqE,EAAUD,EAAElF,OACZ2O,EAAUlI,EAAEzG,OACZ4O,EAAWD,EAH6C,GAIxDxJ,EAAUwJ,EAAS,CAAAjO,EACVyE,EADU,IAEf0J,EAAM3J,EACN4J,EAAY3J,EAHGxE,EAIjB8F,EAJiB/C,EAKXiL,EALW1N,EAMjB4N,EANiBhO,EAOXiO,CAAAA,CAAAA,IAER5H,EAAe/B,EACfrE,IAAW,KAd6CX,EAejD,IAAIP,EAAKsH,EAAT,EAAA,EAfiD0C,EAiB3C9I,EAAOd,OAjBoC,QAmBxDE,EAAI,EACDA,EAAI0O,EAAU1O,IAACC,EACb2C,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,EAAeuB,EAAE5E,QAAQ3B,CAAVuG,CAAAA,EAAAA,KAE/BvG,EAAIiF,EAASjF,IAACC,EACZ2C,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,CAAAA,EAAAA,KAEhBhF,EAAIgH,EAAchH,IAACC,EACjB2C,WAAW5C,EAAG,CAAA,EAAA,OAEhBY,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,gBAAAA,MAGT,SAAqBoE,EAASuB,EAAiC,CAAA,IAAxB3F,EAAwB,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAJ,KACrDqE,EAAUD,EAAElF,OACZ2O,EAAUlI,EAAEzG,OACZ4O,EAAWD,EAH8C,GAIzDxJ,EAAUwJ,EAAS,CAAAjO,EACVyE,EADU,IAEf0J,EAAM3J,EACN4J,EAAY3J,EAHGxE,EAIjB8F,EAJiB/C,EAKXiL,EALW1N,EAMjB4N,EANiBhO,EAOXiO,CAAAA,CAAAA,IAER5H,EAAe/B,EACfrE,IAAW,KAd8CX,EAelD,IAAIP,EAAKsH,EAAT,EAAA,EAfkD0C,EAiB5C9I,EAAOd,OAjBqC,QAmBzDE,EAAI,EACDA,EAAI0O,EAAU1O,IAACC,EACb2C,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,EAAeuB,EAAE5E,QAAQ3B,CAAVuG,CAAAA,EAAAA,KAE/BvG,EAAIiF,EAASjF,IAACC,EACZ2C,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,CAAAA,EAAAA,KAEhBhF,EAAIgH,EAAchH,IAACC,EACjB2C,WAAW5C,EAAG,CAAA,EAAA,OAEhBY,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,oBAAAA,MAGT,SAAyBoE,EAASuB,EAAO,CAAA,IACjCsI,EAAO7J,EAAElF,OAASyG,EAAEzG,OAAAA,GACtB+O,GAAS,EAAG,OAAOA,EAFgB,QAGnC7O,EAAIgF,EAAElF,OAAS,EACP,GAALE,GAAUgF,EAAErD,QAAQ3B,CAAVgF,IAAiBuB,EAAE5E,QAAQ3B,CAAVuG,GAJK/C,IAAA,MAK/B,GAAJxD,EAAc,EACXgF,EAAEpB,gBAAgB5D,CAAlBgF,EAAuBuB,EAAE3C,gBAAgB5D,CAAlBuG,EAAuB,EAAI,EAAC,CAAA,EAAA,CAAA,IAAA,uBAAA,MAG5D,SAA4BuI,EAAoBlN,EAC5CmN,EAAmBC,EAAwB,CAAA,GACzCpN,IAAe,EAAfA,CAAAA,QACEqN,EAAqB,MAAbrN,EACRsN,EAAStN,IAAe,GAC1BI,EAAQ,EACRC,EAAO,EACFjC,EAAI,EAAGA,EAAI8O,EAAahP,OAAQE,IAAKgP,IAAoB,CAAA,IAC5DG,EAAMJ,EAAYpN,QAAQqN,CAApBD,EACJK,EAAKN,EAAanN,QAAQ3B,CAArB8O,EACLO,EAAa,MAALD,EACRE,EAASF,IAAO,GAChBG,EAAO7P,EAAK4C,OAAO+M,EAAOJ,CAAnBvP,EACP8P,EAAQ9P,EAAK4C,OAAO+M,EAAOH,CAAnBxP,EACR+P,GAAQ/P,EAAK4C,OAAOgN,EAAQL,CAApBvP,EACRgQ,GAAQhQ,EAAK4C,OAAOgN,EAAQJ,CAApBxP,EARkD8F,GASzDvD,EAAOsN,EAAOvN,EAT2CW,EAUxDwM,IAAQ,GAVgD3J,GAWzD,WAXyDA,KAY/C,MAARgK,IAAmB,MAAgB,MAARC,KAAmB,IAZS9M,GAavDwM,IAAQ,GAb+ChP,EAczDuP,IAASF,IAAU,KAAOC,KAAU,IAdqBxP,EAepD2C,WAAWoM,EAAwB,WAANG,CAAAA,CAAAA,CAAAA,KAEpCnN,IAAU,GAAKC,IAAS,EAAG+M,IAAoB,CAAA,IAChDG,GAAMJ,EAAYpN,QAAQqN,CAApBD,EAAAA,IACH/M,EAAQC,EAFqC9B,EAG7C,EAH6CwC,EAI5CwM,KAAQ,GAJoClP,EAKxC2C,WAAWoM,EAAwB,WAANG,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,wBAAAA,MAI7C,SAA6BQ,EAAcC,EAAgB/N,EACvD2B,EAAW5C,EAAY,CAAA,QACrBoB,EAAQH,EACRI,EAAO,EACFjC,EAAI,EAAGA,EAAIwD,EAAGxD,IAAK,CAAA,IACpBc,EAAQ6O,EAAOhO,QAAQ3B,CAAf2P,EACRE,EAAKnQ,EAAK4C,OAAe,MAARxB,EAAgB8O,CAA5BlQ,EACLoQ,EAAKpQ,EAAK4C,OAAOxB,IAAU,GAAI8O,CAA1BlQ,EACL8F,EAAIqK,IAAY,MAALC,IAAgB,IAAM7N,EAAOD,EAJpBW,EAKlB6C,IAAM,GALYrF,EAMnB2P,IAAO,GANYtP,EAOnBoC,WAAW5C,EAAO,WAAJwF,CAAAA,CAAAA,CAAAA,GAEnB5E,EAAOd,OAAS0D,EAAAA,IAAAA,EACXZ,WAAWY,IAAKxB,EAAQC,CAAAA,EACxBuB,EAAI5C,EAAOd,QAAAA,EACT8C,WAAWY,IAAK,CAAA,UAGrBxB,EAAQC,IAAS,EAAG,MAAM,IAAIX,MAAM,oBAAV,CAAA,CAAA,EAAA,CAAA,IAAA,qBAAA,MAgClC,SAA0B0D,EAASsC,EACL,CAAA,IAA1BF,EAA0B,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAJ,KACpBA,IAAa,OAAMA,EAAW,IAAI1H,EAAKsF,EAAElF,OAAX,EAAA,GADN,QAExB6H,EAAY,EACP3H,EAAe,EAAXgF,EAAElF,OAAa,EAAQ,GAALE,EAAQA,GAAK,EAAG,CAAA,IACzCqN,GAAU1F,GAAa,GAAM3C,EAAEhC,YAAYhD,CAAdgF,KAAsB,EACjD+K,EAAgC,EAAnB1C,EAAQ/F,EAFkB9D,EAGb,EAAnB6J,EAAQ/F,EAHwB9G,GAInCmH,GAAa,GAAM3C,EAAEhC,YAAYhD,EAAI,CAAlBgF,KAA0B,EAJV,IAKvCgL,EAAgC,EAAnB3C,EAAQ/F,EAAAA,EACK,EAAnB+F,EAAQ/F,EANwBrH,EAOpC2C,WAAW5C,IAAM,EAAI+P,GAAa,GAAMC,CAAAA,CAAAA,CAAAA,OAE5C5I,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,qBAAAA,MAGT,SAA0BpC,EAASsC,EAAe,CAAA,QAGxC+F,EAFJ1F,EAAY,EACP3H,EAAe,EAAXgF,EAAElF,OAAa,EAAQ,GAALE,EAAQA,IAC/BqN,GAAU1F,GAAa,GAAM3C,EAAEhC,YAAYhD,CAAdgF,KAAsB,EAAAxB,EACzB,EAAnB6J,EAAQ/F,EAAAA,OAEhBK,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,qBAAAA,MAST,SAA0BsI,EAAgB3I,EACtC4I,EAAuBC,EAAsB,CAAA,IAEzC3M,EAAI8D,EAAQ8I,kBAAR9I,EACJ+I,EAAK/I,EAAQxH,OACbiM,EAAIkE,EAASG,kBAATH,EAA+BzM,EACrC8M,EAAI,KACJJ,IAN2CvN,EAOzC,IAAIjD,EAAMqM,EAAI,IAAO,EAArB,EAAA,EAPyCpJ,EAQ3CiE,mBAAAA,GAR2C,IAUzC2J,EAAQ,IAAI7Q,EAAM8D,EAAI,IAAO,EAArB,EAAA,EAAAkG,EACR9C,mBAAAA,EAXyC,IAazClD,EAAQhE,EAAK8Q,QAAQlJ,EAAQtE,YAAYQ,EAAI,CAAxB8D,CAAb5H,EACF,EAARgE,IAd2C3C,EAenCrB,EAAK+Q,mBAAmBnJ,EAAS5D,EAAO,CAAxChE,GAfmC,QAiBzCS,EAAIT,EAAK+Q,mBAAmBR,EAAUvM,EAAO,CAAzChE,EAEJgR,EAAMpJ,EAAQtE,YAAYQ,EAAI,CAAxB8D,EACRqJ,EAAkB,EACbC,EAAI7E,EAAQ,GAAL6E,EAAQA,IAAK,CAAA,IAEvBC,EAAO,MACLC,GAAM3Q,EAAE6C,YAAY4N,EAAIpN,CAAlBrD,EAHe,GAIvB2Q,KAAQJ,EAAK,CAAA,IACTrD,IAAUyD,IAAO,GAAM3Q,EAAE6C,YAAY4N,EAAIpN,EAAI,CAAtBrD,KAA8B,EAAA4L,EACpC,EAAfsB,GAAQqD,EAFD,QAGXK,GAAuB,EAAf1D,GAAQqD,EACdM,GAAM1J,EAAQtE,YAAYQ,EAAI,CAAxB8D,EACN2J,GAAO9Q,EAAE6C,YAAY4N,EAAIpN,EAAI,CAAtBrD,EACLT,EAAK4C,OAAOuO,EAAMG,EAAlBtR,IAA2B,GAAQqR,IAAQ,GAAME,MAAU,IANpDlF,IAAAN,IAQLiF,EARK,EASF,MAAPK,MATS,CAJU,CAAA7Q,EAiBtBgR,sBAAsB5J,EAASuJ,EAAM,EAAGR,EAAIE,CAAAA,EAjBtB,IAkBvB7P,GAAIP,EAAEgR,aAAaZ,EAAOK,EAAGpN,EAAI,CAA7BrD,EACJO,KAAM,IAnBiBoL,GAoBrB3L,EAAEiR,aAAa9J,EAASsJ,EAAGpN,CAA3BrD,EApBqB+B,EAqBvBe,eAAe2N,EAAIpN,EAAgC,MAA5BrD,EAAE6C,YAAY4N,EAAIpN,CAAlBrD,EAAuBO,EAAAA,EArBvBqL,KAwBvBmE,IACM,EAAJU,EAzBqBhL,EA0BLiL,GAAQ,GA1BHlO,EA6BXC,WAAWgO,IAAM,EAAGD,EAAkBE,CAAAA,EA7B3B,CAAA,GAiCzBV,EAAAA,OAAAA,EACAkB,oBAAoB3N,CAAAA,EAClBwM,EACK,CAAA,SAAYI,EAAZ,UAAmCnQ,CAAnC,EAEFA,EAAAA,GAEL+P,EAAc,OAAQI,EAAR,MAEZ,IAAIhP,MAAM,aAAV,CAAA,CAAA,EAAA,CAAA,IAAA,UAAA,MAGR,SAAeuC,EAAa,CAAA,OACnBnE,EAAKgC,QAAQmC,CAAbnE,EAAsB,EAAA,CAAA,EAAA,CAAA,IAAA,qBAAA,MA0F/B,SAA0BsF,EAAStB,EAAe4N,EAAa,CAAA,IACvD9N,EAAIwB,EAAElF,OAENc,EAAS,IAAIlB,EADE8D,EAAI8N,EACV,EAAA,EAH8C,GAIzD5N,IAAU,EAAG,CAAA,QACN1D,EAAI,EAAGA,EAAIwD,EAAGxD,IAACwD,EAAWZ,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,CAAAA,EAAAA,MAClC,GAAXsM,GAAc1Q,EAAOgC,WAAWY,EAAG,CAArB5C,EACXA,CAAAA,CAAAA,QAIDsB,EAFJF,EAAQ,EACHhC,EAAI,EAAGA,EAAIwD,EAAGxD,IACfkC,EAAI8C,EAAErD,QAAQ3B,CAAVgF,EAAAA,EACHpC,WAAW5C,EAAmB,WAAdkC,GAAKwB,EAAuB1B,CAAAA,EAAAA,EAC3CE,IAAO,GAAKwB,EAAAA,MAEP,GAAX4N,GAAAA,EACK1O,WAAWY,EAAGxB,CAAAA,EAEhBpB,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,wBAAAA,MAGT,SAA6BoE,EAASuB,EAAO,CAAA,IACrC7C,EAAQhE,EAAK6R,gBAAgBhL,CAArB7G,EAAAA,GACF,EAARgE,EAAW,MAAM,IAAInD,WAAW,gBAAf,EAFsB,IAGrCiR,EAA4B,EAAd9N,EAAQ,GACtB+N,EAAY/N,EAAQ,GACpB5D,EAASkF,EAAElF,OACX4R,EAAOD,IAAc,GACbzM,EAAErD,QAAQ7B,EAAS,CAAnBkF,IAA2B,GAAKyM,GAAgB,EACxDzK,EAAelH,EAAS0R,GAAcE,EAAO,EAAI,GACjD9Q,EAAS,IAAIlB,EAAKsH,EAAchC,EAAEjF,IAAzB,EAT4B,GAUvC0R,IAAc,EAAG,CAAA,QACfzR,EAAI,EACDA,EAAIwR,EAAYxR,IAAC0J,EAAW9G,WAAW5C,EAAG,CAAA,EAAA,KAC1CA,EAAIgH,EAAchH,IAAC0J,EACjB9G,WAAW5C,EAAGgF,EAAErD,QAAQ3B,EAAIwR,CAAdxM,CAAAA,CAJzB,KAMO,CAAA,QACDhD,EAAQ,EACHhC,EAAI,EAAGA,EAAIwR,EAAYxR,IAAC0J,EAAW9G,WAAW5C,EAAG,CAAA,EAAA,QAElDkC,EADClC,EAAI,EAAGA,EAAIF,EAAQE,IACpBkC,EAAI8C,EAAErD,QAAQ3B,CAAVgF,EAAAA,EACHpC,WACH5C,EAAIwR,EAAgC,WAAlBtP,GAAKuP,EAA2BzP,CAAAA,EAAAA,EAC9CE,IAAO,GAAKuP,EAAAA,GAElBC,EAAAA,EACK9O,WAAW9C,EAAS0R,EAAYxP,CAAAA,UAEnCA,IAAU,EAAG,MAAM,IAAIV,MAAM,oBAAV,CAAA,CAAA,OAGpBV,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,yBAAAA,MAGT,SAA8BoE,EAASuB,EAAO,CAAA,IACtCzG,EAASkF,EAAElF,OACXC,EAAOiF,EAAEjF,KACT2D,EAAQhE,EAAK6R,gBAAgBhL,CAArB7G,EAH8B,GAIhC,EAARgE,EAAW,OAAOhE,EAAKiS,sBAAsB5R,CAA3BL,EAJsB,IAKtC8R,EAA4B,EAAd9N,EAAQ,GACtB+N,EAAY/N,EAAQ,GACtBsD,EAAelH,EAAS0R,EAPgB,GAQxB,GAAhBxK,EAAmB,OAAOtH,EAAKiS,sBAAsB5R,CAA3BL,EAAP,IAKnBkS,EAAa,GAAA,GACb7R,GAAM,IAEHiF,EAAErD,QAAQ6P,CAAVxM,GADS,GAAKyM,GAAa,IACO,EAAnC/H,EACW,OAAA,SAEJ1J,EAAI,EAAGA,EAAIwR,EAAYxR,IAAC,GAC3BgF,EAAErD,QAAQ3B,CAAVgF,IAAiB,EAAG,CAAA0E,EACT,GADS,KAAA,EApBc,GA4BxCkI,GAAiBH,IAAc,EAAG,CAAA,IAE9B5K,EAAM7B,EAAErD,QAAQ7B,EAAS,CAAnBkF,EACgB,CAAC6B,GAAQ,GACZG,GAAY,CAAA,IAEnCpG,EAAS,IAAIlB,EAAKsH,EAAcjH,CAAvB,EAAA,GACT0R,IAAc,EAAG,CAAA5L,EAEZjD,WAAWoE,EAAe,EAAG,CAAA,EAFjB,QAGVhH,EAAIwR,EAAYxR,EAAIF,EAAQE,IAAC6F,EAC7BjD,WAAW5C,EAAIwR,EAAYxM,EAAErD,QAAQ3B,CAAVgF,CAAAA,CAJtC,KAMO,CAAA,QAIG9C,EAHJF,EAAQgD,EAAErD,QAAQ6P,CAAVxM,IAA0ByM,EAChCjQ,GAAO1B,EAAS0R,EAAa,EAC1BxR,GAAI,EAAGA,GAAIwB,GAAMxB,KAClBkC,EAAI8C,EAAErD,QAAQ3B,GAAIwR,EAAa,CAA3BxM,EAAAA,EACHpC,WAAW5C,GAA8B,WAAzBkC,GAAM,GAAKuP,EAA4BzP,CAAAA,EAAAA,EACtDE,IAAMuP,EAAAA,EAET7O,WAAWpB,GAAMQ,CAAAA,CAAAA,CAAAA,OAEtB4P,IAAAA,EAGOlS,EAAK4G,iBAAiB1F,EAAtBlB,GAAoCkB,CAApClB,GAEJkB,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,wBAAAA,MAGT,SAA6Bb,EAAa,CAAA,OACpCA,EACKL,EAAK4E,WAAW,EAAhB5E,EAAAA,EAEFA,EAAK0E,OAAL1E,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,kBAAAA,MAGT,SAAuBsF,EAAO,CAAA,GACb,EAAXA,EAAElF,OAAY,MAAO,GAAP,IACZ+D,EAAQmB,EAAEpB,gBAAgB,CAAlBoB,EAFc,OAGxBnB,EAAQnE,EAAKgH,iBAAyB,GACnC7C,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,gBAAAA,MAGT,SAAqBgO,EAAwB,CAAA,IAAdC,EAAc,EAAA,UAAA,QAAA,UAAA,CAAA,IAAA,OAAA,UAAA,CAAA,EAAT,UACL,GAAzBpN,EAAOmN,CAAAA,IAAQ,UACfA,EAAIlN,cAAgBjF,EAAM,OAAOmS,EAAP,GAC1B,OAAOE,QAAW,aAChBrN,EAAOqN,OAAOC,WAAAA,IAAgB,SAAU,CAAA,IACtCC,EAAeJ,EAAIE,OAAOC,WAAR,EAAA,GACpBC,EAAc,CAAA,IACVrN,EAAYqN,EAAaH,CAAD,EAAA,GAC1BpN,EAAOE,CAAAA,IAAc,SAAU,OAAOA,EAAP,MAC7B,IAAIG,UAAU,0CAAd,CAAA,CAAA,CAAA,IAGJmN,EAAUL,EAAIK,QAAAA,GAChBA,EAAS,CAAA,IACLtN,EAAYsN,EAAQC,KAAKN,CAAbK,EAAAA,GACdxN,EAAOE,CAAAA,IAAc,SAAU,OAAOA,CAAAA,CAAAA,IAEtC3D,EAAW4Q,EAAI5Q,SAAAA,GACjBA,EAAU,CAAA,IACN2D,EAAY3D,EAASkR,KAAKN,CAAd5Q,EAAAA,GACdyD,EAAOE,CAAAA,IAAc,SAAU,OAAOA,CAAAA,CAAAA,MAEtC,IAAIG,UAAU,0CAAd,CAAA,CAAA,EAAA,CAAA,IAAA,cAAA,MAGR,SAAmBlB,EAAc,CAAA,OAC3BnE,EAAKoJ,WAAWjF,CAAhBnE,EAA+BmE,EAC5B,CAAEA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,aAAAA,MAGX,SAAkBA,EAAc,CAAA,OACvBa,EAAOb,CAAAA,IAAU,UAAYA,IAAU,MACvCA,EAAMc,cAAgBjF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,oBAAAA,MAG/B,SAAyB8D,EAAWwB,EAAO,CAAA,QACnC2B,EAAiC,GAAhBnD,EAAI,IAAM,GAC3B5C,EAAS,IAAIlB,EAAKiH,EAAc3B,EAAEjF,IAAzB,EACTyB,EAAOmF,EAAe,EACnB3G,EAAI,EAAGA,EAAIwB,EAAMxB,IAACwD,EAClBZ,WAAW5C,EAAGgF,EAAErD,QAAQ3B,CAAVgF,CAAAA,EAAAA,IAEnB6B,EAAM7B,EAAErD,QAAQH,CAAVwD,EAAAA,GACLxB,EAAI,IAAQ,EAAG,CAAA,IACZ4O,EAAO,GAAM5O,EAAI,GAAAb,EAChBkE,GAAOuL,IAAUA,CAAAA,CAAAA,OAAAA,EAEnBxP,WAAWpB,EAAMqF,CAAAA,EACjBjG,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,iCAAAA,MAGT,SAAsC4C,EAAWwB,EAC7CqC,EAAmB,CAAA,QAAA7D,EAMPjE,KAAK8S,IAEX7M,EAPFmB,EAAiC,GAAhBnD,EAAI,IAAM,GAC3B5C,EAAS,IAAIlB,EAAKiH,EAAcU,CAAvB,EACXrH,EAAI,EACFwB,EAAOmF,EAAe,EACxBxD,EAAS,EACPmP,EAAQ/S,EAASiC,EAAMwD,EAAElF,MAAjBP,EACPS,EAAIsS,EAAOtS,IACVwF,EAAI,EAAIR,EAAErD,QAAQ3B,CAAVgF,EAAe7B,EAAAA,EACP,EAAZqC,IAAM,GAAA7C,EACTC,WAAW5C,EAAO,WAAJwF,CAAAA,EAAAA,KAEhBxF,EAAIwB,EAAMxB,IAAC2C,EACTC,WAAW5C,EAA4B,EAAd,WAAV,CAACmD,CAAAA,EAbJ,IAiBjBoP,EAFA1L,EAAMrF,EAAOwD,EAAElF,OAASkF,EAAErD,QAAQH,CAAVwD,EAAkB,EACxCwN,EAAkBhP,EAAI,GAhBP,GAkBjBgP,IAAoB,EAApBA,EACU,EAAI3L,EAAM1D,EAAAA,GACT,eACR,CAAA,IACCiP,EAAO,GAAKI,EAAAA,EACX3L,GAAOuL,IAAUA,EAFnB,IAGCK,GAAa,GAAM,GAAKL,EAAAA,EAClBK,GAAa5L,EAAM1D,EAJ1B0C,GAKS4M,GAAa,CAAA,CAAA,OAAA9P,EAEtBC,WAAWpB,EAAM+Q,CAAAA,EACjB3R,EAAOyF,OAAPzF,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,aAAAA,MAgCT,SAAkB8R,EAAcrN,EAAgB,CAAA,QAC1CzE,EAAS,EACK,EAAXyE,GACU,EAAXA,IAAczE,GAAU8R,GAHgB3R,KAI9B,EAJ8BN,GAKpCiS,EALoC,OAOvC9R,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,kBAAAA,MAuCT,SAAuBoE,EAAS,CAAA,OAClB,WAAJA,KAAoBA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EA36DbuH,KAAAA,CAAAA,EAAAA,OAs4DV7M,GAAAA,aAAAA,SACAA,GAAAA,iBAAmBA,GAAKY,cAAgB,EAQxCZ,GAAAA,kBAAoB,CACzB,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC9B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GALU,EAQpBA,GAAAA,yBAA2B,EAC3BA,GAAAA,8BAAgC,GAAKA,GAAKuL,yBAC1CvL,GAAAA,mBAAAA,CAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,GAAAA,EACAA,GAAAA,uBAAyB,IAAIiT,YAAY,CAAhB,EACzBjT,GAAAA,uBAAyB,IAAIkT,aAAalT,GAAKmT,sBAAtB,EACzBnT,GAAAA,qBAAuB,IAAIoT,WAAWpT,GAAKmT,sBAApB,EAKvBnT,GAAAA,QAAUH,EAAa,SAASyF,EAAS,CAAA,OACvCzF,EAAWyF,CAAXzF,EAAgB,CADR,EAEb,SAASyF,EAAS,CAAA,IAAAjE,EAEaxB,KAAKwT,IAFlB/S,EAEPT,KAAKyT,IAFE,OAChBhO,IAAM,EAAU,GAC6B,EAA1C,IAAqC,EAA/BzF,EAASyF,IAAM,CAAfzF,EAAAA,EAJR,EAMAG,GAAAA,OAASH,GAAa,SAASW,EAAW2F,EAAS,CAAA,MACvC,GAAT3F,EAAI2F,CADP,EAAAgG,EAAA,CAAA,ICp7DT,IAAAoH,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CACA,IAAIC,GAAa,OAAO,QAAU,UAAY,QAAU,OAAO,SAAW,QAAU,OAEpFD,GAAO,QAAUC,KCHjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAGbC,GAAW,OAAO,MAAQ,UAAY,MAAQ,KAAK,SAAW,QAAU,KAGxEC,GAAOF,IAAcC,IAAY,SAAS,aAAa,EAAE,EAE7DF,GAAO,QAAUG,KCRjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAO,KAGPC,GAASD,GAAK,OAElBD,GAAO,QAAUE,KCLjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAS,KAGTC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAO7BE,GAAuBF,GAAY,SAGnCG,GAAiBJ,GAASA,GAAO,YAAc,OASnD,SAASK,GAAUC,EAAO,CACxB,IAAIC,EAAQL,GAAe,KAAKI,EAAOF,EAAc,EACjDI,EAAMF,EAAMF,EAAc,EAE9B,GAAI,CACFE,EAAMF,EAAc,EAAI,OACxB,IAAIK,EAAW,EACjB,OAASC,EAAG,CAAC,CAEb,IAAIC,EAASR,GAAqB,KAAKG,CAAK,EAC5C,OAAIG,IACEF,EACFD,EAAMF,EAAc,EAAII,EAExB,OAAOF,EAAMF,EAAc,GAGxBO,CACT,CAEAZ,GAAO,QAAUM,KC7CjB,IAAAO,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CACA,IAAIC,GAAc,OAAO,UAOrBC,GAAuBD,GAAY,SASvC,SAASE,GAAeC,EAAO,CAC7B,OAAOF,GAAqB,KAAKE,CAAK,CACxC,CAEAJ,GAAO,QAAUG,KCrBjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAS,KACTC,GAAY,KACZC,GAAiB,KAGjBC,GAAU,gBACVC,GAAe,qBAGfC,GAAiBL,GAASA,GAAO,YAAc,OASnD,SAASM,GAAWC,EAAO,CACzB,OAAIA,GAAS,KACJA,IAAU,OAAYH,GAAeD,GAEtCE,IAAkBA,MAAkB,OAAOE,CAAK,EACpDN,GAAUM,CAAK,EACfL,GAAeK,CAAK,CAC1B,CAEAR,GAAO,QAAUO,KC3BjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAyBA,SAASC,GAASC,EAAO,CACvB,IAAIC,EAAO,OAAOD,EAClB,OAAOA,GAAS,OAASC,GAAQ,UAAYA,GAAQ,WACvD,CAEAH,GAAO,QAAUC,KC9BjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KACbC,GAAW,KAGXC,GAAW,yBACXC,GAAU,oBACVC,GAAS,6BACTC,GAAW,iBAmBf,SAASC,GAAWC,EAAO,CACzB,GAAI,CAACN,GAASM,CAAK,EACjB,MAAO,GAIT,IAAIC,EAAMR,GAAWO,CAAK,EAC1B,OAAOC,GAAOL,IAAWK,GAAOJ,IAAUI,GAAON,IAAYM,GAAOH,EACtE,CAEAN,GAAO,QAAUO,KCpCjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAO,KAGPC,GAAaD,GAAK,oBAAoB,EAE1CD,GAAO,QAAUE,KCLjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAGbC,GAAc,UAAW,CAC3B,IAAIC,EAAM,SAAS,KAAKF,IAAcA,GAAW,MAAQA,GAAW,KAAK,UAAY,EAAE,EACvF,OAAOE,EAAO,iBAAmBA,EAAO,EAC1C,EAAE,EASF,SAASC,GAASC,EAAM,CACtB,MAAO,CAAC,CAACH,IAAeA,MAAcG,CACxC,CAEAL,GAAO,QAAUI,KCnBjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CACA,IAAIC,GAAY,SAAS,UAGrBC,GAAeD,GAAU,SAS7B,SAASE,GAASC,EAAM,CACtB,GAAIA,GAAQ,KAAM,CAChB,GAAI,CACF,OAAOF,GAAa,KAAKE,CAAI,CAC/B,OAAS,EAAG,CAAC,CACb,GAAI,CACF,OAAQA,EAAO,EACjB,OAAS,EAAG,CAAC,CACf,CACA,MAAO,EACT,CAEAJ,GAAO,QAAUG,KCzBjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KACbC,GAAW,KACXC,GAAW,KACXC,GAAW,KAMXC,GAAe,sBAGfC,GAAe,8BAGfC,GAAY,SAAS,UACrBC,GAAc,OAAO,UAGrBC,GAAeF,GAAU,SAGzBG,GAAiBF,GAAY,eAG7BG,GAAa,OAAO,IACtBF,GAAa,KAAKC,EAAc,EAAE,QAAQL,GAAc,MAAM,EAC7D,QAAQ,yDAA0D,OAAO,EAAI,GAChF,EAUA,SAASO,GAAaC,EAAO,CAC3B,GAAI,CAACV,GAASU,CAAK,GAAKX,GAASW,CAAK,EACpC,MAAO,GAET,IAAIC,EAAUb,GAAWY,CAAK,EAAIF,GAAaL,GAC/C,OAAOQ,EAAQ,KAAKV,GAASS,CAAK,CAAC,CACrC,CAEAb,GAAO,QAAUY,KC9CjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAQA,SAASC,GAASC,EAAQC,EAAK,CAC7B,OAAOD,GAAU,KAAO,OAAYA,EAAOC,CAAG,CAChD,CAEAH,GAAO,QAAUC,KCZjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KACfC,GAAW,KAUf,SAASC,GAAUC,EAAQC,EAAK,CAC9B,IAAIC,EAAQJ,GAASE,EAAQC,CAAG,EAChC,OAAOJ,GAAaK,CAAK,EAAIA,EAAQ,MACvC,CAEAN,GAAO,QAAUG,KChBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KAEZC,GAAkB,UAAW,CAC/B,GAAI,CACF,IAAIC,EAAOF,GAAU,OAAQ,gBAAgB,EAC7C,OAAAE,EAAK,CAAC,EAAG,GAAI,CAAC,CAAC,EACRA,CACT,OAAS,EAAG,CAAC,CACf,EAAE,EAEFH,GAAO,QAAUE,KCVjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAiB,KAWrB,SAASC,GAAgBC,EAAQC,EAAKC,EAAO,CACvCD,GAAO,aAAeH,GACxBA,GAAeE,EAAQC,EAAK,CAC1B,aAAgB,GAChB,WAAc,GACd,MAASC,EACT,SAAY,EACd,CAAC,EAEDF,EAAOC,CAAG,EAAIC,CAElB,CAEAL,GAAO,QAAUE,KCxBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAUA,SAASC,GAAgBC,EAAOC,EAAQC,EAAUC,EAAa,CAI7D,QAHIC,EAAQ,GACRC,EAASL,GAAS,KAAO,EAAIA,EAAM,OAEhC,EAAEI,EAAQC,GAAQ,CACvB,IAAIC,EAAQN,EAAMI,CAAK,EACvBH,EAAOE,EAAaG,EAAOJ,EAASI,CAAK,EAAGN,CAAK,CACnD,CACA,OAAOG,CACT,CAEAL,GAAO,QAAUC,KCrBjB,IAAAQ,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAOA,SAASC,GAAcC,EAAW,CAChC,OAAO,SAASC,EAAQC,EAAUC,EAAU,CAM1C,QALIC,EAAQ,GACRC,EAAW,OAAOJ,CAAM,EACxBK,EAAQH,EAASF,CAAM,EACvBM,EAASD,EAAM,OAEZC,KAAU,CACf,IAAIC,EAAMF,EAAMN,EAAYO,EAAS,EAAEH,CAAK,EAC5C,GAAIF,EAASG,EAASG,CAAG,EAAGA,EAAKH,CAAQ,IAAM,GAC7C,KAEJ,CACA,OAAOJ,CACT,CACF,CAEAH,GAAO,QAAUC,KCxBjB,IAAAU,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAgB,KAahBC,GAAUD,GAAc,EAE5BD,GAAO,QAAUE,KCfjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAAUC,EAAGC,EAAU,CAI9B,QAHIC,EAAQ,GACRC,EAAS,MAAMH,CAAC,EAEb,EAAEE,EAAQF,GACfG,EAAOD,CAAK,EAAID,EAASC,CAAK,EAEhC,OAAOC,CACT,CAEAL,GAAO,QAAUC,KCnBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAwBA,SAASC,GAAaC,EAAO,CAC3B,OAAOA,GAAS,MAAQ,OAAOA,GAAS,QAC1C,CAEAF,GAAO,QAAUC,KC5BjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KACbC,GAAe,KAGfC,GAAU,qBASd,SAASC,GAAgBC,EAAO,CAC9B,OAAOH,GAAaG,CAAK,GAAKJ,GAAWI,CAAK,GAAKF,EACrD,CAEAH,GAAO,QAAUI,KCjBjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAkB,KAClBC,GAAe,KAGfC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAG7BE,GAAuBF,GAAY,qBAoBnCG,GAAcL,GAAgB,UAAW,CAAE,OAAO,SAAW,EAAE,CAAC,EAAIA,GAAkB,SAASM,EAAO,CACxG,OAAOL,GAAaK,CAAK,GAAKH,GAAe,KAAKG,EAAO,QAAQ,GAC/D,CAACF,GAAqB,KAAKE,EAAO,QAAQ,CAC9C,EAEAP,GAAO,QAAUM,KCnCjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAuBA,IAAIC,GAAU,MAAM,QAEpBD,GAAO,QAAUC,KCzBjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAaA,SAASC,IAAY,CACnB,MAAO,EACT,CAEAD,GAAO,QAAUC,KCjBjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAO,KACPC,GAAY,KAGZC,GAAc,OAAOJ,IAAW,UAAYA,IAAW,CAACA,GAAQ,UAAYA,GAG5EK,GAAaD,IAAe,OAAOH,IAAU,UAAYA,IAAU,CAACA,GAAO,UAAYA,GAGvFK,GAAgBD,IAAcA,GAAW,UAAYD,GAGrDG,GAASD,GAAgBJ,GAAK,OAAS,OAGvCM,GAAiBD,GAASA,GAAO,SAAW,OAmB5CE,GAAWD,IAAkBL,GAEjCF,GAAO,QAAUQ,KCrCjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CACA,IAAIC,GAAmB,iBAGnBC,GAAW,mBAUf,SAASC,GAAQC,EAAOC,EAAQ,CAC9B,IAAIC,EAAO,OAAOF,EAClB,OAAAC,EAASA,GAAU,KAAOJ,GAAmBI,EAEtC,CAAC,CAACA,IACNC,GAAQ,UACNA,GAAQ,UAAYJ,GAAS,KAAKE,CAAK,IACrCA,EAAQ,IAAMA,EAAQ,GAAK,GAAKA,EAAQC,CACjD,CAEAL,GAAO,QAAUG,KCxBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CACA,IAAIC,GAAmB,iBA4BvB,SAASC,GAASC,EAAO,CACvB,OAAO,OAAOA,GAAS,UACrBA,EAAQ,IAAMA,EAAQ,GAAK,GAAKA,GAASF,EAC7C,CAEAD,GAAO,QAAUE,KClCjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KACbC,GAAW,KACXC,GAAe,KAGfC,GAAU,qBACVC,GAAW,iBACXC,GAAU,mBACVC,GAAU,gBACVC,GAAW,iBACXC,GAAU,oBACVC,GAAS,eACTC,GAAY,kBACZC,GAAY,kBACZC,GAAY,kBACZC,GAAS,eACTC,GAAY,kBACZC,GAAa,mBAEbC,GAAiB,uBACjBC,GAAc,oBACdC,GAAa,wBACbC,GAAa,wBACbC,GAAU,qBACVC,GAAW,sBACXC,GAAW,sBACXC,GAAW,sBACXC,GAAkB,6BAClBC,GAAY,uBACZC,GAAY,uBAGZC,GAAiB,CAAC,EACtBA,GAAeT,EAAU,EAAIS,GAAeR,EAAU,EACtDQ,GAAeP,EAAO,EAAIO,GAAeN,EAAQ,EACjDM,GAAeL,EAAQ,EAAIK,GAAeJ,EAAQ,EAClDI,GAAeH,EAAe,EAAIG,GAAeF,EAAS,EAC1DE,GAAeD,EAAS,EAAI,GAC5BC,GAAexB,EAAO,EAAIwB,GAAevB,EAAQ,EACjDuB,GAAeX,EAAc,EAAIW,GAAetB,EAAO,EACvDsB,GAAeV,EAAW,EAAIU,GAAerB,EAAO,EACpDqB,GAAepB,EAAQ,EAAIoB,GAAenB,EAAO,EACjDmB,GAAelB,EAAM,EAAIkB,GAAejB,EAAS,EACjDiB,GAAehB,EAAS,EAAIgB,GAAef,EAAS,EACpDe,GAAed,EAAM,EAAIc,GAAeb,EAAS,EACjDa,GAAeZ,EAAU,EAAI,GAS7B,SAASa,GAAiBC,EAAO,CAC/B,OAAO3B,GAAa2B,CAAK,GACvB5B,GAAS4B,EAAM,MAAM,GAAK,CAAC,CAACF,GAAe3B,GAAW6B,CAAK,CAAC,CAChE,CAEA9B,GAAO,QAAU6B,KC3DjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAOA,SAASC,GAAUC,EAAM,CACvB,OAAO,SAASC,EAAO,CACrB,OAAOD,EAAKC,CAAK,CACnB,CACF,CAEAH,GAAO,QAAUC,KCbjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAGbC,GAAc,OAAOH,IAAW,UAAYA,IAAW,CAACA,GAAQ,UAAYA,GAG5EI,GAAaD,IAAe,OAAOF,IAAU,UAAYA,IAAU,CAACA,GAAO,UAAYA,GAGvFI,GAAgBD,IAAcA,GAAW,UAAYD,GAGrDG,GAAcD,IAAiBH,GAAW,QAG1CK,GAAY,UAAW,CACzB,GAAI,CAEF,IAAIC,EAAQJ,IAAcA,GAAW,SAAWA,GAAW,QAAQ,MAAM,EAAE,MAE3E,OAAII,GAKGF,IAAeA,GAAY,SAAWA,GAAY,QAAQ,MAAM,CACzE,OAAS,EAAG,CAAC,CACf,EAAE,EAEFL,GAAO,QAAUM,KC7BjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAmB,KACnBC,GAAY,KACZC,GAAW,KAGXC,GAAmBD,IAAYA,GAAS,aAmBxCE,GAAeD,GAAmBF,GAAUE,EAAgB,EAAIH,GAEpED,GAAO,QAAUK,KC1BjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAc,KACdC,GAAU,KACVC,GAAW,KACXC,GAAU,KACVC,GAAe,KAGfC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAUjC,SAASE,GAAcC,EAAOC,EAAW,CACvC,IAAIC,EAAQT,GAAQO,CAAK,EACrBG,EAAQ,CAACD,GAASV,GAAYQ,CAAK,EACnCI,EAAS,CAACF,GAAS,CAACC,GAAST,GAASM,CAAK,EAC3CK,EAAS,CAACH,GAAS,CAACC,GAAS,CAACC,GAAUR,GAAaI,CAAK,EAC1DM,EAAcJ,GAASC,GAASC,GAAUC,EAC1CE,EAASD,EAAcf,GAAUS,EAAM,OAAQ,MAAM,EAAI,CAAC,EAC1DQ,EAASD,EAAO,OAEpB,QAASE,KAAOT,GACTC,GAAaH,GAAe,KAAKE,EAAOS,CAAG,IAC5C,EAAEH,IAECG,GAAO,UAENL,IAAWK,GAAO,UAAYA,GAAO,WAErCJ,IAAWI,GAAO,UAAYA,GAAO,cAAgBA,GAAO,eAE7Dd,GAAQc,EAAKD,CAAM,KAExBD,EAAO,KAAKE,CAAG,EAGnB,OAAOF,CACT,CAEAjB,GAAO,QAAUS,KChDjB,IAAAW,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CACA,IAAIC,GAAc,OAAO,UASzB,SAASC,GAAYC,EAAO,CAC1B,IAAIC,EAAOD,GAASA,EAAM,YACtBE,EAAS,OAAOD,GAAQ,YAAcA,EAAK,WAAcH,GAE7D,OAAOE,IAAUE,CACnB,CAEAL,GAAO,QAAUE,KCjBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAQA,SAASC,GAAQC,EAAMC,EAAW,CAChC,OAAO,SAASC,EAAK,CACnB,OAAOF,EAAKC,EAAUC,CAAG,CAAC,CAC5B,CACF,CAEAJ,GAAO,QAAUC,KCdjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAU,KAGVC,GAAaD,GAAQ,OAAO,KAAM,MAAM,EAE5CD,GAAO,QAAUE,KCLjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAc,KACdC,GAAa,KAGbC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eASjC,SAASE,GAASC,EAAQ,CACxB,GAAI,CAACL,GAAYK,CAAM,EACrB,OAAOJ,GAAWI,CAAM,EAE1B,IAAIC,EAAS,CAAC,EACd,QAASC,KAAO,OAAOF,CAAM,EACvBF,GAAe,KAAKE,EAAQE,CAAG,GAAKA,GAAO,eAC7CD,EAAO,KAAKC,CAAG,EAGnB,OAAOD,CACT,CAEAP,GAAO,QAAUK,KC7BjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KACbC,GAAW,KA2Bf,SAASC,GAAYC,EAAO,CAC1B,OAAOA,GAAS,MAAQF,GAASE,EAAM,MAAM,GAAK,CAACH,GAAWG,CAAK,CACrE,CAEAJ,GAAO,QAAUG,KChCjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAgB,KAChBC,GAAW,KACXC,GAAc,KA8BlB,SAASC,GAAKC,EAAQ,CACpB,OAAOF,GAAYE,CAAM,EAAIJ,GAAcI,CAAM,EAAIH,GAASG,CAAM,CACtE,CAEAL,GAAO,QAAUI,KCpCjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAU,KACVC,GAAO,KAUX,SAASC,GAAWC,EAAQC,EAAU,CACpC,OAAOD,GAAUH,GAAQG,EAAQC,EAAUH,EAAI,CACjD,CAEAF,GAAO,QAAUG,KCfjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAc,KAUlB,SAASC,GAAeC,EAAUC,EAAW,CAC3C,OAAO,SAASC,EAAYC,EAAU,CACpC,GAAID,GAAc,KAChB,OAAOA,EAET,GAAI,CAACJ,GAAYI,CAAU,EACzB,OAAOF,EAASE,EAAYC,CAAQ,EAMtC,QAJIC,EAASF,EAAW,OACpBG,EAAQJ,EAAYG,EAAS,GAC7BE,EAAW,OAAOJ,CAAU,GAExBD,EAAYI,IAAU,EAAEA,EAAQD,IAClCD,EAASG,EAASD,CAAK,EAAGA,EAAOC,CAAQ,IAAM,IAAnD,CAIF,OAAOJ,CACT,CACF,CAEAL,GAAO,QAAUE,KC/BjB,IAAAQ,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KACbC,GAAiB,KAUjBC,GAAWD,GAAeD,EAAU,EAExCD,GAAO,QAAUG,KCbjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KAaf,SAASC,GAAeC,EAAYC,EAAQC,EAAUC,EAAa,CACjE,OAAAL,GAASE,EAAY,SAASI,EAAOC,EAAKL,EAAY,CACpDC,EAAOE,EAAaC,EAAOF,EAASE,CAAK,EAAGJ,CAAU,CACxD,CAAC,EACMG,CACT,CAEAN,GAAO,QAAUE,KCpBjB,IAAAO,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAOA,SAASC,IAAiB,CACxB,KAAK,SAAW,CAAC,EACjB,KAAK,KAAO,CACd,CAEAD,GAAO,QAAUC,KCZjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAgCA,SAASC,GAAGC,EAAOC,EAAO,CACxB,OAAOD,IAAUC,GAAUD,IAAUA,GAASC,IAAUA,CAC1D,CAEAH,GAAO,QAAUC,KCpCjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAK,KAUT,SAASC,GAAaC,EAAOC,EAAK,CAEhC,QADIC,EAASF,EAAM,OACZE,KACL,GAAIJ,GAAGE,EAAME,CAAM,EAAE,CAAC,EAAGD,CAAG,EAC1B,OAAOC,EAGX,MAAO,EACT,CAEAL,GAAO,QAAUE,KCpBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAGfC,GAAa,MAAM,UAGnBC,GAASD,GAAW,OAWxB,SAASE,GAAgBC,EAAK,CAC5B,IAAIC,EAAO,KAAK,SACZC,EAAQN,GAAaK,EAAMD,CAAG,EAElC,GAAIE,EAAQ,EACV,MAAO,GAET,IAAIC,EAAYF,EAAK,OAAS,EAC9B,OAAIC,GAASC,EACXF,EAAK,IAAI,EAETH,GAAO,KAAKG,EAAMC,EAAO,CAAC,EAE5B,EAAE,KAAK,KACA,EACT,CAEAP,GAAO,QAAUI,KClCjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAWnB,SAASC,GAAaC,EAAK,CACzB,IAAIC,EAAO,KAAK,SACZC,EAAQJ,GAAaG,EAAMD,CAAG,EAElC,OAAOE,EAAQ,EAAI,OAAYD,EAAKC,CAAK,EAAE,CAAC,CAC9C,CAEAL,GAAO,QAAUE,KClBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAWnB,SAASC,GAAaC,EAAK,CACzB,OAAOF,GAAa,KAAK,SAAUE,CAAG,EAAI,EAC5C,CAEAH,GAAO,QAAUE,KCfjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAYnB,SAASC,GAAaC,EAAKC,EAAO,CAChC,IAAIC,EAAO,KAAK,SACZC,EAAQL,GAAaI,EAAMF,CAAG,EAElC,OAAIG,EAAQ,GACV,EAAE,KAAK,KACPD,EAAK,KAAK,CAACF,EAAKC,CAAK,CAAC,GAEtBC,EAAKC,CAAK,EAAE,CAAC,EAAIF,EAEZ,IACT,CAEAJ,GAAO,QAAUE,KCzBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAiB,KACjBC,GAAkB,KAClBC,GAAe,KACfC,GAAe,KACfC,GAAe,KASnB,SAASC,GAAUC,EAAS,CAC1B,IAAIC,EAAQ,GACRC,EAASF,GAAW,KAAO,EAAIA,EAAQ,OAG3C,IADA,KAAK,MAAM,EACJ,EAAEC,EAAQC,GAAQ,CACvB,IAAIC,EAAQH,EAAQC,CAAK,EACzB,KAAK,IAAIE,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,CAC7B,CACF,CAGAJ,GAAU,UAAU,MAAQL,GAC5BK,GAAU,UAAU,OAAYJ,GAChCI,GAAU,UAAU,IAAMH,GAC1BG,GAAU,UAAU,IAAMF,GAC1BE,GAAU,UAAU,IAAMD,GAE1BL,GAAO,QAAUM,KC/BjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KAShB,SAASC,IAAa,CACpB,KAAK,SAAW,IAAID,GACpB,KAAK,KAAO,CACd,CAEAD,GAAO,QAAUE,KCdjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAAYC,EAAK,CACxB,IAAIC,EAAO,KAAK,SACZC,EAASD,EAAK,OAAUD,CAAG,EAE/B,YAAK,KAAOC,EAAK,KACVC,CACT,CAEAJ,GAAO,QAAUC,KCjBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAASC,EAAK,CACrB,OAAO,KAAK,SAAS,IAAIA,CAAG,CAC9B,CAEAF,GAAO,QAAUC,KCbjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAASC,EAAK,CACrB,OAAO,KAAK,SAAS,IAAIA,CAAG,CAC9B,CAEAF,GAAO,QAAUC,KCbjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAO,KAGPC,GAAMF,GAAUC,GAAM,KAAK,EAE/BF,GAAO,QAAUG,KCNjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KAGZC,GAAeD,GAAU,OAAQ,QAAQ,EAE7CD,GAAO,QAAUE,KCLjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KASnB,SAASC,IAAY,CACnB,KAAK,SAAWD,GAAeA,GAAa,IAAI,EAAI,CAAC,EACrD,KAAK,KAAO,CACd,CAEAD,GAAO,QAAUE,KCdjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAUA,SAASC,GAAWC,EAAK,CACvB,IAAIC,EAAS,KAAK,IAAID,CAAG,GAAK,OAAO,KAAK,SAASA,CAAG,EACtD,YAAK,MAAQC,EAAS,EAAI,EACnBA,CACT,CAEAH,GAAO,QAAUC,KChBjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAGfC,GAAiB,4BAGjBC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAWjC,SAASE,GAAQC,EAAK,CACpB,IAAIC,EAAO,KAAK,SAChB,GAAIN,GAAc,CAChB,IAAIO,EAASD,EAAKD,CAAG,EACrB,OAAOE,IAAWN,GAAiB,OAAYM,CACjD,CACA,OAAOJ,GAAe,KAAKG,EAAMD,CAAG,EAAIC,EAAKD,CAAG,EAAI,MACtD,CAEAN,GAAO,QAAUK,KC7BjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAGfC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAWjC,SAASE,GAAQC,EAAK,CACpB,IAAIC,EAAO,KAAK,SAChB,OAAOL,GAAgBK,EAAKD,CAAG,IAAM,OAAaF,GAAe,KAAKG,EAAMD,CAAG,CACjF,CAEAL,GAAO,QAAUI,KCtBjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAGfC,GAAiB,4BAYrB,SAASC,GAAQC,EAAKC,EAAO,CAC3B,IAAIC,EAAO,KAAK,SAChB,YAAK,MAAQ,KAAK,IAAIF,CAAG,EAAI,EAAI,EACjCE,EAAKF,CAAG,EAAKH,IAAgBI,IAAU,OAAaH,GAAiBG,EAC9D,IACT,CAEAL,GAAO,QAAUG,KCtBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAa,KACbC,GAAU,KACVC,GAAU,KACVC,GAAU,KASd,SAASC,GAAKC,EAAS,CACrB,IAAIC,EAAQ,GACRC,EAASF,GAAW,KAAO,EAAIA,EAAQ,OAG3C,IADA,KAAK,MAAM,EACJ,EAAEC,EAAQC,GAAQ,CACvB,IAAIC,EAAQH,EAAQC,CAAK,EACzB,KAAK,IAAIE,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,CAC7B,CACF,CAGAJ,GAAK,UAAU,MAAQL,GACvBK,GAAK,UAAU,OAAYJ,GAC3BI,GAAK,UAAU,IAAMH,GACrBG,GAAK,UAAU,IAAMF,GACrBE,GAAK,UAAU,IAAMD,GAErBL,GAAO,QAAUM,KC/BjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAO,KACPC,GAAY,KACZC,GAAM,KASV,SAASC,IAAgB,CACvB,KAAK,KAAO,EACZ,KAAK,SAAW,CACd,KAAQ,IAAIH,GACZ,IAAO,IAAKE,IAAOD,IACnB,OAAU,IAAID,EAChB,CACF,CAEAD,GAAO,QAAUI,KCpBjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAOA,SAASC,GAAUC,EAAO,CACxB,IAAIC,EAAO,OAAOD,EAClB,OAAQC,GAAQ,UAAYA,GAAQ,UAAYA,GAAQ,UAAYA,GAAQ,UACvED,IAAU,YACVA,IAAU,IACjB,CAEAF,GAAO,QAAUC,KCdjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KAUhB,SAASC,GAAWC,EAAKC,EAAK,CAC5B,IAAIC,EAAOF,EAAI,SACf,OAAOF,GAAUG,CAAG,EAChBC,EAAK,OAAOD,GAAO,SAAW,SAAW,MAAM,EAC/CC,EAAK,GACX,CAEAL,GAAO,QAAUE,KCjBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAWjB,SAASC,GAAeC,EAAK,CAC3B,IAAIC,EAASH,GAAW,KAAME,CAAG,EAAE,OAAUA,CAAG,EAChD,YAAK,MAAQC,EAAS,EAAI,EACnBA,CACT,CAEAJ,GAAO,QAAUE,KCjBjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAWjB,SAASC,GAAYC,EAAK,CACxB,OAAOF,GAAW,KAAME,CAAG,EAAE,IAAIA,CAAG,CACtC,CAEAH,GAAO,QAAUE,KCfjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAWjB,SAASC,GAAYC,EAAK,CACxB,OAAOF,GAAW,KAAME,CAAG,EAAE,IAAIA,CAAG,CACtC,CAEAH,GAAO,QAAUE,KCfjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAYjB,SAASC,GAAYC,EAAKC,EAAO,CAC/B,IAAIC,EAAOJ,GAAW,KAAME,CAAG,EAC3BG,EAAOD,EAAK,KAEhB,OAAAA,EAAK,IAAIF,EAAKC,CAAK,EACnB,KAAK,MAAQC,EAAK,MAAQC,EAAO,EAAI,EAC9B,IACT,CAEAN,GAAO,QAAUE,KCrBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAgB,KAChBC,GAAiB,KACjBC,GAAc,KACdC,GAAc,KACdC,GAAc,KASlB,SAASC,GAASC,EAAS,CACzB,IAAIC,EAAQ,GACRC,EAASF,GAAW,KAAO,EAAIA,EAAQ,OAG3C,IADA,KAAK,MAAM,EACJ,EAAEC,EAAQC,GAAQ,CACvB,IAAIC,EAAQH,EAAQC,CAAK,EACzB,KAAK,IAAIE,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,CAC7B,CACF,CAGAJ,GAAS,UAAU,MAAQL,GAC3BK,GAAS,UAAU,OAAYJ,GAC/BI,GAAS,UAAU,IAAMH,GACzBG,GAAS,UAAU,IAAMF,GACzBE,GAAS,UAAU,IAAMD,GAEzBL,GAAO,QAAUM,KC/BjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAM,KACNC,GAAW,KAGXC,GAAmB,IAYvB,SAASC,GAASC,EAAKC,EAAO,CAC5B,IAAIC,EAAO,KAAK,SAChB,GAAIA,aAAgBP,GAAW,CAC7B,IAAIQ,EAAQD,EAAK,SACjB,GAAI,CAACN,IAAQO,EAAM,OAASL,GAAmB,EAC7C,OAAAK,EAAM,KAAK,CAACH,EAAKC,CAAK,CAAC,EACvB,KAAK,KAAO,EAAEC,EAAK,KACZ,KAETA,EAAO,KAAK,SAAW,IAAIL,GAASM,CAAK,CAC3C,CACA,OAAAD,EAAK,IAAIF,EAAKC,CAAK,EACnB,KAAK,KAAOC,EAAK,KACV,IACT,CAEAR,GAAO,QAAUK,KCjCjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAa,KACbC,GAAc,KACdC,GAAW,KACXC,GAAW,KACXC,GAAW,KASf,SAASC,GAAMC,EAAS,CACtB,IAAIC,EAAO,KAAK,SAAW,IAAIR,GAAUO,CAAO,EAChD,KAAK,KAAOC,EAAK,IACnB,CAGAF,GAAM,UAAU,MAAQL,GACxBK,GAAM,UAAU,OAAYJ,GAC5BI,GAAM,UAAU,IAAMH,GACtBG,GAAM,UAAU,IAAMF,GACtBE,GAAM,UAAU,IAAMD,GAEtBN,GAAO,QAAUO,KC1BjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CACA,IAAIC,GAAiB,4BAYrB,SAASC,GAAYC,EAAO,CAC1B,YAAK,SAAS,IAAIA,EAAOF,EAAc,EAChC,IACT,CAEAD,GAAO,QAAUE,KClBjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAAYC,EAAO,CAC1B,OAAO,KAAK,SAAS,IAAIA,CAAK,CAChC,CAEAF,GAAO,QAAUC,KCbjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KACXC,GAAc,KACdC,GAAc,KAUlB,SAASC,GAASC,EAAQ,CACxB,IAAIC,EAAQ,GACRC,EAASF,GAAU,KAAO,EAAIA,EAAO,OAGzC,IADA,KAAK,SAAW,IAAIJ,GACb,EAAEK,EAAQC,GACf,KAAK,IAAIF,EAAOC,CAAK,CAAC,CAE1B,CAGAF,GAAS,UAAU,IAAMA,GAAS,UAAU,KAAOF,GACnDE,GAAS,UAAU,IAAMD,GAEzBH,GAAO,QAAUI,KC1BjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAUA,SAASC,GAAUC,EAAOC,EAAW,CAInC,QAHIC,EAAQ,GACRC,EAASH,GAAS,KAAO,EAAIA,EAAM,OAEhC,EAAEE,EAAQC,GACf,GAAIF,EAAUD,EAAME,CAAK,EAAGA,EAAOF,CAAK,EACtC,MAAO,GAGX,MAAO,EACT,CAEAF,GAAO,QAAUC,KCtBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAQA,SAASC,GAASC,EAAOC,EAAK,CAC5B,OAAOD,EAAM,IAAIC,CAAG,CACtB,CAEAH,GAAO,QAAUC,KCZjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KACXC,GAAY,KACZC,GAAW,KAGXC,GAAuB,EACvBC,GAAyB,EAe7B,SAASC,GAAYC,EAAOC,EAAOC,EAASC,EAAYC,EAAWC,EAAO,CACxE,IAAIC,EAAYJ,EAAUL,GACtBU,EAAYP,EAAM,OAClBQ,EAAYP,EAAM,OAEtB,GAAIM,GAAaC,GAAa,EAAEF,GAAaE,EAAYD,GACvD,MAAO,GAGT,IAAIE,EAAaJ,EAAM,IAAIL,CAAK,EAC5BU,EAAaL,EAAM,IAAIJ,CAAK,EAChC,GAAIQ,GAAcC,EAChB,OAAOD,GAAcR,GAASS,GAAcV,EAE9C,IAAIW,EAAQ,GACRC,EAAS,GACTC,EAAQX,EAAUJ,GAA0B,IAAIJ,GAAW,OAM/D,IAJAW,EAAM,IAAIL,EAAOC,CAAK,EACtBI,EAAM,IAAIJ,EAAOD,CAAK,EAGf,EAAEW,EAAQJ,GAAW,CAC1B,IAAIO,EAAWd,EAAMW,CAAK,EACtBI,EAAWd,EAAMU,CAAK,EAE1B,GAAIR,EACF,IAAIa,EAAWV,EACXH,EAAWY,EAAUD,EAAUH,EAAOV,EAAOD,EAAOK,CAAK,EACzDF,EAAWW,EAAUC,EAAUJ,EAAOX,EAAOC,EAAOI,CAAK,EAE/D,GAAIW,IAAa,OAAW,CAC1B,GAAIA,EACF,SAEFJ,EAAS,GACT,KACF,CAEA,GAAIC,GACF,GAAI,CAAClB,GAAUM,EAAO,SAASc,EAAUE,EAAU,CAC7C,GAAI,CAACrB,GAASiB,EAAMI,CAAQ,IACvBH,IAAaC,GAAYX,EAAUU,EAAUC,EAAUb,EAASC,EAAYE,CAAK,GACpF,OAAOQ,EAAK,KAAKI,CAAQ,CAE7B,CAAC,EAAG,CACNL,EAAS,GACT,KACF,UACS,EACLE,IAAaC,GACXX,EAAUU,EAAUC,EAAUb,EAASC,EAAYE,CAAK,GACzD,CACLO,EAAS,GACT,KACF,CACF,CACA,OAAAP,EAAM,OAAUL,CAAK,EACrBK,EAAM,OAAUJ,CAAK,EACdW,CACT,CAEAnB,GAAO,QAAUM,KCnFjB,IAAAmB,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAO,KAGPC,GAAaD,GAAK,WAEtBD,GAAO,QAAUE,KCLjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAOA,SAASC,GAAWC,EAAK,CACvB,IAAIC,EAAQ,GACRC,EAAS,MAAMF,EAAI,IAAI,EAE3B,OAAAA,EAAI,QAAQ,SAASG,EAAOC,EAAK,CAC/BF,EAAO,EAAED,CAAK,EAAI,CAACG,EAAKD,CAAK,CAC/B,CAAC,EACMD,CACT,CAEAJ,GAAO,QAAUC,KCjBjB,IAAAM,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAOA,SAASC,GAAWC,EAAK,CACvB,IAAIC,EAAQ,GACRC,EAAS,MAAMF,EAAI,IAAI,EAE3B,OAAAA,EAAI,QAAQ,SAASG,EAAO,CAC1BD,EAAO,EAAED,CAAK,EAAIE,CACpB,CAAC,EACMD,CACT,CAEAJ,GAAO,QAAUC,KCjBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAS,KACTC,GAAa,KACbC,GAAK,KACLC,GAAc,KACdC,GAAa,KACbC,GAAa,KAGbC,GAAuB,EACvBC,GAAyB,EAGzBC,GAAU,mBACVC,GAAU,gBACVC,GAAW,iBACXC,GAAS,eACTC,GAAY,kBACZC,GAAY,kBACZC,GAAS,eACTC,GAAY,kBACZC,GAAY,kBAEZC,GAAiB,uBACjBC,GAAc,oBAGdC,GAAcnB,GAASA,GAAO,UAAY,OAC1CoB,GAAgBD,GAAcA,GAAY,QAAU,OAmBxD,SAASE,GAAWC,EAAQC,EAAOC,EAAKC,EAASC,EAAYC,EAAWC,EAAO,CAC7E,OAAQJ,EAAK,CACX,KAAKN,GACH,GAAKI,EAAO,YAAcC,EAAM,YAC3BD,EAAO,YAAcC,EAAM,WAC9B,MAAO,GAETD,EAASA,EAAO,OAChBC,EAAQA,EAAM,OAEhB,KAAKN,GACH,MAAK,EAAAK,EAAO,YAAcC,EAAM,YAC5B,CAACI,EAAU,IAAI1B,GAAWqB,CAAM,EAAG,IAAIrB,GAAWsB,CAAK,CAAC,GAK9D,KAAKf,GACL,KAAKC,GACL,KAAKG,GAGH,OAAOV,GAAG,CAACoB,EAAQ,CAACC,CAAK,EAE3B,KAAKb,GACH,OAAOY,EAAO,MAAQC,EAAM,MAAQD,EAAO,SAAWC,EAAM,QAE9D,KAAKV,GACL,KAAKE,GAIH,OAAOO,GAAWC,EAAQ,GAE5B,KAAKZ,GACH,IAAIkB,EAAUzB,GAEhB,KAAKU,GACH,IAAIgB,EAAYL,EAAUnB,GAG1B,GAFAuB,IAAYA,EAAUxB,IAElBiB,EAAO,MAAQC,EAAM,MAAQ,CAACO,EAChC,MAAO,GAGT,IAAIC,EAAUH,EAAM,IAAIN,CAAM,EAC9B,GAAIS,EACF,OAAOA,GAAWR,EAEpBE,GAAWlB,GAGXqB,EAAM,IAAIN,EAAQC,CAAK,EACvB,IAAIS,EAAS7B,GAAY0B,EAAQP,CAAM,EAAGO,EAAQN,CAAK,EAAGE,EAASC,EAAYC,EAAWC,CAAK,EAC/F,OAAAA,EAAM,OAAUN,CAAM,EACfU,EAET,KAAKhB,GACH,GAAII,GACF,OAAOA,GAAc,KAAKE,CAAM,GAAKF,GAAc,KAAKG,CAAK,CAEnE,CACA,MAAO,EACT,CAEAxB,GAAO,QAAUsB,KC/GjB,IAAAY,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAQA,SAASC,GAAUC,EAAOC,EAAQ,CAKhC,QAJIC,EAAQ,GACRC,EAASF,EAAO,OAChBG,EAASJ,EAAM,OAEZ,EAAEE,EAAQC,GACfH,EAAMI,EAASF,CAAK,EAAID,EAAOC,CAAK,EAEtC,OAAOF,CACT,CAEAF,GAAO,QAAUC,KCnBjB,IAAAM,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAU,KAad,SAASC,GAAeC,EAAQC,EAAUC,EAAa,CACrD,IAAIC,EAASF,EAASD,CAAM,EAC5B,OAAOF,GAAQE,CAAM,EAAIG,EAASN,GAAUM,EAAQD,EAAYF,CAAM,CAAC,CACzE,CAEAJ,GAAO,QAAUG,KCnBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAAYC,EAAOC,EAAW,CAMrC,QALIC,EAAQ,GACRC,EAASH,GAAS,KAAO,EAAIA,EAAM,OACnCI,EAAW,EACXC,EAAS,CAAC,EAEP,EAAEH,EAAQC,GAAQ,CACvB,IAAIG,EAAQN,EAAME,CAAK,EACnBD,EAAUK,EAAOJ,EAAOF,CAAK,IAC/BK,EAAOD,GAAU,EAAIE,EAEzB,CACA,OAAOD,CACT,CAEAP,GAAO,QAAUC,KCxBjB,IAAAQ,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAkBA,SAASC,IAAY,CACnB,MAAO,CAAC,CACV,CAEAD,GAAO,QAAUC,KCtBjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAc,KACdC,GAAY,KAGZC,GAAc,OAAO,UAGrBC,GAAuBD,GAAY,qBAGnCE,GAAmB,OAAO,sBAS1BC,GAAcD,GAA+B,SAASE,EAAQ,CAChE,OAAIA,GAAU,KACL,CAAC,GAEVA,EAAS,OAAOA,CAAM,EACfN,GAAYI,GAAiBE,CAAM,EAAG,SAASC,EAAQ,CAC5D,OAAOJ,GAAqB,KAAKG,EAAQC,CAAM,CACjD,CAAC,EACH,EARqCN,GAUrCF,GAAO,QAAUM,KC7BjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAiB,KACjBC,GAAa,KACbC,GAAO,KASX,SAASC,GAAWC,EAAQ,CAC1B,OAAOJ,GAAeI,EAAQF,GAAMD,EAAU,CAChD,CAEAF,GAAO,QAAUI,KCfjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KAGbC,GAAuB,EAGvBC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAejC,SAASE,GAAaC,EAAQC,EAAOC,EAASC,EAAYC,EAAWC,EAAO,CAC1E,IAAIC,EAAYJ,EAAUN,GACtBW,EAAWZ,GAAWK,CAAM,EAC5BQ,EAAYD,EAAS,OACrBE,EAAWd,GAAWM,CAAK,EAC3BS,EAAYD,EAAS,OAEzB,GAAID,GAAaE,GAAa,CAACJ,EAC7B,MAAO,GAGT,QADIK,EAAQH,EACLG,KAAS,CACd,IAAIC,EAAML,EAASI,CAAK,EACxB,GAAI,EAAEL,EAAYM,KAAOX,EAAQH,GAAe,KAAKG,EAAOW,CAAG,GAC7D,MAAO,EAEX,CAEA,IAAIC,EAAaR,EAAM,IAAIL,CAAM,EAC7Bc,EAAaT,EAAM,IAAIJ,CAAK,EAChC,GAAIY,GAAcC,EAChB,OAAOD,GAAcZ,GAASa,GAAcd,EAE9C,IAAIe,EAAS,GACbV,EAAM,IAAIL,EAAQC,CAAK,EACvBI,EAAM,IAAIJ,EAAOD,CAAM,EAGvB,QADIgB,EAAWV,EACR,EAAEK,EAAQH,GAAW,CAC1BI,EAAML,EAASI,CAAK,EACpB,IAAIM,EAAWjB,EAAOY,CAAG,EACrBM,EAAWjB,EAAMW,CAAG,EAExB,GAAIT,EACF,IAAIgB,EAAWb,EACXH,EAAWe,EAAUD,EAAUL,EAAKX,EAAOD,EAAQK,CAAK,EACxDF,EAAWc,EAAUC,EAAUN,EAAKZ,EAAQC,EAAOI,CAAK,EAG9D,GAAI,EAAEc,IAAa,OACVF,IAAaC,GAAYd,EAAUa,EAAUC,EAAUhB,EAASC,EAAYE,CAAK,EAClFc,GACD,CACLJ,EAAS,GACT,KACF,CACAC,IAAaA,EAAWJ,GAAO,cACjC,CACA,GAAIG,GAAU,CAACC,EAAU,CACvB,IAAII,EAAUpB,EAAO,YACjBqB,EAAUpB,EAAM,YAGhBmB,GAAWC,GACV,gBAAiBrB,GAAU,gBAAiBC,GAC7C,EAAE,OAAOmB,GAAW,YAAcA,aAAmBA,GACnD,OAAOC,GAAW,YAAcA,aAAmBA,KACvDN,EAAS,GAEb,CACA,OAAAV,EAAM,OAAUL,CAAM,EACtBK,EAAM,OAAUJ,CAAK,EACdc,CACT,CAEArB,GAAO,QAAUK,KCzFjB,IAAAuB,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAO,KAGPC,GAAWF,GAAUC,GAAM,UAAU,EAEzCF,GAAO,QAAUG,KCNjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAO,KAGPC,GAAUF,GAAUC,GAAM,SAAS,EAEvCF,GAAO,QAAUG,KCNjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAO,KAGPC,GAAMF,GAAUC,GAAM,KAAK,EAE/BF,GAAO,QAAUG,KCNjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAO,KAGPC,GAAUF,GAAUC,GAAM,SAAS,EAEvCF,GAAO,QAAUG,KCNjB,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KACXC,GAAM,KACNC,GAAU,KACVC,GAAM,KACNC,GAAU,KACVC,GAAa,KACbC,GAAW,KAGXC,GAAS,eACTC,GAAY,kBACZC,GAAa,mBACbC,GAAS,eACTC,GAAa,mBAEbC,GAAc,oBAGdC,GAAqBP,GAASN,EAAQ,EACtCc,GAAgBR,GAASL,EAAG,EAC5Bc,GAAoBT,GAASJ,EAAO,EACpCc,GAAgBV,GAASH,EAAG,EAC5Bc,GAAoBX,GAASF,EAAO,EASpCc,GAASb,IAGRL,IAAYkB,GAAO,IAAIlB,GAAS,IAAI,YAAY,CAAC,CAAC,CAAC,GAAKY,IACxDX,IAAOiB,GAAO,IAAIjB,EAAG,GAAKM,IAC1BL,IAAWgB,GAAOhB,GAAQ,QAAQ,CAAC,GAAKO,IACxCN,IAAOe,GAAO,IAAIf,EAAG,GAAKO,IAC1BN,IAAWc,GAAO,IAAId,EAAO,GAAKO,MACrCO,GAAS,SAASC,EAAO,CACvB,IAAIC,EAASf,GAAWc,CAAK,EACzBE,EAAOD,GAAUZ,GAAYW,EAAM,YAAc,OACjDG,EAAaD,EAAOf,GAASe,CAAI,EAAI,GAEzC,GAAIC,EACF,OAAQA,EAAY,CAClB,KAAKT,GAAoB,OAAOD,GAChC,KAAKE,GAAe,OAAOP,GAC3B,KAAKQ,GAAmB,OAAON,GAC/B,KAAKO,GAAe,OAAON,GAC3B,KAAKO,GAAmB,OAAON,EACjC,CAEF,OAAOS,CACT,GAGFrB,GAAO,QAAUmB,KCzDjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAQ,KACRC,GAAc,KACdC,GAAa,KACbC,GAAe,KACfC,GAAS,KACTC,GAAU,KACVC,GAAW,KACXC,GAAe,KAGfC,GAAuB,EAGvBC,GAAU,qBACVC,GAAW,iBACXC,GAAY,kBAGZC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAgBjC,SAASE,GAAgBC,EAAQC,EAAOC,EAASC,EAAYC,EAAWC,EAAO,CAC7E,IAAIC,EAAWhB,GAAQU,CAAM,EACzBO,EAAWjB,GAAQW,CAAK,EACxBO,EAASF,EAAWX,GAAWN,GAAOW,CAAM,EAC5CS,EAASF,EAAWZ,GAAWN,GAAOY,CAAK,EAE/CO,EAASA,GAAUd,GAAUE,GAAYY,EACzCC,EAASA,GAAUf,GAAUE,GAAYa,EAEzC,IAAIC,EAAWF,GAAUZ,GACrBe,EAAWF,GAAUb,GACrBgB,EAAYJ,GAAUC,EAE1B,GAAIG,GAAarB,GAASS,CAAM,EAAG,CACjC,GAAI,CAACT,GAASU,CAAK,EACjB,MAAO,GAETK,EAAW,GACXI,EAAW,EACb,CACA,GAAIE,GAAa,CAACF,EAChB,OAAAL,IAAUA,EAAQ,IAAIpB,IACdqB,GAAYd,GAAaQ,CAAM,EACnCd,GAAYc,EAAQC,EAAOC,EAASC,EAAYC,EAAWC,CAAK,EAChElB,GAAWa,EAAQC,EAAOO,EAAQN,EAASC,EAAYC,EAAWC,CAAK,EAE7E,GAAI,EAAEH,EAAUT,IAAuB,CACrC,IAAIoB,EAAeH,GAAYZ,GAAe,KAAKE,EAAQ,aAAa,EACpEc,EAAeH,GAAYb,GAAe,KAAKG,EAAO,aAAa,EAEvE,GAAIY,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAeb,EAAO,MAAM,EAAIA,EAC/CgB,EAAeF,EAAeb,EAAM,MAAM,EAAIA,EAElD,OAAAI,IAAUA,EAAQ,IAAIpB,IACfmB,EAAUW,EAAcC,EAAcd,EAASC,EAAYE,CAAK,CACzE,CACF,CACA,OAAKO,GAGLP,IAAUA,EAAQ,IAAIpB,IACfG,GAAaY,EAAQC,EAAOC,EAASC,EAAYC,EAAWC,CAAK,GAH/D,EAIX,CAEArB,GAAO,QAAUe,KClFjB,IAAAkB,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAkB,KAClBC,GAAe,KAgBnB,SAASC,GAAYC,EAAOC,EAAOC,EAASC,EAAYC,EAAO,CAC7D,OAAIJ,IAAUC,EACL,GAELD,GAAS,MAAQC,GAAS,MAAS,CAACH,GAAaE,CAAK,GAAK,CAACF,GAAaG,CAAK,EACzED,IAAUA,GAASC,IAAUA,EAE/BJ,GAAgBG,EAAOC,EAAOC,EAASC,EAAYJ,GAAaK,CAAK,CAC9E,CAEAR,GAAO,QAAUG,KC3BjB,IAAAM,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAQ,KACRC,GAAc,KAGdC,GAAuB,EACvBC,GAAyB,EAY7B,SAASC,GAAYC,EAAQC,EAAQC,EAAWC,EAAY,CAC1D,IAAIC,EAAQF,EAAU,OAClBG,EAASD,EACTE,EAAe,CAACH,EAEpB,GAAIH,GAAU,KACZ,MAAO,CAACK,EAGV,IADAL,EAAS,OAAOA,CAAM,EACfI,KAAS,CACd,IAAIG,EAAOL,EAAUE,CAAK,EAC1B,GAAKE,GAAgBC,EAAK,CAAC,EACnBA,EAAK,CAAC,IAAMP,EAAOO,EAAK,CAAC,CAAC,EAC1B,EAAEA,EAAK,CAAC,IAAKP,GAEnB,MAAO,EAEX,CACA,KAAO,EAAEI,EAAQC,GAAQ,CACvBE,EAAOL,EAAUE,CAAK,EACtB,IAAII,EAAMD,EAAK,CAAC,EACZE,EAAWT,EAAOQ,CAAG,EACrBE,EAAWH,EAAK,CAAC,EAErB,GAAID,GAAgBC,EAAK,CAAC,GACxB,GAAIE,IAAa,QAAa,EAAED,KAAOR,GACrC,MAAO,OAEJ,CACL,IAAIW,EAAQ,IAAIhB,GAChB,GAAIQ,EACF,IAAIS,EAAST,EAAWM,EAAUC,EAAUF,EAAKR,EAAQC,EAAQU,CAAK,EAExE,GAAI,EAAEC,IAAW,OACThB,GAAYc,EAAUD,EAAUZ,GAAuBC,GAAwBK,EAAYQ,CAAK,EAChGC,GAEN,MAAO,EAEX,CACF,CACA,MAAO,EACT,CAEAlB,GAAO,QAAUK,KC7DjB,IAAAc,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KAUf,SAASC,GAAmBC,EAAO,CACjC,OAAOA,IAAUA,GAAS,CAACF,GAASE,CAAK,CAC3C,CAEAH,GAAO,QAAUE,KCdjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAqB,KACrBC,GAAO,KASX,SAASC,GAAaC,EAAQ,CAI5B,QAHIC,EAASH,GAAKE,CAAM,EACpBE,EAASD,EAAO,OAEbC,KAAU,CACf,IAAIC,EAAMF,EAAOC,CAAM,EACnBE,EAAQJ,EAAOG,CAAG,EAEtBF,EAAOC,CAAM,EAAI,CAACC,EAAKC,EAAOP,GAAmBO,CAAK,CAAC,CACzD,CACA,OAAOH,CACT,CAEAL,GAAO,QAAUG,KCvBjB,IAAAM,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAAwBC,EAAKC,EAAU,CAC9C,OAAO,SAASC,EAAQ,CACtB,OAAIA,GAAU,KACL,GAEFA,EAAOF,CAAG,IAAMC,IACpBA,IAAa,QAAcD,KAAO,OAAOE,CAAM,EACpD,CACF,CAEAJ,GAAO,QAAUC,KCnBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAc,KACdC,GAAe,KACfC,GAA0B,KAS9B,SAASC,GAAYC,EAAQ,CAC3B,IAAIC,EAAYJ,GAAaG,CAAM,EACnC,OAAIC,EAAU,QAAU,GAAKA,EAAU,CAAC,EAAE,CAAC,EAClCH,GAAwBG,EAAU,CAAC,EAAE,CAAC,EAAGA,EAAU,CAAC,EAAE,CAAC,CAAC,EAE1D,SAASC,EAAQ,CACtB,OAAOA,IAAWF,GAAUJ,GAAYM,EAAQF,EAAQC,CAAS,CACnE,CACF,CAEAN,GAAO,QAAUI,KCrBjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAa,KACbC,GAAe,KAGfC,GAAY,kBAmBhB,SAASC,GAASC,EAAO,CACvB,OAAO,OAAOA,GAAS,UACpBH,GAAaG,CAAK,GAAKJ,GAAWI,CAAK,GAAKF,EACjD,CAEAH,GAAO,QAAUI,KC5BjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAU,KACVC,GAAW,KAGXC,GAAe,mDACfC,GAAgB,QAUpB,SAASC,GAAMC,EAAOC,EAAQ,CAC5B,GAAIN,GAAQK,CAAK,EACf,MAAO,GAET,IAAIE,EAAO,OAAOF,EAClB,OAAIE,GAAQ,UAAYA,GAAQ,UAAYA,GAAQ,WAChDF,GAAS,MAAQJ,GAASI,CAAK,EAC1B,GAEFF,GAAc,KAAKE,CAAK,GAAK,CAACH,GAAa,KAAKG,CAAK,GACzDC,GAAU,MAAQD,KAAS,OAAOC,CAAM,CAC7C,CAEAP,GAAO,QAAUK,KC5BjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KAGXC,GAAkB,sBA8CtB,SAASC,GAAQC,EAAMC,EAAU,CAC/B,GAAI,OAAOD,GAAQ,YAAeC,GAAY,MAAQ,OAAOA,GAAY,WACvE,MAAM,IAAI,UAAUH,EAAe,EAErC,IAAII,EAAW,UAAW,CACxB,IAAIC,EAAO,UACPC,EAAMH,EAAWA,EAAS,MAAM,KAAME,CAAI,EAAIA,EAAK,CAAC,EACpDE,EAAQH,EAAS,MAErB,GAAIG,EAAM,IAAID,CAAG,EACf,OAAOC,EAAM,IAAID,CAAG,EAEtB,IAAIE,EAASN,EAAK,MAAM,KAAMG,CAAI,EAClC,OAAAD,EAAS,MAAQG,EAAM,IAAID,EAAKE,CAAM,GAAKD,EACpCC,CACT,EACA,OAAAJ,EAAS,MAAQ,IAAKH,GAAQ,OAASF,IAChCK,CACT,CAGAH,GAAQ,MAAQF,GAEhBD,GAAO,QAAUG,KCxEjB,IAAAQ,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAU,KAGVC,GAAmB,IAUvB,SAASC,GAAcC,EAAM,CAC3B,IAAIC,EAASJ,GAAQG,EAAM,SAASE,EAAK,CACvC,OAAIC,EAAM,OAASL,IACjBK,EAAM,MAAM,EAEPD,CACT,CAAC,EAEGC,EAAQF,EAAO,MACnB,OAAOA,CACT,CAEAL,GAAO,QAAUG,KCzBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAgB,KAGhBC,GAAa,mGAGbC,GAAe,WASfC,GAAeH,GAAc,SAASI,EAAQ,CAChD,IAAIC,EAAS,CAAC,EACd,OAAID,EAAO,WAAW,CAAC,IAAM,IAC3BC,EAAO,KAAK,EAAE,EAEhBD,EAAO,QAAQH,GAAY,SAASK,EAAOC,EAAQC,EAAOC,EAAW,CACnEJ,EAAO,KAAKG,EAAQC,EAAU,QAAQP,GAAc,IAAI,EAAKK,GAAUD,CAAM,CAC/E,CAAC,EACMD,CACT,CAAC,EAEDN,GAAO,QAAUI,KC1BjB,IAAAO,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CASA,SAASC,GAASC,EAAOC,EAAU,CAKjC,QAJIC,EAAQ,GACRC,EAASH,GAAS,KAAO,EAAIA,EAAM,OACnCI,EAAS,MAAMD,CAAM,EAElB,EAAED,EAAQC,GACfC,EAAOF,CAAK,EAAID,EAASD,EAAME,CAAK,EAAGA,EAAOF,CAAK,EAErD,OAAOI,CACT,CAEAN,GAAO,QAAUC,KCpBjB,IAAAM,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAS,KACTC,GAAW,KACXC,GAAU,KACVC,GAAW,KAGXC,GAAW,IAGXC,GAAcL,GAASA,GAAO,UAAY,OAC1CM,GAAiBD,GAAcA,GAAY,SAAW,OAU1D,SAASE,GAAaC,EAAO,CAE3B,GAAI,OAAOA,GAAS,SAClB,OAAOA,EAET,GAAIN,GAAQM,CAAK,EAEf,OAAOP,GAASO,EAAOD,EAAY,EAAI,GAEzC,GAAIJ,GAASK,CAAK,EAChB,OAAOF,GAAiBA,GAAe,KAAKE,CAAK,EAAI,GAEvD,IAAIC,EAAUD,EAAQ,GACtB,OAAQC,GAAU,KAAQ,EAAID,GAAU,CAACJ,GAAY,KAAOK,CAC9D,CAEAV,GAAO,QAAUQ,KCpCjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KAuBnB,SAASC,GAASC,EAAO,CACvB,OAAOA,GAAS,KAAO,GAAKF,GAAaE,CAAK,CAChD,CAEAH,GAAO,QAAUE,KC3BjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAU,KACVC,GAAQ,KACRC,GAAe,KACfC,GAAW,KAUf,SAASC,GAASC,EAAOC,EAAQ,CAC/B,OAAIN,GAAQK,CAAK,EACRA,EAEFJ,GAAMI,EAAOC,CAAM,EAAI,CAACD,CAAK,EAAIH,GAAaC,GAASE,CAAK,CAAC,CACtE,CAEAN,GAAO,QAAUK,KCpBjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KAGXC,GAAW,IASf,SAASC,GAAMC,EAAO,CACpB,GAAI,OAAOA,GAAS,UAAYH,GAASG,CAAK,EAC5C,OAAOA,EAET,IAAIC,EAAUD,EAAQ,GACtB,OAAQC,GAAU,KAAQ,EAAID,GAAU,CAACF,GAAY,KAAOG,CAC9D,CAEAL,GAAO,QAAUG,KCpBjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KACXC,GAAQ,KAUZ,SAASC,GAAQC,EAAQC,EAAM,CAC7BA,EAAOJ,GAASI,EAAMD,CAAM,EAK5B,QAHIE,EAAQ,EACRC,EAASF,EAAK,OAEXD,GAAU,MAAQE,EAAQC,GAC/BH,EAASA,EAAOF,GAAMG,EAAKC,GAAO,CAAC,CAAC,EAEtC,OAAQA,GAASA,GAASC,EAAUH,EAAS,MAC/C,CAEAJ,GAAO,QAAUG,KCvBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAU,KA2Bd,SAASC,GAAIC,EAAQC,EAAMC,EAAc,CACvC,IAAIC,EAASH,GAAU,KAAO,OAAYF,GAAQE,EAAQC,CAAI,EAC9D,OAAOE,IAAW,OAAYD,EAAeC,CAC/C,CAEAN,GAAO,QAAUE,KChCjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAQA,SAASC,GAAUC,EAAQC,EAAK,CAC9B,OAAOD,GAAU,MAAQC,KAAO,OAAOD,CAAM,CAC/C,CAEAF,GAAO,QAAUC,KCZjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAW,KACXC,GAAc,KACdC,GAAU,KACVC,GAAU,KACVC,GAAW,KACXC,GAAQ,KAWZ,SAASC,GAAQC,EAAQC,EAAMC,EAAS,CACtCD,EAAOR,GAASQ,EAAMD,CAAM,EAM5B,QAJIG,EAAQ,GACRC,EAASH,EAAK,OACdI,EAAS,GAEN,EAAEF,EAAQC,GAAQ,CACvB,IAAIE,EAAMR,GAAMG,EAAKE,CAAK,CAAC,EAC3B,GAAI,EAAEE,EAASL,GAAU,MAAQE,EAAQF,EAAQM,CAAG,GAClD,MAEFN,EAASA,EAAOM,CAAG,CACrB,CACA,OAAID,GAAU,EAAEF,GAASC,EAChBC,GAETD,EAASJ,GAAU,KAAO,EAAIA,EAAO,OAC9B,CAAC,CAACI,GAAUP,GAASO,CAAM,GAAKR,GAAQU,EAAKF,CAAM,IACvDT,GAAQK,CAAM,GAAKN,GAAYM,CAAM,GAC1C,CAEAR,GAAO,QAAUO,KCtCjB,IAAAQ,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAY,KACZC,GAAU,KA4Bd,SAASC,GAAMC,EAAQC,EAAM,CAC3B,OAAOD,GAAU,MAAQF,GAAQE,EAAQC,EAAMJ,EAAS,CAC1D,CAEAD,GAAO,QAAUG,KCjCjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAc,KACdC,GAAM,KACNC,GAAQ,KACRC,GAAQ,KACRC,GAAqB,KACrBC,GAA0B,KAC1BC,GAAQ,KAGRC,GAAuB,EACvBC,GAAyB,EAU7B,SAASC,GAAoBC,EAAMC,EAAU,CAC3C,OAAIR,GAAMO,CAAI,GAAKN,GAAmBO,CAAQ,EACrCN,GAAwBC,GAAMI,CAAI,EAAGC,CAAQ,EAE/C,SAASC,EAAQ,CACtB,IAAIC,EAAWZ,GAAIW,EAAQF,CAAI,EAC/B,OAAQG,IAAa,QAAaA,IAAaF,EAC3CT,GAAMU,EAAQF,CAAI,EAClBV,GAAYW,EAAUE,EAAUN,GAAuBC,EAAsB,CACnF,CACF,CAEAT,GAAO,QAAUU,KChCjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAgBA,SAASC,GAASC,EAAO,CACvB,OAAOA,CACT,CAEAF,GAAO,QAAUC,KCpBjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAOA,SAASC,GAAaC,EAAK,CACzB,OAAO,SAASC,EAAQ,CACtB,OAAOA,GAAU,KAAO,OAAYA,EAAOD,CAAG,CAChD,CACF,CAEAF,GAAO,QAAUC,KCbjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAU,KASd,SAASC,GAAiBC,EAAM,CAC9B,OAAO,SAASC,EAAQ,CACtB,OAAOH,GAAQG,EAAQD,CAAI,CAC7B,CACF,CAEAH,GAAO,QAAUE,KCfjB,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAe,KACfC,GAAmB,KACnBC,GAAQ,KACRC,GAAQ,KAwBZ,SAASC,GAASC,EAAM,CACtB,OAAOH,GAAMG,CAAI,EAAIL,GAAaG,GAAME,CAAI,CAAC,EAAIJ,GAAiBI,CAAI,CACxE,CAEAN,GAAO,QAAUK,KC/BjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAc,KACdC,GAAsB,KACtBC,GAAW,KACXC,GAAU,KACVC,GAAW,KASf,SAASC,GAAaC,EAAO,CAG3B,OAAI,OAAOA,GAAS,WACXA,EAELA,GAAS,KACJJ,GAEL,OAAOI,GAAS,SACXH,GAAQG,CAAK,EAChBL,GAAoBK,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,EACtCN,GAAYM,CAAK,EAEhBF,GAASE,CAAK,CACvB,CAEAP,GAAO,QAAUM,KC9BjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAkB,KAClBC,GAAiB,KACjBC,GAAe,KACfC,GAAU,KAUd,SAASC,GAAiBC,EAAQC,EAAa,CAC7C,OAAO,SAASC,EAAYC,EAAU,CACpC,IAAIC,EAAON,GAAQI,CAAU,EAAIP,GAAkBC,GAC/CS,EAAcJ,EAAcA,EAAY,EAAI,CAAC,EAEjD,OAAOG,EAAKF,EAAYF,EAAQH,GAAaM,EAAU,CAAC,EAAGE,CAAW,CACxE,CACF,CAEAX,GAAO,QAAUK,KCtBjB,IAAAO,GAAAC,EAAA,CAAAC,GAAAC,KAAA,KAAIC,GAAkB,KAClBC,GAAmB,KA8BnBC,GAAQD,GAAiB,SAASE,EAAQC,EAAOC,EAAK,CACxDL,GAAgBG,EAAQE,EAAKD,CAAK,CACpC,CAAC,EAEDL,GAAO,QAAUG,K,iBCjCV,IAAMI,GAAOC,EAAAA,QAAKC,OAAO,CAAA,EACnBC,GAAMF,EAAAA,QAAKC,OAAO,CAAA,EAClBE,GAAMH,EAAAA,QAAKC,OAAO,CAAA,EAClBG,GAAMJ,EAAAA,QAAKC,OAAO,EAAA,EACzBI,GAAcL,EAAAA,QAAKC,OAAO,EAAA,EAC1BK,GAAQN,EAAAA,QAAKC,OAAO,EAAA,EACbM,GAAWP,EAAAA,QAAKC,OAAO,GAAA,EACvBO,GAAUR,EAAAA,QAAKC,OAAO,GAAA,EACtBQ,GAAUT,EAAAA,QAAKC,OAAO,GAAA,EAEtBS,GAAaV,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OADxB,IAAA,EAC8CQ,EAAAA,EACtDG,GAAoBZ,EAAAA,QAAKW,SAASL,GAAOG,EAAAA,EACzCI,GAAiBb,EAAAA,QAAKW,SAASD,GAAYL,EAAAA,EAGlD,SAAUS,GAAWC,EAAAA,CACzB,OAAwB,OAAVA,GAAU,SAAWf,EAAAA,QAAKC,OAAOc,EAAMC,SAAS,EAAA,CAAA,EAAOD,CACvE,CAEM,SAAUE,GAAOF,EAAAA,CACrB,OAAOf,EAAAA,QAAKkB,MAAMlB,EAAAA,QAAKmB,UAAUJ,EAAOZ,EAAAA,EAAMJ,EAAAA,CAChD,CAEM,SAAUqB,GAAIC,EAAAA,CAClB,OAAIrB,EAAAA,QAAKsB,SAASD,EAAGtB,EAAAA,EAAcC,EAAAA,QAAKuB,WAAWF,CAAAA,EAC5CA,CACT,CAEgB,SAAAG,GAAQH,EAASI,EAAAA,CAC/B,OAAOzB,EAAAA,QAAKsB,SAASD,EAAGI,CAAAA,EAAAA,GAAUzB,EAAAA,QAAK0B,YAAYL,EAAGI,CAAAA,EAAK,EAAI,CACjE,CAEgB,SAAAE,GAAON,EAASI,EAAAA,CAG9B,MAAO,CAAEG,SAFQ5B,EAAAA,QAAK6B,OAAOR,EAAGI,CAAAA,EAEbN,UADDnB,EAAAA,QAAKmB,UAAUE,EAAGI,CAAAA,CAAAA,CAEtC,CAAA,IAAAK,GAAAC,GCzBaC,EAAmB,wBAGnBC,EAAW,gBACXC,GAAgB,qBAChBC,GAAO,YACPC,EAAW,gBAEXC,GAAa,kBACbC,GAAmB,wBACnBC,GAAkB,uBAGlBC,GAAY,iBAGZC,GAAQ,aACRC,GAAS,cACTC,GAAQ,aACRC,GAAO,YACPC,GAAQ,aACRC,GAAU,eACVC,GAAU,eACVC,GAAe,oBACfC,GAAe,oBACfC,GAAc,mBAGdC,GAAO,OACPC,GAAK,KACLC,GAAK,KACLC,GAAW,OACXC,GAAW,WACXC,GAAO,UACPC,GAAW,WACXC,GAAe,qBACfC,GAAc,oBACdC,GAAS,cACTC,GAAS,SACTC,GAAU,UA8GjBC,GAAc,IAAIC,QAMlBC,GAAiBC,OAAOC,IAAI,sBAAA,GAGlCC,GAACC,YAAmBJ,EAAAA,IAAAA,GAAAA,EAAAA,EAPpB,SAAmBK,EAAAA,CACjB,OAAOP,GAAYQ,IAAID,CAAAA,CACzB,GAOA,IAAME,GAAYH,WAAmBJ,EAAAA,EAM/BQ,GAAoBP,OAAOC,IAAI,yBAAA,GAGrCO,GAACL,YAAmBI,EAAAA,IAAAA,GAAAA,EAAAA,EAPpB,SAAsBH,EAAAA,CACpBP,GAAYY,IAAIL,EAAWM,OAAOC,OAAO,IAAA,CAAA,CAC3C,GAOO,IAAMC,GAAeT,WAAmBI,EAAAA,EAAAA,SAiH/BM,GAAQT,KAAuBU,EAAAA,CAC7C,GAAA,CAAKV,GAAa,OAAoBA,GAApB,SAA+B,MAAA,GACjD,IAAMW,EAAUT,GAASF,CAAAA,EACzB,MAAA,CAAA,CAASW,GAAWD,EAAIE,MAAOC,GAAOA,KAAMF,CAAAA,CAC9C,CACgB,SAAAG,EACdd,EACAa,EAAAA,OAEA,IAAMpE,GAAQyD,EAAAA,GAASF,CAAAA,IAATE,YAAAA,EAAsBW,GACpC,GAAIpE,IAAJ,OAAyB,MAAM,IAAIsE,UAAU,yBAAyBF,CAAAA,EAAAA,EACtE,OAAOpE,CACT,CAAA,SACgBuE,GACdhB,EACAa,EACApE,EAAAA,CAEA,IAAMwE,EAAQf,GAASF,CAAAA,EAEvB,GAAIiB,IAAJ,OAAyB,MAAM,IAAIF,UAAU,uCAAA,EAI7C,GAFqBE,EAAMJ,CAAAA,EAET,MAAM,IAAIE,UAAU,GAAGF,CAAAA,kBAAAA,EAEzCI,EAAMJ,CAAAA,EAAMpE,CACd,CCtRA,IAAMyE,GAAa,CAAA,EAmDH,SAAAC,GACdC,EACAC,EAAAA,CAEAf,OAAOgB,eAAeF,EAAMG,UAAW3B,OAAO4B,YAAa,CACzD/E,MAAO4E,EACPI,SAAAA,GACAC,WAAAA,GACAC,aAAAA,EAAc,CAAA,EAUhB,IAAMC,EAActB,OAAOuB,oBAAoBT,CAAAA,EAC/C,QAASU,EAAI,EAAGA,EAAIF,EAAYG,OAAQD,IAAK,CAC3C,IAAME,EAAOJ,EAAYE,CAAAA,EAGnBG,EAAO3B,OAAO4B,yBAAyBd,EAAOY,CAAAA,EAC/CC,EAAKN,cAAiBM,EAAKP,aAChCO,EAAKP,WAAAA,GACLpB,OAAOgB,eAAeF,EAAOY,EAAMC,CAAAA,EACpC,CACD,IAAME,EAAa7B,OAAOuB,oBAAoBT,EAAMG,SAAAA,EACpD,QAASO,EAAI,EAAGA,EAAIK,EAAWJ,OAAQD,IAAK,CAC1C,IAAME,EAAOG,EAAWL,CAAAA,EAGlBG,EAAO3B,OAAO4B,yBAAyBd,EAAMG,UAAWS,CAAAA,EACzDC,EAAKN,cAAiBM,EAAKP,aAChCO,EAAKP,WAAAA,GACLpB,OAAOgB,eAAeF,EAAMG,UAAWS,EAAMC,CAAAA,EAC9C,CAEDG,GAAgBf,EAAMD,CAAAA,EACtBgB,GAAgB,GAAGf,CAAAA,aAAkBD,EAAMG,SAAAA,CAC7C,CAgBgB,SAAAa,GAAsDf,EAAY5E,EAAAA,CAChF,IAAM4F,EAAsC,IAAIhB,CAAAA,IAChD,GAAIH,GAAWmB,CAAAA,IAAf,OAAmC,MAAM,IAAIC,MAAM,aAAajB,CAAAA,iBAAAA,EAChEH,GAAWmB,CAAAA,EAAO5F,CACpB,CACM,SAAU8F,GAAmDC,EAAAA,CACjE,OAAOtB,GAAWsB,CAAAA,CACpB,CCzJgB,SAAAC,GAA4BC,EAAgBC,EAAAA,CAC1D,IAAI5F,EAAI2F,EACR,GAAI3F,IAAM,EAAG,MAAO,CAAE6F,IAAK7F,EAAG8F,IAAK9F,CAAAA,EAEnC,IAAM+F,EAAOC,KAAKD,KAAK/F,CAAAA,EACvBA,EAAIgG,KAAKjG,IAAIC,CAAAA,EAEb,IAAMiG,EAAUD,KAAKE,MAAM,EAAIF,KAAKG,MAAMnG,CAAAA,CAAAA,EAC1C,GAAI4F,GAAKK,EAAS,MAAO,CAAEJ,IAAY,EAAPE,EAAUD,IAAKC,EAAO/F,CAAAA,EACtD,GAAI4F,IAAM,EAAG,MAAO,CAAEC,IAAKE,EAAO/F,EAAG8F,IAAY,EAAPC,CAAAA,EAG1C,IAAMK,EAAOpG,EAAEqG,YAAYJ,CAAAA,EAI3B,MAAO,CAAEJ,IAHGE,EAAOO,OAAOC,SAASH,EAAKI,MAAM,EAAGP,EAAUL,CAAAA,EAAI,EAAA,EAGjDE,IAFFC,EAAOO,OAAOC,SAASH,EAAKI,MAAMP,EAAUL,CAAAA,EAAI,EAAA,CAAA,CAG9D,CAAA,SAMgBa,GAAad,EAAgBC,EAAWc,EAAAA,CACtD,IAAI1G,EAAI2F,EACJgB,EAAID,EACR,GAAI1G,IAAM,EAAG,OAAO2G,EAEpB,IAAMZ,EAAOC,KAAKD,KAAK/F,CAAAA,GAAMgG,KAAKD,KAAKY,CAAAA,EACvC3G,EAAIgG,KAAKjG,IAAIC,CAAAA,EACb2G,EAAIX,KAAKjG,IAAI4G,CAAAA,EAEb,IAAMP,EAAOpG,EAAEqG,YAAYL,KAAKE,MAAM,EAAIF,KAAKG,MAAMnG,CAAAA,CAAAA,CAAAA,EAErD,GAAI2G,IAAM,EAAG,OAAOZ,EAAOO,OAAOC,SAASH,EAAO,IAAIQ,OAAOhB,CAAAA,EAAI,EAAA,EAEjE,IAEMiB,EAAST,EAFFO,EAAEN,YAAYL,KAAKE,MAAM,EAAIF,KAAKG,MAAMQ,CAAAA,CAAAA,CAAAA,EAE1BG,SAASlB,EAAG,GAAA,EACvC,OAAOG,EAAOO,OAAOC,SAASM,EAAQ,EAAA,CACxC,CAIgB,SAAAE,GACdC,EACAjB,EAAAA,CAEA,IAAMkB,EAAalB,IAAS,WAC5B,OAAQiB,EAAAA,CACN,IAAK,OACH,OAAOC,EAAa,OAAS,WAC/B,IAAK,QACH,OAAOA,EAAa,WAAa,OACnC,IAAK,SACH,MAAO,WACT,IAAK,QACH,MAAO,OACT,IAAK,WACH,OAAOA,EAAa,YAAc,gBACpC,IAAK,YACH,OAAOA,EAAa,gBAAkB,YACxC,IAAK,aACH,MAAO,gBACT,IAAK,YACH,MAAO,YACT,IAAK,WACH,MAAO,WAAA,CAEb,CAIM,SAAUC,GACdC,EACAC,EACAC,EACAC,EACAC,EAAAA,CAEA,OAAIA,IAAyB,OAAeJ,EACxCI,IAAyB,WAAmBH,EAC5CC,EAAM,EAAUF,EAChBE,EAAM,EAAUD,EAChBG,IAAyB,YAAoBJ,EAC7CI,IAAyB,gBAAwBH,EAC9CE,EAAkBH,EAAKC,CAChC,CAAA,ICxEaI,GDwEb,MCxEaA,CAAAA,CAQXC,YAAYC,EAAAA,CAEVC,KAAKD,QAAUjI,GAAWiI,CAAAA,EAG1BC,KAAKC,IAAMjJ,EAAAA,QAAKkJ,SAASlJ,EAAAA,QAAK6B,OAAOmH,KAAKD,QAAStI,EAAAA,CAAAA,EACnDuI,KAAKG,OAASnJ,EAAAA,QAAKkJ,SAASlJ,EAAAA,QAAKmB,UAAU6H,KAAKD,QAAStI,EAAAA,CAAAA,CAAAA,CAK3D2I,OAAAA,YAAmBL,EAAeM,EAAAA,CAChC,GAAIrJ,EAAAA,QAAK0B,YAAYN,GAAI2H,CAAAA,EAAUF,EAAaS,GAAAA,EAC9C,MAAM,IAAIC,WAAW,GAAGF,CAAAA,yCAAkDR,EAAaS,GAAAA,IAAAA,EAEzF,OAAO,IAAIT,EAAaE,CAAAA,CAAAA,CAG1BK,OAAAA,gBAAuBI,EAAyBC,EAAAA,CAC9C,IAAMC,EAAO1J,EAAAA,QAAK2J,SAAS7I,GAAW0I,CAAAA,EAAW1I,GAAW2I,CAAAA,CAAAA,EAE5D,OAAO,IAAIZ,EAAaa,CAAAA,CAAAA,CAG1BN,OAAAA,eAAsBQ,EAAWC,EAAaC,EAAWC,EAAY,EAAYC,EAAAA,CAC/E,IAAMjB,EAAU/I,EAAAA,QAAKiK,IACnBjK,EAAAA,QAAKiK,IACHjK,EAAAA,QAAKiK,IACHjK,EAAAA,QAAKiK,IACHjK,EAAAA,QAAKiK,IAAIjK,EAAAA,QAAKC,OAAO+J,CAAAA,EAAKhK,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OAAO,CAAA,EAAKM,EAAAA,CAAAA,EACzDP,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OAAO8J,CAAAA,EAAKvJ,EAAAA,CAAAA,EAEjCR,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OAAO6J,CAAAA,EAAIrJ,EAAAA,CAAAA,EAEhCT,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OAAO4J,CAAAA,EAAMjJ,EAAAA,CAAAA,EAElCZ,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OAAO2J,CAAAA,EAAIlJ,EAAAA,CAAAA,EAEhC,OAAOmI,EAAaqB,YAAYnB,EAAS,OAAA,CAAA,CAG3C3H,KAAAA,CACE,OAAO,IAAIyH,EAAazH,GAAI4H,KAAKD,OAAAA,CAAAA,CAAAA,CAGnCkB,IAAIE,EAAAA,CACF,OAAOtB,EAAaqB,YAAYlK,EAAAA,QAAKiK,IAAIjB,KAAKD,QAASoB,EAAMpB,OAAAA,EAAU,KAAA,CAAA,CAGzEqB,cAAcC,EAAAA,CAEZ,OAAOxB,EAAaqB,YAAYlK,EAAAA,QAAKiK,IAAIjB,KAAKD,QAAS/I,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OAAOoK,CAAAA,EAAOxJ,EAAAA,CAAAA,EAAkB,KAAA,CAAA,CAG5GyJ,aAAaC,EAAAA,CACX,OAAOvK,EAAAA,QAAKiK,IAAInJ,GAAWyJ,CAAAA,EAAUvB,KAAKD,OAAAA,CAAAA,CAG5CL,IAAIyB,EAAAA,CACF,OAAO3I,GAAQwH,KAAKD,QAASoB,EAAMpB,OAAAA,CAAAA,CAGrCpH,OAAO6I,EAAAA,CAEL,GAAA,CAAM5I,SAAEA,EAAQT,UAAEA,CAAAA,EAAcQ,GAAOqH,KAAKD,QAAS/I,EAAAA,QAAKC,OAAOuK,CAAAA,CAAAA,EAGjE,MAAO,CAAE5I,SAFC5B,EAAAA,QAAKkJ,SAAStH,CAAAA,EAEFT,UADZ,IAAI0H,EAAa1H,CAAAA,CAAAA,CAAAA,CAI7BsJ,KAAKC,EAAAA,CACH,IAAMF,EAAI1J,GAAW4J,CAAAA,EAEfC,EAAU3K,EAAAA,QAAKC,OAAOuK,CAAAA,EAC5B,CAAI5I,SAAEA,EAAQT,UAAEA,CAAAA,EAAcQ,GAAOqH,KAAKD,QAAS4B,CAAAA,EAK7CC,EAA0B,CAAA,EAC5BC,EACEzD,GAAQpH,EAAAA,QAAKsB,SAAS0H,KAAKD,QAAShJ,EAAAA,EAAAA,GAAa,GAAKsH,KAAKD,KAAKpH,EAAAA,QAAKkJ,SAASsB,CAAAA,CAAAA,EACpF,KAAA,CAAQxK,EAAAA,QAAKkB,MAAMC,EAAWpB,EAAAA,GAAS6K,EAAcvE,OAJnC,IAKhBlF,EAAYnB,EAAAA,QAAKW,SAASQ,EAAWf,EAAAA,EAAAA,CAClCwB,SAAUiJ,EAAO1J,UAAAA,CAAAA,EAAcQ,GAAOR,EAAWwJ,CAAAA,EACpDC,EAAcE,KAAKzD,KAAKjG,IAAIpB,EAAAA,QAAKkJ,SAAS2B,CAAAA,CAAAA,CAAAA,EAE5C,OAAOzD,EAAOO,EAAOvG,GAAIQ,CAAAA,EAAUZ,SAAAA,EAAa,IAAM4J,EAAcG,KAAK,EAAA,EAAA,CAG3EC,QAAAA,CACE,OAAOhL,EAAAA,QAAKkB,MAAM8H,KAAKD,QAAShJ,EAAAA,CAAAA,CAGlCkL,MAAMC,EAA+B7C,EAAAA,CACnC,IAAM8C,EAAYrK,GAAWoK,CAAAA,EAC7B,GAAIlL,EAAAA,QAAKkB,MAAMiK,EAAWjL,EAAAA,EAAM,OAAO8I,KACvC,GAAA,CAAMpH,SAAEA,EAAQT,UAAEA,CAAAA,EAAcQ,GAAOqH,KAAKD,QAASoC,CAAAA,EAC/C/D,EAAOpH,EAAAA,QAAKsB,SAAS0H,KAAKD,QAAShJ,EAAAA,EAAQ,WAAa,WACxDyI,EAAKxI,EAAAA,QAAKW,SAASS,GAAIQ,CAAAA,EAAWuJ,CAAAA,EAClC1C,EAAKzI,EAAAA,QAAKiK,IAAIzB,EAAI2C,CAAAA,EAClBzC,EAAMlH,GAAQJ,GAAIpB,EAAAA,QAAKW,SAASQ,EAAWhB,EAAAA,CAAAA,EAAOgL,CAAAA,EAClDvC,EAAuBR,GAAwBC,EAAMjB,CAAAA,EACrDgE,EAAUpL,EAAAA,QAAKkB,MAAME,GAAI4H,KAAKD,OAAAA,EAAUP,CAAAA,EAC1CA,EACAD,GAA0BC,EAAIC,EAAIC,EAAKzH,GAAOW,CAAAA,EAAWgH,CAAAA,EACvDyC,EAASjE,IAAS,WAAagE,EAAUpL,EAAAA,QAAKuB,WAAW6J,CAAAA,EAC/D,OAAOvC,EAAaqB,YAAYmB,EAAQ,UAAA,CAAA,CAG1CjE,MAAAA,CACE,OAAO4B,KAAKN,IAAI,IAAIG,EAAa9I,EAAAA,CAAAA,CAAAA,CAGnC4J,SAASQ,EAAAA,CACP,OAAOtB,EAAaqB,YAAYlK,EAAAA,QAAK2J,SAASX,KAAKD,QAASoB,EAAMpB,OAAAA,EAAU,YAAA,CAAA,CAAA,EA1HvEF,GAAAS,IAAMtJ,EAAAA,QAAKC,OAAO,2BAAA,EAClB4I,GAAA9I,KAAO,IAAI8I,GAAa9I,EAAAA,ECzBjC,IACMuL,GAAc,6BACPC,GAAa,IAAIC,OAC5B,MAHgC,gDAGAC,MAAAA,OAAaH,GAAYG,MAAAA,aAAmBH,GAAYG,MAAAA,MAAAA,EAGpFC,GAAW,sBACXC,GAAY,oBACZC,GAAU,0BACVC,GAAY,IAAIL,OACpB,IAAIE,GAASD,MAAAA,SAAeE,GAAUF,MAAAA,MAAYG,GAAQH,MAAAA,MAAYE,GAAUF,MAAAA,KAAWG,GAAQH,MAAAA,IAAAA,EAE/FK,GAAY,4FAELC,GAAS,+FAChBC,GAAa,IAAIR,OAAO,UAAUO,GAAON,MAAAA,GAAAA,EAElCQ,GAAa,gEAEbC,GAAgB,IAAIV,OAC/B,CACE,IAAIK,GAAUJ,MAAAA,GACd,mBAAmBK,GAAUL,MAAAA,MAAYO,GAAWP,MAAAA,OACpD,YAAYF,GAAWE,MAAAA,SACvB,OAAOQ,GAAWR,MAAAA,MAAAA,EAClBV,KAAK,EAAA,CAAA,EAGIoB,GAAO,IAAIX,OACtB,CACE,SAASM,GAAUL,MAAAA,GACnB,MAAMO,GAAWP,MAAAA,KACjB,WAAWF,GAAWE,MAAAA,QACtB,OAAOQ,GAAWR,MAAAA,MAAAA,EAClBV,KAAK,EAAA,CAAA,EAaIqB,GAAY,IAAIZ,OAC3B,KAAKE,GAASD,MAAAA,OAAaE,GAAUF,MAAAA,YAAkBF,GAAWE,MAAAA,YAAkBQ,GAAWR,MAAAA,MAAAA,EAEpFY,GAAW,IAAIb,OAC1B,YAAYG,GAAUF,MAAAA,OAAaG,GAAQH,MAAAA,YAAkBF,GAAWE,MAAAA,YAAkBQ,GAAWR,MAAAA,MAAAA,EAGjGa,GAAW,0BAGXC,GAAe,IAAIf,OAAO,MAAMc,GAASb,MAAAA,SAAea,GAASb,MAAAA,SAAea,GAASb,MAAAA,KAAAA,EAClFe,GAAW,IAAIhB,OAAO,YAFd,+CAEuCC,MAAAA,YAAkBc,GAAad,MAAAA,MAAa,GAAA,ECKlGgB,GAAS,MACFC,GAAqB,IAATD,GACnBE,GAAe,KAEfC,GAAkB,IAATH,GACTI,GAASC,GAAYF,EAAAA,EACrBG,GAAS/M,EAAAA,QAAKuB,WAAWsL,EAAAA,EAIzBG,GAAkBhN,EAAAA,QAAKiK,IAAIjK,EAAAA,QAAK2J,SAASoD,GAAQlM,EAAAA,EAAiBX,EAAAA,EAClE+M,GAAkBjN,EAAAA,QAAK2J,SAAS3J,EAAAA,QAAKiK,IAAI4C,GAAQhM,EAAAA,EAAiBX,EAAAA,EAIlEgN,GAAuB,OAAmBT,GAC1CU,GAAAA,QACAC,GAAW,OACXC,GAAmBC,KAAKC,IAAI,KAAM,EAAG,CAAA,EAErCC,GAAuB,CAC3B,UACA,SACA,UACA,mBACA,eACA,gBACA,eACA,WACA,UACA,WACA,UACA,sBACA,SACA,UACA,QACA,MACA,SACA,WACA,WACA,SAAA,EAGIC,GAA2B,IAAIC,IAAI,CACvC,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KAAA,CAAA,EAyCI,SAAUC,GAAS5M,EAAAA,CACvB,OAAyB,OAAVA,GAAU,UAAYA,IAAU,MAA0B,OAAVA,GAAU,UAC3E,CAEM,SAAU6M,GAAS7M,EAAAA,CAKvB,GAAqB,OAAVA,GAAU,SAAU,MAAM,IAAIsE,UAAU,iCAAA,EACnD,OAAOsC,OAAO5G,CAAAA,CAChB,CAUM,SAAU8M,GAAS9M,EAAAA,CACvB,GAAqB,OAAVA,GAAU,SACnB,MAAM,IAAIsE,UAAU,2CAAA,EAEtB,OAAOyI,OAAO/M,CAAAA,CAChB,CAEM,SAAUgN,EAAwBhN,EAAAA,CACtC,IAAMiN,EAASJ,GAAS7M,CAAAA,EACxB,GAAIiN,IAAW,EAAG,MAAO,GACzB,GAAIrG,OAAOsG,MAAMD,CAAAA,GAAWA,IAAWE,KAAYF,IAAAA,KACjD,MAAM,IAAIzE,WAAW,sBAAA,EAEvB,IAAM4E,EAAU9G,KAAKE,MAAMyG,CAAAA,EAC3B,OAAIG,IAAY,EAAU,EACnBA,CACT,CAEA,SAASC,GAAgCC,EAAqBC,EAAAA,CAC5D,IAAMH,EAAUJ,EAAwBM,CAAAA,EACxC,GAAIF,GAAW,EACb,MAAIG,IAAJ,OACQ,IAAI/E,WAAW,aAAa+E,CAAAA,sCAAAA,EAE9B,IAAI/E,WAAW,6DAAA,EAEvB,OAAO4E,CACT,CAEM,SAAUI,GAAoBF,EAAAA,CAClC,IAAML,EAASJ,GAASS,CAAAA,EACxB,GAAI1G,OAAOsG,MAAMD,CAAAA,EAAS,MAAM,IAAIzE,WAAW,cAAA,EAC/C,GAAIyE,IAAWE,KAAYF,IAAAA,KAAsB,MAAM,IAAIzE,WAAW,0BAAA,EACtE,GAAA,CAzCF,SAA0BiF,EAAAA,CACxB,GAAwB,OAAbA,GAAa,UAAY7G,OAAOsG,MAAMO,CAAAA,GAAaA,IAAaN,KAAYM,IAAAA,KACrF,MAAA,GAEF,IAAMC,EAAWpH,KAAKjG,IAAIoN,CAAAA,EAC1B,OAAOnH,KAAKqH,MAAMD,CAAAA,IAAcA,CAClC,EAmCwBT,CAAAA,EAAS,MAAM,IAAIzE,WAAW,gCAAgC8E,CAAAA,EAAAA,EACpF,OAAIL,IAAW,EAAU,EAClBA,CACT,CAEA,SAASW,GAA0BnE,EAAWoE,EAAAA,CAO5C,OADUd,OAAOtD,CAAAA,EACRrC,SAASyG,EAAW,GAAA,CAC/B,CAIM,SAAUC,GAAc9N,EAAAA,CAC5B,GAAqB,OAAVA,GAAU,SAEnB,MAAM,IAAIsE,UAAU,0BAA0ByI,OAAO/M,CAAAA,CAAAA,EAAAA,EAEvD,OAAOA,CACT,CA0BA,SAAS+N,GAAY/N,EAAgBgO,EAAAA,CAEnC,GAAIpB,GAAS5M,CAAAA,EAAQ,CACnB,IAAMsK,EAAStK,GAAAA,YAAAA,EAAOC,WACtB,GAAsB,OAAXqK,GAAW,UAA8B,OAAXA,GAAW,SAAU,OAAOA,EACrE,MAAM,IAAIhG,UAAU,0CAAA,CACrB,CACD,OAAOtE,CACT,CAEA,IAAMiO,GAA2C,CAC/C,MACA,UACA,OACA,QACA,YACA,MACA,OACA,SACA,SACA,cACA,cACA,aACA,SACA,UAAA,EAIIC,GAAgE,CACpEC,IAAKrB,GACLsB,QAASpB,EACTqB,KAAMrB,EACNsB,MAAOjB,GACPkB,UAzDF,SAAuCjB,EAAAA,CACrC,IAAMtN,EAAQ8N,GAAcC,GAAYT,CAAAA,CAAAA,EACxC,GACEtN,EAAMsF,OAAS,GACftF,EAAMsF,OAAS,GACftF,EAAM,CAAA,IAAO,KACb,aAAawO,QAAQxO,EAAM,CAAA,CAAA,IADrB,IAEN,aAAawO,QAAQxO,EAAM,CAAA,CAAA,IADA,IAE1BA,EAAM,CAAA,EAAKA,EAAM,CAAA,IAAO,MAAQA,EAAM,CAAA,IAAO,KAC7CA,EAAM,CAAA,IAAO,KAAOA,EAAM,CAAA,IAApB,OAEP,MAAM,IAAIwI,WAAW,kBAAkBxI,CAAAA,mCAAAA,EAEzC,OAAOA,CACT,EA4CEyO,IAAKpB,GACLqB,KAAM1B,EACN2B,OAAQ3B,EACR4B,OAAQ5B,EACR6B,YAAa7B,EACb8B,YAAa9B,EACb+B,WAAY/B,EACZhC,OAjDF,SAAwBsC,EAAAA,CACtB,IAAMtN,EAAQ8N,GAAcC,GAAYT,CAAAA,CAAAA,EAExC,OADA0B,GAAuBhP,CAAAA,EAChBA,CACT,EA8CEiP,SAAUC,EAAAA,EAGNC,GAAsD,CAC1DT,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRC,YAAa,EACbC,YAAa,EACbC,WAAY,CAAA,EAIRK,GAAiB,CACrB,CAAC,QAAS,OAAQ,MAAA,EAClB,CAAC,SAAU,QAAS,MAAA,EACpB,CAAC,QAAS,OAAQ,MAAA,EAClB,CAAC,OAAQ,MAAO,MAAA,EAChB,CAAC,QAAS,OAAQ,MAAA,EAClB,CAAC,UAAW,SAAU,MAAA,EACtB,CAAC,UAAW,SAAU,MAAA,EACtB,CAAC,eAAgB,cAAe,MAAA,EAChC,CAAC,eAAgB,cAAe,MAAA,EAChC,CAAC,cAAe,aAAc,MAAA,CAAA,EAE1BC,GAAexL,OAAOyL,YAAYF,GAAeG,IAAKC,GAAM,CAACA,EAAE,CAAA,EAAIA,EAAE,CAAA,CAAA,CAAA,CAAA,EACrEC,GAAa5L,OAAOyL,YAAYF,GAAeG,IAAI,CAAA,CAAErJ,EAAG6C,CAAAA,IAAO,CAACA,EAAG7C,CAAAA,CAAAA,CAAAA,EACnEwJ,GAAmBN,GAAeG,IAAI,CAAA,CAAC,CAAGxG,CAAAA,IAAOA,CAAAA,EAEjD4G,GAAmB,CACvBlB,IAAK9C,GACL+C,KAAM,MACNC,OAAQ,KACRC,OAAQ,IACRC,YAAa,IACbC,YAAa,IACbC,WAAY,CAAA,EAGRa,GAAkB,CACtB,OACA,QACA,eACA,eACA,UACA,SACA,cACA,UACA,QACA,OAAA,EAQIC,GAA6BC,KAAKC,eAClCC,GAA8B,IAAIC,IAExC,SAASC,GAAqCC,EAAAA,CAC5C,IAAMC,EAAsBC,GAAeF,CAAAA,EACvCG,EAAWN,GAA4BxM,IAAI4M,CAAAA,EAe/C,OAdIE,IAcJ,SAbEA,EAAW,IAAIT,GAA2B,QAAS,CACjDZ,SAAUmB,EACVG,OAAAA,GACApC,IAAK,QACLE,KAAM,UACNC,MAAO,UACPG,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,SAAA,CAAA,EAEVoB,GAA4BpM,IAAIwM,EAAqBE,CAAAA,GAEhDA,CACT,CAgCM,SAAUE,GAAkBC,EAAAA,CAChC,OAAOzM,GAAQyM,EAAMxP,CAAAA,GAAAA,CAAsB+C,GAAQyM,EAAMhP,GAAWJ,CAAAA,CACtE,CAEM,SAAUqP,GAAmBD,EAAAA,CACjC,OAAOzM,GAAQyM,EAAM/O,GAAOC,GAAQE,GAAMC,GAAOC,GAASC,GAASC,GAAcC,GAAcC,EAAAA,CACjG,CACM,SAAUwO,GAAeF,EAAAA,CAC7B,OAAOzM,GAAQyM,EAAMnP,EAAAA,CACvB,CAEM,SAAUsP,GAAeH,EAAAA,CAC7B,OAAOzM,GAAQyM,EAAMrP,EAAAA,CACvB,CAEM,SAAUyP,GAAmBJ,EAAAA,CACjC,OAAOzM,GAAQyM,EAAMtP,EAAAA,CACvB,CAEM,SAAU2P,GAAoBL,EAAAA,CAClC,OAAOzM,GAAQyM,EAAMlP,EAAAA,CACvB,CACM,SAAUwP,GAAmBN,EAAAA,CACjC,OAAOzM,GAAQyM,EAAMjP,EAAAA,CACvB,CACM,SAAUwP,GAAwBP,EAAAA,CACtC,OAAOzM,GAAQyM,EAAMxP,EAAkBQ,GAAWJ,CAAAA,CACpD,CAEgB,SAAA4P,EACdR,EACAS,EAAAA,CAEA,GAAA,CAAKA,EAAKT,CAAAA,EAAO,MAAM,IAAInM,UAAU,oEAAA,CACvC,CAEM,SAAU6M,GAAyBV,EAAAA,CACvC,GAAIzM,GAAQyM,EAAMpP,CAAAA,GAAa2C,GAAQyM,EAAMhP,EAAAA,EAC3C,MAAM,IAAI6C,UAAU,yDAAA,EAEtB,GAAIsM,GAAeH,CAAAA,EACjB,MAAM,IAAInM,UAAU,wEAAA,EAEtB,GAAKmM,EAA+BW,WAApC,OACE,MAAM,IAAI9M,UAAU,6CAAA,EAEtB,GAAKmM,EAA+BxB,WAApC,OACE,MAAM,IAAI3K,UAAU,6CAAA,CAExB,CAEA,SAAS+M,GAAyBjN,EAAuBkN,EAAAA,CACvD,OAAIA,IAAiB,SACjBA,IAAiB,QAAUlN,IAAO,UADD,GAG9B,IADMkN,IAAiB,WAAa,IAAM,EAAA,QAC1BlN,CAAAA,GACzB,CAMA,SAASmN,GAAmBC,EAAAA,CAC1B,IAAIJ,EAGAK,EAFAC,EAAAA,GAIJ,IADAC,GAAiBC,UAAY,EACrBH,EAAQE,GAAiBE,KAAKL,CAAAA,GAAe,CACnD,GAAA,CAAQ,EAAGM,EAAU,EAAGlM,EAAK,EAAG5F,CAAAA,EAAUyR,EAC1C,GAAI7L,IAAQ,QACV,GAAIwL,IAAJ,OACEA,EAAWpR,EACX0R,EAAsBI,IAAa,YAC1BA,IAAa,KAAOJ,EAC7B,MAAM,IAAIlJ,WAAW,0BAA0BgJ,CAAAA,iDAAAA,UAExCM,IAAa,IACtB,MAAM,IAAItJ,WAAW,6BAA6B5C,CAAAA,IAAO5F,CAAAA,EAAAA,CAE5D,CACD,OAAOoR,CACT,CAEA,SAASW,GAAiBC,EAAAA,6BAExB,IAAMP,EAAQQ,GAAoBJ,KAAKG,CAAAA,EACvC,GAAA,CAAKP,EAAO,MAAM,IAAIjJ,WAAW,4BAA4BwJ,CAAAA,EAAAA,EAC7D,IAAMZ,EAAWG,GAAmBE,EAAM,EAAA,CAAA,EACtCS,EAAaT,EAAM,CAAA,EACvB,GAAIS,IAAe,UAAW,MAAM,IAAI1J,WAAW,4BAA4BwJ,CAAAA,EAAAA,EAC/E,IAAM3D,EAAAA,CAAQ6D,EACR5D,EAAAA,GAAUmD,GAAAA,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAYA,EAAM,CAAA,IAAlBA,KAAAA,EAAwB,GAClChD,EAAAA,GAAQgD,GAAAA,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAYA,EAAM,CAAA,IAAlBA,KAAAA,EAAwB,GAChCU,EAAUV,EAAM,CAAA,IAAhBU,OACAzD,EAAAA,GAAS+C,GAAAA,EAAM,CAAA,IAANA,KAAAA,GAAY,GACrB9C,EAAAA,GAAW8C,GAAAA,GAAAA,EAAM,CAAA,IAANA,KAAAA,GAAYA,EAAM,EAAA,IAAlBA,KAAAA,EAAyB,GACtC7C,EAAAA,GAAW6C,GAAAA,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAYA,EAAM,EAAA,IAAlBA,KAAAA,EAAyB,GACpC7C,IAAW,KAAIA,EAAS,IAC5B,IAAMrD,IAAYkG,GAAAA,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAYA,EAAM,EAAA,IAAlBA,KAAAA,EAAyB,IAAM,YAC3C5C,EAAAA,CAAetD,EAASzE,MAAM,EAAG,CAAA,EACjCgI,EAAAA,CAAevD,EAASzE,MAAM,EAAG,CAAA,EACjCiI,EAAAA,CAAcxD,EAASzE,MAAM,EAAG,CAAA,EAClCkE,EACA/D,EAAAA,GACAwK,EAAM,EAAA,GACRzG,EAAAA,OACA/D,EAAAA,IACSwK,EAAM,EAAA,IACfzG,EAASyG,EAAM,EAAA,GAEjB,IAAMW,EAAeX,EAAM,EAAA,EAE3B,OADAY,GAAehE,EAAMC,EAAOG,EAAKC,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,EAC1E,CACLV,KAAAA,EACAC,MAAAA,EACAG,IAAAA,EACArD,KAAM+G,EAAU,CAAEzD,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,CAAAA,EAAgB,eAClFqD,aAAAA,EACApH,OAAAA,EACA/D,EAAAA,EACAmK,SAAAA,CAAAA,CAEJ,CA2BM,SAAUkB,GAAwBN,EAAAA,mBACtC,IAAMP,EAAQc,GAAWV,KAAKG,CAAAA,EAC1BtD,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,EAAYqC,EAChE,GAAIK,EAAO,CACTL,EAAWG,GAAmBE,EAAM,EAAA,CAAA,EACpC/C,EAAAA,GAAS+C,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAY,GACrB9C,EAAAA,GAAW8C,GAAAA,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAYA,EAAM,CAAA,IAAlBA,KAAAA,EAAwB,GACnC7C,EAAAA,GAAW6C,GAAAA,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAYA,EAAM,CAAA,IAAlBA,KAAAA,EAAwB,GAC/B7C,IAAW,KAAIA,EAAS,IAC5B,IAAMrD,IAAYkG,GAAAA,EAAAA,EAAM,CAAA,IAANA,KAAAA,EAAYA,EAAM,CAAA,IAAlBA,KAAAA,EAAwB,IAAM,YAIhD,GAHA5C,EAAAA,CAAetD,EAASzE,MAAM,EAAG,CAAA,EACjCgI,EAAAA,CAAevD,EAASzE,MAAM,EAAG,CAAA,EACjCiI,EAAAA,CAAcxD,EAASzE,MAAM,EAAG,CAAA,EAC5B2K,EAAM,CAAA,EAAI,MAAM,IAAIjJ,WAAW,0CAAA,CACpC,KAAM,CACL,IAAI4C,EAAMnE,EAEV,GAAA,CADGmE,KAAAA,EAAMnE,EAAAA,EAAGmK,SAAAA,CAAAA,EAAaW,GAAiBC,CAAAA,EACtC5G,IAAS,eAAgB,MAAM,IAAI5C,WAAW,8BAA8BwJ,CAAAA,EAAAA,EAChF,GAAI/K,EAAG,MAAM,IAAIuB,WAAW,0CAAA,GAAA,CACzBkG,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,CAAAA,EAAe3D,EACnE,CAGD,GAFAoH,GAAW9D,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,EAEvD,kBAAkBmC,KAAKc,CAAAA,EACzB,MAAO,CAAEtD,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,EAAYqC,SAAAA,CAAAA,EAEvE,GAAA,CACE,GAAA,CAAM9C,MAAEA,EAAKG,IAAEA,CAAAA,EAAQgE,GAA4BT,CAAAA,EACnDU,GAAc,KAAMpE,EAAOG,CAAAA,CAC5B,OAACe,EAAA,CACA,GAAA,CACE,GAAA,CAAMnB,KAAEA,EAAIC,MAAEA,CAAAA,EAAUqE,GAA6BX,CAAAA,EACrDU,GAAcrE,EAAMC,EAAO,CAAA,CAC5B,OAACkB,EAAA,CACA,MAAO,CAAEd,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,EAAYqC,SAAAA,CAAAA,CACtE,CACF,CACD,MAAM,IAAI5I,WAAW,qCAAqCwJ,CAAAA,uBAAAA,CAC5D,CAGM,SAAUW,GAA6BX,EAAAA,CAC3C,IAAMP,EAAQmB,GAAgBf,KAAKG,CAAAA,EAC/B3D,EAAMC,EAAO8C,EAAUyB,EAC3B,GAAIpB,EAAO,CACTL,EAAWG,GAAmBE,EAAM,CAAA,CAAA,EACpC,IAAIS,EAAaT,EAAM,CAAA,EACvB,GAAIS,IAAe,UAAW,MAAM,IAAI1J,WAAW,4BAA4BwJ,CAAAA,EAAAA,EAI/E,GAHA3D,EAAAA,CAAQ6D,EACR5D,EAAAA,CAASmD,EAAM,CAAA,EACfoB,EAAkB,EACdzB,IADc,QACYA,IAAa,UACzC,MAAM,IAAI5I,WAAW,oDAAA,CAExB,KAAM,CACL,IAAIvB,EAEJ,GAAA,CADGoH,KAAAA,EAAMC,MAAAA,EAAO8C,SAAAA,EAAU3C,IAAKoE,EAAiB5L,EAAAA,CAAAA,EAAM8K,GAAiBC,CAAAA,EACnE/K,EAAG,MAAM,IAAIuB,WAAW,+CAAA,CAC7B,CACD,MAAO,CAAE6F,KAAAA,EAAMC,MAAAA,EAAO8C,SAAAA,EAAUyB,gBAAAA,CAAAA,CAClC,CAGM,SAAUJ,GAA4BT,EAAAA,CAC1C,IAAMP,EAAQqB,GAAejB,KAAKG,CAAAA,EAC9B1D,EAAOG,EAAK2C,EAAU2B,EAC1B,GAAItB,GAIF,GAHAL,EAAWG,GAAmBE,EAAM,CAAA,CAAA,EACpCnD,EAAAA,CAASmD,EAAM,CAAA,EACfhD,EAAAA,CAAOgD,EAAM,CAAA,EACTL,IADS,QACiBA,IAAa,UACzC,MAAM,IAAI5I,WAAW,kDAAA,MAElB,CACL,IAAIvB,EAEJ,GAAA,CADGqH,MAAAA,EAAOG,IAAAA,EAAK2C,SAAAA,EAAU/C,KAAM0E,EAAkB9L,EAAAA,CAAAA,EAAM8K,GAAiBC,CAAAA,EACpE/K,EAAG,MAAM,IAAIuB,WAAW,8CAAA,CAC7B,CACD,MAAO,CAAE8F,MAAAA,EAAOG,IAAAA,EAAK2C,SAAAA,EAAU2B,iBAAAA,CAAAA,CACjC,CAEA,IAAMC,GAAsB,IAAIvI,OAAO,IAAIwI,GAAiBvI,MAAAA,IAAW,GAAA,EACjEwI,GAAoB,IAAIzI,OAAO,IDnoBL,+CCmoBgCC,MAAAA,GAAAA,EAEhE,SAASyI,GAA4BC,EAAAA,CAKnC,IAAMC,EAAMC,GAAOpC,KAAKkC,CAAAA,EAAkB,0CAA4C,oBACtF,MAAM,IAAI5K,WAAW,GAAG6K,CAAAA,KAAQD,CAAAA,EAAAA,CAClC,CAEM,SAAUG,GACdC,EAAAA,CAKA,OAHKR,GAAoB9B,KAAKsC,CAAAA,GAC5BL,GAA4BK,CAAAA,EAE1BN,GAAkBhC,KAAKsC,CAAAA,EAIlB,CAAEC,cAHiBzE,GAAuBwE,CAAAA,EAGL,IAAA,EAEvC,CAAEE,OAAQF,CAAAA,CACnB,CAyGM,SAAUG,GAAgBC,EAAmBC,EAAoBC,EAAkBC,EAAAA,CACvF,IAAI1F,EAAOuF,EACPtF,EAAQuF,EACRpF,EAAMqF,EACV,OAAQC,EAAAA,CACN,IAAK,SACHrB,GAAcrE,EAAMC,EAAOG,CAAAA,EAC3B,MACF,IAAK,aAAA,CACAJ,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAQuF,GAAiB3F,EAAMC,EAAOG,CAAAA,EAAAA,CAG1D,MAAO,CAAEJ,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,CACxB,CAEgB,SAAAwF,GACdC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAR,EAAAA,CAEA,IAAIrF,EAAOwF,EACPvF,EAASwF,EACTvF,EAASwF,EACTvF,EAAcwF,EACdvF,EAAcwF,EACdvF,EAAawF,EAEjB,OAAQR,EAAAA,CACN,IAAK,SACHvB,GAAW9D,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,EAC3D,MACF,IAAK,YACHL,EAAO8F,GAAiB9F,EAAM,EAAG,EAAA,EACjCC,EAAS6F,GAAiB7F,EAAQ,EAAG,EAAA,EACrCC,EAAS4F,GAAiB5F,EAAQ,EAAG,EAAA,EACrCC,EAAc2F,GAAiB3F,EAAa,EAAG,GAAA,EAC/CC,EAAc0F,GAAiB1F,EAAa,EAAG,GAAA,EAC/CC,EAAayF,GAAiBzF,EAAY,EAAG,GAAA,CAAA,CAGjD,MAAO,CAAEL,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,CAAAA,CAC3D,CAEM,SAAU0F,GAAgCC,EAAAA,CAC9C,GAAA,CAAK9H,GAAS8H,CAAAA,EACZ,MAAM,IAAIpQ,UAAU,uBAAA,EAEtB,IAAMgG,EAAuE,CAC3EqK,MAAAA,OACAC,OAAAA,OACAC,MAAAA,OACAvL,KAAAA,OACAwL,MAAAA,OACAC,QAAAA,OACAC,QAAAA,OACAC,aAAAA,OACAC,aAAAA,OACAC,YAAAA,MAAaC,EAEXC,EAAAA,GACJ,QAASC,EAAQ,EAAGA,EAAQ1F,GAAgBtK,OAAQgQ,IAAS,CAC3D,IAAM/H,EAAWqC,GAAgB0F,CAAAA,EAC3BtV,EAAQ0U,EAAqBnH,CAAAA,EAC/BvN,IAD+BuN,SAEjC8H,EAAAA,GACA/K,EAAOiD,CAAAA,EAAYC,GAAoBxN,CAAAA,EAE1C,CACD,GAAA,CAAKqV,EACH,MAAM,IAAI/Q,UAAU,uBAAA,EAEtB,OAAOgG,CACT,CAAA,SAEgBiL,GAAAA,CACdZ,MAAEA,EAAKC,OAAEA,EAAMC,MAAEA,EAAKvL,KAAEA,CAAAA,EACxBkM,EACAC,EACAC,EAAAA,CAEA,MAAO,CACLf,MAAAA,EACAC,OAAQc,UAAad,EACrBC,MAAOY,UAAYZ,EACnBvL,KAAMkM,UAAWlM,CAAAA,CAErB,CAMgB,SAAAqM,GAA4BC,EAAkBxK,EAAAA,CAC5D,MAAO,CAAEwK,QAAAA,EAASxK,KAAAA,CAAAA,CACpB,CAUM,SAAUyK,GAA0BC,EAAAA,CACxC,OAAOC,GAAUD,EAAS,WAAY,CAAC,YAAa,QAAA,EAAW,WAAA,CACjE,CAEM,SAAUE,GAAgCF,EAAAA,CAC9C,OAAOC,GAAUD,EAAS,iBAAkB,CAAC,aAAc,UAAW,QAAS,QAAA,EAAW,YAAA,CAC5F,CAEgB,SAAAG,GACdH,EACAI,EAAAA,CAEA,OAAOH,GACLD,EACA,eACA,CAAC,OAAQ,QAAS,SAAU,QAAS,WAAY,YAAa,aAAc,YAAa,UAAA,EACzFI,CAAAA,CAEJ,CAiBgB,SAAAC,GACdL,EACAI,EAAAA,CAEA,OAAOH,GAAUD,EAAS,SAAU,CAAC,SAAU,MAAO,SAAU,QAAA,EAAWI,CAAAA,CAC7E,CAEM,SAAUE,GAAkCN,EAAAA,CAChD,OAAOC,GAAUD,EAAS,eAAgB,CAAC,OAAQ,SAAU,QAAS,UAAA,EAAa,MAAA,CACrF,CAcM,SAAUO,GAAmCP,EAAAA,CACjD,IAAI1L,EAAY0L,EAAQQ,kBACxB,GAAIlM,IAAJ,OAA6B,MAAO,GACpC,IAAMmM,EAAmBvJ,EAAwB5C,CAAAA,EACjD,GAAImM,EAAmB,GAAKA,EAAmB,IAC7C,MAAM,IAAI/N,WAAW,6DAA6D4B,CAAAA,EAAAA,EAEpF,OAAOmM,CACT,CAAA,SACgBC,GAAkCpM,EAAmBqM,EAAkBC,EAAAA,CACrF,IAAMC,EAAUD,EAAYD,EAAWA,EAAW,EAClD,GAAIrM,EAAYuM,EACd,MAAM,IAAInO,WAAW,sDAAsDmO,CAAAA,SAAgBvM,CAAAA,EAAAA,EAE7F,GAAIqM,EAAWrM,GAAc,EAC3B,MAAM,IAAI5B,WAAW,8CAA8CiO,CAAAA,EAAAA,CAEvE,CAEM,SAAUG,GACdC,EAAAA,CAEA,IAAMC,EAAcD,EAAkBE,uBACtC,GAAID,IAAJ,OAA+B,MAAO,OACtC,GAA2B,OAAhBA,GAAgB,SAAU,CACnC,GAAIhK,GAASgK,CAAAA,IAAiB,OAC5B,MAAM,IAAItO,WAAW,6DAA6DsO,CAAAA,EAAAA,EAEpF,MAAO,MACR,CACD,IAAME,EAAa1Q,KAAKqH,MAAMmJ,CAAAA,EAC9B,GAAA,CAAKlQ,OAAOqQ,SAASD,CAAAA,GAAeA,EAAa,GAAKA,EAAa,EACjE,MAAM,IAAIxO,WAAW,6DAA6DsO,CAAAA,EAAAA,EAEpF,OAAOE,CACT,CAQgB,SAAAE,GACdC,EACAC,EAAAA,CAEA,OAAQD,EAAAA,CACN,IAAK,SACH,MAAO,CAAEC,UAAW,SAAUC,KAAM,SAAUjN,UAAW,CAAA,EAC3D,IAAK,SACH,MAAO,CAAEgN,UAAW,EAAGC,KAAM,SAAUjN,UAAW,CAAA,EACpD,IAAK,cACH,MAAO,CAAEgN,UAAW,EAAGC,KAAM,cAAejN,UAAW,CAAA,EACzD,IAAK,cACH,MAAO,CAAEgN,UAAW,EAAGC,KAAM,cAAejN,UAAW,CAAA,EACzD,IAAK,aACH,MAAO,CAAEgN,UAAW,EAAGC,KAAM,aAAcjN,UAAW,CAAA,CAAA,CAG1D,OAAQgN,EAAAA,CACN,IAAK,OACH,MAAO,CAAEA,UAAAA,EAAWC,KAAM,aAAcjN,UAAW,CAAA,EACrD,IAAK,GACH,MAAO,CAAEgN,UAAAA,EAAWC,KAAM,SAAUjN,UAAW,CAAA,EACjD,IAAK,GACL,IAAK,GACL,IAAK,GACH,MAAO,CAAEgN,UAAAA,EAAWC,KAAM,cAAejN,UAAW,KAAO,EAAIgN,EAAAA,EACjE,IAAK,GACL,IAAK,GACL,IAAK,GACH,MAAO,CAAEA,UAAAA,EAAWC,KAAM,cAAejN,UAAW,KAAO,EAAIgN,EAAAA,EACjE,IAAK,GACL,IAAK,GACL,IAAK,GACH,MAAO,CAAEA,UAAAA,EAAWC,KAAM,aAAcjN,UAAW,KAAO,EAAIgN,EAAAA,EAChE,QACE,MAAM,IAAI5O,WAAW,6DAA6D4O,CAAAA,EAAAA,CAAAA,CAExF,CAEO,IAAME,GAAWnU,OAAO,YAAA,EAmCf,SAAAoU,GAMdzB,EACAlQ,EACA4R,EACAC,EACAC,EAA0C,CAAA,EAAA,CAE1C,IAAIC,EAAyD,CAAA,EAC7D,QAASrC,EAAQ,EAAGA,EAAQlG,GAAe9J,OAAQgQ,IAAS,CAC1D,IAAMsC,EAAWxI,GAAekG,CAAAA,EAC1BuC,EAAWD,EAAS,CAAA,EACpBE,EAAWF,EAAS,CAAA,EACtBJ,IAAc,YAAcA,IAAcM,GAC5CH,EAAgB5N,KAAK8N,CAAAA,CAExB,CACDF,EAAkBA,EAAgBI,OAAOL,CAAAA,EACzC,IAAIM,EAA2EP,EAC3EO,IAAeV,GACjBU,EAAAA,OACSA,IADI5C,QAEbuC,EAAgB5N,KAAKiO,CAAAA,EAEvB,IAAIC,EAAoG,CAAA,EACxGA,EAAgBA,EAAcF,OAAOJ,CAAAA,EACrC,QAASrC,EAAQ,EAAGA,EAAQqC,EAAgBrS,OAAQgQ,IAAS,CAC3D,IAAMuC,EAAWF,EAAgBrC,CAAAA,EAC3B4C,EAASzI,GAAWoI,CAAAA,EACtBK,IADsBL,QACAI,EAAclO,KAAKmO,CAAAA,CAC9C,CACD,IAAIC,EAASpC,GAAUD,EAASlQ,EAAKqS,EAAeD,CAAAA,EACpD,GAAIG,IAAJ,QAA4BV,IAAsBH,GAChD,MAAM,IAAI9O,WAAW,GAAG5C,CAAAA,cAAAA,EAG1B,OAAQuS,GAAUA,KAAU9I,GAAeA,GAAa8I,CAAAA,EAAUA,CACpE,CAEM,SAAUC,GAA4BtC,EAAAA,CAW1C,IAAMuC,EAAavC,EAAQuC,WAC3B,GAAIA,IAAJ,OAA8B,MAAO,CAAA,EAErC,IAEIzC,EAASxK,EAAMgG,EAAUnC,EAAUjE,EAFnCsN,EAAmC,SACnCC,EAAAA,GAEJ,GAAI3L,GAASyL,CAAAA,EAAa,CACxB,GAAIrH,GAAwBqH,CAAAA,EAC1B,MAAO,CAAEG,gBAAiBH,CAAAA,EAE5B,GAAI1H,GAAe0H,CAAAA,EAAa,MAAO,CAAEI,gBAAiBJ,CAAAA,EAC1D,GAAIxH,GAAmBwH,CAAAA,EACrB,MAAO,CACLI,gBAAiBC,GAAmBrU,EAAQgU,EAAYlX,EAAAA,EAAeyU,QAASvR,EAAQgU,EAAYhX,CAAAA,CAAAA,CAAAA,EAGxG+P,EAAWuH,GAA4CN,CAAAA,EACvD,IAAMO,EAASC,GACbzH,EACAiH,EACA,CAAC,OAAQ,QAAS,YAAa,KAAA,EAC/B,CAAC,OAAQ,SAAU,SAAU,cAAe,cAAe,aAAc,SAAU,UAAA,EACnF,CAAA,CAAA,GAAA,CAECzC,QAAAA,EAASxK,KAAAA,CAAAA,EAAS0N,GAAgC1H,EAAUwH,EAAQ,WAAA,GAAA,CACpE5N,OAAAA,EAAQiE,SAAAA,CAAAA,EAAa2J,EACpB5N,IADoB4N,SACEN,EAAkB,OAC7C,KAAM,CACL,IAAIlG,EAAcnL,EAAGoH,EAAMC,EAAOG,EAElC,GAAA,CADGJ,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,EAAKrD,KAAAA,EAAMgG,SAAAA,EAAUgB,aAAAA,EAAcpH,OAAAA,EAAQ/D,EAAAA,CAAAA,EAAM8K,GAAiBjE,GAAcuK,CAAAA,CAAAA,EAC5FjG,EACFnD,EAAWC,GAA6BkD,CAAAA,EACpCnL,EACFqR,EAAkB,QACRtN,IACVsN,EAAkB,QAEpBC,EAAAA,WACStR,EACT,MAAM,IAAIuB,WACR,uGAAA,EAGC4I,IAAUA,EAAW,WAC1BA,EAAW2H,GAAqB3H,CAAAA,EAChCwE,EAAU,CAAEvH,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,CAC1B,CACD,OAAIQ,IAAJ,OACS,CAAEwJ,gBAAiBC,GAAmB9C,EAASxE,CAAAA,CAAAA,EAajD,CAAEoH,gBAAiBQ,GAVDC,GACvBrD,EACAxK,EACAkN,EAJeA,IAAoB,SAAWtJ,GAAkChE,CAAAA,EAAW,EAM3FiE,EACA,aACA,SACAsJ,CAAAA,EAEsEtJ,EAAUmC,CAAAA,CAAAA,CACpF,CAEM,SAAU8H,GAA2BzN,EAAAA,CACzC,OAAIpH,EAAQoH,EAAU/J,EAAAA,IAAW,EAAU,OACvC2C,EAAQoH,EAAU9J,EAAAA,IAAY,EAAU,QACxC0C,EAAQoH,EAAU7J,EAAAA,IAAW,EAAU,OACvCyC,EAAQoH,EAAU5J,EAAAA,IAAU,EAAU,MACtCwC,EAAQoH,EAAU3J,EAAAA,IAAW,EAAU,OACvCuC,EAAQoH,EAAU1J,EAAAA,IAAa,EAAU,SACzCsC,EAAQoH,EAAUzJ,EAAAA,IAAa,EAAU,SACzCqC,EAAQoH,EAAUxJ,EAAAA,IAAkB,EAAU,cAC9CoC,EAAQoH,EAAUvJ,EAAAA,IAAkB,EAAU,cAC3C,YACT,CAEgB,SAAAiX,GACdC,EACAC,EAAAA,CAIA,OAFW3J,GAAiBlB,QAAQ4K,CAAAA,EACzB1J,GAAiBlB,QAAQ6K,CAAAA,EAE3BA,EAEFD,CACT,CAEM,SAAUE,GAAejC,EAAAA,CAC7B,OAAOA,IAAS,QAAUA,IAAS,SAAWA,IAAS,MACzD,CAEM,SAAUkC,GAAqBlC,EAAAA,CACnC,OAAIiC,GAAejC,CAAAA,GAASA,IAAS,MAAc,OAC5C,MACT,CAEA,SAASmC,GAAkBpI,EAAAA,CACzB,OAAOtL,GAAa,gBAAA,EAAkBsL,CAAAA,CACxC,CAEM,SAAUqI,GACdC,EAAAA,CAOA,OAAO5T,GAAa,gBAAA,EAAkBzB,EAAQqV,EAAarY,CAAAA,CAAAA,CAC7D,CAcM,SAAUsY,GAAgBvI,EAA6BwE,EAAkBgE,EAAO,OAAA,CACpF,IAAMhB,EAAS/U,OAAOC,OAAO,IAAA,EAEvB+V,EADeL,GAAkBpI,CAAAA,EACL0I,UAAUlE,EAAS,CAAEvH,KAAAA,GAAYE,UAAAA,GAAiBE,IAAAA,EAAK,CAAA,EASzF,OAPAmK,EAAOrK,UAAYsL,EAAatL,UAC5BqL,IAAS,aAAeA,IAAS,SACnChB,EAAOnK,IAAMoL,EAAapL,KAExBmL,IAAS,cAAgBA,IAAS,SACpChB,EAAOvK,KAAOwL,EAAaxL,MAEtBuK,CACT,CAuBM,SAAUC,GAIdzH,EACA2I,EACAC,EACAC,EACAC,EAAAA,CAEA,IAAMC,EAAkBX,GAAkBpI,CAAAA,EAAUgJ,YAAYJ,CAAAA,EAC1DpB,EAASoB,EAAmBjC,OAAOkC,EAAuBE,CAAAA,EAC1D7P,EAAmDzG,OAAOC,OAAO,IAAA,EACnEuR,EAAAA,GACJuD,EAAOyB,KAAAA,EACP,QAAS/E,EAAQ,EAAGA,EAAQsD,EAAOtT,OAAQgQ,IAAS,CAClD,IAAM/H,EAAWqL,EAAOtD,CAAAA,EAClBtV,EAAQ+Z,EAAIxM,CAAAA,EAClB,GAAIvN,IAAJ,OACEqV,EAAAA,GACA/K,EAAOiD,CAAAA,KAAuBW,GAAcX,CAAAA,GAAWvN,CAAAA,UAC9Cka,IAAmB,UAAW,CACvC,GAAIA,EAAeI,SAAS/M,CAAAA,EAC1B,MAAM,IAAIjJ,UAAU,sBAAsBiJ,CAAAA,wBAAAA,EAE5CjD,EAAOiD,CAAAA,EAAY4B,GAAiB5B,CAAAA,CACrC,CACF,CACD,GAAI2M,IAAmB,WAAnBA,CAAiC7E,EACnC,MAAM,IAAI/Q,UAAU,+BAAA,EAEtB,OAAOgG,CACT,CAAA,SAagBiQ,GACdR,EACAS,EAAkC,WAAA,CAGlC,IAAM5B,EAA+B,CAAC,OAAQ,cAAe,cAAe,SAAU,aAAc,QAAA,EAChGvD,EAAAA,GACE/K,EAA8BzG,OAAOC,OAAO,IAAA,EAClD,QAASwR,EAAQ,EAAGA,EAAQsD,EAAOtT,OAAQgQ,IAAS,CAClD,IAAMmF,EAAQ7B,EAAOtD,CAAAA,EACftV,EAAQ+Z,EAAIU,CAAAA,EACdza,IADcya,QAEhBnQ,EAAOmQ,CAAAA,EAASzN,EAAwBhN,CAAAA,EACxCqV,EAAAA,IACSmF,IAAiB,aAC1BlQ,EAAOmQ,CAAAA,EAAS,EAEnB,CACD,GAAA,CAAKpF,EAAK,MAAM,IAAI/Q,UAAU,mBAAA,EAC9B,OAAOgG,CACT,CAEgB,SAAAoQ,GACdjK,EACAqF,EAAAA,CAEA,GAAIlJ,GAAS6D,CAAAA,EAAO,CAClB,GAAIE,GAAeF,CAAAA,EAEjB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpC4C,GAAmBrU,EAAQoM,EAAMvP,CAAAA,EAAWmD,EAAQoM,EAAMpP,CAAAA,CAAAA,EAEnE,GAAI2P,GAAwBP,CAAAA,EAAO,CACjC,IAAMmK,EAAcC,GAAkBxW,EAAQoM,EAAMhP,EAAAA,EAAY4C,EAAQoM,EAAMxP,CAAAA,CAAAA,EAG9E,OAFA4U,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EAEpC4C,GADSkC,EAAYhF,QACOvR,EAAQoM,EAAMpP,CAAAA,CAAAA,CAClD,CACD,GAAIwP,GAAmBJ,CAAAA,EAErB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpC4C,GAAmBrU,EAAQoM,EAAMtP,EAAAA,EAAeyU,QAASvR,EAAQoM,EAAMpP,CAAAA,CAAAA,EAEhF,IAAM+P,EAAWuH,GAA4ClI,CAAAA,EAI7D,OAAOiI,GADSoC,GAAuB1J,EAFxByH,GAAsBzH,EAAUX,EAAM,CAAC,OAAQ,QAAS,YAAa,KAAA,EAAQ,CAAA,EAAI,CAAA,CAAA,EAC/EoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,CAAAA,EAEzB1E,CAAAA,CACpC,CACD,GAAA,CAAI/C,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,EAAG2C,SAAEA,EAAQnK,EAAEA,CAAAA,EAryB3B8K,GAqyByDjE,GAAc2C,CAAAA,CAAAA,EAC9E,GAAIxJ,EAAG,MAAM,IAAIuB,WAAW,0CAAA,EAK5B,OAJK4I,IAAUA,EAAW,WAC1BA,EAAW2H,GAAqB3H,CAAAA,EAEhCyE,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpC4C,GAAmB,CAAErK,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAO2C,CAAAA,CAClD,CAAA,SAEgB0H,GACd1H,EACAwH,EACA7E,EAAAA,CAYA,OAAO4B,GAVSmF,GAAuB1J,EAAUwH,EAAQ7E,CAAAA,EAC5CE,GACX2E,EAAOlK,KACPkK,EAAOjK,OACPiK,EAAOhK,OACPgK,EAAO/J,YACP+J,EAAO9J,YACP8J,EAAO7J,WACPgF,CAAAA,CAAAA,CAGJ,CAEgB,SAAAgH,GAAmBtK,EAAsCqF,EAAAA,CACvE,IAAIF,EAASxK,EAAMgG,EAEnB,GAAIxE,GAAS6D,CAAAA,EAAO,CAClB,GAAII,GAAmBJ,CAAAA,EAErB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpCkF,GAAuB3W,EAAQoM,EAAMtP,EAAAA,EAAgBkD,EAAQoM,EAAMpP,CAAAA,CAAAA,EAE5E,GAAI2P,GAAwBP,CAAAA,EAAO,CACjC,IAAMmK,EAAcC,GAAkBxW,EAAQoM,EAAMhP,EAAAA,EAAY4C,EAAQoM,EAAMxP,CAAAA,CAAAA,EAE9E,OADA4U,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpCkF,GAAuBJ,EAAavW,EAAQoM,EAAMpP,CAAAA,CAAAA,CAC1D,CACD,GAAIsP,GAAeF,CAAAA,EAEjB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpCkF,GACLrF,GAA4BtR,EAAQoM,EAAMvP,CAAAA,EAphBzC,CAAE+Z,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EAqhB5F1K,EAAQoM,EAAMpP,CAAAA,CAAAA,EAIlB+P,EAAWuH,GAA4ClI,CAAAA,EACvD,IAAMmI,EAASC,GACbzH,EACAX,EACA,CAAC,OAAQ,QAAS,YAAa,KAAA,EAC/B,CAAC,OAAQ,SAAU,SAAU,cAAe,cAAe,YAAA,EAC3D,CAAA,CAAA,EAEIsD,EAAW8B,GAA0B8E,EAAiB7E,CAAAA,CAAAA,GAAAA,CACzDF,QAAAA,EAASxK,KAAAA,CAAAA,EAAS0N,GAAgC1H,EAAUwH,EAAQ7E,CAAAA,EACxE,KAAM,CACL,IAAI9M,EAAGoH,EAAMC,EAAOG,EAEpB,GAAA,CADGJ,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,EAAKrD,KAAAA,EAAMgG,SAAAA,EAAUnK,EAAAA,CAAAA,EAt2BhC8K,GAs2BkEjE,GAAc2C,CAAAA,CAAAA,EACjFxJ,EAAG,MAAM,IAAIuB,WAAW,8CAAA,EACxB4C,IAAS,iBAAgBA,EAviBxB,CAAE6P,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,GAwiBhGsD,GACEhE,EACAC,EACAG,EACArD,EAAKsD,KACLtD,EAAKuD,OACLvD,EAAKwD,OACLxD,EAAKyD,YACLzD,EAAK0D,YACL1D,EAAK2D,UAAAA,EAEFqC,IAAUA,EAAW,WAC1BA,EAAW2H,GAAqB3H,CAAAA,EAChCyE,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EAC3CF,EAAU,CAAEvH,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,CAC1B,CAED,OAAOuM,GADarF,GAA4BC,EAASxK,CAAAA,EACdgG,CAAAA,CAC7C,CAEM,SAAU8J,GAAmBzK,EAAAA,CACjC,IAAM0K,EAAmBrV,GAAa,qBAAA,EACtC,GAAI4K,GAAmBD,CAAAA,EACrB,OAAO,IAAI0K,EACT9W,EAAQoM,EAAM/O,EAAAA,EACd2C,EAAQoM,EAAM9O,EAAAA,EACd0C,EAAQoM,EAAM7O,EAAAA,EACdyC,EAAQoM,EAAM5O,EAAAA,EACdwC,EAAQoM,EAAM3O,EAAAA,EACduC,EAAQoM,EAAM1O,EAAAA,EACdsC,EAAQoM,EAAMzO,EAAAA,EACdqC,EAAQoM,EAAMxO,EAAAA,EACdoC,EAAQoM,EAAMvO,EAAAA,EACdmC,EAAQoM,EAAMtO,EAAAA,CAAAA,EAGlB,GAAA,CAAKyK,GAAS6D,CAAAA,EACZ,OApsBJ,SAAqCuB,EAAAA,CACnC,GAAA,CAAM2C,MAAEA,EAAKC,OAAEA,EAAMC,MAAEA,EAAKvL,KAAEA,EAAIwL,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,EAAOC,aAAEA,EAAYC,aAAEA,EAAYC,YAAEA,CAAAA,EArDrF,SAAyCnD,EAAAA,SAC7C,IAAMP,EAAQ2J,GAAevJ,KAAKG,CAAAA,EAClC,GAAA,CAAKP,EAAO,MAAM,IAAIjJ,WAAW,qBAAqBwJ,CAAAA,EAAAA,EACtD,GAAIP,EAAMtN,MAAM,CAACkX,EAAMhW,IAAMA,EAAI,GAAKgW,IAAL,MAAKA,EACpC,MAAM,IAAI7S,WAAW,qBAAqBwJ,CAAAA,EAAAA,EAE5C,IAAM3L,EAAOoL,EAAM,CAAA,IAAO,IAAP,GAAkB,EAC/BkD,EAAQlD,EAAM,CAAA,IAAdkD,OAAiC,EAAI3H,EAAwByE,EAAM,CAAA,CAAA,EAAMpL,EACzEuO,EAASnD,EAAM,CAAA,IAAfmD,OAAkC,EAAI5H,EAAwByE,EAAM,CAAA,CAAA,EAAMpL,EAC1EwO,EAAQpD,EAAM,CAAA,IAAdoD,OAAiC,EAAI7H,EAAwByE,EAAM,CAAA,CAAA,EAAMpL,EACzEiD,EAAOmI,EAAM,CAAA,IAAbnI,OAAgC,EAAI0D,EAAwByE,EAAM,CAAA,CAAA,EAAMpL,EACxEyO,GAAQrD,EAAM,CAAA,IAAdqD,OAAiC,EAAI9H,EAAwByE,EAAM,CAAA,CAAA,EAAMpL,EACzEiV,GAAS7J,EAAM,CAAA,EACf8J,EAAa9J,EAAM,CAAA,EACnB+J,EAAW/J,EAAM,CAAA,EACjBgK,EAAahK,EAAM,EAAA,EACnBiK,EAAWjK,EAAM,EAAA,EACnBsD,EAAU,EACVC,EAAU,EAEV2G,EAAoB,EAExB,GAAIL,KAAJ,OAA0B,CACxB,IAAIC,GAAAA,EAAAA,GAAAA,KAAAA,EAAcC,IAAdD,KAAAA,EAA0BE,IAA1BF,KAAAA,EAAwCG,EAC1C,MAAM,IAAIlT,WAAW,0CAAA,EAEvBmT,EAAkF,KAA9D3O,GAAyBsO,GAAS,aAAaxU,MAAM,EAAG,CAAA,CAAA,EAAaT,CAC1F,SACC0O,EAAUwG,IAAVxG,OAAqC,EAAI/H,EAAwBuO,CAAAA,EAAclV,EAC3EmV,IAD2EnV,OACnD,CAC1B,GAAIoV,GAAAA,KAAAA,EAAcC,EAChB,MAAM,IAAIlT,WAAW,0CAAA,EAEvBmT,EAAoF,GAAhE3O,GAAyBwO,EAAW,aAAa1U,MAAM,EAAG,CAAA,CAAA,EAAWT,CAC1F,MACC2O,EAAUyG,IAAVzG,OAAqC,EAAIhI,EAAwByO,CAAAA,EAAcpV,EAC3EqV,IAD2ErV,SAE7EsV,EAAoB3O,GAAyB0O,EAAW,aAAa5U,MAAM,EAAG,CAAA,CAAA,EAAMT,GAK1F,IAAM8O,EAAcwG,EAAoB,IAClCzG,EAAe5O,KAAKE,MAAMmV,EAAoB,GAAA,EAAQ,IACtD1G,EAAe3O,KAAKE,MAAMmV,EAAoB,GAAA,EAAO,IAK3D,OAJA3G,GAAW1O,KAAKE,MAAMmV,EAAoB,GAAA,EAAO,GACjD5G,GAAWzO,KAAKE,MAAMmV,EAAoB,IAAA,EAE1CC,GAAejH,EAAOC,EAAQC,EAAOvL,EAAMwL,GAAOC,EAASC,EAASC,EAAcC,EAAcC,CAAAA,EACzF,CAAER,MAAAA,EAAOC,OAAAA,EAAQC,MAAAA,EAAOvL,KAAAA,EAAMwL,MAAAA,GAAOC,QAAAA,EAASC,QAAAA,EAASC,aAAAA,EAAcC,aAAAA,EAAcC,YAAAA,CAAAA,CAC5F,EAImCnD,CAAAA,EAEjC,OAAO,IADkBlM,GAAa,qBAAA,GAEpC6O,EACAC,EACAC,EACAvL,EACAwL,EACAC,EACAC,EACAC,EACAC,EACAC,CAAAA,CAEJ,EAorBuCrH,GAAc2C,CAAAA,CAAAA,EAEnD,IAAMnG,EAAS,CACbqK,MAAO,EACPC,OAAQ,EACRC,MAAO,EACPvL,KAAM,EACNwL,MAAO,EACPC,QAAS,EACTC,QAAS,EACTC,aAAc,EACdC,aAAc,EACdC,YAAa,CAAA,EAEX0G,EAAUpH,GAAgChE,CAAAA,EAC9C,QAAS6E,EAAQ,EAAGA,EAAQ1F,GAAgBtK,OAAQgQ,IAAS,CAC3D,IAAM/H,EAAWqC,GAAgB0F,CAAAA,EAC3BtV,EAAQ6b,EAAQtO,CAAAA,EAClBvN,IADkBuN,SAEpBjD,EAAOiD,CAAAA,EAAYvN,EAEtB,CACD,OAAO,IAAImb,EACT7Q,EAAOqK,MACPrK,EAAOsK,OACPtK,EAAOuK,MACPvK,EAAOhB,KACPgB,EAAOwK,MACPxK,EAAOyK,QACPzK,EAAO0K,QACP1K,EAAO2K,aACP3K,EAAO4K,aACP5K,EAAO6K,WAAAA,CAEX,CAEM,SAAU2G,GAAkBC,EAAAA,CAChC,IAAItL,EACJ,GAAI7D,GAASmP,CAAAA,EAAY,CACvB,GAAIvL,GAAkBuL,CAAAA,GAAc/K,GAAwB+K,CAAAA,EAC1D,OAAOC,GAAsB3X,EAAQ0X,EAAW9a,CAAAA,CAAAA,EAElDwP,EAAO1C,GAAYgO,CAAAA,CACpB,MACCtL,EAAOsL,EAET,GAAA,CAAM1N,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,EAAGrD,KAAEA,EAAIJ,OAAEA,EAAM/D,EAAEA,CAAAA,EA38BpC,SAAqC+K,EAAAA,CACzC,IAAM1H,EAASyH,GAAiBC,CAAAA,EAChC,GAAA,CAAK1H,EAAOrD,GAAAA,CAAMqD,EAAOU,OAAQ,MAAM,IAAIxC,WAAW,8CAAA,EACtD,OAAO8B,CACT,EAu8B2EwD,GAAc2C,CAAAA,CAAAA,EAAAA,CACjF/B,KACJA,EAAO,EAACC,OACRA,EAAS,EAACC,OACVA,EAAS,EAACC,YACVA,EAAc,EAACC,YACfA,EAAc,EAACC,WACfA,EAAa,CAAA,EACX3D,IAAS,eAAiB,CAAE,EAAGA,EAI7B6Q,EAAWC,GACf7N,EACAC,EACAG,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAVwB9H,EAAI,EAAI+H,GAAkChE,CAAAA,EAAAA,EAcpE,OAFAmR,GAAkBF,EAASrG,OAAAA,EAEpBoG,GADkBI,GAAuBH,CAAAA,CAAAA,CAElD,CAEgB,SAAAI,GAAmB5L,EAAsCqF,EAAAA,CACvE,GAAIlJ,GAAS6D,CAAAA,EAAO,CAClB,GAAIM,GAAmBN,CAAAA,EAErB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpCwG,GAAuBjY,EAAQoM,EAAMvP,CAAAA,EAAWmD,EAAQoM,EAAMpP,CAAAA,CAAAA,EAEvE,IAAI+P,EAWJ,OAVIpN,GAAQyM,EAAMpP,CAAAA,EAChB+P,EAAW/M,EAAQoM,EAAMpP,CAAAA,GAEzB+P,EAAWX,EAAKW,SACZA,IADYA,SACYA,EAAW,WACvCA,EAAWmL,GAA6BnL,CAAAA,GAKnCkL,GADSE,GAA2BpL,EAF5ByH,GAAsBzH,EAAUX,EAAM,CAAC,OAAQ,QAAS,YAAa,KAAA,EAAQ,CAAA,EAAI,CAAA,CAAA,EAC/EoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,CAAAA,EAErB1E,CAAAA,CACxC,CAED,GAAA,CAAI9C,MAAEA,EAAKG,IAAEA,EAAGsE,iBAAEA,EAAgB3B,SAAEA,CAAAA,EAAaqB,GAA4B3E,GAAc2C,CAAAA,CAAAA,EAM3F,GALIW,IAKJ,SAL4BA,EAAW,WACvCA,EAAW2H,GAAqB3H,CAAAA,EAGhCyE,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACvC1E,IAAa,UAEf,OAAOkL,GAAuB,CAAEjO,KADC,KAC+BC,MAAAA,EAAOG,IAAAA,CAAAA,EAAO2C,CAAAA,EAGhF,IAAIwE,EAAU,CAAEvH,KAAM0E,EAAkBzE,MAAAA,EAAOG,IAAAA,CAAAA,EAI/C,OAHAgO,GAAgB7G,CAAAA,EAEhBA,EAAU4G,GAA2BpL,EADtBuI,GAAgBvI,EAAUwE,EAAS,WAAA,EACK,WAAA,EAChD0G,GAAuB1G,EAASxE,CAAAA,CACzC,CAEgB,SAAAsL,GAAejM,EAAkCqF,EAAAA,CAC/D,IAAI1K,EACJ,GAAIwB,GAAS6D,CAAAA,EAAO,CAClB,GAAIG,GAAeH,CAAAA,EAEjB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpC6G,GAAmBtY,EAAQoM,EAAMrP,EAAAA,CAAAA,EAE1C,GAAIyP,GAAmBJ,CAAAA,EAErB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpC6G,GAAmBtY,EAAQoM,EAAMtP,EAAAA,EAAeiK,IAAAA,EAEzD,GAAI4F,GAAwBP,CAAAA,EAAO,CACjC,IAAMmK,EAAcC,GAAkBxW,EAAQoM,EAAMhP,EAAAA,EAAY4C,EAAQoM,EAAMxP,CAAAA,CAAAA,EAE9E,OADA4U,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpC6G,GAAmB/B,EAAYxP,IAAAA,CACvC,CACD,GAAA,CAAMsD,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,EAAewL,GAAqB9J,CAAAA,EAE5FrF,EAAO6I,GAAavF,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,EADnD8G,GAA0B8E,EAAiB7E,CAAAA,CAAAA,CAAAA,CAE7D,MACC1K,EAAOkH,GAAwBxE,GAAc2C,CAAAA,CAAAA,EAC7CoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EAE7C,OAAO6G,GAAmBvR,CAAAA,CAC5B,CAEM,SAAUwR,GAAuBnM,EAAAA,CACrC,OAAIA,IAAJ,OAxtBO,CAAEwK,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,EAytB3F1K,EAAQqY,GAAejM,CAAAA,EAAOrP,EAAAA,CACvC,CAEgB,SAAAyb,GACdpM,EACAqF,EAAAA,CAEA,GAAIlJ,GAAS6D,CAAAA,EAAO,CAClB,GAAIK,GAAoBL,CAAAA,EAEtB,OADAoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EACpCgH,GAAwBzY,EAAQoM,EAAMvP,CAAAA,EAAWmD,EAAQoM,EAAMpP,CAAAA,CAAAA,EAExE,IAAM+P,EAAWuH,GAA4ClI,CAAAA,EAI7D,OAAOqM,GADSC,GAA4B3L,EAF7ByH,GAAsBzH,EAAUX,EAAM,CAAC,OAAQ,QAAS,WAAA,EAAc,CAAA,EAAI,CAAA,CAAA,EACxEoF,GAA0B8E,EAAiB7E,CAAAA,CAAAA,CAAAA,EAEpB1E,CAAAA,CACzC,CAED,GAAA,CAAI/C,KAAEA,EAAIC,MAAEA,EAAKuE,gBAAEA,EAAezB,SAAEA,CAAAA,EAAauB,GAA6B7E,GAAc2C,CAAAA,CAAAA,EACxFW,IADwFX,SAChEW,EAAW,WACvCA,EAAW2H,GAAqB3H,CAAAA,EAGhCyE,GAA0B8E,EAAiB7E,CAAAA,CAAAA,EAC3C,IAAIF,EAAU,CAAEvH,KAAAA,EAAMC,MAAAA,EAAOG,IAAKoE,CAAAA,EAIlC,OAHAmK,GAAqBpH,CAAAA,EAErBA,EAAUmH,GAA4B3L,EADvBuI,GAAgBvI,EAAUwE,EAAS,YAAA,EACM,WAAA,EACjDkH,GAAwBlH,EAASxE,CAAAA,CAC1C,CAAA,SAIgB6H,GACdrD,EACAxK,EACAkN,EACA2E,EACAhO,EACAiO,EACAC,EACAC,EAAAA,CAKA,GAAIhS,IAAS,eAGX,OAAOiS,GAAcpO,EAAU2G,CAAAA,EAGjC,IAAM0H,EAAK3H,GAA4BC,EAASxK,CAAAA,EAEhD,GAAIkN,IAAoB,QAAU6E,IAAc,SAG9C,OAAOI,GAAuBtO,EAAUqO,EAAIJ,CAAAA,EAM9C,GAAI5E,IAAoB,SAAW6E,IAAc,MAAO,CAEtD,IAAMlB,EAAWC,GACftG,EAAQvH,KACRuH,EAAQtH,MACRsH,EAAQnH,IACRrD,EAAKsD,KACLtD,EAAKuD,OACLvD,EAAKwD,OACLxD,EAAKyD,YACLzD,EAAK0D,YACL1D,EAAK2D,WAAakO,CAAAA,EAEpBd,GAAkBF,EAASrG,OAAAA,EAC3B,IAAMpM,EAAU4S,GAAuBH,CAAAA,EAEvC,OADAuB,GAAyBhU,CAAAA,EAClBA,CACR,CAED2S,GAAkBvG,CAAAA,EAClB,IAAM6H,EAAarB,GAAuBkB,CAAAA,EAGpCI,EAAkBC,GAA4B1O,EAAUqO,CAAAA,EAC9D,QAAShI,EAAQ,EAAGA,EAAQoI,EAAgBpY,OAAQgQ,IAAS,CAC3D,IAAMsI,EAAYF,EAAgBpI,CAAAA,EAC5BuI,EAAkB5e,EAAAA,QAAKkJ,SAASlJ,EAAAA,QAAK2J,SAAS6U,EAAYG,CAAAA,CAAAA,EAC1DE,EAAyBC,GAAuBF,EAAiB,KAAM,YAAA,EAC7E,GAAIA,IAAoBZ,GAAaG,GAAeU,IAA2Bb,EAC7E,OAAOW,CAEV,CAID,GAAIT,IAAc,SAAU,CAC1B,IAAMa,EAAYC,GAA2BhB,CAAAA,EACvCiB,EAAQC,GAAoBb,EAAI,UAAW,MAAA,EACjD,MAAM,IAAI9U,WAAW,UAAUwV,CAAAA,mBAA4BE,CAAAA,OAAYjP,CAAAA,EAAAA,CACxE,CAGD,OAAOmP,GAAqCV,EAAiBzO,EAAUqO,EAAIJ,CAAAA,CAC7E,CAEgB,SAAAmB,GACd5N,EACAqF,EAAAA,CAEA,IAAIF,EAASxK,EAAM6D,EAAUjE,EAAQoG,EAGjC8L,EAAgBC,EAFhBC,EAAAA,GACA9E,EAAmC,SAEvC,GAAI1L,GAAS6D,CAAAA,EAAO,CAClB,GAAIO,GAAwBP,CAAAA,EAAO,CACjC,IAAM6N,EAAkB3D,EAAiB7E,CAAAA,EAIzC,OAHAE,GAAgCsI,CAAAA,EAChCnI,GAAwBmI,EAAiB,QAAA,EACzCzI,GAA0ByI,CAAAA,EACnBtF,GACL3U,EAAQoM,EAAMxP,CAAAA,EACdoD,EAAQoM,EAAMhP,EAAAA,EACd4C,EAAQoM,EAAMpP,CAAAA,CAAAA,CAEjB,CACD+P,EAAWuH,GAA4ClI,CAAAA,EACvD,IAAMmI,EAASC,GACbzH,EACAX,EACA,CAAC,OAAQ,QAAS,YAAa,KAAA,EAC/B,CAAC,OAAQ,SAAU,SAAU,cAAe,cAAe,aAAc,SAAU,UAAA,EACnF,CAAC,UAAA,CAAA,GAAA,CAEAzF,OAAAA,EAAQiE,SAAAA,CAAAA,EAAa2J,GACpB5N,IADoB4N,SAEtBN,EAAkB,QAEpB,IAAMgG,EAAkB3D,EAAiB7E,CAAAA,EACzCoH,EAAiBlH,GAAgCsI,CAAAA,EACjDnB,EAAYhH,GAAwBmI,EAAiB,QAAA,EACrD,IAAMvK,EAAW8B,GAA0ByI,CAAAA,GAAAA,CACxC1I,QAAAA,EAASxK,KAAAA,CAAAA,EAAS0N,GAAgC1H,EAAUwH,EAAQ7E,CAAAA,EACxE,KAAM,CACL,IAAI3B,EAAcnL,EAAGoH,EAAMC,EAAOG,GAAAA,CAC/BJ,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,EAAKrD,KAAAA,EAAMgH,aAAAA,EAAcpH,OAAAA,EAAQ/D,EAAAA,EAAGmK,SAAAA,CAAAA,EAtrClD,SAA2CY,EAAAA,CAC/C,IAAM1H,EAASyH,GAAiBC,CAAAA,EAChC,GAAA,CAAK1H,EAAO8H,aAAc,MAAM,IAAI5J,WAAW,4DAAA,EAC/C,OAAO8B,CACT,EAmrCMwD,GAAc2C,CAAAA,CAAAA,GAEhBxB,EAAWC,GAA6BkD,CAAAA,EACpCnL,EACFqR,EAAkB,QACRtN,IACVsN,EAAkB,QAEflH,IAAUA,EAAW,WAC1BA,EAAW2H,GAAqB3H,CAAAA,EAChCgM,EAAAA,GACA,IAAMkB,EAAkB3D,EAAiB7E,CAAAA,EACzCoH,EAAiBlH,GAAgCsI,CAAAA,EACjDnB,EAAYhH,GAAwBmI,EAAiB,QAAA,EACrDzI,GAA0ByI,CAAAA,EAC1B1I,EAAU,CAAEvH,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,CAC1B,CACD,IAAIwO,EAAW,EAYf,OAXI3E,IAAoB,WAAU2E,EAAWjO,GAAkChE,CAAAA,GAWxEgO,GAVkBC,GACvBrD,EACAxK,EACAkN,EACA2E,EACAhO,EACAiO,EACAC,EACAC,CAAAA,EAEmDnO,EAAUmC,CAAAA,CACjE,CAAA,SAEgBmN,GAAwBjU,EAA4BsL,EAAkBxE,EAAAA,CACpFqL,GAAgB7G,CAAAA,EAEhB7R,GAAYuG,CAAAA,EACZ/F,GAAQ+F,EAAQpJ,EAAU0U,CAAAA,EAC1BrR,GAAQ+F,EAAQjJ,EAAU+P,CAAAA,EAC1B7M,GAAQ+F,EAAQhJ,GAAAA,EAAY,CAW9B,CAEgB,SAAAoX,GAAmB9C,EAAkBxE,EAAAA,CACnD,IAAMoN,EAAoB1Y,GAAa,sBAAA,EACjCwE,EAASzG,OAAOC,OAAO0a,EAAkB1Z,SAAAA,EAE/C,OADAyZ,GAAwBjU,EAAQsL,EAASxE,CAAAA,EAClC9G,CACT,CAAA,SAEgBmU,GACdnU,EACAsQ,EACAxJ,EAAAA,CAEAsN,GAAoB9D,CAAAA,EAEpB7W,GAAYuG,CAAAA,EACZ/F,GAAQ+F,EAAQnJ,GAAeyZ,CAAAA,EAC/BrW,GAAQ+F,EAAQjJ,EAAU+P,CAAAA,CAW5B,CAEgB,SAAA4J,GAAuBJ,EAA0BxJ,EAAAA,CAC/D,IAAMuN,EAAwB7Y,GAAa,0BAAA,EACrCwE,EAASzG,OAAOC,OAAO6a,EAAsB7Z,SAAAA,EAEnD,OADA2Z,GAA4BnU,EAAQsQ,EAAaxJ,CAAAA,EAC1C9G,CACT,CAAA,SAEgBsU,GACdtU,EACAsL,EACAxE,EAAAA,CAEAqL,GAAgB7G,CAAAA,EAEhB7R,GAAYuG,CAAAA,EACZ/F,GAAQ+F,EAAQpJ,EAAU0U,CAAAA,EAC1BrR,GAAQ+F,EAAQjJ,EAAU+P,CAAAA,EAC1B7M,GAAQ+F,EAAQ9I,GAAAA,EAAiB,CAWnC,CAEgB,SAAA8a,GAAuB1G,EAAkBxE,EAAAA,CACvD,IAAMyN,EAAwB/Y,GAAa,0BAAA,EACrCwE,EAASzG,OAAOC,OAAO+a,EAAsB/Z,SAAAA,EAEnD,OADA8Z,GAA4BtU,EAAQsL,EAASxE,CAAAA,EACtC9G,CACT,CAEgB,SAAAwU,GAAwBxU,EAA4Bc,EAAAA,CAClErH,GAAYuG,CAAAA,EACZ/F,GAAQ+F,EAAQlJ,GAAMgK,CAAAA,CAUxB,CAEM,SAAUuR,GAAmBvR,EAAAA,CACjC,IAAM2T,EAAoBjZ,GAAa,sBAAA,EACjCwE,EAASzG,OAAOC,OAAOib,EAAkBja,SAAAA,EAE/C,OADAga,GAAwBxU,EAAQc,CAAAA,EACzBd,CACT,CAAA,SAEgB0U,GACd1U,EACAsL,EACAxE,EAAAA,CAEA4L,GAAqBpH,CAAAA,EAErB7R,GAAYuG,CAAAA,EACZ/F,GAAQ+F,EAAQpJ,EAAU0U,CAAAA,EAC1BrR,GAAQ+F,EAAQjJ,EAAU+P,CAAAA,EAC1B7M,GAAQ+F,EAAQ/I,GAAAA,EAAkB,CAWpC,CAEgB,SAAAub,GAAwBlH,EAAkBxE,EAAAA,CACxD,IAAM6N,EAAyBnZ,GAAa,2BAAA,EACtCwE,EAASzG,OAAOC,OAAOmb,EAAuBna,SAAAA,EAEpD,OADAka,GAA6B1U,EAAQsL,EAASxE,CAAAA,EACvC9G,CACT,CAEgB,SAAA4U,GAA2B5U,EAA0B6U,EAAAA,CACnE3B,GAAyB2B,CAAAA,EACzBpb,GAAYuG,CAAAA,EACZ/F,GAAQ+F,EAAQrJ,EAAkBke,CAAAA,CAYpC,CAEM,SAAUnD,GAAsBmD,EAAAA,CACpC,IAAMC,EAAkBtZ,GAAa,oBAAA,EAC/BwE,EAA2BzG,OAAOC,OAAOsb,EAAgBta,SAAAA,EAE/D,OADAoa,GAA2B5U,EAAQ6U,CAAAA,EAC5B7U,CACT,CAEM,SAAU+U,GACd/U,EACA6U,EACAlQ,EACAmC,EAAAA,CAEAoM,GAAyB2B,CAAAA,EAEzBpb,GAAYuG,CAAAA,EACZ/F,GAAQ+F,EAAQrJ,EAAkBke,CAAAA,EAClC5a,GAAQ+F,EAAQ7I,GAAWwN,CAAAA,EAC3B1K,GAAQ+F,EAAQjJ,EAAU+P,CAAAA,CAW5B,CAEM,SAAU4H,GACdmG,EACAlQ,EACAmC,EAA8B,UAAA,CAE9B,IAAMkO,EAAwBxZ,GAAa,0BAAA,EACrCwE,EAAiCzG,OAAOC,OAAOwb,EAAsBxa,SAAAA,EAE3E,OADAua,GAAiC/U,EAAQ6U,EAAkBlQ,EAAUmC,CAAAA,EAC9D9G,CACT,CAEA,SAASiV,GAAyB3G,EAAAA,CAChC,OAAO3K,GAAoBuR,OAAQ5Z,GAAQgT,EAAOhT,CAAAA,IAAfA,MAAeA,CACpD,CAAA,SAEgB6Z,GACdrO,EACAwH,EACA8G,EAAAA,CAEA,IAAMC,EAAiBJ,GAAyBG,CAAAA,EAC1CE,EAAiBpG,GAAkBpI,CAAAA,EAAUyO,kBAAkBF,CAAAA,EAC/DG,EAASjc,OAAOC,OAAO,IAAA,EACvBic,EAAaR,GAAyB3G,CAAAA,EAC5C,QAASoH,EAAK,EAAGA,EAAK/R,GAAoB3I,OAAQ0a,IAAM,CACtD,IAAIC,EACEra,EAAMqI,GAAoB+R,CAAAA,EAC5BD,EAAWzF,SAAS1U,CAAAA,GAAAA,CAASga,EAAetF,SAAS1U,CAAAA,IACvDqa,EAAYrH,EAAOhT,CAAAA,GAEjB+Z,EAAerF,SAAS1U,CAAAA,IAC1Bqa,EAAYP,EAAiB9Z,CAAAA,GAE3Bqa,IAF2Bra,SAEFka,EAAOla,CAAAA,EAAOqa,EAC5C,CACD,OAAOH,CACT,CAEM,SAAUI,GACd9O,EACAwE,EACAuK,EACApM,EAAAA,CAEA,IAAMzJ,EAASkP,GAAkBpI,CAAAA,EAAUgP,QAAQxK,EAASuK,EAAcpM,CAAAA,EAE1E,OADA0I,GAAgBnS,CAAAA,EACTA,CACT,CAEA,SAAS+V,GACPjP,EACAwE,EACA0K,EACAC,EAAAA,CAEA,OAAO/G,GAAkBpI,CAAAA,EAAUoP,UAAU5K,EAAS0K,EAAcC,CAAAA,CACtE,CAEM,SAAUhE,GAA6BkE,EAAAA,CAC3C,GAAI7T,GAAS6T,CAAAA,GACPzc,GAAQyc,EAAcpf,CAAAA,EAAW,OAAOgD,EAAQoc,EAAcpf,CAAAA,EAEpE,IAAMmS,EAAa1F,GAAc2S,CAAAA,EACjC,GAAA,CAEE,OAAO1H,GAAqBvF,CAAAA,CAC7B,OAAChE,EAAA,CAED,CACD,IAAI4B,EACJ,GAAA,EAAA,CACKA,SAAAA,CAAAA,EAAaW,GAAiByB,CAAAA,EAClC,OAAChE,EAAA,CACA,GAAA,EAAA,CACK4B,SAAAA,CAAAA,EAAakB,GAAwBkB,CAAAA,EACzC,OAAChE,EAAA,CACA,GAAA,EAAA,CACK4B,SAAAA,CAAAA,EAAauB,GAA6Ba,CAAAA,EAC9C,OAAChE,EAAA,EAAA,CACG4B,SAAAA,CAAAA,EAAaqB,GAA4Be,CAAAA,EAC7C,CACF,CACF,CAED,OADKpC,IAAUA,EAAW,WACnB2H,GAAqB3H,CAAAA,CAC9B,CAEA,SAASuH,GAA4ClI,EAAAA,CACnD,GAAIzM,GAAQyM,EAAMpP,CAAAA,EAAW,OAAOgD,EAAQoM,EAAMpP,CAAAA,EAClD,GAAA,CAAM+P,SAAEA,CAAAA,EAAaX,EACrB,OAAIW,IAAJ,OAAmC,UAC5BmL,GAA6BnL,CAAAA,CACtC,CAEgB,SAAAsP,GAAeC,EAAwBC,EAAAA,CACrD,OAAO7H,GAAqB4H,CAAAA,IAAS5H,GAAqB6H,CAAAA,CAC5D,CAAA,SAEgB9F,GAAuB1J,EAA6BwH,EAA8B7E,EAAAA,CAChG,IAAM8M,EAA6BrH,GAAkBpI,CAAAA,EACrDyP,EAAaC,cAAclI,EAAQ,MAAA,EACnC,IAAMtO,EAASuW,EAAaE,UAAUnI,EAAQ7E,CAAAA,EAE9C,OADA0I,GAAgBnS,CAAAA,EACTA,CACT,CAAA,SAEgByS,GACd3L,EACAwH,EACA7E,EAAAA,CAEA,IAAM8M,EAA6BrH,GAAkBpI,CAAAA,EACrDyP,EAAaC,cAAclI,EAAQ,YAAA,EACnCA,EAAOnK,IAAM,EACb,IAAMnE,EAASuW,EAAaE,UAAUnI,EAAQ7E,CAAAA,EAE9C,OADAiJ,GAAqB1S,CAAAA,EACdA,CACT,CAAA,SAEgBkS,GACdpL,EACAwH,EACA7E,EAAAA,CAEA,IAAM8M,EAA6BrH,GAAkBpI,CAAAA,EACrDyP,EAAaC,cAAclI,EAAQ,WAAA,EACnC,IAAMtO,EAASuW,EAAaG,2BAA2BpI,EAAQ7E,CAAAA,EAE/D,OADA0I,GAAgBnS,CAAAA,EACTA,CACT,CAEM,SAAU4E,GAA6B+R,EAAAA,CAC3C,GAAIrU,GAASqU,CAAAA,GACPjQ,GAAwBiQ,CAAAA,EAAuB,OAAO5c,EAAQ4c,EAAsBxf,EAAAA,EAE1F,IAAM2R,EAAiBtF,GAAcmT,CAAAA,EACrC,GAAI7N,IAAmB,MAAO,MAAO,MAErC,GAAA,CAAMM,OAAEA,EAAMD,cAAEA,CAAAA,EAp4ClB,SAAqCyN,EAAAA,CACnC,GAAA,CAAM9O,aAAEA,EAAYpH,OAAEA,EAAM/D,EAAEA,CAAAA,EArB1B,SAAyCmM,EAAAA,CAK7C,GAAIJ,GAAoB9B,KAAKkC,CAAAA,EAC3B,MAAO,CAAEhB,aAAcgB,EAAgBpI,OAAAA,OAAmB/D,EAAAA,EAAG,EAE/D,GAAA,CAEE,GAAA,CAAMmL,aAAEA,EAAYpH,OAAEA,EAAM/D,EAAEA,CAAAA,EAAM8K,GAAiBqB,CAAAA,EACrD,GAAInM,GAAKmL,GAAgBpH,EACvB,MAAO,CAAEoH,aAAAA,EAAcpH,OAAAA,EAAQ/D,EAAAA,CAAAA,CAElC,OAACuI,EAAA,CAED,CACD2D,GAA4BC,CAAAA,CAC9B,EAGqE8N,CAAAA,EACnE,OAAI9O,EAAqBmB,GAAwBnB,CAAAA,EAC7CnL,EAAUsM,GAAwB,KAAA,EAClCvI,EAAeuI,GAAwBvI,CAAAA,EAAAA,MAE7C,EA83CgEoI,CAAAA,EAC9D,GAAIK,IAAJ,OACE,OAAO0N,GAA+B1N,CAAAA,EAGxC,IAAM2N,EAASC,GAA+C3N,CAAAA,EAC9D,GAAA,CAAK0N,EAAQ,MAAM,IAAI5Y,WAAW,0BAA0BkL,CAAAA,EAAAA,EAC5D,OAAO0N,EAAO5N,UAChB,CAEgB,SAAA8N,GAAeX,EAAaC,EAAAA,CAC1C,GAAID,IAAQC,EAAK,MAAA,GACjB,IAAMW,EAAiBhO,GAAwBoN,CAAAA,EAAKlN,cAC9C+N,EAAiBjO,GAAwBqN,CAAAA,EAAKnN,cACpD,GAAI8N,IAAJ,QAAoCC,IAAhCD,OAA8D,CAMhE,IAAME,EAAYJ,GAAoCT,CAAAA,EACtD,GAAA,CAAKa,EAAW,MAAA,GAChB,IAAMC,EAAYL,GAAoCV,CAAAA,EACtD,MAAA,CAAA,CAAKe,GACEA,EAAUC,oBAAsBF,EAAUE,iBAClD,CACC,OAAOJ,IAAmBC,CAE9B,CAEgB,SAAAI,GAAwB3S,EAAkBzF,EAAAA,CACxD,IAAMiK,EAAgBF,GAAwBtE,CAAAA,EAAUwE,cACxD,OAAIA,IAAJ,OAAwD,KAAhBA,EAEjCoO,GAAkC5S,EAAUzF,CAAAA,CACrD,CAEM,SAAUyU,GAA2BhB,EAAAA,CACzC,IAAM5W,EAAO4W,EAAW,EAAI,IAAM,IAC5B6E,EAAaxb,KAAKjG,IAAI4c,CAAAA,EACtBvO,EAAOpI,KAAKqH,MAAMmU,EAAa,KAAA,EAC/BnT,EAASrI,KAAKqH,MAAMmU,EAAa,IAAA,EAAQ,GACzClT,EAAStI,KAAKqH,MAAMmU,EAAa,GAAA,EAAO,GACxCC,EAAcD,EAAa,IAGjC,MAAO,GAAGzb,CAAAA,GADS2b,GAAiBtT,EAAMC,EAAQC,EAAQmT,EADxCnT,IAAW,GAAKmT,IAAgB,EAAI,SAAW,MAAA,CAAA,EAGnE,CAEgB,SAAAlH,GAAkB5L,EAAkBzF,EAAAA,CAClD,IAAMyT,EAAW2E,GAAwB3S,EAAUzF,CAAAA,EACnD,CACEoM,QAAAA,CAASvH,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EACxBrD,KAAAA,CAAMsD,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,CAAAA,EACtDkT,GAAqBzY,CAAAA,EACzB,OAAO0S,GAAmB7N,EAAMC,EAAOG,EAAKC,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,EAAakO,CAAAA,CAC3G,CAAA,SAEgBM,GACdtO,EACA2L,EACAsC,EAAAA,CAGA,OAAOkB,GADiBT,GAA4B1O,EAAU2L,CAAAA,EACD3L,EAAU2L,EAAasC,CAAAA,CACtF,CAGA,SAASkB,GACPV,EACAzO,EACA2L,EACAsC,EAAAA,CAEA,IAAMgF,EAAcxE,EAAgBpY,OAEpC,GAAI4c,IAAgB,EAAG,OAAOxE,EAAgB,CAAA,EAC9C,GAAIwE,EACF,OAAQhF,EAAAA,CACN,IAAK,aAEL,IAAK,UACH,OAAOQ,EAAgB,CAAA,EACzB,IAAK,QACH,OAAOA,EAAgBwE,EAAc,CAAA,EACvC,IAAK,SACH,MAAM,IAAI1Z,WAAW,yBAAA,CAAA,CAK3B,GAAI0U,IAAmB,SAAU,MAAM,IAAI1U,WAAW,yBAAA,EACtD,IAAM2Z,EAAQ/F,GAAuBxB,CAAAA,EAE/BwH,EAAYnjB,EAAAA,QAAK2J,SAASuZ,EAAOriB,EAAAA,EACvC0d,GAAyB4E,CAAAA,EACzB,IAAMC,EAAeT,GAAwB3S,EAAUmT,CAAAA,EACjDE,EAAWrjB,EAAAA,QAAKiK,IAAIiZ,EAAOriB,EAAAA,EACjC0d,GAAyB8E,CAAAA,EACzB,IACMnN,EADcyM,GAAwB3S,EAAUqT,CAAAA,EACpBD,EAGlC,OAAQnF,EAAAA,CACN,IAAK,UAAW,CACd,IAAMqF,EAAeza,GAAa0a,eAAe,EAAG,EAAG,EAAG,EAAG,EAAA,CAAIrN,CAAAA,EAC3DsN,EAAcC,GAAQ9H,EAAYxP,KAAMmX,CAAAA,EAO9C,OAAO5E,GAA4B1O,EADnB0G,GALIgN,GAClB/H,EAAYhF,QAAQvH,KACpBuM,EAAYhF,QAAQtH,MACpBsM,EAAYhF,QAAQnH,IAAMgU,EAAYxH,SAAAA,EAEiBwH,CAAAA,CAAAA,EACH,CAAA,CACvD,CACD,IAAK,aAEL,IAAK,QAAS,CACZ,IAAMF,EAAeza,GAAa0a,eAAe,EAAG,EAAG,EAAG,EAAG,EAAGrN,CAAAA,EAC1DyN,EAAYF,GAAQ9H,EAAYxP,KAAMmX,CAAAA,EAOtCM,EAAWlF,GAA4B1O,EAD/B0G,GALIgN,GAChB/H,EAAYhF,QAAQvH,KACpBuM,EAAYhF,QAAQtH,MACpBsM,EAAYhF,QAAQnH,IAAMmU,EAAU3H,SAAAA,EAEe2H,CAAAA,CAAAA,EAErD,OAAOC,EAASA,EAASvd,OAAS,CAAA,CACnC,CAAA,CAEL,CAEA,SAASqY,GAA4B1O,EAAkB2L,EAAAA,CAErD,GAAI3L,IAAa,MAEf,OADAkN,GAAkBvB,EAAYhF,OAAAA,EACvB,CAACwG,GAAuBxB,CAAAA,CAAAA,EAGjC,IAAMnH,EAAgBF,GAAwBtE,CAAAA,EAAUwE,cACxD,GAAIA,IAAJ,OAAiC,CAC/B,IAAMwI,EAAWC,GACftB,EAAYhF,QAAQvH,KACpBuM,EAAYhF,QAAQtH,MACpBsM,EAAYhF,QAAQnH,IACpBmM,EAAYxP,KAAKsD,KACjBkM,EAAYxP,KAAKuD,OAAS8E,EAC1BmH,EAAYxP,KAAKwD,OACjBgM,EAAYxP,KAAKyD,YACjB+L,EAAYxP,KAAK0D,YACjB8L,EAAYxP,KAAK2D,UAAAA,EAEnBoN,GAAkBF,EAASrG,OAAAA,EAC3B,IAAMpM,EAAU4S,GAAuBH,CAAAA,EAEvC,OADAuB,GAAyBhU,CAAAA,EAClB,CAACA,CAAAA,CACT,CAGD,OADA2S,GAAkBvB,EAAYhF,OAAAA,EAgmBhC,SAA0CxR,EAAYwW,EAAAA,CAGpD,IAAI3R,EAAKmT,GAAuBxB,CAAAA,EAC5BkI,EAAY7jB,EAAAA,QAAK2J,SAASK,EAAInJ,EAAAA,EAC9Bb,EAAAA,QAAKsB,SAASuiB,EAAW9W,EAAAA,IAAS8W,EAAY7Z,GAClD,IAAI8Z,EAAU9jB,EAAAA,QAAKiK,IAAID,EAAInJ,EAAAA,EACvBb,EAAAA,QAAK0B,YAAYoiB,EAASjX,EAAAA,IAASiX,EAAU9Z,GACjD,IAAM+Z,EAAkBnB,GAAkCzd,EAAI0e,CAAAA,EACxDG,EAAgBpB,GAAkCzd,EAAI2e,CAAAA,EAe5D,OARcC,IAAoBC,EAAgB,CAACD,CAAAA,EAAmB,CAACA,EAAiBC,CAAAA,GAC/D1T,IAAK2T,GAAAA,CAC5B,IAAM/D,EAAmBlgB,EAAAA,QAAK2J,SAASK,EAAIhK,EAAAA,QAAKC,OAAOgkB,CAAAA,CAAAA,EACjDC,EAhLM,SAA8B/e,EAAY+a,EAAAA,CACxD,GAAA,CAAMiE,kBACJA,EACAhY,KAAAA,CAAMyD,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,CAAAA,EAChCkT,GAAqB9C,CAAAA,EAAAA,CACnB9Q,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,GAAGC,KAAEA,GAAIC,OAAEA,EAAMC,OAAEA,CAAAA,EAAWyU,GAAkBjf,EAAIgf,CAAAA,EACzE,OAAOlH,GAAmB7N,EAAMC,EAAOG,GAAKC,GAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,CAC9F,EAyKgD3K,EAAI+a,CAAAA,EAChD,GAAImE,GAAmB1I,EAAauI,CAAAA,IAAW,EAE/C,OADA3F,GAAyB2B,CAAAA,EAClBA,CAAgB,CAAA,EAEPK,OAAQlf,GAAMA,IAANA,MAAMA,CAClC,EAxnB0C2O,EAAU2L,CAAAA,CACpD,CAEgB,SAAAyC,GAAcpO,EAAkB2G,EAAAA,CAC9C,IAAMgF,EAAcjF,GAA4BC,EAn3CzC,CAAEqF,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EAo3C5F2O,EAAkBC,GAA4B1O,EAAU2L,CAAAA,EAE9D,GAAI8C,EAAgBpY,OAAQ,OAAOoY,EAAgB,CAAA,EAMnD,IAAMyE,EAAQ/F,GAAuBxB,CAAAA,EAC/BwH,EAAYnjB,EAAAA,QAAK2J,SAASuZ,EAAOriB,EAAAA,EAEvC,OADA0d,GAAyB4E,CAAAA,EACPmB,GAA+BtU,EAAUmT,CAAAA,CAC7D,CAEM,SAAUoB,GAAcnV,EAAAA,CAC5B,IAAI6D,EAQJ,OAJEA,EAHE7D,EAAO,GAAKA,EAAO,MACRA,EAAO,EAAI,IAAM,KAEVT,GADDtH,KAAKjG,IAAIgO,CAAAA,EAC8B,CAAA,EAE7CT,GAA0BS,EAAM,CAAA,EAExC6D,CACT,CAEM,SAAUuR,GAAsBpI,EAAAA,CACpC,OAAOzN,GAA0ByN,EAAM,CAAA,CACzC,CAEA,SAASqI,GACPC,EACAvM,EAAAA,CAEA,IAAI7L,EACJ,GAAI6L,IAAc,OAAQ,CACxB,GAAIuM,IAAyB,EAAG,MAAO,GAGvCpY,EAF8BqC,GAA0B+V,EAAsB,CAAA,EAE7CC,QAAQ,MAAO,EAAA,CACjD,KAAM,CACL,GAAIxM,IAAc,EAAG,MAAO,GAE5B7L,EAD8BqC,GAA0B+V,EAAsB,CAAA,EAC7C7c,MAAM,EAAGsQ,CAAAA,CAC3C,CACD,MAAO,IAAI7L,CAAAA,EACb,CAEA,SAASyW,GACPtT,EACAC,EACAC,EACA+U,EACAvM,EAAAA,CAEA,IAAI9M,EAAS,GAAGmZ,GAAsB/U,CAAAA,CAAAA,IAAS+U,GAAsB9U,CAAAA,CAAAA,GACrE,OAAIyI,IAAc,WAElB9M,GAAU,IAAImZ,GAAsB7U,CAAAA,CAAAA,GACpCtE,GAAUoZ,GAAwBC,EAAsBvM,CAAAA,GAHrB9M,CAKrC,CAAA,SAEgBuZ,GACdC,EACA7U,EACAmI,EAAAA,CAEA,IAAI2M,EAAiB9U,EACjB8U,IADiB9U,SACa8U,EAAiB,OACnD,IAAMva,EAAUnF,EAAQyf,EAAS7iB,CAAAA,EAE3B+iB,EAAiB7F,GADXtD,GAAkBkJ,EAAgBva,CAAAA,EACE,UAAW4N,EAAW,OAAA,EAClEhE,EAAiB,IAKrB,OAJInE,IAIJ,SAFEmE,EAAiB6Q,GADArC,GAAwBmC,EAAgBva,CAAAA,CAAAA,GAGpD,GAAGwa,CAAAA,GAAiB5Q,CAAAA,EAC7B,CAQgB,SAAA8Q,GACdzY,EACA2L,EAAAA,CAEA,IAAMzC,EAAQtQ,EAAQoH,EAAU/J,EAAAA,EAC1BkT,EAASvQ,EAAQoH,EAAU9J,EAAAA,EAC3BkT,EAAQxQ,EAAQoH,EAAU7J,EAAAA,EAC1B0H,EAAOjF,EAAQoH,EAAU5J,EAAAA,EACzBiT,EAAQzQ,EAAQoH,EAAU3J,EAAAA,EAC1BiT,EAAU1Q,EAAQoH,EAAU1J,EAAAA,EAC5BsE,EAAO8d,GAAa1Y,CAAAA,EAEtB2Y,EAAW,GACXzP,IAAU,IAAGyP,GAAY,GAAG9d,KAAKjG,IAAIsU,CAAAA,CAAAA,KACrCC,IAAW,IAAGwP,GAAY,GAAG9d,KAAKjG,IAAIuU,CAAAA,CAAAA,KACtCC,IAAU,IAAGuP,GAAY,GAAG9d,KAAKjG,IAAIwU,CAAAA,CAAAA,KACrCvL,IAAS,IAAG8a,GAAY,GAAG9d,KAAKjG,IAAIiJ,CAAAA,CAAAA,KAExC,IAAI+a,EAAW,GACXvP,IAAU,IAAGuP,GAAY,GAAG/d,KAAKjG,IAAIyU,CAAAA,CAAAA,KACrCC,IAAY,IAAGsP,GAAY,GAAG/d,KAAKjG,IAAI0U,CAAAA,CAAAA,KAI3C,IAAMuP,EAAkBxc,GAAa0a,eACnC,EACA,EACAne,EAAQoH,EAAUzJ,EAAAA,EAClBqC,EAAQoH,EAAUxJ,EAAAA,EAClBoC,EAAQoH,EAAUvJ,EAAAA,EAClBmC,EAAQoH,EAAUtJ,EAAAA,CAAAA,EAGjBmiB,EAAgBra,OAAAA,GAAAA,CACjB,CAAC,SAAU,cAAe,cAAe,YAAA,EAAcqQ,SAASpB,GAA2BzN,CAAAA,CAAAA,GAC3F2L,IAAc,SAIdiN,GAAY,GAFQ/d,KAAKjG,IAAIikB,EAAgBpc,GAAAA,CAAAA,GACtBwb,GAAwBpd,KAAKjG,IAAIikB,EAAgBlc,MAAAA,EAASgP,CAAAA,CAAAA,KAGnF,IAAI9M,EAAS,GAAGjE,EAAO,EAAI,IAAM,EAAA,IAAM+d,CAAAA,GAEvC,OADIC,IAAU/Z,EAAS,GAAGA,CAAAA,IAAU+Z,CAAAA,IAC7B/Z,CACT,CAAA,SAEgBia,GACdC,EACAlT,EAA4D,OAAA,CAE5D,GAAA,CAAMjD,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAQpK,EAAQmgB,EAAMtjB,CAAAA,EAK3C,MAAO,GAJYsiB,GAAcnV,CAAAA,CAAAA,IACboV,GAAsBnV,CAAAA,CAAAA,IACxBmV,GAAsBhV,CAAAA,CAAAA,GACvB4C,GAAyBhN,EAAQmgB,EAAMnjB,CAAAA,EAAWiQ,CAAAA,CAAAA,EAErE,CAAA,SAEgBmT,GAAAA,CACd/V,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,EAClDqI,EAAAA,CAGA,OAAO4K,GAAiBtT,EAAMC,EAAQC,EADK,IAAdC,EAAkC,IAAdC,EAAoBC,EACDqI,CAAAA,CACtE,CAEM,SAAU+G,GACdvD,EACAxJ,EACAgG,EACA9F,EAAqE,OAAA,CAErE,GAAA,CACEsE,QAAAA,CAASvH,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EACxBrD,KAAAA,CAAMsD,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,CAAAA,EACtD6L,EAOJ,MAAO,GANY4I,GAAcnV,CAAAA,CAAAA,IACboV,GAAsBnV,CAAAA,CAAAA,IACxBmV,GAAsBhV,CAAAA,CAAAA,IAErBuT,GAAiBtT,EAAMC,EAAQC,EADP,IAAdC,EAAkC,IAAdC,EAAoBC,EACWqI,CAAAA,CAAAA,GACzD/F,GAAyBD,EAAUE,CAAAA,CAAAA,EAE5D,CAAA,SAEgBoT,GACdC,EACArT,EAA4D,OAAA,CAE5D,GAAA,CAAMjD,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAQpK,EAAQsgB,EAAUzjB,CAAAA,EAG3C0jB,EAAe,GAFCnB,GAAsBnV,CAAAA,CAAAA,IACxBmV,GAAsBhV,CAAAA,CAAAA,GAElC2C,EAAW/M,EAAQsgB,EAAUtjB,CAAAA,EAC/BiQ,IAAiB,UAAYA,IAAiB,YAAcF,IAAa,YAE3EwT,EAAe,GADIpB,GAAcnV,CAAAA,CAAAA,IACDuW,CAAAA,IAElC,IAAMC,EAAiBxT,GAAyBD,EAAUE,CAAAA,EAE1D,OADIuT,IAAgBD,GAAgBC,GAC7BD,CACT,CAAA,SAEgBE,GACdC,EACAzT,EAA4D,OAAA,CAE5D,GAAA,CAAMjD,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAQpK,EAAQ0gB,EAAW7jB,CAAAA,EAG5C0jB,EAAe,GAFApB,GAAcnV,CAAAA,CAAAA,IACboV,GAAsBnV,CAAAA,CAAAA,GAEpC8C,EAAW/M,EAAQ0gB,EAAW1jB,CAAAA,EAChCiQ,IAAiB,UAAYA,IAAiB,YAAcF,IAAa,YAE3EwT,GAAgB,IADEnB,GAAsBhV,CAAAA,CAAAA,IAG1C,IAAMoW,EAAiBxT,GAAyBD,EAAUE,CAAAA,EAE1D,OADIuT,IAAgBD,GAAgBC,GAC7BD,CACT,CAAA,SAEgBI,GACdC,EACA7N,EACA9F,EAAqE,OACrE4T,EAAqE,OACrEC,EAA6D,OAC7DrP,EAAAA,OAAuCV,CAEvC,IAAI5L,EAAUnF,EAAQ4gB,EAAKhkB,CAAAA,EAE3B,GAAI6U,EAAS,CACX,GAAA,CAAMuB,KAAEA,EAAIjN,UAAEA,EAASgb,aAAEA,CAAAA,EAAiBtP,EAC1CtM,EAAU6b,GAAqB7b,EAASY,EAAWiN,EAAM+N,CAAAA,CAC1D,CAED,IAAME,EAAKjhB,EAAQ4gB,EAAKxjB,EAAAA,EAClBwb,EAAW2E,GAAwB0D,EAAI9b,CAAAA,EAEzCwa,EAAiB7F,GADTtD,GAAkByK,EAAI9b,CAAAA,EACY,UAAW4N,EAAW,OAAA,EASpE,OARI+N,IAAe,UACjBnB,GAAkBC,GAA+BhH,CAAAA,GAE/CiI,IAAiB,UAEnBlB,GAAkB,IADLkB,IAAiB,WAAa,IAAM,EAAA,GACpBI,CAAAA,KAE/BtB,GAAkB3S,GAAyBhN,EAAQ4gB,EAAK5jB,CAAAA,EAAWiQ,CAAAA,EAC5D0S,CACT,CAEM,SAAUuB,GAA2BC,EAAAA,CACzC,OAAOtS,GAAkBhC,KAAKsU,CAAAA,CAChC,CAEM,SAAUxW,GAAuBwW,EAAAA,CACrC,IAAM/T,EAAQgU,GAAkB5T,KAAK2T,CAAAA,EACrC,GAAA,CAAK/T,EACH,MAAM,IAAIjJ,WAAW,6BAA6Bgd,CAAAA,uCAAAA,EAQpD,OANa/T,EAAM,CAAA,IAAO,IAAP,GAAkB,IAKuC,KAAhB,IAAhB,GAAA,CAJ7BA,EAAM,CAAA,GAAA,EACHA,EAAM,CAAA,GAAM,KAAA,EACZA,EAAM,CAAA,GAAM,KAAA,GACPA,EAAM,CAAA,GAAM,GAAK,aAAa3K,MAAM,EAAG,CAAA,EAGhE,CAEA,IAAI4e,GACEC,GAAY9hB,OAAO+hB,OAAO/hB,OAAOC,OAAO,IAAA,EAAO,CAAE,IAAA,GAAW,IAAA,GAAW+hB,EAAAA,EAAG,CAAA,EAE1E,SAAUxE,GACd7N,EAAAA,WAKA,GAAIkS,KAAJ,OAA6C,CAC3C,IAAMI,GAAuBhW,EAAAA,KAAKiW,oBAALjW,YAAAA,EAAAA,UAAyB,YACtD,GAAIgW,EAAsB,CACxBJ,GAA4B,IAAIzV,IAChC,QAAS+P,EAAK,EAAGA,EAAK8F,EAAqBxgB,OAAQ0a,IAAM,CACvD,IAAM5b,EAAK0hB,EAAqB9F,CAAAA,EAChC0F,GAA0B9hB,IAAIyM,GAAejM,CAAAA,EAAKA,CAAAA,CACnD,CACF,MACCshB,GAA4B,IAE/B,CAED,IAAMM,EAAQ3V,GAAemD,CAAAA,EACzBmO,EAAoB+D,IAAAA,YAAAA,GAA2BliB,IAAIwiB,GACvD,GAAIrE,EAAmB,MAAO,CAAEnO,WAAYmO,EAAmBA,kBAAAA,CAAAA,EAI/D,GAAA,CAEEA,EADkBzR,GAAqCsD,CAAAA,EACzB8K,gBAAAA,EAAkBrP,QACjD,OAACO,EAAA,CACA,MACD,CAUD,GALIwW,IAAU,0BAAyBrE,EAAoB,sBAKvDjV,GAAyBuZ,IAAIzS,CAAAA,EAC/B,MAAM,IAAIhL,WAAW,GAAGgL,CAAAA,mDAA6DmO,CAAAA,UAAAA,EAWvF,IAEMuE,EAFQ,CAAA,GAAIF,CAAAA,EAAOzW,IAAI,CAAC4W,EAAG9gB,IAAOA,IAAM,GAAKsgB,GAAUK,EAAM3gB,EAAI,CAAA,CAAA,EAAM8gB,EAAEC,YAAAA,EAAgBD,CAAAA,EACpEnc,KAAK,EAAA,EACFqc,MAAM,GAAA,EAEpC,GAAIH,EAAS5gB,SAAW,EAMtB,OAAI0gB,IAAU,UAAkB,CAAExS,WAAY,UAAWmO,kBAAAA,CAAAA,EAClD,CACLnO,WAAYwS,EAAM1gB,QAAU,GAAK,SAAS4L,KAAK8U,CAAAA,EAASA,EAAMI,YAAAA,EAAgBF,EAAS,CAAA,EACvFvE,kBAAAA,CAAAA,EAKJ,GAAIuE,EAAS,CAAA,IAAO,MAElB,MAAO,CAAE1S,WAAY,OADL,CAAC,OAAQ,YAAa,WAAA,EAAa8G,SAAS4L,EAAS,CAAA,CAAA,EAAMA,EAAS,CAAA,EAAKA,EAAS,CAAA,EAAGE,YAAAA,CAAAA,GAC9DzE,kBAAAA,CAAAA,EAIzC,GAAIuE,EAAS,CAAA,IAAO,KAAM,MAAO,CAAE1S,WAAY,MAAM0S,EAAS,CAAA,CAAA,GAAMvE,kBAAAA,CAAAA,EAGpE,IAAM2E,EAAe,IAAIrW,IAAI,CAC3B,CAAC,MAAO,KAAA,EACR,CAAC,MAAO,KAAA,EACR,CAAC,MAAO,KAAA,EACR,CAAC,gBAAiB,eAAA,EAClB,CAAC,gBAAiB,eAAA,EAClB,CAAC,iBAAkB,gBAAA,EACnB,CAAC,cAAe,aAAA,EAChB,CAAC,iBAAkB,gBAAA,EACnB,CAAC,UAAW,SAAA,EACZ,CAAC,iBAAkB,gBAAA,EACnB,CAAC,UAAW,SAAA,EACZ,CAAC,YAAa,WAAA,EACd,CAAC,eAAgB,cAAA,EACjB,CAAC,YAAa,WAAA,EACd,CAAC,UAAW,SAAA,CAAA,CAAA,EAId,OAFAiW,EAAS,CAAA,GAAKI,EAAAA,EAAa9iB,IAAI0iB,EAAS,CAAA,CAAA,IAA1BI,KAAAA,EAAiCJ,EAAS,CAAA,EACpDA,EAAS5gB,OAAS,IAAG4gB,EAAS,CAAA,GAAKI,EAAAA,EAAa9iB,IAAI0iB,EAAS,CAAA,CAAA,IAA1BI,KAAAA,EAAiCJ,EAAS,CAAA,GAC1E,CAAE1S,WAAY0S,EAASlc,KAAK,GAAA,EAAM2X,kBAAAA,CAAAA,CAC3C,CAEA,SAAS4E,GAAsCniB,EAAYgf,EAAAA,CACzD,GAAA,CAAM/U,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,EAAGC,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,CAAAA,EAAWyU,GAAkBjf,EAAIgf,CAAAA,EACrEvU,EAAcuU,EAAoB,IAGtC,OAFIvU,EAAc,IAAGA,GAAe,KAED,KADvB2X,GAAwB,CAAE5Q,QAAS,CAAEvH,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAOrD,KAAM,CAAEsD,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,CAAAA,CAAAA,CAAAA,EACrFuU,EAChB,CAEA,SAASvB,GAAkCzd,EAAY+a,EAAAA,CAIrD,OAAOoH,GAAsCniB,EAAIqiB,GAAYtH,EAAkB,OAAA,CAAA,CACjF,CAEM,SAAUgC,GAA+B1N,EAAAA,CAC7C,IAAMpN,EAAOoN,EAAgB,EAAI,IAAM,IACjCiT,EAAkBpgB,KAAKjG,IAAIoT,CAAAA,EAIjC,MAAO,GAAGpN,CAAAA,GADS2b,GAFN1b,KAAKqH,MAAM+Y,EAAkB,EAAA,EAC3BA,EAAkB,GACiB,EAAG,EAAG,QAAA,CAAA,EAE1D,CAEA,SAASzC,GAA+B0C,EAAAA,CAEtC,OAAOxF,GADmBpD,GAAuB4I,EAAwB/a,GAAc,YAAA,EAC7B,IAAA,CAC5D,CAEA,SAAS4a,GAAAA,CACP5Q,QAAAA,CAASvH,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EACxBrD,KAAAA,CAAMsD,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,CAAAA,CAAAA,EAAAA,CAS9B,IAAM+X,EAAcvY,EAAO,IACrBwY,GAAcxY,EAAOuY,GAAe,IAIpCE,EAAa,IAAIva,KAIvB,OAHAua,EAAWC,YAAYrY,EAAMC,EAAQC,EAAQC,CAAAA,EAC7CiY,EAAWE,eAAeJ,EAAatY,EAAQ,EAAGG,CAAAA,EACvCqY,EAAWG,QAAAA,EACV9a,GAAuB0a,CACrC,CAEA,SAASzK,GAAuBxB,EAAAA,CAC9B,IAAM5R,EAAKwd,GAAwB5L,CAAAA,EAC7BsM,EAAuC,IAA/BtM,EAAYxP,KAAK0D,YAAoB8L,EAAYxP,KAAK2D,WACpE,OAAO9P,EAAAA,QAAKiK,IAAI6C,GAAY/C,CAAAA,EAAK/J,EAAAA,QAAKC,OAAOgoB,CAAAA,CAAAA,CAC/C,CAEA,SAASjF,GAAqB9C,EAAAA,CAC5B,IAAIiE,EAAoBqD,GAAYtH,EAAkB,OAAA,EAClDgI,EAAQloB,EAAAA,QAAKkJ,SAASlJ,EAAAA,QAAKmB,UAAU+e,EAAkB1f,EAAAA,CAAAA,EACvD0nB,EAAQ,IACVA,GAAS,IACT/D,GAAqB,GAEvB,IAAMtU,EAAcxI,KAAKqH,MAAMwZ,EAAQ,GAAA,EAAO,IACxCpY,EAAaoY,EAAQ,IAErB1W,EAAO,IAAIlE,KAAK6W,CAAAA,EAStB,MAAO,CACLA,kBAAAA,EACAxN,QAAS,CAAEvH,KAVAoC,EAAK2W,eAAAA,EAUC9Y,MATLmC,EAAK4W,YAAAA,EAAgB,EAST5Y,IARdgC,EAAK6W,WAAAA,CAAAA,EASflc,KAAM,CAAEsD,KARG+B,EAAK8W,YAAAA,EAQF5Y,OAPD8B,EAAK+W,cAAAA,EAOI5Y,OANT6B,EAAKgX,cAAAA,EAMY5Y,YALZ4B,EAAKiX,mBAAAA,EAKoB5Y,YAAAA,EAAaC,WAAAA,CAAAA,CAAAA,CAE5D,CAYgB,SAAAwU,GAA+Bnf,EAAY+a,EAAAA,CACzD,GAAI/a,IAAO,MAAO,OAAO,KAKzB,IAAMgf,EAAoBqD,GAAYtH,EAAkB,OAAA,EACxD,GAAIiE,EAAoB9W,GACtB,OAAOiX,GAA+Bnf,EAAI2H,GAAYO,EAAAA,CAAAA,EAOxD,IAAMqb,EAAMpb,KAAKob,IAAAA,EAEXC,EADOthB,KAAKuhB,IAAIzE,EAAmBuE,CAAAA,EACR,IAATjc,GAAe,EACnCoc,EAAS1E,EACT2E,EAAexB,GAAsCniB,EAAI0jB,CAAAA,EACzDE,EAAUF,EACVG,EAAgBF,EACpB,KAAOA,IAAiBE,GAAiBH,EAASF,GAAU,CAE1D,GADAI,EAAUF,EAAkB,EAATpc,GAAa,EAC5Bsc,EAAUnc,GAAQ,OAAO,KAC7Boc,EAAgB1B,GAAsCniB,EAAI4jB,CAAAA,EACtDD,IAAiBE,IACnBH,EAASE,EAEZ,CACD,OAAID,IAAiBE,EAAsB,KAQpClc,GAPQmc,GACZC,GAAoB5B,GAAsCniB,EAAI+jB,CAAAA,EAC/DL,EACAE,EACAD,EACAE,CAAAA,CAAAA,CAGJ,CAEgB,SAAAG,GAAmChkB,EAAY+a,EAAAA,CAC7D,GAAI/a,IAAO,MAAO,OAAO,KAKzB,IAAMgf,EAAoBqD,GAAYtH,EAAkB,MAAA,EAKlDwI,EAAMpb,KAAKob,IAAAA,EACXU,EAAYV,EAAe,IAATjc,GAAe,EACvC,GAAI0X,EAAoBiF,EAAW,CACjC,IAAMC,EAAsBF,GAAmChkB,EAAI2H,GAAYsc,CAAAA,CAAAA,EAC/E,GAAIC,IAAwB,MAAQrpB,EAAAA,QAAKsB,SAAS+nB,EAAqBvc,GAAY4b,CAAAA,CAAAA,EACjF,OAAOW,CAEV,CASD,GAAIlkB,IAAO,qBAAuBA,IAAO,kBAAmB,CAC1D,IAAMmkB,EAAkBhc,KAAKC,IAAI,KAAM,EAAG,CAAA,EAC1C,GAAI+b,EAAkBnF,EACpB,OAAOgF,GAAmChkB,EAAI2H,GAAYwc,CAAAA,CAAAA,CAE7D,CAED,IAAIP,EAAU5E,EAAoB,EAClC,GAAI4E,EAAU1b,GAAkB,OAAO,KACvC,IAAI2b,EAAgB1B,GAAsCniB,EAAI4jB,CAAAA,EAC1DF,EAASE,EACTD,EAAeE,EACnB,KAAOA,IAAkBF,GAAgBC,EAAU1b,IAAkB,CAEnE,GADAwb,EAASE,EAAmB,EAATtc,GAAa,EAC5Boc,EAASxb,GAAkB,OAAO,KACtCyb,EAAexB,GAAsCniB,EAAI0jB,CAAAA,EACrDG,IAAkBF,IACpBC,EAAUF,EAEb,CACD,OAAIG,IAAkBF,EAAqB,KAQpChc,GAPQmc,GACZC,GAAoB5B,GAAsCniB,EAAI+jB,CAAAA,EAC/DL,EACAE,EACAD,EACAE,CAAAA,CAAAA,CAGJ,CAsCgB,SAAA5E,GAAkBpU,EAAkBmU,EAAAA,CAKlD,OAxCI,SAA8BoF,EAAAA,CAClC,IAAMC,EAASD,EAASnC,MAAM,QAAA,EAE9B,GAAIoC,EAAOnjB,SAAW,EACpB,MAAM,IAAIkD,WAAW,wBAAwBggB,CAAAA,EAAAA,EAG/C,IAAMla,EAAAA,CAASma,EAAO,CAAA,EAChBha,EAAAA,CAAOga,EAAO,CAAA,EAChBpa,EAAAA,CAAQoa,EAAO,CAAA,EACbta,EAAMsa,EAAO,CAAA,EACnB,GAAIta,EAAI,CAAA,IAAO,KAAOA,EAAI,CAAA,IAAO,IAC/BE,EAAe,EAAPA,UACCF,EAAI,CAAA,IAAO,KAAOA,EAAI,CAAA,IAAO,IACtC,MAAM,IAAI3F,WAAW,eAAe2F,CAAAA,QAAWqa,CAAAA,EAAAA,EAEjD,IAAM9Z,EAAO+Z,EAAO,CAAA,IAAO,KAAO,EAAA,CAAKA,EAAO,CAAA,EACxC9Z,EAAAA,CAAU8Z,EAAO,CAAA,EACjB7Z,EAAAA,CAAU6Z,EAAO,CAAA,EAEvB,GAAA,EACG7hB,OAAOqQ,SAAS5I,CAAAA,GAChBzH,OAAOqQ,SAAS3I,CAAAA,GAChB1H,OAAOqQ,SAASxI,CAAAA,GAChB7H,OAAOqQ,SAASvI,CAAAA,GAChB9H,OAAOqQ,SAAStI,CAAAA,GAChB/H,OAAOqQ,SAASrI,CAAAA,GAEjB,MAAM,IAAIpG,WAAW,sBAAsBggB,CAAAA,EAAAA,EAG7C,MAAO,CAAEna,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,EAAKC,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,CAAAA,CAC3C,EAIoBsB,GAAqCjB,CAAAA,EAG5ByZ,OAAOtF,CAAAA,CAAAA,CAEpC,CAkCM,SAAUuF,GAASta,EAAAA,CACvB,OAAkBA,IAAlB,QAAkBA,EACHA,EAAO,GAAM,GACXA,EAAO,KAAQ,GACfA,EAAO,KAAQ,EAElC,CAEgB,SAAAua,GAAeva,EAAcC,EAAAA,CAK3C,MAJY,CACVua,SAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAA,EACvDC,SAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAA,CAAA,EAE9CH,GAASta,CAAAA,EAAQ,WAAa,UAAA,EAAYC,EAAQ,CAAA,CAC/D,CAEM,SAAU6V,GAAa1Y,EAAAA,CAC3B,IAAMmN,EAAS,CACbvU,EAAQoH,EAAU/J,EAAAA,EAClB2C,EAAQoH,EAAU9J,EAAAA,EAClB0C,EAAQoH,EAAU7J,EAAAA,EAClByC,EAAQoH,EAAU5J,EAAAA,EAClBwC,EAAQoH,EAAU3J,EAAAA,EAClBuC,EAAQoH,EAAU1J,EAAAA,EAClBsC,EAAQoH,EAAUzJ,EAAAA,EAClBqC,EAAQoH,EAAUxJ,EAAAA,EAClBoC,EAAQoH,EAAUvJ,EAAAA,EAClBmC,EAAQoH,EAAUtJ,EAAAA,CAAAA,EAEpB,QAASmT,EAAQ,EAAGA,EAAQsD,EAAOtT,OAAQgQ,IAAS,CAClD,IAAM/P,EAAOqT,EAAOtD,CAAAA,EACpB,GAAI/P,IAAS,EAAG,OAAOA,EAAO,EAAA,GAAS,CACxC,CACD,MAAO,EACT,CAEA,SAASwjB,GAAiB5I,EAAAA,CACxB,IAAM6I,EAAa,CAAC,QAAS,SAAU,QAAS,MAAA,EAChD,QAAS1T,EAAQ,EAAGA,EAAQ0T,EAAW1jB,OAAQgQ,IAAS,CACtD,IAAM/P,EAAO4a,EAAa6I,EAAW1T,CAAAA,CAAAA,EACrC,GAAI/P,IAAS,EAAG,OAAOA,EAAO,EAAA,GAAS,CACxC,CACD,MAAO,EACT,CAEA,SAAS0jB,GAAqBxd,EAAAA,CAC5B,IAAMyd,EAAWH,GAAiBtd,EAAS+Y,IAAAA,EAC3C,OAAI0E,IAAa,EAAUA,EACpBzd,EAASL,KAAK/E,KAAAA,CACvB,CAEgB,SAAA8iB,GAAoBvV,EAAmBC,EAAAA,CACrD,IAAIxF,EAAOuF,EACPtF,EAAQuF,EACZ,GAAA,CAAKjN,OAAOqQ,SAAS5I,CAAAA,GAAAA,CAAUzH,OAAOqQ,SAAS3I,CAAAA,EAAQ,MAAM,IAAI9F,WAAW,0BAAA,EAM5E,OALA8F,GAAS,EACTD,GAAQ/H,KAAKqH,MAAMW,EAAQ,EAAA,EAC3BA,GAAS,GACLA,EAAQ,IAAGA,GAAS,IACxBA,GAAS,EACF,CAAED,KAAAA,EAAMC,MAAAA,CAAAA,CACjB,CAAA,SAEgBqU,GAAe/O,EAAmBC,EAAoBC,EAAAA,CACpE,IAAIzF,EAAOuF,EACPtF,EAAQuF,EACRpF,EAAMqF,EACV,GAAA,CAAKlN,OAAOqQ,SAASxI,CAAAA,EAAM,MAAM,IAAIjG,WAAW,0BAAA,GAAA,CAC7C6F,KAAAA,EAAMC,MAAAA,CAAAA,EAAU6a,GAAoB9a,EAAMC,CAAAA,GAM7C,IAAM8a,EAAqB,OAC3B,GAAI9iB,KAAKjG,IAAIoO,CAAAA,EAAO2a,EAAoB,CACtC,IAAMC,EAAU/iB,KAAKE,MAAMiI,EAAM2a,CAAAA,EACjC/a,GAAQ,IAAMgb,EACd5a,GAAO4a,EAAUD,CAClB,CAED,IAAIE,EAAa,EACbC,EAAWjb,EAAQ,EAAID,EAAOA,EAAO,EACzC,KAASib,EAAaX,GAASY,CAAAA,EAAY,IAAM,IAAM9a,EAAAA,CAAO6a,GAC5Djb,GAAQ,EACRkb,GAAY,EACZ9a,GAAO6a,EAGT,IADAC,GAAY,EACHD,EAAaX,GAASY,CAAAA,EAAY,IAAM,IAAM9a,EAAM6a,GAC3Djb,GAAQ,EACRkb,GAAY,EACZ9a,GAAO6a,EAGT,KAAO7a,EAAM,IAAA,CACRJ,KAAAA,EAAMC,MAAAA,CAAAA,EAAU6a,GAAoB9a,EAAMC,EAAQ,CAAA,GACrDG,GAAOma,GAAeva,EAAMC,CAAAA,EAE9B,KAAOG,EAAMma,GAAeva,EAAMC,CAAAA,GAChCG,GAAOma,GAAeva,EAAMC,CAAAA,EAAAA,CACzBD,KAAAA,EAAMC,MAAAA,CAAAA,EAAU6a,GAAoB9a,EAAMC,EAAQ,CAAA,EAGvD,MAAO,CAAED,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,CACxB,CAEA,SAASyN,GACP7N,EACAC,EACAG,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAAA,CAEA,IAAM3D,EAAOoe,GAAY9a,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,EAEzE,OAAO4G,GADSgN,GAAetU,EAAMC,EAAOG,EAAMrD,EAAK6P,SAAAA,EACX7P,CAAAA,CAC9C,CAEA,SAASoe,GACPtV,EACAC,EACAC,EACAC,EACAC,EACAC,EAAAA,CAEA,IAMIpO,EANAuI,EAAOwF,EACPvF,EAASwF,EACTvF,EAASwF,EACTvF,EAAcwF,EACdvF,EAAcwF,EACdvF,EAAawF,GAAAA,CAGdpO,IAAAA,EAAKC,IAAK2I,CAAAA,EAAe/I,GAA4B+I,EAAY,CAAA,GACpED,GAAe3I,EACX4I,EAAa,IACfD,GAAe,EACfC,GAAc,KAAA,CAGb5I,IAAAA,EAAKC,IAAK0I,CAAAA,EAAgB9I,GAA4B8I,EAAa,CAAA,EACtED,GAAe1I,EACX2I,EAAc,IAChBD,GAAe,EACfC,GAAe,KAGjBF,GAAUtI,KAAKE,MAAMqI,EAAc,GAAA,EACnCA,GAAe,IACXA,EAAc,IAChBD,GAAU,EACVC,GAAe,KAGjBF,GAAUrI,KAAKE,MAAMoI,EAAS,EAAA,EAC9BA,GAAU,GACNA,EAAS,IACXD,GAAU,EACVC,GAAU,IAGZF,GAAQpI,KAAKE,MAAMmI,EAAS,EAAA,EAC5BA,GAAU,GACNA,EAAS,IACXD,GAAQ,EACRC,GAAU,IAGZ,IAAIsM,EAAY3U,KAAKE,MAAMkI,EAAO,EAAA,EAiBlC,OAhBAA,GAAQ,GACJA,EAAO,IACTuM,GAAa,EACbvM,GAAQ,IAKVuM,GAAa,EACbvM,GAAQ,EACRC,GAAU,EACVC,GAAU,EACVC,GAAe,EACfC,GAAe,EACfC,GAAc,EAEP,CAAEkM,UAAAA,EAAWvM,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,CAAAA,CACtE,CAEgB,SAAA0a,GAAiBtJ,EAA4B1H,EAAAA,CAC3D,IAAMiR,EAA2BnU,GAAyB4K,EAAc,CAAA,EACxE,GAAI4I,GAAiBW,CAAAA,IAA8B,EAAG,OAAOvJ,EAAa7W,KAG1E,IAAMsM,EAAUvR,EAAQoU,EAAiBvX,CAAAA,EACnCyoB,EAAQzJ,GAAgB7b,EAAQoU,EAAiBpX,CAAAA,EAAWuU,EAAS8T,EAA0B,WAAA,EAC/FE,EAAmBC,GAAmBjU,EAAQvH,KAAMuH,EAAQtH,MAAQ,EAAGsH,EAAQnH,GAAAA,EAE/Eqb,EADiBD,GAAmBF,EAAMtb,KAAMsb,EAAMrb,MAAQ,EAAGqb,EAAMlb,GAAAA,EAC7Bmb,EAChD,OAAOzJ,EAAa7W,KAAOwgB,CAC7B,CAEM,SAAUC,GAA8Bte,EAAAA,CAE5C,OAAO,IADkB3F,GAAa,qBAAA,GAC/B,CACJzB,EAAQoH,EAAU/J,EAAAA,EAAAA,CAClB2C,EAAQoH,EAAU9J,EAAAA,EAAAA,CAClB0C,EAAQoH,EAAU7J,EAAAA,EAAAA,CAClByC,EAAQoH,EAAU5J,EAAAA,EAAAA,CAClBwC,EAAQoH,EAAU3J,EAAAA,EAAAA,CAClBuC,EAAQoH,EAAU1J,EAAAA,EAAAA,CAClBsC,EAAQoH,EAAUzJ,EAAAA,EAAAA,CAClBqC,EAAQoH,EAAUxJ,EAAAA,EAAAA,CAClBoC,EAAQoH,EAAUvJ,EAAAA,EAAAA,CAClBmC,EAAQoH,EAAUtJ,EAAAA,CAAAA,CAEvB,CAAA,SAEgBqS,GAAiBxU,EAA2B8I,EAAa+e,EAAAA,CAGvE,OAAOvhB,KAAKwC,IAAI+e,EAAKvhB,KAAKuhB,IAAI/e,EAAK9I,CAAAA,CAAAA,CACrC,CAAA,SACgBgU,GAAiB3F,EAAcwF,EAAoBC,EAAAA,CACjE,IAAMxF,EAAQkG,GAAiBX,EAAY,EAAG,EAAA,EAE9C,MAAO,CAAExF,KAAAA,EAAMC,MAAAA,EAAOG,IADV+F,GAAiBV,EAAU,EAAG8U,GAAeva,EAAMC,CAAAA,CAAAA,CAAAA,CAEjE,CAAA,SAEgB0b,GAAchqB,EAAe8I,EAAa+e,EAAAA,CACxD,GAAI7nB,EAAQ8I,GAAO9I,EAAQ6nB,EAAK,MAAM,IAAIrf,WAAW,uBAAuBM,CAAAA,OAAU9I,CAAAA,OAAY6nB,CAAAA,EAAAA,CACpG,CAAA,SAEgBnV,GAAcrE,EAAcC,EAAeG,EAAAA,CACzDub,GAAc1b,EAAO,EAAG,EAAA,EACxB0b,GAAcvb,EAAK,EAAGma,GAAeva,EAAMC,CAAAA,CAAAA,CAC7C,CAEA,SAASmO,GAAgB7G,EAAAA,CAEvB8I,GAAoB/I,GAA4BC,EA1tEzC,CAAEqF,UAAW,EAAGvM,KAAM,GAAIC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,CAAA,CA2tErG,CAEgB,SAAAyD,GACd9D,EACAC,EACAC,EACAC,EACAC,EACAC,EAAAA,CAEAib,GAActb,EAAM,EAAG,EAAA,EACvBsb,GAAcrb,EAAQ,EAAG,EAAA,EACzBqb,GAAcpb,EAAQ,EAAG,EAAA,EACzBob,GAAcnb,EAAa,EAAG,GAAA,EAC9Bmb,GAAclb,EAAa,EAAG,GAAA,EAC9Bkb,GAAcjb,EAAY,EAAG,GAAA,CAC/B,CAAA,SAEgBsD,GACdhE,EACAC,EACAG,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAAA,CAEA2D,GAAcrE,EAAMC,EAAOG,CAAAA,EAC3B+D,GAAW9D,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,CAC7D,CAEM,SAAU2P,GAAoB9D,EAAAA,CAClC,IAAM3R,EAAKmT,GAAuBxB,CAAAA,GAC9B3b,EAAAA,QAAKsB,SAAS0I,EAAIgD,EAAAA,GAAoBhN,EAAAA,QAAK0B,YAAYsI,EAAIiD,EAAAA,IAI7DsR,GAAyBvU,CAAAA,CAE7B,CAGA,SAASghB,GAA8BrP,EAAAA,CAC1BwB,GAAuBxB,CAAAA,CAKpC,CAKA,SAAS4C,GAAyB2B,EAAAA,CAChC,GAAIlgB,EAAAA,QAAKsB,SAAS4e,EAAkBnT,EAAAA,GAAW/M,EAAAA,QAAK0B,YAAYwe,EAAkBrT,EAAAA,EAChF,MAAM,IAAItD,WAAW,+CAAA,CAEzB,CAEA,SAASwU,GAAAA,CAAqB3O,KAAEA,EAAIC,MAAEA,CAAAA,EAAAA,CACpC0b,GAAc3b,EAAMjC,GAAUC,EAAAA,EAC1BgC,IAASjC,GACX4d,GAAc1b,EAAO,EAAG,EAAA,EACfD,IAAShC,IAClB2d,GAAc1b,EAAO,EAAG,CAAA,CAE5B,CAEM,SAAUsN,GACdlb,EACAwpB,EACAnpB,EACAopB,EACAthB,EACAC,EACAC,EACAC,EACAmd,EACAld,EAAAA,CAEA,IAAI5C,EAAmB,EACjBuS,EAAS,CAAClY,EAAGwpB,EAAKnpB,EAAGopB,EAAGthB,EAAGC,EAAKC,EAAGC,EAAImd,EAAIld,CAAAA,EACjD,QAASqM,EAAQ,EAAGA,EAAQsD,EAAOtT,OAAQgQ,IAAS,CAClD,IAAM/P,EAAOqT,EAAOtD,CAAAA,EACpB,GAAI/P,IAAS4H,KAAY5H,IAAAA,KAAoB,MAAM,IAAIiD,WAAW,gDAAA,EAClE,GAAIjD,IAAS,EAAG,CACd,IAAM6kB,EAAW7kB,EAAO,EAAA,GAAS,EACjC,GAAIc,IAAS,GAAK+jB,IAAa/jB,EAAM,MAAM,IAAImC,WAAW,kDAAA,EAC1DnC,EAAO+jB,CACR,CACF,CACD,GAAI9jB,KAAKjG,IAAIK,CAAAA,GAAM,GAAK,IAAM4F,KAAKjG,IAAI6pB,CAAAA,GAAQ,GAAK,IAAM5jB,KAAKjG,IAAIU,CAAAA,GAAM,GAAK,GAC5E,MAAM,IAAIyH,WAAW,8CAAA,EAEvB,IAAM6hB,EAAWrkB,GAA4BgD,EAAI,CAAA,EAC3CshB,EAAWtkB,GAA4BmgB,EAAI,CAAA,EAC3CoE,EAAWvkB,GAA4BiD,EAAI,CAAA,EAC3CuhB,EAAexkB,GAA2C,IAAfqkB,EAASjkB,IAA2B,IAAfkkB,EAASlkB,IAAYmkB,EAASnkB,IAAK,CAAA,EAAGD,IACtGskB,EAAe,MAAJN,EAAgB,KAAJthB,EAAiB,GAANC,EAAWC,EAAIshB,EAASlkB,IAAMmkB,EAASnkB,IAAMokB,EAASpkB,IAAMqkB,EACpG,GAAA,CAAK5jB,OAAO8jB,cAAcD,CAAAA,EACxB,MAAM,IAAIjiB,WAAW,yEAAA,CAEzB,CAEM,SAAUmiB,GAAyBlf,EAAAA,CAevC,MAAO,CAAE+Y,KAdI,CACX7P,MAAOtQ,EAAQoH,EAAU/J,EAAAA,EACzBkT,OAAQvQ,EAAQoH,EAAU9J,EAAAA,EAC1BkT,MAAOxQ,EAAQoH,EAAU7J,EAAAA,EACzB0H,KAAMjF,EAAQoH,EAAU5J,EAAAA,CAAAA,EAUXuJ,KARFtD,GAAa0a,eACxBne,EAAQoH,EAAU3J,EAAAA,EAClBuC,EAAQoH,EAAU1J,EAAAA,EAClBsC,EAAQoH,EAAUzJ,EAAAA,EAClBqC,EAAQoH,EAAUxJ,EAAAA,EAClBoC,EAAQoH,EAAUvJ,EAAAA,EAClBmC,EAAQoH,EAAUtJ,EAAAA,CAAAA,CAAAA,CAGtB,CAEM,SAAUyoB,GAAuCnf,EAAAA,CACrD,IAAML,EAAOtD,GAAa0a,eACxBne,EAAQoH,EAAU3J,EAAAA,EAClBuC,EAAQoH,EAAU1J,EAAAA,EAClBsC,EAAQoH,EAAUzJ,EAAAA,EAClBqC,EAAQoH,EAAUxJ,EAAAA,EAClBoC,EAAQoH,EAAUvJ,EAAAA,EAClBmC,EAAQoH,EAAUtJ,EAAAA,CAAAA,EAClBkH,cAAchF,EAAQoH,EAAU5J,EAAAA,CAAAA,EAOlC,MAAO,CAAE2iB,KANI,CACX7P,MAAOtQ,EAAQoH,EAAU/J,EAAAA,EACzBkT,OAAQvQ,EAAQoH,EAAU9J,EAAAA,EAC1BkT,MAAOxQ,EAAQoH,EAAU7J,EAAAA,EACzB0H,KAAM,CAAA,EAEO8B,KAAAA,CAAAA,CACjB,CAEA,SAASyf,GAAgCpf,EAAAA,CACvC,IAAMqf,EAAmBF,GAAuCnf,CAAAA,EAC1DnC,EAAOhD,KAAKE,MAAMskB,EAAiB1f,KAAKlD,IAAM,KAAA,EAapD,OAZA0T,GACEkP,EAAiBtG,KAAK7P,MACtBmW,EAAiBtG,KAAK5P,OACtBkW,EAAiBtG,KAAK3P,MACtBvL,EACA,EACA,EACA,EACA,EACA,EACA,CAAA,EAEKyhB,GAAAC,GAAA,GAAKF,EAAiBtG,MAAtB,CAA4Blb,KAAAA,CAAAA,EACrC,CAEgB,SAAA2hB,GAA6BH,EAAoCvK,EAAAA,CAC/E,IAAMla,EAAOykB,EAAiB1f,KAAK/E,KAAAA,EAC/B8O,EAAc2V,EAAiB1f,KAAK/K,IAAAA,EAAM+H,OAC1C8M,EAAe,EACfD,EAAe,EACfD,EAAU8V,EAAiB1f,KAAK/K,IAAAA,EAAM6H,IACtC6M,EAAU,EACVD,EAAQ,EACRxL,EAAO,EAEX,OAAQiX,EAAAA,CACN,IAAK,OACL,IAAK,QACL,IAAK,OACL,IAAK,MACHrL,EAAe5O,KAAKE,MAAM2O,EAAc,GAAA,EACxCA,GAAe,IACfF,EAAe3O,KAAKE,MAAM0O,EAAe,GAAA,EACzCA,GAAgB,IAChBF,GAAW1O,KAAKE,MAAMyO,EAAe,GAAA,EACrCA,GAAgB,IAChBF,EAAUzO,KAAKE,MAAMwO,EAAU,EAAA,EAC/BA,GAAW,GACXF,EAAQxO,KAAKE,MAAMuO,EAAU,EAAA,EAC7BA,GAAW,GACXzL,EAAOhD,KAAKE,MAAMsO,EAAQ,EAAA,EAC1BA,GAAS,GACT,MACF,IAAK,OACHI,EAAe5O,KAAKE,MAAM2O,EAAc,GAAA,EACxCA,GAAe,IACfF,EAAe3O,KAAKE,MAAM0O,EAAe,GAAA,EACzCA,GAAgB,IAChBF,GAAW1O,KAAKE,MAAMyO,EAAe,GAAA,EACrCA,GAAgB,IAChBF,EAAUzO,KAAKE,MAAMwO,EAAU,EAAA,EAC/BA,GAAW,GACXF,EAAQxO,KAAKE,MAAMuO,EAAU,EAAA,EAC7BA,GAAW,GACX,MACF,IAAK,SACHG,EAAe5O,KAAKE,MAAM2O,EAAc,GAAA,EACxCA,GAAe,IACfF,EAAe3O,KAAKE,MAAM0O,EAAe,GAAA,EACzCA,GAAgB,IAChBF,GAAW1O,KAAKE,MAAMyO,EAAe,GAAA,EACrCA,GAAgB,IAChBF,EAAUzO,KAAKE,MAAMwO,EAAU,EAAA,EAC/BA,GAAW,GACX,MACF,IAAK,SACHE,EAAe5O,KAAKE,MAAM2O,EAAc,GAAA,EACxCA,GAAe,IACfF,EAAe3O,KAAKE,MAAM0O,EAAe,GAAA,EACzCA,GAAgB,IAChBF,GAAW1O,KAAKE,MAAMyO,EAAe,GAAA,EACrCA,GAAgB,IAChB,MACF,IAAK,cACHC,EAAe5O,KAAKE,MAAM2O,EAAc,GAAA,EACxCA,GAAe,IACfF,EAAelO,GAAaiO,EAAS,EAAG1O,KAAKE,MAAM0O,EAAe,GAAA,CAAA,EAClEA,GAAgB,IAChBF,EAAU,EACV,MACF,IAAK,cACHE,EAAenO,GAAaiO,EAAS,EAAG1O,KAAKE,MAAM2O,EAAc,GAAA,CAAA,EACjEA,GAAe,IACfH,EAAU,EACV,MACF,IAAK,aACHG,EAAcpO,GAAaiO,EAAS,EAAGG,CAAAA,EACvCH,EAAU,CAAA,CAOd,OAAO,IADkBlP,GAAa,qBAAA,GAEpCglB,EAAiBtG,KAAK7P,MACtBmW,EAAiBtG,KAAK5P,OACtBkW,EAAiBtG,KAAK3P,MACtBiW,EAAiBtG,KAAKlb,KAAOjD,EAAOiD,EACpCjD,EAAOyO,EACPzO,EAAO0O,EACP1O,EAAO2O,EACP3O,EAAO4O,EACP5O,EAAO6O,EACP7O,EAAO8O,CAAAA,CAEX,CAEgB,SAAA+V,GAA2B/K,EAA4BoC,EAAAA,CAOrE,OANiBwG,GAAiB5I,CAAAA,EACjBoC,EAAalc,KAAAA,EAKvB,CAAEme,KAAMrE,EAAc/U,KAAMmX,CAAAA,CACrC,CAAA,SAGgBsH,GAAmBxb,EAAcC,EAAeG,EAAAA,CAC9D,OACE+X,GAAwB,CACtB5Q,QAAS,CAAEvH,KAAAA,EAAMC,MAAOA,EAAQ,EAAGG,IAAAA,CAAAA,EACnCrD,KAAM,CAAEsD,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,CAAA,CAAA,CAAA,EACjDnD,EAET,CAMA,SAASyQ,GAAAA,CAAkB9N,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAAA,CACxC,GAAInI,KAAKjG,IAAIwpB,GAAmBxb,EAAMC,EAAQ,EAAGG,CAAAA,CAAAA,EAAQ,IACvD,MAAM,IAAIjG,WAAW,gDAAA,CAEzB,CAEA,SAAS2iB,GAAeC,EAAmBC,EAAAA,CACzC,IAAMvW,EAAQuW,EAAM3c,KAAO0c,EAAM1c,KAC3BqG,EAAUsW,EAAM1c,OAASyc,EAAMzc,OAC/BqG,EAAUqW,EAAMzc,OAASwc,EAAMxc,OAC/BqG,EAAeoW,EAAMxc,YAAcuc,EAAMvc,YACzCqG,EAAemW,EAAMvc,YAAcsc,EAAMtc,YACzCqG,EAAckW,EAAMtc,WAAaqc,EAAMrc,WAG7C,OAFqBjH,GAAa0a,eAAe1N,EAAOC,EAASC,EAASC,EAAcC,EAAcC,CAAAA,CAGxG,CAEA,SAASmW,GACPC,EACAC,EACAphB,EACA+M,EACAiO,EAAAA,CAEA,IAAI7C,EAAeza,GAAa2jB,gBAAgBD,EAAKD,CAAAA,EAErD,OADAhJ,EAAemJ,GAAkBnJ,EAAcnY,EAAW+M,EAAciO,CAAAA,EACjE8F,GAvhFA,CAAEvW,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EAuhFQiZ,CAAAA,CACxD,CAEA,SAASoJ,GACPC,EACAC,EACAza,EACAmP,EAAAA,CAEA0J,GAA8B2B,CAAAA,EAC9B3B,GAA8B4B,CAAAA,EAC9B,IAAItJ,EAAe4I,GAAeS,EAAaxgB,KAAMygB,EAAazgB,IAAAA,EAE5D0gB,EAAWvJ,EAAalc,KAAAA,EACxB6iB,EAAW6C,GAAeH,EAAahW,QAASiW,EAAajW,OAAAA,EAG/DoW,EAAeH,EAAajW,QAC5BsT,IAAa4C,IACfE,EAAerJ,GAAeqJ,EAAa3d,KAAM2d,EAAa1d,MAAO0d,EAAavd,IAAMqd,CAAAA,EACxFvJ,EAAeA,EAAalZ,cAAAA,CAAeyiB,CAAAA,GAG7C,IAAMG,EAAkB9S,GAAyB,MAAOoH,CAAAA,EAClD2L,EAAiB7L,GAAkBjP,EAAUwa,EAAahW,QAASoW,EAAcC,CAAAA,EAMvF,OALI1L,IAAgB0L,IAElB1J,EAAeA,EAAalZ,cAAc6iB,EAAe5iB,IAAAA,EACzD4iB,EAAe5iB,KAAO,GAEjB4hB,GAA2BgB,EAAgB3J,CAAAA,CACpD,CAEA,SAAS4J,GACPZ,EACAC,EACAvc,EACAmC,EACAmP,EAAAA,CAEA,IAAM6L,EAASntB,EAAAA,QAAK2J,SAAS4iB,EAAKD,CAAAA,EAClC,GAAItsB,EAAAA,QAAKkB,MAAMisB,EAAQptB,EAAAA,EAAO,MAAO,CAAEwlB,KAhkFhC,CAAE7P,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EAgkFmB8B,KAAMtD,GAAa9I,IAAAA,EACpF,IAAMqH,EAAOpH,EAAAA,QAAKsB,SAAS6rB,EAAQptB,EAAAA,EAAAA,GAAa,EAG1CqtB,EAAaxR,GAAkB5L,EAAUsc,CAAAA,EACzCe,EAAWzR,GAAkB5L,EAAUuc,CAAAA,EAUzCe,EADAC,EAAgB,EAQhBC,EAAmBpmB,IAAS,EAAI,EAAI,EAKpCkc,EAAe4I,GAAekB,EAAWjhB,KAAMkhB,EAASlhB,IAAAA,EAK5D,IAJImX,EAAalc,KAAAA,IAAAA,CAAYA,GAC3BmmB,IAGKA,GAAiBC,EAAkBD,IAAiB,CAQzDD,EAAuB5W,GAPEgN,GACvB2J,EAAS1W,QAAQvH,KACjBie,EAAS1W,QAAQtH,MACjBge,EAAS1W,QAAQnH,IAAM+d,EAAgBnmB,CAAAA,EAI4BgmB,EAAWjhB,IAAAA,EAGhF,IAAMshB,EAAiBnP,GAAuBtO,EAAUsd,EAAsB,YAAA,EAO9E,GAJAhK,EAAeza,GAAa2jB,gBAAgBD,EAAKkB,CAAAA,EAI7CnK,EAAalc,KAAAA,IAAAA,CAAYA,EAC3B,KAEH,CAQD,IAAM4lB,EAAkB9S,GAAyB,MAAOoH,CAAAA,EAExD,OAAO2K,GADgB7K,GAAkBjP,EAAUib,EAAWzW,QAAS2W,EAAqB3W,QAASqW,CAAAA,EACnD1J,CAAAA,CACpD,CAKA,SAASoK,GACPtmB,EACAumB,EACAC,EACAjS,EACA3L,EACAmC,EACAhH,EACAiN,EACA+N,EAAAA,CAIA,IAII3d,EAAIC,EAAIolB,EAAeC,EAJvBthB,EAAWmhB,EAKf,OAAQvV,EAAAA,CACN,IAAK,OAAQ,CACX,IAAM1C,EAAQoJ,GAAuBtS,EAAS+Y,KAAK7P,MAAOvK,EAAW,OAAA,EACrE3C,EAAKkN,EACLjN,EAAKiN,EAAQvK,EAAY/D,EACzBymB,EAAgB,CAAEnY,MAAOlN,EAAImN,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EACxDyjB,EAAchC,GAAAC,GAAA,GAAK8B,GAAL,CAAoBnY,MAAOjN,CAAAA,GACzC,KACD,CACD,IAAK,QAAS,CACZ,IAAMkN,EAASmJ,GAAuBtS,EAAS+Y,KAAK5P,OAAQxK,EAAW,OAAA,EACvE3C,EAAKmN,EACLlN,EAAKkN,EAASxK,EAAY/D,EAC1BymB,EAAgBvX,GAAyB9J,EAAS+Y,KAAM,EAAG,EAAG/c,CAAAA,EAC9DslB,EAAcxX,GAAyB9J,EAAS+Y,KAAM,EAAG,EAAG9c,CAAAA,EAC5D,KACD,CACD,IAAK,OAAQ,CACX,IAAMslB,EAAczX,GAAyB9J,EAAS+Y,KAAM,EAAG,CAAA,EACzDyI,EAAa/M,GAAgB9O,EAAUwJ,EAAYhF,QAASoX,EAAa,WAAA,EAEzEE,EAAc7M,GAAkBjP,EAAU6b,EAD/BtK,GAAesK,EAAW5e,KAAM4e,EAAW3e,MAAO2e,EAAWxe,IAAMhD,EAAS+Y,KAAKlb,IAAAA,EAC5B,MAAA,EAChEuL,EAAQkJ,GAAuBtS,EAAS+Y,KAAK3P,MAAQqY,EAAYrY,MAAOzK,EAAW,OAAA,EACzF3C,EAAKoN,EACLnN,EAAKmN,EAAQzK,EAAY/D,EACzBymB,EAAgBvX,GAAyB9J,EAAS+Y,KAAM,EAAG/c,CAAAA,EAC3DslB,EAAcxX,GAAyB9J,EAAS+Y,KAAM,EAAG9c,CAAAA,EACzD,KACD,CACD,IAAK,MAAO,CACV,IAAM4B,EAAOyU,GAAuBtS,EAAS+Y,KAAKlb,KAAMc,EAAW,OAAA,EACnE3C,EAAK6B,EACL5B,EAAK4B,EAAOc,EAAY/D,EACxBymB,EAAgBvX,GAAyB9J,EAAS+Y,KAAM/c,CAAAA,EACxDslB,EAAcxX,GAAyB9J,EAAS+Y,KAAM9c,CAAAA,EACtD,KACD,CAAA,CASH,IAAMylB,EAAQjN,GAAgB9O,EAAUwJ,EAAYhF,QAASkX,EAAe,WAAA,EACtEM,EAAMlN,GAAgB9O,EAAUwJ,EAAYhF,QAASmX,EAAa,WAAA,EAGpEM,EAAcC,EACZC,EAAgB5X,GAA4BwX,EAAOvS,EAAYxP,IAAAA,EAC/DoiB,EAAc7X,GAA4ByX,EAAKxS,EAAYxP,IAAAA,EAC7D6D,GACFoe,EAAe9P,GAAuBtO,EAAUse,EAAe,YAAA,EAC/DD,EAAa/P,GAAuBtO,EAAUue,EAAa,YAAA,IAE3DH,EAAejR,GAAuBmR,CAAAA,EACtCD,EAAalR,GAAuBoR,CAAAA,GAiBtC,IAAMC,EAAY3lB,GAAa2jB,gBAAgBoB,EAAaQ,CAAAA,EACtDK,EAAc5lB,GAAa2jB,gBAAgB6B,EAAYD,CAAAA,EACvDxlB,GAAuBR,GAAwB+d,EAAc/e,EAAO,EAAI,WAAa,UAAA,EACrFsB,GAAM8lB,EAAUvkB,IAAIukB,CAAAA,EAAWptB,IAAAA,EAAMuI,SAAS8kB,EAAYrtB,IAAAA,CAAAA,EAAOgG,KAAAA,EACjEsnB,EAAQrnB,KAAKjG,IAAIoH,CAAAA,EAAM2C,EAAa,GAAM,EAE1CwjB,EAAcH,EAAUxjB,OAAAA,EAC1B3D,KAAKjG,IAAIoH,CAAAA,EACRgmB,EAAU9lB,IAAI+lB,CAAAA,EAEblmB,GAA0BlB,KAAKjG,IAAIoH,CAAAA,EAAKnB,KAAKjG,IAAIqH,CAAAA,EAAKC,GAAKgmB,EAAM9lB,EAAAA,EADjEvB,KAAKjG,IAAIqH,CAAAA,EAUTmmB,EANgB,IAAI/lB,GACxB7I,EAAAA,QAAKiK,IACHjK,EAAAA,QAAKW,SAAS8tB,EAAY1lB,QAAS/I,EAAAA,QAAKC,OAAOuI,CAAAA,CAAAA,EAC/CxI,EAAAA,QAAKW,SAAS6tB,EAAUzlB,QAAS/I,EAAAA,QAAKC,OAAOkL,EAAY/D,CAAAA,CAAAA,CAAAA,CAAAA,EAGjCqD,KAAKgkB,EAAY1lB,OAAAA,EAIvC8lB,EAAwBF,IAAgBtnB,KAAKjG,IAAIqH,CAAAA,EAQvD,OAPA+D,EAAW,CAAE+Y,KAAMsJ,EAAwBf,EAAcD,EAAe1hB,KAAMtD,GAAa9I,IAAAA,EAOpF,CAAE+uB,YALW,CAClBtiB,SAAAA,EACAuiB,cAAeF,EAAwBR,EAAaD,EACpDS,sBAAAA,CAAAA,EAEoBD,MAAAA,CAAAA,CACxB,CAyLA,SAASI,GACPrB,EACAC,EACAjS,EACA3L,EACAmC,EACA8c,EACA9jB,EACA+M,EACAiO,EAAAA,CAEA,IAAI3Z,EAAWmhB,EAOTuB,EAAsB7U,GAAenC,CAAAA,GAAkBlI,GAAYkI,IAAiB,MACpF9Q,EAAO4iB,GAAqBxd,CAAAA,EAAY,EAAA,GAAS,EAEnDsiB,EAyDJ,OAxDII,EAAAA,CAECJ,YAAAA,CAAAA,EAAgBpB,GACjBtmB,EACAoF,EACAohB,EACAjS,EACA3L,EACAmC,EACAhH,EACA+M,EACAiO,CAAAA,EAQF2I,EANS9e,EAvNb,SACE5I,EACAumB,EACAhS,EACA3L,EACAmC,EACAhH,EACAiN,EACA+N,EAAAA,CAGA,IAAI3Z,EAAWmhB,EAGTO,GAAQjN,GAAgB9O,EAAUwJ,EAAYhF,QAASnK,EAAS+Y,KAAM,WAAA,EACtE+I,GAAgB5X,GAA4BwX,GAAOvS,EAAYxP,IAAAA,EAE/DoiB,EAAc7X,GADJgN,GAAewK,GAAM9e,KAAM8e,GAAM7e,MAAO6e,GAAM1e,IAAMpI,CAAAA,EACXuU,EAAYxP,IAAAA,EAI/DiiB,EAAe9P,GAAuBtO,EAAUse,GAAe,YAAA,EAC/DD,EAAa/P,GAAuBtO,EAAUue,EAAa,YAAA,EAG3DY,EAAUtmB,GAAa2jB,gBAAgB6B,EAAYD,CAAAA,EACzD,GAAIe,EAAQ/nB,KAAAA,IAAWA,EAAM,MAAM,IAAImC,WAAW,0CAAA,EAIlD,IAAM6lB,EAAgBpvB,EAAAA,QAAKC,OAAOyQ,GAAiB0H,CAAAA,EAAQjN,CAAAA,EACvDkkB,EAAsB7iB,EAASL,KAAKlB,MAAMmkB,EAAejJ,CAAAA,EAGvDmJ,EAAgBD,EAAoB1lB,SAASwlB,CAAAA,EAC7CI,EAAoBD,EAAcloB,KAAAA,IAAAA,CAAYA,EAEhDooB,EAAUT,EAgBd,OAfIQ,GAGFC,EAAWpoB,EACXioB,EAAsBC,EAAcrkB,MAAMmkB,EAAejJ,CAAAA,EACzD4I,EAAgBM,EAAoB/kB,aAAa+jB,CAAAA,IAIjDmB,EAAW,EACXT,EAAgBM,EAAoB/kB,aAAa8jB,CAAAA,GAK5C,CACL5hB,SAFqByf,GADF3V,GAAyB9J,EAAS+Y,KAAM/Y,EAAS+Y,KAAKlb,KAAOmlB,CAAAA,EAClBH,CAAAA,EAG9DN,cAAAA,EACAF,sBAAuBU,CAAAA,CAE3B,EAoKMnoB,EACAoF,EACAmP,EACA3L,EACAmC,EACAhH,EACA+M,EACAiO,CAAAA,EAxKN,SACEwH,EACAC,EACAtM,EACAnW,EACA+M,EACAiO,EAAAA,CAGA,IAAI3Z,EAAWmhB,EAETrK,EAAe9W,EAASL,KAAK/B,cAAcoC,EAAS+Y,KAAKlb,IAAAA,EAEzDolB,EAAcnM,EAAarY,MAAMjL,EAAAA,QAAKC,OAAOkL,EAAYuF,GAAiBwH,CAAAA,CAAAA,EAAgBiO,CAAAA,EAC1FuJ,GAAWD,EAAY9lB,SAAS2Z,CAAAA,EAAAA,CAG9B1hB,SAAU+tB,EAAAA,EAAcrM,EAAa3hB,OAAO+K,EAAAA,EAAAA,CAC5C9K,SAAUguB,CAAAA,EAAqBH,EAAY9tB,OAAO+K,EAAAA,EACpDmjB,EAAgBxoB,KAAKD,KAAKwoB,EAAmBD,EAAAA,IAAerM,EAAalc,KAAAA,EAEzE2nB,EAAgBW,GAASplB,aAAasjB,CAAAA,EAExCvjB,EAAO,EACPlJ,EAAYsuB,EAOhB,OANInV,GAAqBgH,CAAAA,IAAiB,SACxCjX,EAAOulB,EACPzuB,EAAYsuB,EAAYxlB,IAAIpB,GAAa0a,eAAmC,GAAA,CAAnBqM,EAAuB,EAAG,EAAG,EAAG,EAAG,CAAA,CAAA,GAIvF,CACLpjB,SAAU,CAAE+Y,KAFOjP,GAAyB9J,EAAS+Y,KAAMlb,CAAAA,EAE3B8B,KAAMhL,CAAAA,EACtC4tB,cAAAA,EACAF,sBAAuBgB,CAAAA,CAE3B,EAyImCrjB,EAAUohB,EAAaqB,EAAkB9jB,EAAW+M,EAAciO,CAAAA,EAGnG3Z,EAAWsiB,EAAYtiB,SAInBsiB,EAAYD,uBAAyB3W,IAAiB,SAKxD1L,EAjJJ,SACEpF,EACAumB,EACAoB,EACApT,EACA3L,EACAmC,EACAmP,EACApJ,EAAAA,CAGA,IAAI1L,EAAWmhB,EAEf,GAAIzV,IAAiBoJ,EAAa,OAAO9U,EAKzC,IAAMsjB,GAAmBrf,GAAiBlB,QAAQ+R,CAAAA,EAElD,QAASyO,GADiBtf,GAAiBlB,QAAQ2I,CAAAA,EACV,EAAG6X,IAAaD,GAAkBC,KAAa,CAQtF,IAAM3X,EAAO3H,GAAiBsf,EAAAA,EAC9B,GAAI3X,IAAS,QAAUkJ,IAAgB,OACrC,SAGF,IAAIwM,EACJ,OAAQ1V,EAAAA,CACN,IAAK,OAEH0V,EAAc,CAAEpY,MADFlJ,EAAS+Y,KAAK7P,MAAQtO,EACbuO,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EAClD,MAEF,IAAK,QAAS,CACZ,IAAMsL,EAASnJ,EAAS+Y,KAAK5P,OAASvO,EACtC0mB,EAAcxX,GAAyB9J,EAAS+Y,KAAM,EAAG,EAAG5P,CAAAA,EAC5D,KACD,CACD,IAAK,OAAQ,CACX,IAAMC,EAAQpJ,EAAS+Y,KAAK3P,MAAQxO,EACpC0mB,EAAcxX,GAAyB9J,EAAS+Y,KAAM,EAAG3P,CAAAA,EACzD,KACD,CAAA,CAMH,IACM2Y,EAAc7X,GADRuK,GAAgB9O,EAAUwJ,EAAYhF,QAASmX,EAAa,WAAA,EACnBnS,EAAYxP,IAAAA,EAC7DkiB,EAWJ,GATEA,EADEre,EACWsO,GAAuBtO,EAAUue,EAAa,YAAA,EAE9CpR,GAAuBoR,CAAAA,EAGf/sB,GAAQutB,EAAeV,CAAAA,IAAAA,CAAiBjnB,EAQ7D,MAHAoF,EAAW,CAAE+Y,KAAMuI,EAAa3hB,KAAMtD,GAAa9I,IAAAA,CAKtD,CAED,OAAOyM,CACT,EAqEMpF,EACAoF,EACAsiB,EAAYC,cACZpT,EACA3L,EACAmC,EACA8c,EACA/U,GAAyBhC,EAAc,KAAA,CAAA,GAIpC1L,CACT,CAEA,SAASwjB,GACPxjB,EACAohB,EACAjS,EACA3L,EACAmC,EACAiG,EAAAA,CAQA,OAAIiC,GAAejC,CAAAA,GAAUpI,GAAYoI,IAAS,MAGzCsV,GADM1D,GAAqBxd,CAAAA,EAAY,EAAA,GAAS,EACtBA,EAAUohB,EAAajS,EAAa3L,EAAUmC,EAAU,EAAGiG,EAAM,OAAA,EAASwW,MAKtGqB,GADczjB,EAASL,KAAK/B,cAAcoC,EAAS+Y,KAAKlb,IAAAA,EACxB+N,CAAAA,CACzC,CAEgB,SAAA8X,GACdvD,EACAC,EACAza,EACAmP,EACAjK,EACAa,EACAiO,EAAAA,CAEA,GAAI9B,GAAmBsI,EAAcC,CAAAA,GAAiB,EACpD,MAAO,CAAErH,KA9iGJ,CAAE7P,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EA8iGT8B,KAAMtD,GAAa9I,IAAAA,EAGxD0f,GAAoBkN,CAAAA,EACpBlN,GAAoBmN,CAAAA,EACpB,IAAMpgB,EAAWkgB,GAAsBC,EAAcC,EAAcza,EAAUmP,CAAAA,EAE7E,OAAIpJ,IAAiB,cAAgBb,IAAsB,EAAU7K,EAG9DwiB,GACLxiB,EAFkB2Q,GAAuByP,CAAAA,EAIzCD,EACA,KACAxa,EACAmP,EACAjK,EACAa,EACAiO,CAAAA,CAEJ,CAAA,SAoBgBgK,GACd7D,EACAC,EACAvc,EACAmC,EACAmP,EACAjK,EACAa,EACAiO,EAAAA,CAEA,GAAI7L,GAAqBgH,CAAAA,IAAiB,OAExC,OAAO+K,GAAkBC,EAAKC,EAAKlV,EAAmBa,EAAmCiO,CAAAA,EAG3F,IAAM3Z,EAAW0gB,GAAwBZ,EAAKC,EAAKvc,EAAUmC,EAAUmP,CAAAA,EAEvE,OAAIpJ,IAAiB,cAAgBb,IAAsB,EAAU7K,EAG9DwiB,GACLxiB,EACA+f,EAHe3Q,GAAkB5L,EAAUsc,CAAAA,EAK3Ctc,EACAmC,EACAmP,EACAjK,EACAa,EACAiO,CAAAA,CAEJ,CAqBA,SAASiK,GACPC,EACAxZ,EACAyZ,EACAC,EACAC,EACAC,EAAAA,CAEA,IAAMC,EAAgBvgB,GAAewgB,OAAO,CAACC,EAASjY,IAAAA,CACpD,IAAM1R,EAAI0R,EAAS,CAAA,EACb7O,EAAI6O,EAAS,CAAA,EACbuO,EAAIvO,EAAS,CAAA,EAInB,OAHK2X,IAAU,YAAcpJ,IAAMoJ,GAAWC,EAAWlV,SAASvR,CAAAA,GAChE8mB,EAAQ9lB,KAAKhB,EAAG7C,CAAAA,EAEX2pB,CAAO,EACb,CAAA,CAAA,EAECtP,EAAchJ,GAA4BzB,EAAS,cAAeyZ,EAAO,MAAA,EAC7E,GAAIC,EAAWlV,SAASiG,CAAAA,EACtB,MAAM,IAAI/X,WAAW,8BAA8BmnB,EAAc3lB,KAAK,IAAA,CAAA,SAAcuW,CAAAA,EAAAA,EAGtF,IAAMjK,EAAoBD,GAAmCP,CAAAA,EAEzDsP,EAAenP,GAAsBH,EAAS,OAAA,EAC9CwZ,IAAO,UAASlK,EAloGtB,SAA4BA,EAAAA,CAC1B,OAAQA,EAAAA,CACN,IAAK,OACH,MAAO,QACT,IAAK,QACH,MAAO,OACT,IAAK,WACH,MAAO,YACT,IAAK,YACH,MAAO,WACT,QACE,OAAOA,CAAAA,CAEb,EAqnGwDA,CAAAA,GAEtD,IAAMjO,EAAeI,GAA4BzB,EAAS,eAAgByZ,EAAOE,CAAAA,EACjF,GAAID,EAAWlV,SAASnD,CAAAA,EACtB,MAAM,IAAI3O,WAAW,+BAA+BmnB,EAAc3lB,KAAK,IAAA,CAAA,SAAcmN,CAAAA,EAAAA,EAGvF,IAAM2Y,EAAqB3W,GAAyBuW,EAA4BvY,CAAAA,EAEhF,GADIoJ,IAAgB,SAAQA,EAAcuP,GACtC3W,GAAyBoH,EAAapJ,CAAAA,IAAkBoJ,EAC1D,MAAM,IAAI/X,WAAW,eAAe+X,CAAAA,wCAAmDpJ,CAAAA,EAAAA,EAEzF,IAQMR,EARuE,CAC3EjI,KAAM,GACNC,OAAQ,GACRC,OAAQ,GACRC,YAAa,IACbC,YAAa,IACbC,WAAY,GAAA,EAE4BoI,CAAAA,EAG1C,OAFIR,IAEJ,QAF2BH,GAAkCF,EAAmBK,EAAAA,EAAS,EAElF,CAAE4J,YAAaA,EAAkBjK,kBAAAA,EAAmB8O,aAAAA,EAAcjO,aAAcA,CAAAA,CACzF,CAEM,SAAU4Y,GACdznB,EACAwb,EACAkM,EACAla,EAAAA,CAEA,IAAM1M,EAAQ0S,GAAkBkU,CAAAA,EAG1BC,EAAWZ,GAAsB/mB,EADfqS,EAAiB7E,CAAAA,EAC0B,OAAQ,CAAA,EAAI,aAAc,QAAA,EAWzFxL,EAAS2gB,GAPIK,GAFHjnB,EAAQyf,EAAS7iB,CAAAA,EACjBoD,EAAQ+E,EAAOnI,CAAAA,EAI3BgvB,EAAS3Z,kBACT2Z,EAAS9Y,aACT8Y,EAAS7K,YAAAA,EAEyC6K,EAAS1P,WAAAA,EAE7D,OADIjY,IAAc,UAASgC,EAASyf,GAA8Bzf,CAAAA,GAC3DA,CACT,CAEM,SAAU4lB,GACd5nB,EACA6nB,EACAH,EACAla,EAAAA,CAEA,IAAM1M,EAAQsR,GAAesV,CAAAA,EACvB5e,EAAW/M,EAAQ8rB,EAAW9uB,CAAAA,EAC9B+uB,EAAgB/rB,EAAQ+E,EAAO/H,CAAAA,EACrC,GAAA,CAAKqf,GAAetP,EAAUgf,CAAAA,EAC5B,MAAM,IAAI5nB,WAAW,8CAA8C4I,CAAAA,QAAgBgf,CAAAA,YAAAA,EAGrF,IACMH,EAAWZ,GAAsB/mB,EADfqS,EAAiB7E,CAAAA,EAC0B,OAAQ,CAAA,EAAI,MAAO,KAAA,EAEhFua,EAAWvqB,GAAa,qBAAA,EACxB8P,EAAUvR,EAAQ8rB,EAAWjvB,CAAAA,EAC7BovB,EAAWjsB,EAAQ+E,EAAOlI,CAAAA,EAChC,GAAI6qB,GAAenW,EAAS0a,CAAAA,IAAc,EAAG,OAAO,IAAID,EAIxD,IAAI5kB,EAAW,CAAE+Y,KAFMnE,GAAkBjP,EAAUwE,EAAS0a,EAAUL,EAAS1P,WAAAA,EAExCnV,KAAMtD,GAAa9I,IAAAA,EAE1D,GADuBixB,EAAS9Y,eAAiB,OAAS8Y,EAAS3Z,oBAAsB,EACpE,CACnB,IAAMsE,EAAcjF,GAA4BC,EA1uG3C,CAAEqF,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EA6uGhGtD,EAAWwiB,GACTxiB,EAFkB2Q,GADKzG,GAA4B2a,EA3uGhD,CAAErV,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,CAAA,EAgvG9F6L,EACA,KACAxJ,EACA6e,EAAS1P,YACT0P,EAAS3Z,kBACT2Z,EAAS9Y,aACT8Y,EAAS7K,YAAAA,CAEZ,CAED,IAAI9a,EAAS2gB,GAA6Bxf,EAAU,KAAA,EAEpD,OADInD,IAAc,UAASgC,EAASyf,GAA8Bzf,CAAAA,GAC3DA,CACT,CAEM,SAAUimB,GACdjoB,EACAkoB,EACAR,EACAla,EAAAA,CAEA,IAAM1M,EAAQ2R,GAAmBiV,CAAAA,EAC3B5e,EAAW/M,EAAQmsB,EAAenvB,CAAAA,EAClC+uB,EAAgB/rB,EAAQ+E,EAAO/H,CAAAA,EACrC,GAAA,CAAKqf,GAAetP,EAAUgf,CAAAA,EAC5B,MAAM,IAAI5nB,WAAW,8CAA8C4I,CAAAA,QAAgBgf,CAAAA,YAAAA,EAGrF,IACMH,EAAWZ,GAAsB/mB,EADfqS,EAAiB7E,CAAAA,EAC0B,WAAY,CAAA,EAAI,aAAc,KAAA,EAE3Fua,EAAWvqB,GAAa,qBAAA,EACxB8lB,EAAevnB,EAAQmsB,EAAervB,EAAAA,EACtC0qB,EAAexnB,EAAQ+E,EAAOjI,EAAAA,EACpC,GAAImiB,GAAmBsI,EAAcC,CAAAA,IAAkB,EAAG,OAAO,IAAIwE,EAYrE,IAAI/lB,EAAS2gB,GAVIkE,GACfvD,EACAC,EACAza,EACA6e,EAAS1P,YACT0P,EAAS3Z,kBACT2Z,EAAS9Y,aACT8Y,EAAS7K,YAAAA,EAGyC6K,EAAS1P,WAAAA,EAE7D,OADIjY,IAAc,UAASgC,EAASyf,GAA8Bzf,CAAAA,GAC3DA,CACT,CAEM,SAAUmmB,GACdnoB,EACAooB,EACAV,EACAla,EAAAA,CAEA,IAAM1M,EAAQsT,GAAesT,CAAAA,EAGvBC,EAAWZ,GAAsB/mB,EADfqS,EAAiB7E,CAAAA,EAC0B,OAAQ,CAAA,EAAI,aAAc,MAAA,EAEzFyM,EAAe4I,GAAe9mB,EAAQqsB,EAAWtvB,EAAAA,EAAOiD,EAAQ+E,EAAOhI,EAAAA,CAAAA,EAC3EmhB,EAAemJ,GACbnJ,EACA0N,EAAS3Z,kBACT2Z,EAAS9Y,aACT8Y,EAAS7K,YAAAA,EAIX,IAAI9a,EAAS2gB,GAFIC,GA7zGV,CAAEvW,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EA6zGkBiZ,CAAAA,EAEZ0N,EAAS1P,WAAAA,EAE7D,OADIjY,IAAc,UAASgC,EAASyf,GAA8Bzf,CAAAA,GAC3DA,CACT,CAEM,SAAUqmB,GACdroB,EACAyc,EACAiL,EACAla,EAAAA,CAEA,IAAM1M,EAAQyT,GAAoBmT,CAAAA,EAC5B5e,EAAW/M,EAAQ0gB,EAAW1jB,CAAAA,EAC9B+uB,EAAgB/rB,EAAQ+E,EAAO/H,CAAAA,EACrC,GAAA,CAAKqf,GAAetP,EAAUgf,CAAAA,EAC5B,MAAM,IAAI5nB,WAAW,+CAA+C4I,CAAAA,QAAgBgf,CAAAA,YAAAA,EAGtF,IACMH,EAAWZ,GAAsB/mB,EADfqS,EAAiB7E,CAAAA,EAC0B,OAAQ,CAAC,OAAQ,KAAA,EAAQ,QAAS,MAAA,EAE/Fua,EAAWvqB,GAAa,qBAAA,EAC9B,GAAIimB,GAAe1nB,EAAQ0gB,EAAW7jB,CAAAA,EAAWmD,EAAQ+E,EAAOlI,CAAAA,CAAAA,GAAc,EAC5E,OAAO,IAAImvB,EAGb,IAAMO,EAAmCjX,GAAgBvI,EAAU/M,EAAQ0gB,EAAW7jB,CAAAA,EAAW,YAAA,EACjG0vB,EAAWniB,IAAM,EACjB,IAAMoiB,EAAW/V,GAAuB1J,EAAUwf,EAAY,WAAA,EACxDE,EAAoCnX,GAAgBvI,EAAU/M,EAAQ+E,EAAOlI,CAAAA,EAAW,YAAA,EAC9F4vB,EAAYriB,IAAM,EAClB,IAAMsiB,EAAYjW,GAAuB1J,EAAU0f,EAAa,WAAA,EAG5DrlB,EAAW,CAAE+Y,KAAMjP,GADA8K,GAAkBjP,EAAUyf,EAAUE,EAAWd,EAAS1P,WAAAA,EACjB,EAAG,CAAA,EAAInV,KAAMtD,GAAa9I,IAAAA,EAC1F,GAAIixB,EAAS9Y,eAAiB,SAAW8Y,EAAS3Z,oBAAsB,EAAG,CACzE,IAAMsE,EAAcjF,GAA4Bkb,EA31G3C,CAAE5V,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EA81GhGtD,EAAWwiB,GACTxiB,EAFkB2Q,GADKzG,GAA4Bob,EA51GhD,CAAE9V,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,CAAA,EAi2G9F6L,EACA,KACAxJ,EACA6e,EAAS1P,YACT0P,EAAS3Z,kBACT2Z,EAAS9Y,aACT8Y,EAAS7K,YAAAA,CAEZ,CAED,IAAI9a,EAAS2gB,GAA6Bxf,EAAU,KAAA,EAEpD,OADInD,IAAc,UAASgC,EAASyf,GAA8Bzf,CAAAA,GAC3DA,CACT,CAEM,SAAU0mB,GACd1oB,EACA2oB,EACAjB,EACAla,EAAAA,CAEA,IAAM1M,EAAQiV,GAAwB2R,CAAAA,EAChC5e,EAAW/M,EAAQ4sB,EAAe5vB,CAAAA,EAClC+uB,EAAgB/rB,EAAQ+E,EAAO/H,CAAAA,EACrC,GAAA,CAAKqf,GAAetP,EAAUgf,CAAAA,EAC5B,MAAM,IAAI5nB,WAAW,8CAA8C4I,CAAAA,QAAgBgf,CAAAA,YAAAA,EAGrF,IACMH,EAAWZ,GAAsB/mB,EADfqS,EAAiB7E,CAAAA,EAC0B,WAAY,CAAA,EAAI,aAAc,MAAA,EAE3FyV,EAAMlnB,EAAQ4sB,EAAehwB,CAAAA,EAC7BuqB,EAAMnnB,EAAQ+E,EAAOnI,CAAAA,EAErBovB,EAAWvqB,GAAa,qBAAA,EAE1BwE,EACJ,GAAIiP,GAAqB0W,EAAS1P,WAAAA,IAAiB,OASjDjW,EAAS2gB,GAPQK,GACfC,EACAC,EACAyE,EAAS3Z,kBACT2Z,EAAS9Y,aACT8Y,EAAS7K,YAAAA,EAEqC6K,EAAS1P,WAAAA,MACpD,CACL,IAAMtR,EAAW5K,EAAQ4sB,EAAexvB,EAAAA,EACxC,GAAA,CAAK6f,GAAerS,EAAU5K,EAAQ+E,EAAO3H,EAAAA,CAAAA,EAC3C,MAAM,IAAI+G,WACR,gLAAA,EAKJ,GAAIvJ,EAAAA,QAAKkB,MAAMorB,EAAKC,CAAAA,EAAM,OAAO,IAAI6E,EAYrC/lB,EAAS2gB,GAVQmE,GACf7D,EACAC,EACAvc,EACAmC,EACA6e,EAAS1P,YACT0P,EAAS3Z,kBACT2Z,EAAS9Y,aACT8Y,EAAS7K,YAAAA,EAEqC,MAAA,CACjD,CAGD,OADI9c,IAAc,UAASgC,EAASyf,GAA8Bzf,CAAAA,GAC3DA,CACT,CAEM,SAAUoY,GAAAA,CACdhU,KAAEA,EAAIC,OAAEA,EAAQC,OAAQwF,EAAWvF,YAAEA,EAAWC,YAAEA,EAAaC,WAAYwF,CAAAA,EAC3EgO,EAAAA,CAEA,IAAI3T,EAASwF,EACTrF,EAAawF,EAIjB,OAFA3F,GAAU2T,EAAara,IACvB6G,GAAcwT,EAAana,OACpBohB,GAAY9a,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,CACrE,CAEA,SAASmiB,GAAW/R,EAAwBoD,EAAAA,CAC1C,IAAMjY,EAASiY,EAAahZ,aAAa4V,CAAAA,EAEzC,OADA3B,GAAyBlT,CAAAA,EAClBA,CACT,CAEgB,SAAA6mB,GACd3nB,EACAyF,EACAmC,EACA3F,EACAsI,EAAqB,YAAA,CAUrB,GAAIgV,GAAiBtd,EAAS+Y,IAAAA,IAAU,EAAG,OAAO0M,GAAW1nB,EAASiC,EAASL,IAAAA,EAI/E,IAAMkS,EAAKzC,GAAkB5L,EAAUzF,CAAAA,EAOvC,OAAO0nB,GADgB3T,GAAuBtO,EAJvB0G,GADLuK,GAAgB9O,EAAUkM,EAAG1H,QAASnK,EAAS+Y,KAAMzQ,CAAAA,EACTuJ,EAAGlS,IAAAA,EAIO,YAAA,EACtCK,EAASL,IAAAA,CAC7C,CAAA,SAIgBgmB,GACd9oB,EACAmD,EACAukB,EAAAA,CAEA,IAAI5mB,EAAQ8R,GAAmB8U,CAAAA,EAC3B1nB,IAAc,aAAYc,EAAQ2gB,GAA8B3gB,CAAAA,GAEpE,IAEMmX,EAAcpH,GAFCD,GAA2BzN,CAAAA,EAC3ByN,GAA2B9P,CAAAA,CAAAA,EAEhD,GAAIkQ,GAAeiH,CAAAA,EACjB,MAAM,IAAI/X,WAAW,0FAAA,EAGvB,IAAM6oB,EAAKzG,GAAuCnf,CAAAA,EAC5C6lB,EAAK1G,GAAuCxhB,CAAAA,EAElD,OAAO6hB,GADQC,GAt/GR,CAAEvW,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EAs/GgB+nB,EAAGjmB,KAAKlC,IAAIooB,EAAGlmB,IAAAA,CAAAA,EACjCmV,CAAAA,CAC9C,CAAA,SAEgBgR,GACdjpB,EACAwb,EACA0N,EAAAA,CAEA,IAAI/lB,EAAWyP,GAAmBsW,CAAAA,EAC9BlpB,IAAc,aAAYmD,EAAWse,GAA8Bte,CAAAA,GACvE,IAAM8U,EAAcrH,GAA2BzN,CAAAA,EAC/C,GAAI8N,GAAqBgH,CAAAA,IAAiB,OACxC,MAAM,IAAI/X,WACR,kBAAkB+X,CAAAA,yEAAAA,EAGtB,IAAMuK,EAAmBF,GAAuCnf,CAAAA,EAEhE,OAAOuQ,GADIkV,GAAW7sB,EAAQyf,EAAS7iB,CAAAA,EAAmB6pB,EAAiB1f,IAAAA,CAAAA,CAE7E,CAEM,SAAUqmB,GACdnpB,EACA6nB,EACAqB,EACA1b,EAAAA,CAEA,IAAM1E,EAAW/M,EAAQ8rB,EAAW9uB,CAAAA,EAEhCoK,EAAWyP,GAAmBsW,CAAAA,EAC9BlpB,IAAc,aAAYmD,EAAWse,GAA8Bte,CAAAA,GACvE,IAAM0U,EAAe0K,GAAgCpf,CAAAA,EAG/CsI,EAAW8B,GADO8E,EAAiB7E,CAAAA,CAAAA,EAIzC,OAAO4C,GADWwH,GAAgB9O,EAAU/M,EAAQ8rB,EAAWjvB,CAAAA,EAAWif,EAAcpM,CAAAA,EACnD3C,CAAAA,CACvC,CAEM,SAAUsgB,GACdppB,EACAqpB,EACAH,EACA1b,EAAAA,CAEA,IAAIrK,EAAWyP,GAAmBsW,CAAAA,EAC9BlpB,IAAc,aAAYmD,EAAWse,GAA8Bte,CAAAA,GACvE,IACMsI,EAAW8B,GADO8E,EAAiB7E,CAAAA,CAAAA,EAGnC1E,EAAW/M,EAAQstB,EAAUtwB,CAAAA,EAE7BypB,EAAmBF,GAAuCnf,CAAAA,EAG1DmP,EAAcvW,EAAQstB,EAAUxwB,EAAAA,EAChCywB,EAAalP,GAAQ9H,EAAYxP,KAAM0f,EAAiB1f,IAAAA,EACxD+U,EAAe5K,GAAyBuV,EAAiBtG,KAAMoN,EAAW3W,SAAAA,EAOhF,OAJAW,GAAeuE,EAAaxL,MAAOwL,EAAavL,OAAQuL,EAAatL,MAAOsL,EAAa7W,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,CAAA,EAIvG0R,GADQrF,GAFGuK,GAAgB9O,EAAUwJ,EAAYhF,QAASuK,EAAcpM,CAAAA,EAEzB6d,CAAAA,EAChBxgB,CAAAA,CACxC,CAAA,SAEgBygB,GACdvpB,EACAwpB,EACAN,EAAAA,CAEA,IAAI/lB,EAAWyP,GAAmBsW,CAAAA,EAC9BlpB,IAAc,aAAYmD,EAAWse,GAA8Bte,CAAAA,GACvE,IAAMqf,EAAmBF,GAAuCnf,CAAAA,EAAAA,CAC1DiD,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,EAAe2T,GACrEre,EAAQytB,EAAc1wB,EAAAA,EACtB0pB,EAAiB1f,IAAAA,EAGnB,OAAOuR,GADM1I,GAAavF,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,EAAY,QAAA,CAAA,CAExF,CAEM,SAAUgjB,GACdzpB,EACAyc,EACAyM,EACA1b,EAAAA,CAEA,IAAIrK,EAAWyP,GAAmBsW,CAAAA,EAC9BlpB,IAAc,aAAYmD,EAAWse,GAA8Bte,CAAAA,GACvE,IACMsI,EAAW8B,GADO8E,EAAiB7E,CAAAA,CAAAA,EAEnCzP,EAAO8d,GAAa1Y,CAAAA,EAEpB2F,EAAW/M,EAAQ0gB,EAAW1jB,CAAAA,EAC9BuX,EAA+Be,GAAgBvI,EAAU/M,EAAQ0gB,EAAW7jB,CAAAA,EAAW,YAAA,EAC7F0X,EAAOnK,IAAM,EACb,IAAIujB,EAAYlX,GAAuB1J,EAAUwH,EAAQ,WAAA,EACzD,GAAIvS,EAAO,EAAG,CACZ,IAAM4rB,EAAY/R,GAAgB9O,EAAU4gB,EAAW,CAAEpd,OAAQ,CAAA,EAAK,WAAA,EACtEod,EAAYrP,GAAesP,EAAU5jB,KAAM4jB,EAAU3jB,MAAO2jB,EAAUxjB,IAAM,CAAA,CAC7E,CACD,IAAMyjB,EAAgBrH,GAAgCpf,CAAAA,EAMtD,OALAgR,GAAgBuV,CAAAA,EAKTlV,GADSC,GAA4B3L,EAFpBuI,GAAgBvI,EADtB8O,GAAgB9O,EAAU4gB,EAAWE,EAAene,CAAAA,EACT,YAAA,EAEUA,CAAAA,EAC/B3C,CAAAA,CAC1C,CAEM,SAAU+gB,GACd7pB,EACA2oB,EACAO,EACA1b,EAAAA,CAEA,IAAIrK,EAAWyP,GAAmBsW,CAAAA,EAC9BlpB,IAAc,aAAYmD,EAAWse,GAA8Bte,CAAAA,GAEvE,IACMsI,EAAW8B,GADO8E,EAAiB7E,CAAAA,CAAAA,EAEnC7G,EAAW5K,EAAQ4sB,EAAexvB,EAAAA,EAClC2P,EAAW/M,EAAQ4sB,EAAe5vB,CAAAA,EAClCypB,EAAmBH,GAAyBlf,CAAAA,EAQlD,OAAOuN,GAPkBmY,GACvB9sB,EAAQ4sB,EAAehwB,CAAAA,EACvBgO,EACAmC,EACA0Z,EACA/W,CAAAA,EAEmD9E,EAAUmC,CAAAA,CACjE,CAAA,SAGgB2M,GAAuBqU,EAAkBhoB,EAAmB9C,EAAAA,CAC1E,IAAMzG,EAAWyF,KAAKE,MAAM4rB,EAAWhoB,CAAAA,EACjChK,EAAYgyB,EAAWhoB,EACvB/D,EAAO+rB,EAAW,EAAI,WAAa,WACnC3qB,EAAKnB,KAAKjG,IAAIQ,CAAAA,EACd6G,EAAKD,EAAK,EACVE,EAAM0qB,GAAiB/rB,KAAKjG,IAAgB,EAAZD,CAAAA,EAAiBgK,CAAAA,EACjDujB,EAAOlmB,EAAK,GAAM,EAClBI,EAAuBR,GAAwBC,EAAMjB,CAAAA,EACrDgE,EAAUjK,IAAc,EAAIqH,EAAKD,GAA0BC,EAAIC,EAAIC,EAAKgmB,EAAM9lB,CAAAA,EACpF,OAAOuC,GAAa/D,IAAS,WAAagE,EAAAA,CAAWA,EACvD,CA+BM,SAAUgb,GACd7b,EACAY,EACAiN,EACA+N,EAAAA,CAEA,IAAMkN,EAAc3iB,GAAiB0H,CAAAA,EAAQjN,EAC7C,OAAA,SAlCAmoB,EACApoB,EACA7C,EAAAA,CAEA,IAAM8qB,EAAWryB,GAAWwyB,CAAAA,EACtBnoB,EAAYrK,GAAWoK,CAAAA,EACvBtJ,EAAW5B,EAAAA,QAAK6B,OAAOsxB,EAAUhoB,CAAAA,EACjChK,EAAYnB,EAAAA,QAAKmB,UAAUgyB,EAAUhoB,CAAAA,EACrCvC,EAAuBR,GAAwBC,EAAM,UAAA,EACvDG,EAAUC,EACVzI,EAAAA,QAAKsB,SAAS6xB,EAAUpzB,EAAAA,GAC1ByI,EAAKxI,EAAAA,QAAK2J,SAAS/H,EAAU1B,EAAAA,EAC7BuI,EAAK7G,IAEL4G,EAAK5G,EACL6G,EAAKzI,EAAAA,QAAKiK,IAAIrI,EAAU1B,EAAAA,GAI1B,IAAMwI,EAAOlH,GAAQJ,GAAIpB,EAAAA,QAAKW,SAASQ,EAAWhB,EAAAA,CAAAA,EAAOgL,CAAAA,GAAcnL,EAAAA,QAAKsB,SAAS6xB,EAAUpzB,EAAAA,EAAAA,GAAa,GAC1G,EACIqL,EAAUpL,EAAAA,QAAKkB,MAAMC,EAAWpB,EAAAA,EAClC6B,EACA2G,GAA0BC,EAAIC,EAAIC,EAAKzH,GAAOuH,CAAAA,EAAKI,CAAAA,EACvD,OAAO5I,EAAAA,QAAKW,SAASyK,EAASD,CAAAA,CAChC,EAS4CZ,EAASvK,EAAAA,QAAKC,OAAOozB,CAAAA,EAAclN,CAAAA,CAC/E,CAEM,SAAUoN,GACd5X,EACAxQ,EACAiN,EACA+N,EAAAA,CAEA6E,GAA8BrP,CAAAA,EAC9B,GAAA,CAAMvM,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAQmM,EAAYhF,QACnCxK,EAAOqnB,GAAU7X,EAAYxP,KAAMhB,EAAWiN,EAAM+N,CAAAA,EAE1D,OAAOzP,GADSgN,GAAetU,EAAMC,EAAOG,EAAMrD,EAAK6P,SAAAA,EACX7P,CAAAA,CAC9C,CAEM,SAAUqnB,GAAAA,CACd/jB,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,EAClD3E,EACAiN,EACA+N,EAAAA,CAEA,IAAIgN,EACJ,OAAQ/a,EAAAA,CACN,IAAK,MACL,IAAK,OACH+a,EAAgG,KAAtB,KAAtB,KAAf,IAAf,GAAP1jB,EAAYC,GAAeC,GAAiBC,GAAsBC,GAAsBC,EACvG,MACF,IAAK,SACHqjB,EAAkF,KAAtB,KAAtB,KAAf,GAATzjB,EAAcC,GAAiBC,GAAsBC,GAAsBC,EACzF,MACF,IAAK,SACHqjB,EAAkE,KAAtB,KAAtB,IAATxjB,EAAgBC,GAAsBC,GAAsBC,EACzE,MACF,IAAK,cACHqjB,EAAgD,KAAtB,IAAdvjB,EAAqBC,GAAsBC,EACvD,MACF,IAAK,cACHqjB,EAAyB,IAAdtjB,EAAqBC,EAChC,MACF,IAAK,aACHqjB,EAAWrjB,CAAAA,CAEf,IAAM2jB,EAAY/iB,GAAiB0H,CAAAA,EAC7B/M,EAASyT,GAAuBqU,EAAUM,EAAYtoB,EAAWgb,CAAAA,EAAgBsN,EACvF,OAAQrb,EAAAA,CACN,IAAK,MACH,MAAO,CAAE4D,UAAW3Q,EAAQoE,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,EACzG,IAAK,OACH,OAAOya,GAAYlf,EAAQ,EAAG,EAAG,EAAG,EAAG,CAAA,EACzC,IAAK,SACH,OAAOkf,GAAY9a,EAAMpE,EAAQ,EAAG,EAAG,EAAG,CAAA,EAC5C,IAAK,SACH,OAAOkf,GAAY9a,EAAMC,EAAQrE,EAAQ,EAAG,EAAG,CAAA,EACjD,IAAK,cACH,OAAOkf,GAAY9a,EAAMC,EAAQC,EAAQtE,EAAQ,EAAG,CAAA,EACtD,IAAK,cACH,OAAOkf,GAAY9a,EAAMC,EAAQC,EAAQC,EAAavE,EAAQ,CAAA,EAChE,IAAK,aACH,OAAOkf,GAAY9a,EAAMC,EAAQC,EAAQC,EAAaC,EAAaxE,CAAAA,EACrE,QACE,MAAM,IAAIzE,MAAM,gBAAgBwR,CAAAA,EAAAA,CAAAA,CAEtC,CAEM,SAAUqU,GACdnJ,EACAnY,EACAiN,EACA+N,EAAAA,CAGA,IAAMuN,EAAUhjB,GAAiB0H,CAAAA,EACjC,OAAOkL,EAAarY,MAAMjL,EAAAA,QAAKC,OAAOyzB,EAAUvoB,CAAAA,EAAYgb,CAAAA,CAC9D,CAEgB,SAAA8J,GAAkB3M,EAA4BlL,EAAAA,CAC5D,IAAMsb,EAAUhjB,GAAiB0H,CAAAA,EACjC,OAAOkL,EAAa7Y,KAAKzK,EAAAA,QAAKC,OAAOyzB,CAAAA,CAAAA,CACvC,CAEgB,SAAA5G,GAAe6G,EAAmBC,EAAAA,CAChD,OAAID,EAASvkB,OAASwkB,EAASxkB,KAAagkB,GAAiBO,EAASvkB,KAAOwkB,EAASxkB,IAAAA,EAClFukB,EAAStkB,QAAUukB,EAASvkB,MAAc+jB,GAAiBO,EAAStkB,MAAQukB,EAASvkB,KAAAA,EACrFskB,EAASnkB,MAAQokB,EAASpkB,IAAY4jB,GAAiBO,EAASnkB,IAAMokB,EAASpkB,GAAAA,EAC5E,CACT,CAEgB,SAAAqkB,GAAkB1H,EAAmBC,EAAAA,CACnD,OAAID,EAAM1c,OAAS2c,EAAM3c,KAAa2jB,GAAiBjH,EAAM1c,KAAO2c,EAAM3c,IAAAA,EACtE0c,EAAMzc,SAAW0c,EAAM1c,OAAe0jB,GAAiBjH,EAAMzc,OAAS0c,EAAM1c,MAAAA,EAC5Eyc,EAAMxc,SAAWyc,EAAMzc,OAAeyjB,GAAiBjH,EAAMxc,OAASyc,EAAMzc,MAAAA,EAC5Ewc,EAAMvc,cAAgBwc,EAAMxc,YAAoBwjB,GAAiBjH,EAAMvc,YAAcwc,EAAMxc,WAAAA,EAC3Fuc,EAAMtc,cAAgBuc,EAAMvc,YAAoBujB,GAAiBjH,EAAMtc,YAAcuc,EAAMvc,WAAAA,EAC3Fsc,EAAMrc,aAAesc,EAAMtc,WAAmBsjB,GAAiBjH,EAAMrc,WAAasc,EAAMtc,UAAAA,EACrF,CACT,CAEgB,SAAAuU,GAAmBsI,EAA2BC,EAAAA,CAC5D,IAAMkH,EAAahH,GAAeH,EAAahW,QAASiW,EAAajW,OAAAA,EACrE,OAAImd,IAAe,EAAUA,EACtBD,GAAkBlH,EAAaxgB,KAAMygB,EAAazgB,IAAAA,CAC3D,CAUM,SAAU4nB,GAAiBC,EAAAA,CAC/B,IAAMC,EAASC,GAASF,CAAAA,EACxB,OAAY3vB,WAAmBpE,SAA/B,OAA+DoE,WAAmBpE,OAAOg0B,EAAOjzB,SAAS,EAAA,CAAA,EAClGizB,CACT,CAGgB,SAAAzM,GAAY2M,EAAsC9rB,EAAAA,CAChE,IAAM6X,EAAmBpf,GAAWqzB,CAAAA,EAAAA,CAC9BvyB,SAAEA,EAAQT,UAAEA,CAAAA,EAAcQ,GAAOue,EAAkB1f,EAAAA,EACrD2jB,EAAoBnkB,EAAAA,QAAKkJ,SAAStH,CAAAA,EAGtC,OAFIyG,IAAS,SAAWrI,EAAAA,QAAKkJ,SAAS/H,CAAAA,EAAa,IAAGgjB,GAAqB,GACvE9b,IAAS,QAAUrI,EAAAA,QAAKkJ,SAAS/H,CAAAA,EAAa,IAAGgjB,GAAqB,GACnEA,CACT,CAEM,SAAUrX,GAAYqX,EAAAA,CAC1B,GAAA,CAAKxc,OAAOysB,UAAUjQ,CAAAA,EAAoB,MAAM,IAAI5a,WAAW,uCAAA,EAC/D,OAAOvJ,EAAAA,QAAKW,SAASX,EAAAA,QAAKC,OAAOkkB,CAAAA,EAAoB3jB,EAAAA,CACvD,CAEM,SAAU0zB,GAASF,EAAAA,CACvB,IAAIK,EAAOL,EACX,GAAmB,OAARA,GAAQ,SAAU,CAC3B,IAAMM,EAAYN,EAA0C9vB,OAAOqwB,WAAAA,EAC/DD,GAAgC,OAAbA,GAAa,aAClCD,EAAOC,EAASE,KAAKR,EAAK,QAAA,EAE7B,CAID,GAAoB,OAATK,GAAS,SAClB,MAAM,IAAIhvB,UAAU,iCAAA,EAEtB,OAAoB,OAATgvB,GAAS,SAIXr0B,EAAAA,QAAKC,OAAOo0B,EAAKrzB,SAAS,EAAA,CAAA,EAQ5BhB,EAAAA,QAAKC,OAAOo0B,CAAAA,CACrB,CAKO,IAAMI,IAAwC,IAAA,CACnD,IAAIzqB,EAAKhK,EAAAA,QAAKC,OAAOqN,KAAKob,IAAAA,EAAQ,GAAA,EAClC,MAAO,IAAA,CACL,IAAMA,EAAMpb,KAAKob,IAAAA,EACX3e,EAAK/J,EAAAA,QAAKC,OAAOyoB,CAAAA,EACjBrd,EAASrL,EAAAA,QAAKiK,IAAI6C,GAAY4b,CAAAA,EAAM1e,CAAAA,EAE1C,OADAA,EAAKhK,EAAAA,QAAKmB,UAAU4I,EAAIvJ,EAAAA,EACpBR,EAAAA,QAAK0B,YAAY2J,EAAQwB,EAAAA,EAAgBA,GACzC7M,EAAAA,QAAKsB,SAAS+J,EAAQ0B,EAAAA,EAAgBA,GACnC1B,CAAM,CAEhB,GAXoD,EAAA,SAarCqpB,IAAAA,CACd,OAAO,IAAI7jB,KAAKC,iBAAiBuO,gBAAAA,EAAkBrP,QACrD,CAEM,SAAUojB,GAAiBryB,EAAAA,CAC/B,OAAOA,EAAQ,EAAA,GAASA,EAAQ,EAAI,EAAKA,CAC3C,CAEM,SAAU2a,EAAoB7E,EAAAA,CAClC,GAAIA,IAAJ,OAA2B,OAAOjS,OAAOC,OAAO,IAAA,EAChD,GAAI8I,GAASkJ,CAAAA,GAAYA,IAAY,KAAM,OAAOA,EAClD,MAAM,IAAIxR,UAAU,6CAA4CwR,IAAY,KAAO,OAAA,OAAmBA,EAAAA,CACxG,CAEgB,SAAA8d,GAAyCC,EAAa5T,EAAAA,CACpE,IAAM6T,EAAIjwB,OAAOC,OAAO,IAAA,EAExB,OADAgwB,EAAED,CAAAA,EAAY5T,EACP6T,CACT,CAmBA,SAAS/d,GAKPD,EACAvI,EACA0K,EACA/B,EAAAA,CAEA,IAAIlW,EAAQ8V,EAAQvI,CAAAA,EACpB,GAAIvN,IAAJ,OAAyB,CAEvB,GADAA,EAAQ8M,GAAS9M,CAAAA,EAAAA,CACZiY,EAAcqC,SAASta,CAAAA,EAC1B,MAAM,IAAIwI,WAAW,GAAG+E,CAAAA,mBAA2B0K,EAAcjO,KAAK,IAAA,CAAA,SAAchK,CAAAA,EAAAA,EAEtF,OAAOA,CACR,CACD,GAAIkW,IAAaoB,GAAU,MAAM,IAAI9O,WAAW,GAAG+E,CAAAA,qBAAAA,EACnD,OAAO2I,CACT,CAMM,SAAU6C,GAAqBgb,EAAAA,CACnC,IAAM3vB,EAAKiM,GAAe0jB,CAAAA,EAE1B,GAAA,CAAKtnB,GAAqB6N,SAASjK,GAAejM,CAAAA,CAAAA,EAChD,MAAM,IAAIoE,WAAW,+BAA+BpE,CAAAA,EAAAA,EAItD,OAAQA,EAAAA,CACN,IAAK,sBAGH,MAAO,UAKT,IAAK,WACH,MAAO,eAAA,CAEX,OAAOA,CACT,CAEA,SAASiM,GAAiC2jB,EAAAA,CAOxC,IAAIC,EAAY,GAChB,QAASjU,EAAK,EAAGA,EAAKgU,EAAI1uB,OAAQ0a,IAAM,CACtC,IAAMkU,EAAOF,EAAIG,WAAWnU,CAAAA,EAE1BiU,GADEC,GAAQ,IAAQA,GAAQ,GACbnnB,OAAOqnB,aAAaF,EAAO,EAAA,EAE3BnnB,OAAOqnB,aAAaF,CAAAA,CAEpC,CACD,OAAOD,CACT,CAIM,SAAUI,GAAcC,EAAAA,CAM5B,MAAM,IAAIhwB,UAEN,uFANFgwB,IAAoB,gBAChB,6EACA,YAAYA,CAAAA,sBAAAA,yUAAAA,CAUpB,CAEA,IAAMhhB,GAAS,IAAI7I,OAAO,IAAI8pB,GAAa7pB,MAAAA,GAAAA,EACrC+a,GAAoB,IAAIhb,OAAO,IDp0JN,mFCo0JgCC,MAAAA,GAAAA,EAE/D,SAASwd,GACPsM,EACAC,EACAC,EACAC,EAAcH,EAASC,CAAAA,EACvBG,EAAcJ,EAASE,CAAAA,EAAAA,CAEvB,IAAIG,EAAOJ,EACPK,EAAQJ,EACRK,EAASJ,EACTK,EAASJ,EACb,KAAOE,EAAQD,EAAO,GAAG,CACvB,IAAII,EAAS3uB,KAAKE,OAAOquB,EAAOC,GAAS,CAAA,EACnCI,EAASV,EAASS,CAAAA,EACpBC,IAAWH,GACbF,EAAOI,EACPF,EAASG,GACAA,IAAWF,IACpBF,EAAQG,EACRD,EAASE,EAIZ,CACD,OAAOJ,CACT,CC31JA,SAASK,GAAgBC,EAAAA,CACvB,MAAO,CAAA,GAAIA,CAAAA,CACb,CAEA,SAASC,GAAuBjxB,EAAuBwR,EAAAA,CAKrD,GAAIxR,IAAO,WAAaA,IAAO,UAAW,OAC1C,IAAMgN,EAAWkkB,GAAKlxB,CAAAA,EAClBmxB,EAAM3f,EAAQvH,KAClB,CAAMmnB,UAAEA,EAASC,UAAEA,EAASnM,WAAEA,CAAAA,EAAelY,EAAS0I,UAAUlE,EAAS,CACvE4f,UAAAA,GACAC,UAAAA,GACAnM,WAAAA,EAAY,CAAA,EAERoM,EAAOtkB,EAASukB,kBAAAA,EAChBC,EAAOxkB,EAASykB,0BAAAA,EAMlBC,GAAUN,EAAY,EAAIE,GAAQ,EAElCK,GAAcP,EAAYC,EAAY,KAAOC,GAAQ,EAErDM,EAAM1vB,KAAKqH,OAAO8nB,EAAY,EAAIM,GAAc,CAAA,EAMpD,GALI,EAAIA,GAAcH,GAAAA,EAClBI,EAIAA,GAAO,EAOTA,EA6UJ,SAAoBC,EAAwBC,EAAgCC,EAAoBX,EAAAA,CAC9F,IAAIY,GAAwBZ,EAAYS,EAAiBE,EAAa,GAAK,EACvEC,EAAuB,IAAGA,GAAwB,GACtD,IAAIC,EAAS/vB,KAAKqH,OAAOwoB,EAAaC,EAAuB,GAAK,CAAA,EAIlE,MAHI,GAAIA,GAAwBF,GAAAA,EAC5BG,EAEGA,CACT,EArVqBX,EAAME,EADTH,EAHWrkB,EAAS0I,UAAU1I,EAASgP,QAAQxK,EAAS,CAAEjB,MAAAA,EAAQ,EAAK,WAAA,EAAc,CACjG2U,WAAAA,EAAY,CAAA,EAE6BA,WACLkM,CAAAA,EACtCD,YAOIE,GADUnM,EACa,EAAG,CAC5B,IAAIgN,GAAcR,EAFNxM,EAEyBmM,GAAa,EAC9Ca,EAAa,IACfA,GAAc,GAEZ,EAAIA,GAAcV,GAAQH,EAAY,EAAIK,EANlCxM,IAOV0M,EAAM,EACNT,IAEH,CAEH,MAAO,CAAEgB,KAAMP,EAAK3nB,KAAMknB,CAAAA,CAC5B,CAEA,SAASiB,GAAiBnwB,EAAkBowB,EAAYC,EAAYrF,EAAYwB,EAAAA,CAC9E,GAAI4D,IAAO5D,EAASxkB,MAClB,GAAIhI,GAAQowB,EAAK5D,EAASxkB,MAAQ,EAAG,MAAA,WAC5BqoB,IAAO7D,EAASvkB,OACzB,GAAIjI,GAAQqwB,EAAK7D,EAASvkB,OAAS,EAAG,MAAA,WAC7B+iB,IAAOwB,EAASpkB,KACrBpI,GAAQgrB,EAAKwB,EAASpkB,KAAO,EAAG,MAAA,GAEtC,MAAA,EACF,CAuDA,IAAM6mB,GAAgC,CAAA,EAuMtC,SAASqB,GAA2BpoB,EAAAA,CAClC,GAAA,CAAKA,EAAUqoB,WAAW,GAAA,EACxB,MAAM,IAAIpuB,WAAW,uBAAuB+F,CAAAA,mCAAAA,EAE9C,IAAMD,EAAAA,CAASC,EAAUzH,MAAM,CAAA,EAC/B,GAAIF,OAAOsG,MAAMoB,CAAAA,EAAQ,MAAM,IAAI9F,WAAW,uBAAuB+F,CAAAA,EAAAA,EACrE,OAAOD,CACT,CAEA,SAASuoB,GAAevoB,EAAewoB,EAAAA,GAAO,CAG5C,MAAO,IAFW,GAAGxoB,CAAAA,GAAQlH,SAAS,EAAG,GAAA,CAAA,GACtB0vB,EAAO,IAAM,EAAA,EAElC,CAOA,SAASC,GACPld,EACA9F,EAAAA,OACAijB,EAAgB,GAAA,CAEhB,GAAA,CAAI1oB,MAAEA,EAAKC,UAAEA,CAAAA,EAAcsL,EAC3B,GAAItL,IAAJ,OAA6B,CAC3B,GAAID,IAAJ,OAAyB,MAAM,IAAIhK,UAAU,wCAAA,EAIzCyP,IAAa,UAAUkjB,GAAiB3oB,EAAO,EAAG0oB,CAAAA,EAClDjjB,IAAa,cAAazF,EAAQ4oB,GAAoB5oB,EAAO,EAAG0oB,CAAAA,GACpEzoB,EAAYsoB,GAAevoB,CAAAA,CAC5B,KAAM,CACL,IAAM6oB,EAAaR,GAA2BpoB,CAAAA,EAC9C,GAAIA,IAAcsoB,GAAeM,CAAAA,EAC/B,MAAM,IAAI3uB,WAAW,uBAAuB+F,CAAAA,EAAAA,EAE9C,GAAID,IAAJ,QAA2BA,IAAU6oB,EACnC,MAAM,IAAI3uB,WAAW,aAAa+F,CAAAA,cAAuBD,CAAAA,iCAAAA,EAG3D,GADAA,EAAQ6oB,EACJ7oB,EAAQ,GAAKA,EAAQ0oB,EAAe,MAAM,IAAIxuB,WAAW,sBAAsB+F,CAAAA,EAAAA,CACpF,CACD,OAAOwc,GAAAC,GAAA,GAAKnR,GAAL,CAAmBvL,MAAAA,EAAOC,UAAAA,CAAAA,EACnC,CA9OA+mB,GAAc,QAAI,CAChBxU,cAAclI,EAAQgB,EAAAA,CACpB,IAAKA,IAAS,QAAUA,IAAS,eAAiBhB,EAAOvK,OAAjCuL,OACtB,MAAM,IAAItV,UAAU,kBAAA,EAEtB,IAAKsV,IAAS,QAAUA,IAAS,cAAgBhB,EAAOnK,MAAhCmL,OACtB,MAAM,IAAItV,UAAU,iBAAA,EAEtBT,OAAO+hB,OAAOhN,EAAQme,GAAyBne,CAAAA,CAAAA,CAChD,EACDmI,UAAS,CAACnI,EAAQ7E,IACTqjB,GAAmBxe,EAAOvK,KAAMuK,EAAOtK,MAAOsK,EAAOnK,IAAKsF,CAAAA,EAEnEiN,2BAA2BpI,EAAQ7E,EAAAA,OACjC,GAAA,CACMzF,MAAEA,EAAKG,IAAEA,CAAAA,EAAQ2oB,IAAmBxe,EAAAA,EAAOvK,OAAPuK,KAAAA,EADjB,KACkDA,EAAOtK,MAAOsK,EAAOnK,IAAKsF,CAAAA,EACrG,MAAO,CAAEzF,MAAAA,EAAOG,IAAAA,EAAKJ,KAFI,IAAA,CAG1B,EACD+L,YAAW,IACF,CAAA,EAETyF,kBAAkBwX,EAAAA,CAChB,IAAM/sB,EAAS,IAAIqC,IACnB,QAASqT,EAAK,EAAGA,EAAKqX,EAAK/xB,OAAQ0a,IAAM,CACvC,IAAMpa,EAAMyxB,EAAKrX,CAAAA,EACjB1V,EAAOpB,IAAItD,CAAAA,EACPA,IAAQ,QACV0E,EAAOpB,IAAI,WAAA,EACFtD,IAAQ,aACjB0E,EAAOpB,IAAI,OAAA,CAEd,CACD,OAAOisB,GAAa7qB,CAAAA,CACrB,EACD8V,QAAQxK,EAAAA,CAASjB,MAAEA,EAAQ,EAACC,OAAEA,EAAS,EAACC,MAAEA,EAAQ,EAACvL,KAAEA,EAAO,CAAA,EAAKyK,EAAAA,CAC/D,GAAA,CAAI1F,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAQmH,EAM3B,OALAvH,GAAQsG,EACRrG,GAASsG,EAAAA,CACNvG,KAAAA,EAAMC,MAAAA,CAAAA,EAAUgpB,GAAuBjpB,EAAMC,CAAAA,EAAAA,CAC7CD,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAQ2oB,GAAmB/oB,EAAMC,EAAOG,EAAKsF,CAAAA,EAC7DtF,GAAOnF,EAAO,EAAIuL,EACX0iB,GAAkBlpB,EAAMC,EAAOG,CAAAA,CACvC,EACD+R,UAAUG,EAAKC,EAAKL,EAAAA,CAClB,IAAMla,EAAAA,CAAQmxB,GAAkB7W,EAAKC,CAAAA,EACrC,GAAIva,IAAS,EAAG,MAAO,CAAEsO,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EAG9D,IAEImuB,EAFA9iB,EAAQ,EACRC,EAAS,EAEb,GAAI2L,IAAgB,QAAUA,IAAgB,QAAS,CAGrD,IAAImX,EAAiB9W,EAAIvS,KAAOsS,EAAItS,KAGpC,IAFIqpB,IAAmB,IAAGA,GAAkBrxB,GAAAA,CAEpCmwB,GAAiBnwB,EAAMsa,EAAItS,KAAOqpB,EAAgB/W,EAAIrS,MAAOqS,EAAIlS,IAAKmS,CAAAA,GAC5EjM,EAAQ+iB,EACRA,GAAkBrxB,EAGpB,IAAIsxB,EAAkBtxB,EAGtB,IAFAoxB,EAAeH,GAAuB3W,EAAItS,KAAOsG,EAAOgM,EAAIrS,MAAQqpB,CAAAA,EAAAA,CAE5DnB,GAAiBnwB,EAAMoxB,EAAappB,KAAMopB,EAAanpB,MAAOqS,EAAIlS,IAAKmS,CAAAA,GAC7EhM,EAAS+iB,EACTA,GAAmBtxB,EACnBoxB,EAAeH,GAAuBG,EAAappB,KAAMopB,EAAanpB,MAAQjI,CAAAA,EAG5Eka,IAAgB,UAClB3L,GAAkB,GAARD,EACVA,EAAQ,EAEX,CAED8iB,EAAeH,GAAuB3W,EAAItS,KAAOsG,EAAOgM,EAAIrS,MAAQsG,CAAAA,EACpE,IAAMgjB,EAAcC,GAAoBJ,EAAappB,KAAMopB,EAAanpB,MAAOqS,EAAIlS,GAAAA,EAE/EoG,EAAQ,EACRvL,EACFwuB,GAAsBlX,EAAIvS,KAAMuS,EAAItS,MAAQ,EAAGsS,EAAInS,GAAAA,EACnDqpB,GAAsBF,EAAYvpB,KAAMupB,EAAYtpB,MAAQ,EAAGspB,EAAYnpB,GAAAA,EAO7E,OALI8R,IAAgB,SAClB1L,EAAQvO,KAAKE,MAAM8C,EAAO,CAAA,EAC1BA,GAAQ,GAGH,CAAEqL,MAAAA,EAAOC,OAAAA,EAAQC,MAAAA,EAAOvL,KAAAA,CAAAA,CAChC,EACDwQ,UAAAA,CAKEzL,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAgBspB,EAAAA,CAI/B,IAAMvT,EAAoC,CACxCrW,IAAAA,OACAC,QAAAA,OACAC,KAAAA,EACAC,MAAAA,EACAG,IAAAA,EACAupB,WAAY,EACZC,aAAc,EAAA,EAGhB,GADIF,EAAgBxpB,YAAWiW,EAAKjW,UAAYsoB,GAAevoB,CAAAA,GAC3DypB,EAAgBvC,UAAW,CAE7B,IAAM0C,EAAe5pB,GAASA,EAAQ,EAAI,GAAA,IACpC6pB,EAAc9pB,GAAQC,EAAQ,EAAI,EAAI,GAEtC8pB,EAAU9xB,KAAKqH,MAAMwqB,EAAc,GAAA,EACnCE,EAAgBF,EAAwB,IAAVC,EAM9BE,GAAO7pB,EAJKnI,KAAKqH,MAAM,IAAMuqB,EAAe,EAAA,GACjCG,EAAgB/xB,KAAKqH,MAAM0qB,EAAgB,CAAA,IACxC/xB,KAAKqH,MAAMyqB,EAAU,CAAA,EAAK,EAAIA,IAEO,EAEzD5T,EAAKgR,UAAY8C,GAAOA,GAAO,EAAI,EAAI,EACxC,CACD,GAAIP,EAAgBtC,UAAW,CAC7B,IAAInsB,EAAOmF,EACX,QAAS6b,EAAIhc,EAAQ,EAAGgc,EAAI,EAAGA,IAC7BhhB,GAAQivB,GAAkBlqB,EAAMic,CAAAA,EAElC9F,EAAKiR,UAAYnsB,CAClB,CAOD,OANIyuB,EAAgBS,aAAYhU,EAAKgU,WAAanD,GAAuB,UAAW,CAAEhnB,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,CAAAA,GAC/FspB,EAAgBU,cAAajU,EAAKiU,YAAcF,GAAkBlqB,EAAMC,CAAAA,IACxEypB,EAAgBzO,YAAcyO,EAAgBW,cAChDlU,EAAKkU,WAAaC,GAAYtqB,CAAAA,EAC9BmW,EAAK8E,WAAa9E,EAAKkU,WAAa,IAAM,KAErClU,CACR,EACDmR,kBAAiB,IACR,EAETE,0BAAyB,IAChB,CAAA,EAgHX,IAAM+C,GAAN,MAAMA,CAAAA,CAWJ7wB,YAAY8wB,EAAAA,CACV,GAXF5wB,KAAAsH,IAAM,IAAIU,IACVhI,KAAK6wB,MAAG,EAER7wB,KAAI8wB,KAAG,EACP9wB,KAAM+wB,OAAG,EAOHH,IAPG,OAOyB,CAC9B,IAAIxzB,EAAI,EACR,QAAW4zB,KAASJ,EAAatpB,IAAI2pB,QAAAA,EAAW,CAC9C,GAAA,EAAM7zB,EAAIuzB,EAAeO,kBAAmB,MAC5ClxB,KAAKsH,IAAI3L,IAAAA,GAAOq1B,CAAAA,CACjB,CACF,CAAA,CAEHz1B,IAAIoC,EAAAA,CACF,IAAM0E,EAASrC,KAAKsH,IAAI/L,IAAIoC,CAAAA,EAM5B,OALI0E,IACFrC,KAAK8wB,OACL9wB,KAAKmxB,OAAAA,GAEPnxB,KAAK6wB,QACExuB,CAAAA,CAET1G,IAAIgC,EAAa5F,EAAAA,CACfiI,KAAKsH,IAAI3L,IAAIgC,EAAK5F,CAAAA,EAClBiI,KAAK+wB,SACL/wB,KAAKmxB,OAAAA,CAAAA,CAEPA,QAAAA,CAAAA,CAQAC,UAAUC,EAAAA,CACR,GAAIV,EAAeW,UAAU/1B,IAAI81B,CAAAA,EAAM,MAAM,IAAI9wB,WAAW,uBAAA,EAC5DowB,EAAeW,UAAU31B,IAAI01B,EAAKrxB,IAAAA,EAClCA,KAAKmxB,OAAAA,CAAAA,CAYP/wB,OAAAA,kBAAyBixB,EAAAA,CACvB,IAAIE,EAAQZ,EAAeW,UAAU/1B,IAAI81B,CAAAA,EAKzC,OAJKE,IACHA,EAAQ,IAAIZ,EACZA,EAAeW,UAAU31B,IAAI01B,EAAKE,CAAAA,GAE7BA,CAAAA,CAAAA,EAIX,SAASC,GAAAA,CAAmBC,QAAEA,EAAOC,SAAEA,EAAQC,OAAEA,CAAAA,EAAAA,CAI/C,MAAO,GAHYC,GAAiBH,CAAAA,CAAAA,IAChBI,GAAyBH,CAAAA,CAAAA,IAC3BG,GAAyBF,CAAAA,CAAAA,SAE7C,CAEA,SAASG,GAAepZ,EAAkBC,EAAAA,CACxC,MAAO,CACLjM,MAAOgM,EAAItS,KAAOuS,EAAIvS,KACtBuG,OAAQ+L,EAAIrS,MAAQsS,EAAItS,MACxBhF,KAAMqX,EAAIlS,IAAMmS,EAAInS,GAAAA,CAExB,CAhCSmqB,GAAAW,UAAY,IAAIt2B,QAChB21B,GAAiBO,kBAAG,IAoC7B,IAAea,GAAf,KAAeA,CAAfjyB,aAAAA,CAUEE,KAAIgyB,KAAU,CAAA,EA2hBdhyB,KAAMiyB,OAAAA,GAENjyB,KAAgBkyB,iBAAAA,EAAG,CA1hBnBC,cAAAA,CAgBE,OATWnyB,KAAKoyB,YAShB,SAREpyB,KAAKoyB,UAAY,IAAIvqB,KAAKC,eAAe,cAAc9H,KAAK7D,EAAAA,GAAM,CAChEqK,IAAK,UACLH,MAAO,UACPD,KAAM,UACNF,IAAK,QACLc,SAAU,KAAA,CAAA,GAGPhH,KAAKoyB,SAAAA,CAEdC,iBAAiBtoB,EAAAA,CACf,IAAIuoB,EAAiBtyB,KAAKmyB,aAAAA,EACtBtT,EAAa,IAAIva,KAAKyF,CAAAA,EAO1B,GAAIA,IAAc,uBAAwB,CACxC,IAAM8D,EAAUykB,EAAejc,gBAAAA,EAC/Bic,EAAiB,IAAIzqB,KAAKC,eAAe+F,EAAQ0kB,OAAQzP,GAAAC,GAAA,GACnDlV,GADmD,CAEvD7G,SAAU,WAAA,EAAA,EAEZ6X,EAAa,IAAIva,KAAK,sBAAA,CACvB,CAED,GAAA,CACE,OAAOguB,EAAeE,cAAc3T,CAAAA,CACrC,OAAQtX,EAAAA,CACP,MAAM,IAAIhH,WAAW,qBAAqBwJ,CAAAA,EAAAA,CAC3C,CAAA,CAEH0oB,kBAAkB9kB,EAAkB4jB,EAAAA,CAClC,GAAA,CAAQnrB,KAAMqrB,EAASprB,MAAOqrB,EAAUlrB,IAAKmrB,CAAAA,EAAWhkB,EAClDhQ,EAAM+0B,KAAKC,UAAU,CAAEC,KAAM,oBAAqBnB,QAAAA,EAASC,SAAAA,EAAUC,OAAAA,EAAQx1B,GAAI6D,KAAK7D,EAAAA,CAAAA,EACtF02B,EAAStB,EAAMh2B,IAAIoC,CAAAA,EACzB,GAAIk1B,EAAQ,OAAOA,EAEnB,IAAM9oB,EAAYynB,GAAmB,CAAEC,QAAAA,EAASC,SAAAA,EAAUC,OAAAA,CAAAA,CAAAA,EACpDzW,EAAQlb,KAAKqyB,iBAAiBtoB,CAAAA,EAC9B1H,EAAoC,CAAA,EAC1C,QAASjF,EAAI,EAAGA,EAAI8d,EAAM7d,OAAQD,IAAK,CACrC,GAAA,CAAMuU,KAAEA,EAAI5Z,MAAEA,CAAAA,EAAUmjB,EAAM9d,CAAAA,EAS9B,GAPIuU,IAAS,QAAUA,IAAU,gBAC3B3R,KAAKiyB,OACP5vB,EAAO8D,QAAAA,CAAWpO,EAElBsK,EAAO+D,KAAAA,CAAQrO,GAGf4Z,IAAS,QAAS,CACpB,IAAMmhB,EAAU,kBAAkBlpB,KAAK7R,CAAAA,EACvC,GAAA,CAAK+6B,GAAWA,EAAQz1B,QAAU,GAAVA,CAAiBy1B,EAAQ,CAAA,GAAA,CAAOA,EAAQ,CAAA,EAC9D,MAAM,IAAIvyB,WAAW,qBAAqBxI,CAAAA,EAAAA,EAS5C,GADAsK,EAAOgE,MAAQysB,EAAQ,CAAA,EAAA,CAAMA,EAAQ,CAAA,EAAK,EACtCzwB,EAAOgE,MAAQ,EACjB,MAAM,IAAI9F,WACR,iBAAiBxI,CAAAA,SAAcgS,CAAAA,SAAkB/J,KAAK7D,EAAAA,2EAAAA,EAI1D,GAAIkG,EAAOgE,MAAQ,GACjB,MAAM,IAAI9F,WACR,iBAAiBxI,CAAAA,SAAcgS,CAAAA,SAAkB/J,KAAK7D,EAAAA,2EAAAA,EAStD22B,EAAQ,CAAA,IAAIzwB,EAAO0wB,WAAaD,EAAQ,CAAA,EAC7C,CACGnhB,IAAS,QAAOtP,EAAOmE,IAAAA,CAAOzO,GAC9BiI,KAAKiyB,QAAUtgB,IAAS,OAAS5Z,GAAS,MAAQA,IAAU,KAQ9DsK,EAAO6D,IAAMnO,EACVqmB,MAAM,IAAA,EAAM,CAAA,EACZ4U,UAAU,KAAA,EACVrX,QAAQ,kBAAmB,EAAA,EAC3BA,QAAQ,KAAM,GAAA,EACdsX,YAAAA,EAEN,CACD,GAAIjzB,KAAKiyB,QAAU5vB,EAAO8D,UAAjB8rB,OAGP,MAAM,IAAI1xB,WACR,0DAA0DP,KAAK7D,EAAAA,6CAAAA,EAInE,GAAI6D,KAAKiyB,OAAQ,CACf,IAAMiB,EAAclzB,KAAKgyB,KAAKmB,KAAM5rB,GAAMlF,EAAO6D,MAAQqB,EAAE6rB,WAAAA,EACvDF,IAAa7wB,EAAO6D,IAAMgtB,EAAYjH,KAC3C,CAGD,GAAIjsB,KAAKqzB,cAAe,CACtB,GAAA,CAAMntB,IAAEA,EAAGC,QAAEA,CAAAA,EAAYnG,KAAKqzB,cAAchxB,EAAQsL,CAAAA,EACpDtL,EAAO6D,IAAMA,EACb7D,EAAO8D,QAAUA,CAClB,CACGnG,KAAKszB,cAActzB,KAAKszB,aAAa3lB,CAAAA,EAEzC,IAAMiE,EAAe5R,KAAKuzB,mBAAmBlxB,EAAQkvB,EAAO,YAAA,EAAa,EACzE,GAAI3f,EAAaxL,OAAjB,OAAqC,MAAM,IAAI7F,WAAW,2BAA2BmyB,KAAKC,UAAUhlB,CAAAA,CAAAA,EAAAA,EACpG,GAAIiE,EAAavL,QAAjB,OACE,MAAM,IAAI9F,WAAW,4BAA4BmyB,KAAKC,UAAUhlB,CAAAA,CAAAA,EAAAA,EAElE,GAAIiE,EAAapL,MAAjB,OAAoC,MAAM,IAAIjG,WAAW,0BAA0BmyB,KAAKC,UAAUhlB,CAAAA,CAAAA,EAAAA,EAelG,OAdA4jB,EAAM51B,IAAIgC,EAAKiU,CAAAA,EAad,CAAC,YAAa,QAAA,EAAoB4hB,QAXb1nB,GAAAA,CACpB,IAAM2nB,EAAaf,KAAKC,UAAU,CAChCC,KAAM,oBACNxsB,KAAMwL,EAAaxL,KACnBC,MAAOuL,EAAavL,MACpBG,IAAKoL,EAAapL,IAClBsF,SAAAA,EACA3P,GAAI6D,KAAK7D,EAAAA,CAAAA,EAEXo1B,EAAM51B,IAAI83B,EAAY9lB,CAAAA,CAAQ,CAAA,EAGzBiE,CAAAA,CAET8hB,qBAAqB9hB,EAAAA,CACnB,GAAA,CAAMvL,MAAEA,EAAKD,KAAEA,EAAII,IAAEA,EAAGL,QAAEA,EAAOG,UAAEA,EAASysB,WAAEA,CAAAA,EAAenhB,EAG7D,GAAImhB,IAAJ,OAA8B,MAAM,IAAIxyB,WAAW,+BAAA,EACnD,GAAI6F,IAAJ,QAA0BD,IAAtBC,OAA6C,MAAM,IAAI/J,UAAU,6BAAA,EACrE,GAAIgK,IAAJ,QAA2BC,IAAvBD,OAAgD,MAAM,IAAIhK,UAAU,gCAAA,EACxE,GAAImK,IAAJ,OAAuB,MAAM,IAAIjG,WAAW,aAAA,EAC5C,GAAI+F,IAAJ,OAA6B,CAC3B,GAAyB,OAAdA,GAAc,SACvB,MAAM,IAAI/F,WAAW,mCAAA,OAA0C+F,CAAAA,EAEjE,GAAA,CAAK,mBAAmB2C,KAAK3C,CAAAA,EAC3B,MAAM,IAAI/F,WAAW,sBAAsB+F,CAAAA,EAAAA,CAE9C,CACD,GAAItG,KAAKiyB,QACFrgB,EAAkB,MADhBqgB,SACsCrgB,EAAsB,UAA5C,QACrB,MAAM,IAAIvV,UAAU,sDAAA,CAAA,CAe1Bk3B,mBACEI,EACApC,EAAAA,OACAzlB,EAAqB,YAGrB8nB,EAAAA,GAAiB,CAEjB,GAAI5zB,KAAK6zB,eAAiB,YAAa,MAAM,IAAItzB,WAAW,2CAAA,EAC5D,IAAIqR,EAAe+hB,EACnB3zB,KAAK0zB,qBAAqB9hB,CAAAA,EAC1B,IAAMkiB,EAAe9zB,KAAKgwB,aAAape,EAAc2f,CAAAA,EACrD,CAAIlrB,MAAEA,EAAKC,UAAEA,CAAAA,EAAcsL,EAG3B,MAAA,CADGvL,MAAAA,EAAOC,UAAAA,CAAAA,EAAcwoB,GAAyBld,EAAc9F,EAAUgoB,CAAAA,EAClEhR,GAAAC,GAAA,GAAMnR,GAAN,CAA0DvL,MAAAA,EAAOC,UAAAA,CAAAA,EAAAA,CAE1EytB,sBAAsBniB,EAAgC9F,EAAoBylB,EAAAA,CACxE,IAAMuC,EAAe9zB,KAAKgwB,aAAape,EAAc2f,CAAAA,EACrD,CAAIlrB,MAAEA,EAAKG,IAAEA,CAAAA,EAAQoL,EAQrB,OAPI9F,IAAa,UACfkjB,GAAiB3oB,EAAO,EAAGytB,CAAAA,EAC3B9E,GAAiBxoB,EAAK,EAAGxG,KAAKg0B,mBAAmBpiB,CAAAA,CAAAA,IAEjDvL,EAAQ4oB,GAAoB5oB,EAAO,EAAGytB,CAAAA,EACtCttB,EAAMyoB,GAAoBzoB,EAAK,EAAGxG,KAAKg0B,mBAAmBlR,GAAAC,GAAA,GAAKnR,GAAL,CAAmBvL,MAAAA,CAAAA,EAAAA,CAAAA,GAExEyc,GAAAC,GAAA,GAAKnR,GAAL,CAAmBvL,MAAAA,EAAOG,IAAAA,CAAAA,EAAAA,CAEnCytB,kBAAkBC,EAA+BpoB,EAAqB,YAAaylB,EAAAA,CACjF,IAAM4C,EAAeD,EAGjB3X,EAAOvc,KAAKuzB,mBAAmBW,EAAW3C,EAAOzlB,EAAAA,EAAU,EAK/DyQ,EAAOvc,KAAK+zB,sBAAsBxX,EAAMzQ,EAAUylB,CAAAA,EAElD,GAAA,CAAMnrB,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAQ+V,EACvB5e,EAAM+0B,KAAKC,UAAU,CAAEC,KAAM,oBAAqBxsB,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,EAAKsF,SAAAA,EAAU3P,GAAI6D,KAAK7D,EAAAA,CAAAA,EAKzFi4B,EAJAvB,EAAStB,EAAMh2B,IAAIoC,CAAAA,EAKvB,GAJIk1B,GAKFsB,EAAa/tB,OADf,QAEE+tB,EAAa9tB,QADAD,QAEb+tB,EAAa3tB,MADAH,SAEZ8tB,EAAa/tB,OAASmW,EAAKnW,MAAQ+tB,EAAa9tB,QAAUkW,EAAKlW,OAAS8tB,EAAa3tB,MAAQ+V,EAAK/V,OAEnG4tB,EAAc1B,KAAKC,UAAU,CAC3BC,KAAM,oBACNxsB,KAAM+tB,EAAa/tB,KACnBC,MAAO8tB,EAAa9tB,MACpBG,IAAK2tB,EAAa3tB,IAClBsF,SAAAA,EACA3P,GAAI6D,KAAK7D,EAAAA,CAAAA,EAEX02B,EAAStB,EAAMh2B,IAAI64B,CAAAA,EACfvB,GAAQ,OAAOA,EAIrB,IAAIwB,EAAcr0B,KAAKs0B,gBAAgB,CAAEluB,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,CAAAA,EAChD+tB,EAA4BC,GAAAA,CAUhC,IAAIC,EAAkBz0B,KAAK00B,WAAWL,EAAaG,CAAAA,EACnD,GAAIjY,EAAK/V,IAAMxG,KAAK20B,mBAAmBpY,CAAAA,EAAO,CAG5C,IAAIqY,EAAmB50B,KAAKyyB,kBAAkBgC,EAAiBlD,CAAAA,EAC/D,KAAOqD,EAAiBvuB,QAAUA,GAASuuB,EAAiBxuB,OAASA,GAAM,CACzE,GAAI0F,IAAa,SACf,MAAM,IAAIvL,WAAW,OAAOiG,CAAAA,4BAA+BH,CAAAA,YAAiBD,CAAAA,EAAAA,EAG9EquB,EAAkBz0B,KAAK00B,WAAWD,EAAAA,EAAkB,EACpDG,EAAmB50B,KAAKyyB,kBAAkBgC,EAAiBlD,CAAAA,CAC5D,CACF,CACD,OAAOkD,CAAe,EAEpBr2B,EAAO,EACPy2B,EAAoB70B,KAAKyyB,kBAAkB4B,EAAa9C,CAAAA,EACxD7wB,EAAOoxB,GAAevV,EAAMsY,CAAAA,EAChC,GAAIn0B,EAAKgM,QAAU,GAAKhM,EAAKiM,SAAW,GAAKjM,EAAKW,OAAS,EAAG,CAC5D,IAAMyzB,EAAqC,IAAbp0B,EAAKgM,MAA4B,GAAdhM,EAAKiM,OAAcjM,EAAKW,KACzEgzB,EAAcr0B,KAAK00B,WAAWL,EAAaS,CAAAA,EAC3CD,EAAoB70B,KAAKyyB,kBAAkB4B,EAAa9C,CAAAA,EACxD7wB,EAAOoxB,GAAevV,EAAMsY,CAAAA,EACxBn0B,EAAKgM,QAAU,GAAKhM,EAAKiM,SAAW,EACtC0nB,EAAcE,EAAyB7zB,EAAKW,IAAAA,EAE5CjD,EAAO4B,KAAK+0B,qBAAqBxY,EAAMsY,CAAAA,CAE1C,CAGD,IAAI1yB,EAAY,EAChB,KAAO/D,GAAM,CACXi2B,EAAcr0B,KAAK00B,WAAWL,EAAaj2B,EAAO+D,CAAAA,EAClD,IAAM6yB,EAAuBH,EAC7BA,EAAoB70B,KAAKyyB,kBAAkB4B,EAAa9C,CAAAA,EACxD,IAAM0D,EAAU72B,EAEhB,GADAA,EAAO4B,KAAK+0B,qBAAqBxY,EAAMsY,CAAAA,EACnCz2B,GAEF,GADAsC,EAAOoxB,GAAevV,EAAMsY,CAAAA,EACxBn0B,EAAKgM,QAAU,GAAKhM,EAAKiM,SAAW,EACtC0nB,EAAcE,EAAyB7zB,EAAKW,IAAAA,EAE5CjD,EAAO,UACE62B,GAAW72B,IAAS62B,EAC7B,GAAI9yB,EAAY,EAGdA,GAAa,MACR,CAKL,GAAI2J,IAAa,SACf,MAAM,IAAIvL,WAAW,2CAA2CmyB,KAAKC,UAAU5P,GAAA,GAAKoR,EAAAA,CAAAA,EAAAA,EAGtEn0B,KAAK+0B,qBAAqBF,EAAmBG,CAAAA,EAE/C,IAAGX,EAAcr0B,KAAK00B,WAAWL,EAAAA,EAAc,GAC3Dj2B,EAAO,CAEV,EAGN,CAGD,GAFAmzB,EAAM51B,IAAIgC,EAAK02B,CAAAA,EACXD,GAAa7C,EAAM51B,IAAIy4B,EAAaC,CAAAA,EAEtC9X,EAAKnW,OAFiCiuB,QAGtC9X,EAAKlW,QADAD,QAELmW,EAAK/V,MADAH,QAELkW,EAAKjW,YADAE,QAEJxG,KAAKiyB,SAAW1V,EAAKrW,MAAhB+rB,QAAqC1V,EAAKpW,UAA1BD,QAEtB,MAAM,IAAI3F,WAAW,6BAAA,EAEvB,OAAO8zB,CAAAA,CAETU,qBAAqBG,EAAoBC,EAAAA,CACvC,OAAID,EAAM9uB,OAAS+uB,EAAM/uB,KAAagvB,GAAoBF,EAAM9uB,KAAO+uB,EAAM/uB,IAAAA,EACzE8uB,EAAM7uB,QAAU8uB,EAAM9uB,MAAc+uB,GAAoBF,EAAM7uB,MAAQ8uB,EAAM9uB,KAAAA,EAC5E6uB,EAAM1uB,MAAQ2uB,EAAM3uB,IAAY4uB,GAAoBF,EAAM1uB,IAAM2uB,EAAM3uB,GAAAA,EACnE,CAAA,CAGT6uB,aAAazjB,EAA2B9F,EAAqB,YAAaylB,EAAAA,CACxE,IAAM5jB,EAAU3N,KAAKi0B,kBAAkBriB,EAAc9F,EAAUylB,CAAAA,EAC/D,OAAOvxB,KAAKyyB,kBAAkB9kB,EAAS4jB,CAAAA,CAAAA,CAEzCmD,WAAW/mB,EAAkBtM,EAAAA,CAE3B,OADciuB,GAAkB3hB,EAAQvH,KAAMuH,EAAQtH,MAAOsH,EAAQnH,IAAMnF,CAAAA,CAAAA,CAG7Ei0B,gBAAgB1jB,EAA2BvQ,EAAckwB,EAAAA,CACvD,IAAM5jB,EAAU3N,KAAKi0B,kBAAkBriB,EAAc,YAAa2f,CAAAA,EAC5DgE,EAAWv1B,KAAK00B,WAAW/mB,EAAStM,CAAAA,EAE1C,OADsBrB,KAAKyyB,kBAAkB8C,EAAUhE,CAAAA,CAAAA,CAGzDiE,kBACE7B,EACAhnB,EACAb,EACAylB,EAAAA,CAEA,IAAI3f,EAAe+hB,EACnB,CAAMntB,IAAEA,CAAAA,EAAQoL,EAChB,QAASxU,EAAI,EAAGq4B,EAAYp3B,KAAKjG,IAAIuU,CAAAA,EAASvP,EAAIq4B,EAAWr4B,IAAK,CAChE,GAAA,CAAMiJ,MAAEA,CAAAA,EAAUuL,EACZ8jB,EAAkB9jB,EAClBvQ,EACJsL,EAAS,EAAA,CACJtO,KAAKuhB,IAAIpZ,EAAKxG,KAAK21B,oBAAoB/jB,EAAc2f,CAAAA,CAAAA,EACtDvxB,KAAKwwB,YAAY5e,EAAc2f,CAAAA,EAC/B5jB,EAAU3N,KAAKi0B,kBAAkBriB,EAAc,YAAa2f,CAAAA,EAC9DgE,EAAWv1B,KAAK00B,WAAW/mB,EAAStM,CAAAA,EAQxC,GAPAuQ,EAAe5R,KAAKyyB,kBAAkB8C,EAAUhE,CAAAA,EAO5C5kB,EAAS,EAAG,CACd,IAAMipB,EAAkB51B,KAAKgwB,aAAa0F,EAAiBnE,CAAAA,EAC3D,KAAO3f,EAAavL,MAAQ,GAAMA,EAAQuvB,GACxCL,EAAWv1B,KAAK00B,WAAWa,EAAAA,EAAW,EACtC3jB,EAAe5R,KAAKyyB,kBAAkB8C,EAAUhE,CAAAA,CAEnD,CAEG3f,EAAapL,MAAQA,IAEvBoL,EAAe5R,KAAKq1B,aAAavS,GAAAC,GAAA,GAAKnR,GAAL,CAAmBpL,IAAAA,CAAAA,GAAO,YAAa+qB,CAAAA,EAE3E,CACD,GAAIzlB,IAAa,UAAY8F,EAAapL,MAAQA,EAChD,MAAM,IAAIjG,WAAW,OAAOiG,CAAAA,6CAAAA,EAE9B,OAAOoL,CAAAA,CAETikB,YACEjkB,EAAAA,CACAlF,MAAEA,EAAQ,EAACC,OAAEA,EAAS,EAACC,MAAEA,EAAQ,EAACvL,KAAEA,EAAO,CAAA,EAC3CyK,EACAylB,EAAAA,CAEA,GAAA,CAAMnrB,KAAEA,EAAII,IAAEA,EAAGF,UAAEA,CAAAA,EAAcsL,EAC3BkkB,EAAa91B,KAAKuzB,mBAAmB,CAAEntB,KAAMA,EAAOsG,EAAOpG,UAAAA,EAAWE,IAAAA,CAAAA,EAAO+qB,CAAAA,EAC7EwE,EAAc/1B,KAAKw1B,kBAAkBM,EAAYnpB,EAAQb,EAAUylB,CAAAA,EACnEyE,EAAc30B,EAAe,EAARuL,EAE3B,OADkB5M,KAAKs1B,gBAAgBS,EAAaC,EAAazE,CAAAA,CAAAA,CAGnE0E,cACEC,EACAC,EACA7d,EACAiZ,EAAAA,CAEA,IAAIlwB,EAAO,EACPuL,EAAQ,EACRD,EAAS,EACTD,EAAQ,EACZ,OAAQ4L,EAAAA,CACN,IAAK,MACHjX,EAAOrB,KAAKo2B,kBAAkBF,EAAaC,EAAa5E,CAAAA,EACxD,MACF,IAAK,OAAQ,CACX,IAAM8E,EAAYr2B,KAAKo2B,kBAAkBF,EAAaC,EAAa5E,CAAAA,EACnElwB,EAAOg1B,EAAY,EACnBzpB,GAASypB,EAAYh1B,GAAQ,EAC7B,KACD,CACD,IAAK,QACL,IAAK,OAAQ,CACX,IAAMjD,EAAO4B,KAAK+0B,qBAAqBoB,EAAaD,CAAAA,EACpD,GAAA,CAAK93B,EACH,MAAO,CAAEsO,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EAEhD,IAAMi1B,EAAYH,EAAY/vB,KAAO8vB,EAAY9vB,KAC3CouB,EAAW2B,EAAY3vB,IAAM0vB,EAAY1vB,IAC/C,GAAI8R,IAAgB,QAAUge,EAAW,CACvC,IAAIC,EAAiB,EACjBJ,EAAY7vB,UAAY4vB,EAAY5vB,YAAWiwB,EAAiB,GAChEJ,EAAY7vB,UAAY4vB,EAAY5vB,YAAWiwB,EAAAA,IAC9CA,IAAgBA,EAAiBl4B,KAAKD,KAAKo2B,CAAAA,GAEhD9nB,EAD2B6pB,EAAiBn4B,EAAO,EACtBk4B,EAAYl4B,EAAOk4B,CACjD,CAKD,IAAIE,EACAC,EALe/pB,EAAQ1M,KAAK61B,YAAYK,EAAa,CAAExpB,MAAAA,CAAAA,EAAS,YAAa6kB,CAAAA,EAAS2E,EAM1F,GACEvpB,GAAUvO,EACVo4B,EAAUC,EACVA,EAAOz2B,KAAKw1B,kBAAkBgB,EAASp4B,EAAM,YAAamzB,CAAAA,EACtDkF,EAAKjwB,MAAQ0vB,EAAY1vB,MAE3BiwB,EAAOz2B,KAAKq1B,aAAavS,GAAAC,GAAA,GAAK0T,GAAL,CAAWjwB,IAAK0vB,EAAY1vB,GAAAA,GAAO,YAAa+qB,CAAAA,SAEpEvxB,KAAK+0B,qBAAqBoB,EAAaM,CAAAA,EAAQr4B,GAAQ,GAChEuO,GAAUvO,EAEViD,EADsBrB,KAAKo2B,kBAAkBI,EAASL,EAAa5E,CAAAA,EAEnE,KACD,CAAA,CAEH,MAAO,CAAE7kB,MAAAA,EAAOC,OAAAA,EAAQC,MAAAA,EAAOvL,KAAAA,CAAAA,CAAAA,CAEjCmvB,YAAY5e,EAA2B2f,EAAAA,CASrC,GAAA,CAAM/qB,IAAEA,CAAAA,EAAQoL,EACVgO,EAAM5f,KAAKg0B,mBAAmBpiB,CAAAA,EAC9B/Q,EAAMb,KAAK20B,mBAAmB/iB,CAAAA,EAEpC,GAAI/Q,IAAQ+e,EAAK,OAAO/e,EAGxB,IAAMsB,EAAYqE,GAAOoZ,EAAM/e,EAAM+e,EAAM/e,EACrC8M,EAAU3N,KAAKi0B,kBAAkBriB,EAAc,YAAa2f,CAAAA,EAC5DmF,EAAe12B,KAAK00B,WAAW/mB,EAASxL,CAAAA,EACxCw0B,EAAoB32B,KAAKyyB,kBAAkBiE,EAAcnF,CAAAA,EAGzDqF,EAAgB52B,KAAK00B,WAAWgC,EAAAA,CAAeC,EAAkBnwB,GAAAA,EAEvE,OAD2BxG,KAAKyyB,kBAAkBmE,EAAerF,CAAAA,EACvC/qB,GAAAA,CAE5BmvB,oBAAoB/jB,EAA2B2f,EAAAA,CAC7C,GAAA,CAAM/qB,IAAEA,EAAGH,MAAEA,EAAKD,KAAEA,CAAAA,EAASwL,EAIzBilB,EAAoB,CAAEzwB,KADAC,EAAQ,EAAID,EAAOA,EAAO,EACDC,MAAAA,EAAOG,IAAK,CAAA,EACzDswB,EAAgBzwB,EAAQ,EAAIA,EAAQ,EAAIrG,KAAKgwB,aAAa6G,EAAmBtF,CAAAA,EACnFsF,EAAoB/T,GAAAC,GAAA,GAAK8T,GAAL,CAAwBxwB,MAAOywB,CAAAA,GACnD,IAAMj2B,EAAMb,KAAK20B,mBAAmBkC,CAAAA,EAC9BjX,EAAM5f,KAAKg0B,mBAAmB6C,CAAAA,EACpC,GAAIh2B,IAAQ+e,EAAK,OAAOA,EAExB,IAAMjS,EAAU3N,KAAKi0B,kBAAkBriB,EAAc,YAAa2f,CAAAA,EAC5DwF,EAA4B/2B,KAAK00B,WAAW/mB,EAAAA,CAAUnH,CAAAA,EAE5D,OADuCxG,KAAKyyB,kBAAkBsE,EAA2BxF,CAAAA,EACnD/qB,GAAAA,CAExCwwB,oBAAoBplB,EAAAA,CAClB,MAAO,CAAExL,KAAMwL,EAAaxL,KAAMC,MAAO,EAAGC,UAAW,MAAOE,IAAK,CAAA,CAAA,CAErEywB,qBAAqBrlB,EAAAA,CACnB,MAAO,CAAExL,KAAMwL,EAAaxL,KAAMC,MAAOuL,EAAavL,MAAOG,IAAK,CAAA,CAAA,CAEpE4vB,kBAAkBF,EAA0BC,EAA0B5E,EAAAA,CACpE,IAAM2F,EAASl3B,KAAKi0B,kBAAkBiC,EAAa,YAAa3E,CAAAA,EAC1D4F,EAASn3B,KAAKi0B,kBAAkBkC,EAAa,YAAa5E,CAAAA,EAChE,OACE1B,GAAsBsH,EAAO/wB,KAAM+wB,EAAO9wB,MAAQ,EAAG8wB,EAAO3wB,GAAAA,EAC5DqpB,GAAsBqH,EAAO9wB,KAAM8wB,EAAO7wB,MAAQ,EAAG6wB,EAAO1wB,GAAAA,CAAAA,CAShE4wB,wBAAwB9wB,EAAmBE,EAAAA,CAEzC,MAAO,KAAA,CAET6wB,mBAAmB1mB,EAAkC7E,EAAoBylB,EAAAA,CACvE,IASIE,EAASC,EAAUC,EACnB2F,EAAiBC,EAAAA,CAVjBrxB,IAAEA,EAAGC,QAAEA,EAAOC,KAAEA,EAAIC,MAAEA,EAAKC,UAAEA,EAASE,IAAEA,CAAAA,EAAQmK,EACpD,GAAItK,IAAJ,QAA2BD,IAAvBC,SAAuBD,CAAwBpG,KAAKiyB,QAAU/rB,IAAV+rB,QAA+B9rB,IAArBD,QAChE,MAAM,IAAI7J,UAAU,+DAAA,GAElBiK,IAFkB,QAESF,IAA3BE,QAAkDtG,KAAKiyB,QAAU9rB,IAAV8rB,UAAU9rB,CAEhEG,UAAAA,EAAWE,IAAAA,CAAAA,EAAQxG,KAAKyyB,kBAAkBzyB,KAAKi0B,kBAAkBtjB,EAAQ7E,EAAUylB,CAAAA,EAAQA,CAAAA,GAUhG,IAAMiG,EAAe,CACnBpxB,KAAMpG,KAAKo3B,wBAAwB9wB,EAAWE,CAAAA,EAC9CH,MAAO,GACPG,IAAK,EAAA,EAEDixB,EAAyBz3B,KAAKyyB,kBAAkB+E,EAAcjG,CAAAA,EAE9DmG,EACJD,EAAuBnxB,UAAYA,GAClCmxB,EAAuBnxB,YAAcA,GAAamxB,EAAuBjxB,KAAOA,EAC7EixB,EAAuBrxB,KACvBqxB,EAAuBrxB,KAAO,EACpC,QAAShJ,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAMw3B,EAAqC50B,KAAKuzB,mBAC9C,CAAE/sB,IAAAA,EAAKF,UAAAA,EAAWF,KAAMsxB,EAAet6B,CAAAA,EACvCm0B,CAAAA,EAEI5jB,EAAU3N,KAAKi0B,kBAAkBW,EAAkB,YAAarD,CAAAA,EAChEoG,EAAwB33B,KAAKyyB,kBAAkB9kB,EAAS4jB,CAAAA,EAE9D,GAAA,CADGnrB,KAAMqrB,EAASprB,MAAOqrB,EAAUlrB,IAAKmrB,CAAAA,EAAWhkB,EAC/CgqB,EAAsBrxB,YAAcA,GAAaqxB,EAAsBnxB,MAAQA,EACjF,MAAO,CAAEH,MAAOqrB,EAAUlrB,IAAKmrB,EAAQvrB,KAAMqrB,CAAAA,EACxC,GAAI3lB,IAAa,YAAa,CAInC,IAAM8rB,GAAqB53B,KAAK63B,8BAA8BF,EAAsBrxB,SAAAA,EACpF,GACEqxB,EAAsBrxB,YAAcA,GACpCqxB,EAAsBnxB,MAAQoxB,IAC9BpxB,EAAMoxB,GAEN,MAAO,CAAEvxB,MAAOqrB,EAAUlrB,IAAKmrB,EAAQvrB,KAAMqrB,CAAAA,GAI7C6F,IAJ6C7F,QAK5CkG,EAAsBrxB,YAAcgxB,EAAgBhxB,WACnDqxB,EAAsBnxB,IAAM8wB,EAAgB9wB,OAE9C8wB,EAAkBK,EAClBJ,EAAa5pB,EAEhB,CACF,CACD,GAAI7B,IAAa,aAAeyrB,IAA5BzrB,OAAsD,OAAOyrB,EACjE,MAAM,IAAIh3B,WAAW,aAAaP,KAAK7D,EAAAA,wBAA0BmK,CAAAA,YAAqBE,CAAAA,EAAAA,CAAAA,CAExFknB,mBAAAA,CAAAA,CAGAE,2BAAAA,CAAAA,CAAAA,EA8BIkK,GAAN,cAA2B/F,EAAAA,CAA3BjyB,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,SACL6D,KAAY6zB,aAAG,YAmCf7zB,KAAA2M,OAA0B,CACxBorB,OAAQ,CAAElJ,KAAM,EAAGmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,EAAA,EACvD42B,QAAS,CAAEpJ,KAAM,EAAGmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,CAAER,IAAK,GAAI+e,IAAK,EAAA,CAAA,EACxEsY,OAAQ,CAAErJ,KAAM,EAAGmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,CAAER,IAAK,GAAI+e,IAAK,EAAA,CAAA,EACvEuY,MAAO,CAAEtJ,KAAM,EAAGmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,EAAA,EACtD+2B,OAAQ,CAAEvJ,KAAM,EAAGmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,EAAA,EACvDg3B,KAAM,CAAExJ,KAAAA,OAAiBmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,EAAA,EAC7D,SAAU,CAAEwtB,KAAM,EAAGmJ,QAAAA,OAAoB1xB,UAAW,OAAQjF,KAAM,EAAA,EAClE,UAAW,CAAEwtB,KAAM,EAAGmJ,QAAAA,OAAoB1xB,UAAW,MAAOjF,KAAM,EAAA,EAClEi3B,MAAO,CAAEzJ,KAAM,EAAGmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,EAAA,EACtDk3B,KAAM,CAAE1J,KAAM,EAAGmJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,EAAA,EACrDm3B,MAAO,CAAE3J,KAAM,GAAImJ,QAAS,EAAG1xB,UAAW,MAAOjF,KAAM,EAAA,EACvDo3B,MAAO,CAAE5J,KAAM,GAAImJ,QAAS,GAAI1xB,UAAW,MAAOjF,KAAM,EAAA,EACxDq3B,GAAI,CAAE7J,KAAM,GAAImJ,QAAS,GAAI1xB,UAAW,MAAOjF,KAAM,EAAA,EACrDs3B,KAAM,CAAE9J,KAAM,GAAImJ,QAAS,GAAI1xB,UAAW,MAAOjF,KAAM,EAAA,CAAA,CAAA,CAhDzDovB,WAAW7e,EAAAA,CACT,GAAA,CAAMxL,KAAEA,CAAAA,EAASwL,EAMjB,OAAQ,EAAIxL,EAAO,GAAK,GAAK,CAAA,CAE/B4pB,aAAape,EAAAA,CACX,OAAO5R,KAAKywB,WAAW7e,CAAAA,EAAgB,GAAK,EAAA,CAE9C+iB,mBAAmB/iB,EAAAA,CACjB,OAAO5R,KAAK44B,kBAAkBhnB,EAAc,KAAA,CAAA,CAE9CoiB,mBAAmBpiB,EAAAA,CACjB,OAAO5R,KAAK44B,kBAAkBhnB,EAAc,KAAA,CAAA,CAE9CgnB,kBAAkBhnB,EAA0BinB,EAAAA,CAC1C,GAAA,CAAMxyB,MAAEA,EAAKD,KAAEA,CAAAA,EAASwL,EAClBtL,EAAYtG,KAAK84B,aAAa1yB,EAAMC,CAAAA,EACpC0yB,EAAYn9B,OAAOq1B,QAAQjxB,KAAK2M,MAAAA,EAAQwmB,KAAM9Q,GAAMA,EAAE,CAAA,EAAG/b,YAAcA,CAAAA,EAC7E,GAAIyyB,IAAJ,OAA6B,MAAM,IAAIx4B,WAAW,2BAA2B8F,CAAAA,EAAAA,EAC7E,IAAMmqB,EAAcuI,EAAU,CAAA,EAAG13B,KACjC,OAA8B,OAAhBmvB,GAAgB,SAAWA,EAAcA,EAAYqI,CAAAA,CAAAA,CAErEhB,8BAA8BvxB,EAAAA,CAC5B,MAAO,CAAC,MAAO,MAAO,MAAO,MAAO,KAAA,EAAO+L,SAAS/L,CAAAA,EAAa,GAAK,EAAA,CAGxEguB,gBAAgB1iB,EAAAA,CACd,GAAA,CAAMxL,KAAEA,CAAAA,EAASwL,EACjB,MAAO,CAAExL,KAAMA,EAAO,KAAMC,MAAO,EAAGG,IAAK,CAAA,CAAA,CAkB7CsyB,aAAa1yB,EAAcC,EAAAA,CACzB,OAAIrG,KAAKywB,WAAW,CAAErqB,KAAAA,CAAAA,CAAAA,EACbC,IAAU,EAAIuoB,GAAe,EAAA,EAAG,EAAQA,GAAevoB,EAAQ,EAAIA,EAAQA,EAAQ,CAAA,EAEnFuoB,GAAevoB,CAAAA,CAAAA,CAGjBktB,mBACP3hB,EACA2f,EACAzlB,EAAqB,YACrB8nB,EAAAA,GAAiB,CAEjB,GAAA,CAAIxtB,KAAEA,EAAIC,MAAEA,EAAKC,UAAEA,EAASE,IAAEA,EAAGusB,WAAEA,CAAAA,EAAenhB,EAGlD,GAAIxL,IAAJ,OAAwB,MAAM,IAAI/J,UAAU,wBAAA,EAC5C,GAAIu3B,EAAgB,CAQlB,GAAIb,EAAY,CACd,IAAMgG,EAAY/4B,KAAK2M,OAAOomB,CAAAA,EAC9B,GAAA,CAAKgG,EAAW,MAAM,IAAIx4B,WAAW,0CAA0CwyB,CAAAA,EAAAA,EAC/E1sB,EAAQrG,KAAKywB,WAAW,CAAErqB,KAAAA,CAAAA,CAAAA,EAAU2yB,EAAUlK,KAAOkK,EAAUf,OAChE,CAGD,OADA1xB,EAAYtG,KAAK84B,aAAa1yB,EAAMC,CAAAA,EAC7B,CAAED,KAAAA,EAAMC,MAAOA,EAAiBG,IAAAA,EAAKF,UAAAA,CAAAA,CAC7C,CAIC,GADAtG,KAAK0zB,qBAAqB9hB,CAAAA,EACtBvL,IADsBuL,OAGxB,GAAItL,EAAU0yB,SAAS,GAAA,EAAM,CAC3B,GAAI1yB,IAAc,OAChB,MAAM,IAAI/F,WAAW,mDAAmD+F,CAAAA,EAAAA,EAG1E,GADAD,EAAQ,EAAA,CACHrG,KAAKywB,WAAW,CAAErqB,KAAAA,CAAAA,CAAAA,EAAS,CAC9B,GAAI0F,IAAa,SACf,MAAM,IAAIvL,WAAW,4CAA4C6F,CAAAA,2BAAAA,EAGjEC,EAAQ,EACRC,EAAY,KAEf,CACF,KAAM,CACLD,EAAQqoB,GAA2BpoB,CAAAA,EAE/BtG,KAAKywB,WAAW,CAAErqB,KAAAA,CAAAA,CAAAA,GAAWC,GAAS,GAAGA,IAC7C,IAAMytB,EAAe9zB,KAAKgwB,aAAa,CAAE5pB,KAAAA,CAAAA,CAAAA,EACzC,GAAIC,EAAQ,GAAKA,EAAQytB,EAAc,MAAM,IAAIvzB,WAAW,sBAAsB+F,CAAAA,EAAAA,CACnF,SAEGwF,IAAa,UACfkjB,GAAiB3oB,EAAO,EAAGrG,KAAKgwB,aAAa,CAAE5pB,KAAAA,CAAAA,CAAAA,CAAAA,EAC/C4oB,GAAiBxoB,EAAK,EAAGxG,KAAKg0B,mBAAmB,CAAE5tB,KAAAA,EAAMC,MAAAA,CAAAA,CAAAA,CAAAA,IAEzDA,EAAQ4oB,GAAoB5oB,EAAO,EAAGrG,KAAKgwB,aAAa,CAAE5pB,KAAAA,CAAAA,CAAAA,CAAAA,EAC1DI,EAAMyoB,GAAoBzoB,EAAK,EAAGxG,KAAKg0B,mBAAmB,CAAE5tB,KAAAA,EAAMC,MAAAA,CAAAA,CAAAA,CAAAA,GAEhEC,IAFgED,OAGlEC,EAAYtG,KAAK84B,aAAa1yB,EAAMC,CAAAA,UAERrG,KAAK84B,aAAa1yB,EAAMC,CAAAA,IACxBC,EAC1B,MAAM,IAAI/F,WAAW,aAAa+F,CAAAA,gCAAyCD,CAAAA,mBAAwBD,CAAAA,EAAAA,EAIzG,OAAO0c,GAAAC,GAAA,GAAKnR,GAAL,CAAmBpL,IAAAA,EAAKH,MAAAA,EAAOC,UAAAA,EAAWF,KAAAA,CAAAA,EAAAA,CAAAA,EASxC6yB,GAAf,cAAyClH,EAAAA,CAAzCjyB,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EAEEE,KAAY6zB,aAAG,QAmBf7zB,KAAAk5B,sBAAwB,IAAM,GAAK,GACnCl5B,KAAiBm5B,kBAAG,QAAA,CAnBpB1I,WAAW7e,EAAgC2f,EAAAA,CACzC,IAAM6H,EAAsB,CAAEhzB,KAAMwL,EAAaxL,KAAMC,MAAO,EAAGC,UAAW,MAAOE,IAAK,CAAA,EAClF6yB,EAA0B,CAAEjzB,KAAMwL,EAAaxL,KAAO,EAAGC,MAAO,EAAGC,UAAW,MAAOE,IAAK,CAAA,EAEhG,OADexG,KAAKo2B,kBAAkBgD,EAAqBC,EAAyB9H,CAAAA,IAClE,GADkEA,CAGtFvB,cAAAA,CACE,MAAO,GAAA,CAET2E,oBAAAA,CACE,MAAO,GAAA,CAETX,oBAAAA,CACE,MAAO,GAAA,CAET6D,+BAAAA,CACE,MAAO,GAAA,CAITvD,gBAAgB1iB,EAAAA,CACd,GAAA,CAAMxL,KAAEA,CAAAA,EAASpG,KAAKuzB,mBAAmB3hB,CAAAA,EACzC,MAAO,CAAExL,KAAM/H,KAAKqH,MAAOU,EAAOpG,KAAKk5B,sBAAyBl5B,KAAKm5B,iBAAAA,EAAqB,IAAK9yB,MAAO,EAAGG,IAAK,CAAA,CAAA,CAAA,EAO5G8yB,GAAN,cAA4BL,EAAAA,CAA5Bn5B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,SAAA,CAAA,EAEDo9B,GAAN,cAAoCN,EAAAA,CAApCn5B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,kBAAA,CAAA,EAEDq9B,GAAN,cAAgCP,EAAAA,CAAhCn5B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,cAAA,CAAA,EAEDs9B,GAAN,cAAiCR,EAAAA,CAAjCn5B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,eAAA,CAAA,EAEDu9B,GAAN,cAAgCT,EAAAA,CAAhCn5B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,cAAA,CAAA,EAEDw9B,GAAN,cAA8BV,EAAAA,CAA9Bn5B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,UAAA,CAAA,EAGDy9B,GAAN,cAA4B7H,EAAAA,CAA5BjyB,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,UACL6D,KAAY6zB,aAAG,OAAA,CACfpD,WAAW7e,EAAgC2f,EAAAA,CAEzC,OAAOvxB,KAAKwwB,YAAY,CAAEpqB,KAAMwL,EAAaxL,KAAMC,MAAO,GAAIG,IAAK,CAAA,EAAK+qB,CAAAA,IAAW,EAAXA,CAE1EvB,cAAAA,CACE,MAAO,GAAA,CAET2E,mBAAmB/iB,EAAAA,CACjB,GAAA,CAAMvL,MAAEA,CAAAA,EAAUuL,EAClB,OAAIvL,IAAU,GAAW,GAClBA,GAAS,EAAI,GAAK,EAAA,CAE3B2tB,mBAAmBpiB,EAAAA,CACjB,GAAA,CAAMvL,MAAEA,CAAAA,EAAUuL,EAClB,OAAIvL,IAAU,GAAW,GAClBA,GAAS,EAAI,GAAK,EAAA,CAE3BwxB,8BAA8BvxB,EAAAA,CAE5B,OADcooB,GAA2BpoB,CAAAA,GACzB,EAAI,GAAK,EAAA,CAE3BguB,gBAAgB1iB,EAAAA,CACd,GAAA,CAAMxL,KAAEA,CAAAA,EAASpG,KAAKuzB,mBAAmB3hB,CAAAA,EACzC,MAAO,CAAExL,KAAMA,EAAO,IAAKC,MAAO,EAAGG,IAAK,CAAA,CAAA,CAAA,EAkBxCqzB,GAAN,cAA2B9H,EAAAA,CAA3BjyB,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,SACL6D,KAAY6zB,aAAG,QA2Bf7zB,KAAA2M,OAA0B,CACxB,EAAG,CAAEtP,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,GAAIqoB,KAAM,CAAExxB,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,EAAA,CAAA,EACvE,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,EAAA,EAChC,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,EAAA,EAChC,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,EAAA,EAChC,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,EAAA,EAChC,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,EAAA,EAChC,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGG,IAAK,EAAA,EAChC,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,GAAIG,IAAK,EAAA,EACjC,EAAG,CAAEnJ,OAAQ,GAAIgJ,MAAO,GAAIG,IAAK,EAAA,EACjC,GAAI,CAAEnJ,OAAQ,GAAIgJ,MAAO,GAAIG,IAAK,EAAA,EAClC,GAAI,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGyzB,SAAAA,GAAgBtzB,IAAK,EAAA,EACjD,GAAI,CAAEnJ,OAAQ,GAAIgJ,MAAO,EAAGyzB,SAAAA,GAAgBtzB,IAAK,EAAA,CAAA,EAwBnDxG,KAAA+5B,mBACE,IAAIz1B,KAAK,mBAAA,EAAqB01B,mBAAmB,oBAAqB,CAAEhzB,SAAU,KAAA,CAAA,IAAa,gBAAb,CA/DpFypB,WAAW7e,EAAAA,CAMT,OAAOqoB,GAAoBroB,EAAaxL,KAAO,EAAA,CAAA,CAEjD4pB,cAAAA,CACE,MAAO,GAAA,CAET2E,mBAAmB/iB,EAAAA,CACjB,OAAO5R,KAAKk6B,aAAatoB,CAAAA,EAAcvU,MAAAA,CAEzC22B,mBAAmBpiB,EAAAA,CACjB,OAAO5R,KAAKk6B,aAAatoB,CAAAA,EAAcvU,MAAAA,CAEzCw6B,8BAA8BvxB,EAAAA,OAC5B,IAAMD,EAAQqoB,GAA2BpoB,CAAAA,EACrCyyB,EAAY/4B,KAAK2M,OAAOtG,CAAAA,EAE5B,OADA0yB,GAAYA,EAAAA,EAAUlK,OAAVkK,KAAAA,EAAkBA,EACvBA,EAAU17B,MAAAA,CAmBnB68B,aAAatoB,EAAAA,CACX,GAAA,CAAMvL,MAAEA,CAAAA,EAAUuL,EACdmnB,EAAY/4B,KAAK2M,OAAOtG,CAAAA,EAC5B,GAAI0yB,IAAJ,OAA6B,MAAM,IAAIx4B,WAAW,kBAAkB8F,CAAAA,EAAAA,EAEpE,OADIrG,KAAKywB,WAAW7e,CAAAA,GAAiBmnB,EAAUlK,OAAMkK,EAAYA,EAAUlK,MACpEkK,CAAAA,CAETzE,gBAAgBX,EAAAA,CAGd,IAAM/hB,EAAe5R,KAAKuzB,mBAAmBI,CAAAA,EACvCoF,EAAY/4B,KAAKk6B,aAAatoB,CAAAA,EAKpC,OADgB0d,GAHA1d,EAAaxL,KAAO,IAAM2yB,EAAUe,SAAW,EAAI,GAClDf,EAAU1yB,MACZ0yB,EAAUvyB,IACqCoL,EAAapL,IAAM,CAAA,CAAA,CAS1E8sB,aAAa3lB,EAAAA,CACpB,GAAI3N,KAAK+5B,oBAAsBpsB,EAAQvH,KAAO,EAC5C,MAAM,IAAI7F,WACR,aAAaP,KAAK7D,EAAAA,yGAAAA,CAAAA,CAAAA,EAsN1B,SAAS89B,GAAoB7zB,EAAAA,CAC3B,OAAOA,EAAO,GAAM,IAAMA,EAAO,KAAQ,GAAKA,EAAO,KAAQ,EAC/D,CAGA,IAAe+zB,GAAf,cAAqDpI,EAAAA,CAInDjyB,YAAY3D,EAAuBi+B,EAAAA,CACjCC,MAAAA,EAIFr6B,KAAY6zB,aAAG,QAHb7zB,KAAK7D,GAAKA,EACV6D,KAAKo6B,SAAWA,CAAAA,CAGlB3J,WAAW7e,EAAAA,CACT,GAAA,CAAMxL,KAAEA,CAAAA,EAASpG,KAAKs0B,gBAAgB,CAAEjuB,MAAO,EAAGG,IAAK,EAAGJ,KAAMwL,EAAaxL,IAAAA,CAAAA,EAC7E,OAAO6zB,GAAoB7zB,CAAAA,CAAAA,CAE7B4pB,cAAAA,CACE,MAAO,GAAA,CAET2E,mBAAmB/iB,EAAAA,CACjB,GAAA,CAAMvL,MAAEA,CAAAA,EAAUuL,EAClB,OAAIvL,IAAU,EAAUrG,KAAKywB,WAAW7e,CAAAA,EAAgB,GAAK,GACtD,CAAC,EAAG,EAAG,EAAG,EAAA,EAAIrL,QAAQF,CAAAA,GAAU,EAAI,GAAK,EAAA,CAElD2tB,mBAAmBpiB,EAAAA,CACjB,OAAO5R,KAAK20B,mBAAmB/iB,CAAAA,CAAAA,CAEjCimB,8BAA8BvxB,EAAAA,CAE5B,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAA,EADtCooB,GAA2BpoB,CAAAA,EACuB,CAAA,CAAA,CAElEguB,gBAAgBX,EAAAA,CACd,IAAM/hB,EAAe5R,KAAKuzB,mBAAmBI,CAAAA,EAC7C,OAAOxE,GACLvd,EAAaxL,KAAOpG,KAAKo6B,SAASh0B,KAClCwL,EAAavL,MAAQrG,KAAKo6B,SAAS/zB,MACnCuL,EAAapL,IAAMxG,KAAKo6B,SAAS5zB,IACjC,WAAA,CAAA,CAAA,EAMS8zB,GAAf,cAA2CvI,EAAAA,CAIzCjyB,YAAY3D,EAAuBo+B,EAAAA,CACjCF,MAAAA,EAMOr6B,KAAMiyB,OAAAA,GACfjyB,KAAY6zB,aAAG,QANb7zB,KAAK7D,GAAKA,EACV,GAAA,CAAM61B,KAAEA,EAAIwI,UAAEA,CAAAA,EA5IlB,SAAoBC,EAAAA,CAClB,IAiBID,EAjBAxI,EAA2ByI,EAC/B,GAAIzI,EAAK30B,SAAW,EAClB,MAAM,IAAIkD,WAAW,qCAAA,EAEvB,GAAIyxB,EAAK30B,SAAW,GAAK20B,EAAK,CAAA,EAAG0I,UAC/B,MAAM,IAAIn6B,WAAW,2DAAA,EAEvB,GAAIyxB,EAAK30B,SAAW,GAAXA,CAAiB20B,EAAK,CAAA,EAAG/F,KAChC,MAAM,IAAI1rB,WAAW,sDAAA,EAEvB,GAAIyxB,EAAKza,OAAQhQ,GAAMA,EAAEmzB,WAAa,IAAbA,EAAmBr9B,OAAS,EACnD,MAAM,IAAIkD,WAAW,0DAAA,EAOvByxB,EAAKwB,QAASjsB,GAAAA,CACZ,GAAIA,EAAEozB,UAAAA,CAAcpzB,EAAEqzB,aAAAA,CAAgBrzB,EAAEmzB,UAAY,CAClD,GAAIF,EAAW,MAAM,IAAIj6B,WAAW,oDAAA,EACpCi6B,EAAYjzB,EACZA,EAAEqzB,YAAc,CAAEx0B,KAAMmB,EAAEszB,YAAc,EAAI,CAAA,CAC7C,SAAM,CAAKtzB,EAAE0kB,KACZ,MAAM,IAAI1rB,WAAW,iDAAA,CACtB,CAAA,EAOHyxB,EAAOA,EAAKza,OAAQhQ,GAAMA,EAAE0kB,IAAAA,EAE5B+F,EAAKwB,QAASjsB,GAAAA,CAIZ,GAAA,CAAMmzB,UAAEA,CAAAA,EAAcnzB,EACtB,GAAImzB,EAAW,CACb,IAAMI,EAAc9I,EAAKmB,KAAMjtB,GAAQA,EAAI+lB,OAASyO,CAAAA,EACpD,GAAII,IAAJ,OACE,MAAM,IAAIv6B,WAAW,8CAA8Cm6B,CAAAA,EAAAA,EAErEnzB,EAAEmzB,UAAYI,EACdvzB,EAAEqzB,YAAcE,EAAYF,YAC5BrzB,EAAE6yB,SAAWU,EAAYV,QAC1B,CAMI7yB,EAAEqzB,YAAoBv0B,QAN1B,SAMgDkB,EAAEqzB,YAAoBv0B,MAAQ,GAC1EkB,EAAEqzB,YAAoBp0B,MADoD,SAChCe,EAAEqzB,YAAoBp0B,IAAM,EAAC,CAAA,EAM9EwrB,EAAK5f,KAAK,CAAC2oB,EAAIC,IAAAA,CACb,GAAID,EAAGL,UAAW,MAAO,GACzB,GAAIM,EAAGN,UAAW,MAAA,GAClB,GAAA,CAAKK,EAAGX,UAAAA,CAAaY,EAAGZ,SAAU,MAAM,IAAI75B,WAAW,qCAAA,EACvD,OAAOy6B,EAAGZ,SAASh0B,KAAO20B,EAAGX,SAASh0B,IAAI,CAAA,EAK5C,IAAM60B,EAAkBjJ,EAAKA,EAAK30B,OAAS,CAAA,EAAGq9B,UAC9C,GAAIO,GACEA,IAAoBjJ,EAAKA,EAAK30B,OAAS,CAAA,EACzC,MAAM,IAAIkD,WAAW,4CAAA,EAWzB,OAJAyxB,EAAKwB,QAAQ,CAACjsB,EAAGnK,IAAAA,CACdmK,EAAU6rB,YAAc,OAAMpB,EAAK30B,OAAS,EAAID,EAAG,CAAA,EAG/C,CAAE40B,KAAMA,EAAewI,UAAYA,GAAaxI,EAAK,CAAA,CAAA,CAC9D,EAuD2CuI,CAAAA,EACvCv6B,KAAKw6B,UAAYA,EACjBx6B,KAAKgyB,KAAOA,CAAAA,CAIdvB,WAAW7e,EAAAA,CAIT,GAAA,CAAMxL,KAAEA,CAAAA,EAASpG,KAAKs0B,gBAAgB,CAAEjuB,MAAO,EAAGG,IAAK,EAAGJ,KAAMwL,EAAaxL,IAAAA,CAAAA,EAC7E,OAAO6zB,GAAoB7zB,CAAAA,CAAAA,CAE7B4pB,cAAAA,CACE,MAAO,GAAA,CAET2E,mBAAmB/iB,EAAAA,CACjB,GAAA,CAAMvL,MAAEA,CAAAA,EAAUuL,EAClB,OAAIvL,IAAU,EAAUrG,KAAKywB,WAAW7e,CAAAA,EAAgB,GAAK,GACtD,CAAC,EAAG,EAAG,EAAG,EAAA,EAAIrL,QAAQF,CAAAA,GAAU,EAAI,GAAK,EAAA,CAElD2tB,mBAAmBpiB,EAAAA,CACjB,OAAO5R,KAAK20B,mBAAmB/iB,CAAAA,CAAAA,CAEjCimB,8BAA8BvxB,EAAAA,CAE5B,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAA,EADtCooB,GAA2BpoB,CAAAA,EACuB,CAAA,CAAA,CAGlE40B,gBACEtpB,EAAAA,CAEA,IAAMupB,EAAa,CAAC71B,EAAkCvN,EAAoCqjC,IAAAA,CACxF,IAAMC,EAAezpB,EAAatM,CAAAA,EAClC,GAAI+1B,GAAgB,MAAQA,GAAgBtjC,GAAAA,EAAYqjC,GAAS,CAAA,GAAkB/oB,SAASgpB,CAAAA,EAAe,CAEzG,IAAMC,EAAgBF,GAAAA,YAAAA,EAAQ,GAE9B,MAAM,IAAI76B,WAAW,SAAS+E,CAAAA,IAAY+1B,CAAAA,mCADzBC,EAAgB,GAAGvjC,CAAAA,iBAAsBujC,CAAAA,IAAmBvjC,CAAAA,EAAAA,CAE9E,CAAA,EAEGwjC,EAAen1B,GAAAA,CACnB,IAAID,EACEq1B,EAAuB1Y,GAAAC,GAAA,GAAKnR,GAAL,CAAmBxL,KAAAA,CAAAA,GAC1Cq1B,EAAcz7B,KAAKgyB,KAAKmB,KAAK,CAAC5rB,EAAGnK,IAAAA,CACrC,GAAIA,IAAM4C,KAAKgyB,KAAK30B,OAAS,EAAG,CAC9B,GAAIkK,EAAEmzB,UAAW,CAGf,GAAIt0B,EAAO,EAAG,MAAM,IAAI7F,WAAW,eAAe6F,CAAAA,uBAA2BmB,EAAE0kB,IAAAA,EAAAA,EAE/E,OADA9lB,EAAUoB,EAAEqzB,YAAYx0B,KAAOA,EAAAA,EAEhC,CAID,OADAD,EAAUC,EAAOmB,EAAEqzB,YAAYx0B,MAAQmB,EAAEszB,YAAc,EAAI,GAAA,EAE5D,CAED,OADmB76B,KAAK+0B,qBAAqByG,EAAsBj0B,EAAEqzB,WAAAA,GACnD,IAChBz0B,EAAUC,EAAOmB,EAAEqzB,YAAYx0B,MAAQmB,EAAEszB,YAAc,EAAI,GAAA,GAGjD,CAAA,EAEd,GAAA,CAAKY,EAAa,MAAM,IAAIl7B,WAAW,QAAQ6F,CAAAA,6BAAAA,EAC/C,MAAO,CAAED,QAASA,EAA8BD,IAAKu1B,EAAYxP,KAAMyP,SAAUD,EAAYL,KAAAA,CAAO,EAGtG,CAAIh1B,KAAEA,EAAID,QAAEA,EAAOD,IAAEA,CAAAA,EAAQ0L,EAC7B,GAAIxL,GAAQ,KAAM,CAChB,IAAMu1B,EAAYJ,EAAYn1B,CAAAA,GAAAA,CAC3BD,QAAAA,EAASD,IAAAA,CAAAA,EAAQy1B,GACpBR,EAAW,MAAOj1B,EAAKy1B,GAAAA,YAAAA,EAAWD,QAAAA,EAClCP,EAAW,UAAWh1B,CAAAA,CACvB,KAAM,CAAA,GAAIA,GAAW,KAkBpB,MAAM,IAAI5F,WAAW,6CAAA,EAlBK,CAC1B,GAAI2F,IAAJ,OAAuB,MAAM,IAAI3F,WAAW,2CAAA,EAG5C,IAAMk7B,EAAcz7B,KAAKgyB,KAAKmB,KAAK,CAAA,CAAGlH,KAAAA,EAAMmP,MAAAA,EAAQ,CAAA,CAAA,IAASnP,IAAS/lB,GAAOk1B,EAAM/oB,SAASnM,CAAAA,CAAAA,EAC5F,GAAA,CAAKu1B,EAAa,MAAM,IAAIl7B,WAAW,OAAO2F,CAAAA,cAAiBC,CAAAA,8BAAAA,EAE7DC,EADEq1B,EAAYf,UACPe,EAAYb,YAAYx0B,KAAOD,EAE/BA,EAAUs1B,EAAYb,YAAYx0B,MAAQq1B,EAAYZ,YAAc,EAAI,GAEjFM,EAAW,OAAQ/0B,CAAAA,EAAAA,CAKhBD,QAAAA,EAASD,IAAAA,CAAAA,EAAQq1B,EAAYn1B,CAAAA,CACjC,CAEA,CACD,OAAO0c,GAAAC,GAAA,GAAKnR,GAAL,CAAmBxL,KAAAA,EAAMD,QAAAA,EAASD,IAAAA,CAAAA,EAAAA,CAElCqtB,mBACPI,EACApC,EACAzlB,EAAqB,YAAA,CAErB,IAAI8F,EAAe+hB,EAEnB,CAAMttB,MAAEA,EAAKC,UAAEA,CAAAA,EAAcsL,EAI7B,OAHIvL,IAGJ,SAHyBuL,EAAekR,GAAAC,GAAA,GAAKnR,GAAL,CAAmBvL,MAAOqoB,GAA2BpoB,CAAAA,CAAAA,IAC7FtG,KAAK0zB,qBAAqB9hB,CAAAA,EAC1BA,EAAe5R,KAAKk7B,gBAAgBtpB,CAAAA,EAC7ByoB,MAAM9G,mBAAmB3hB,EAAc2f,EAAOzlB,CAAAA,CAAAA,CAEvDwoB,gBAAgBX,EAAAA,CACd,IAAM/hB,EAAe5R,KAAKuzB,mBAAmBI,CAAAA,EAAAA,CACvCvtB,KAAEA,EAAIC,MAAEA,EAAKG,IAAEA,CAAAA,EAAQoL,EAAAA,CACvB4oB,UAAEA,CAAAA,EAAcx6B,KAEtB,OAAOmvB,GADiB/oB,EAAOo0B,EAAUJ,SAASh0B,MAAQo0B,EAAUK,YAAc,EAAI,GAC3Cx0B,EAAOG,EAAK,WAAA,CAAA,CAAA,EAW5Co1B,GAAf,cAAyDtB,EAAAA,CACvDx6B,YAAY3D,EAAuBo+B,EAAAA,CACjCF,MAAMl+B,EAAIo+B,CAAAA,CAAAA,CAEH9H,kBAAkB9kB,EAAAA,CAGzB,GAAA,CAAQvH,KAAMqrB,EAAOprB,MAAEA,EAAKG,IAAEA,CAAAA,EAAQmH,EAChCrH,EAAYsoB,GAAevoB,CAAAA,EAC3BD,EAAOqrB,EAAUzxB,KAAKw6B,UAAUJ,SAASh0B,KAAO,EACtD,OAAOpG,KAAKk7B,gBAAgB,CAAE90B,KAAAA,EAAMC,MAAAA,EAAOC,UAAAA,EAAWE,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAGpDq1B,GAAc,CAClBpL,WAAW7e,EAAAA,CAST,GAAA,CAAMxL,KAAEA,CAAAA,EAASwL,EACjB,OAAQxL,EAAO,GAAK,GAAM,CAC3B,EACD4pB,aAAY,IACH,GAET2E,mBAAmB/iB,EAAAA,CACjB,GAAA,CAAMvL,MAAEA,CAAAA,EAAUuL,EAElB,OAAIvL,IAAU,GAAWrG,KAAKywB,WAAW7e,CAAAA,EAAgB,EAAI,EACtD,EACR,EACDoiB,mBAAmBpiB,EAAAA,CACjB,OAAO5R,KAAK20B,mBAAmB/iB,CAAAA,CAChC,EACDimB,8BAA8BvxB,GACrBA,IAAc,MAAQ,EAAI,EAAA,EAGtBw1B,GAAf,cAAoD3B,EAAAA,CAClDr6B,YAAY3D,EAAuBi+B,EAAAA,CACjCC,MAAMl+B,EAAIi+B,CAAAA,EAEHp6B,KAAAywB,WAAaoL,GAAYpL,WACzBzwB,KAAAgwB,aAAe6L,GAAY7L,aAC3BhwB,KAAA20B,mBAAqBkH,GAAYlH,mBACjC30B,KAAAg0B,mBAAqB6H,GAAY7H,mBACjCh0B,KAAA63B,8BAAgCgE,GAAYhE,6BAAAA,CAAAA,EAExCkE,GAAf,cAA0CzB,EAAAA,CACxCx6B,YAAY3D,EAAuBo+B,EAAAA,CACjCF,MAAMl+B,EAAIo+B,CAAAA,EAEHv6B,KAAAywB,WAAaoL,GAAYpL,WACzBzwB,KAAAgwB,aAAe6L,GAAY7L,aAC3BhwB,KAAA20B,mBAAqBkH,GAAYlH,mBACjC30B,KAAAg0B,mBAAqB6H,GAAY7H,mBACjCh0B,KAAA63B,8BAAgCgE,GAAYhE,6BAAAA,CAAAA,EAUjDmE,GAAN,cAA4BF,EAAAA,CAC1Bh8B,aAAAA,CACEu6B,MAAM,UAAW,CAAEj0B,KAAAA,MAAaC,MAAO,EAAGG,IAAK,EAAA,CAAA,CAAA,CAAA,EAG7Cy1B,GAAN,cAA2BF,EAAAA,CACzBj8B,aAAAA,CACEu6B,MAAM,SAAU,CACd,CAAEpO,KAAM,SAAUmO,SAAU,CAAEh0B,KAAM,IAAKC,MAAO,EAAGG,IAAK,EAAA,CAAA,EACxD,CAAEylB,KAAM,iBAAkByO,UAAW,QAAA,CAAA,CAAA,CAAA,CAAA,EAOrCwB,GAAN,cAA6BH,EAAAA,CAC3Bj8B,aAAAA,CACEu6B,MAAM,WAAY,CAChB,CAAEpO,KAAM,UAAWmP,MAAO,CAAC,sBAAuB,OAAA,EAAUhB,SAAU,CAAEh0B,KAAAA,MAAaC,MAAO,EAAGG,IAAK,EAAA,CAAA,EACpG,CAAEylB,KAAM,WAAYmP,MAAO,CAAC,OAAA,EAAUhB,SAAU,CAAEh0B,KAAM,EAAGC,MAAO,EAAGG,IAAK,EAAA,EAAMo0B,YAAa,CAAEx0B,KAAM,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAKrG+1B,GAAN,cAAwBP,EAAAA,CACtB97B,aAAAA,CACEu6B,MAAM,MAAO,CACX,CAAEpO,KAAM,MAAOmP,MAAO,CAAC,QAAA,EAAWhB,SAAU,CAAEh0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,CAAA,EACzE,CAAEylB,KAAM,cAAemP,MAAO,CAAC,YAAA,EAAeV,UAAW,KAAA,CAAA,CAAA,CAAA,CAAA,EAKzD0B,GAAN,cAA6BjC,EAAAA,CAC3Br6B,aAAAA,CACEu6B,MAAM,WAAY,CAAEj0B,KAAAA,KAAYC,MAAO,EAAGG,IAAK,CAAA,CAAA,CAAA,CAAA,EAI7C61B,GAAN,cAA4BT,EAAAA,CAC1B97B,aAAAA,CACEu6B,MAAM,UAAW,CACf,CAAEpO,KAAM,UAAWmP,MAAO,CAAC,KAAM,IAAA,EAAOhB,SAAU,CAAEh0B,KAAM,EAAGC,MAAO,EAAGG,IAAK,CAAA,CAAA,EAC5E,CAAEylB,KAAM,kBAAmBmP,MAAO,CAAC,KAAM,KAAA,EAAQV,UAAW,SAAA,CAAA,CAAA,CAAA,CAGvDrH,cAAgDzhB,EAAAA,CACvD,GAAA,CAAI1L,IAAEA,EAAGC,QAAEA,CAAAA,EAAYyL,EAOvB,OAFI1L,IAAQ,MAAKA,EAAM,mBACnBA,IAAQ,MAAKA,EAAM,WAChB,CAAEA,IAAAA,EAAKC,QAAAA,CAAAA,CAAAA,CAEPunB,mBAAAA,CACP,MAAO,EAAA,CAEAE,2BAAAA,CACP,MAAO,EAAA,CAAA,EAiCL0O,GAAN,cAA6BV,EAAAA,CAC3B97B,aAAAA,CACEu6B,MAAM,WAAY,CAGhB,CAAEpO,KAAM,QAASmO,SAAU,CAAEh0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,EAAKo0B,YAAa,CAAEx0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,CAAA,EACvG,CAAEylB,KAAM,SAAUmO,SAAU,CAAEh0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,EAAKo0B,YAAa,CAAEx0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,CAAA,EACxG,CAAEylB,KAAM,QAASmO,SAAU,CAAEh0B,KAAM,KAAMC,MAAO,GAAIG,IAAK,EAAA,EAAMo0B,YAAa,CAAEx0B,KAAM,KAAMC,MAAO,GAAIG,IAAK,EAAA,CAAA,EAC1G,CAAEylB,KAAM,SAAUmO,SAAU,CAAEh0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,EAAA,EAAMo0B,YAAa,CAAEx0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,EAAA,CAAA,EACzG,CAAEylB,KAAM,QAASmO,SAAU,CAAEh0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,EAAKo0B,YAAa,CAAEx0B,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,CAAA,EACvG,CAAEylB,KAAM,WAAYmP,MAAO,CAAC,WAAY,UAAW,KAAM,IAAA,EAAOhB,SAAU,CAAEh0B,KAAM,EAAGC,MAAO,EAAGG,IAAK,CAAA,CAAA,EACpG,CAAEylB,KAAM,mBAAoBmP,MAAO,CAAC,mBAAoB,kBAAmB,KAAM,KAAA,EAAQV,UAAW,UAAA,CAAA,CAAA,EAI/F16B,KAAgBkyB,iBAAAA,EAAG,CAEnBmB,cAAgDzhB,EAAiBjE,EAAAA,CACxE,GAAA,CAAMzH,IAAEA,EAAGC,QAAEA,CAAAA,EAAYyL,EAAAA,CACjBxL,KAAMqrB,CAAAA,EAAY9jB,EAC1B,OAAI3N,KAAKgyB,KAAKmB,KAAM5rB,GAAMA,EAAE0kB,OAAS/lB,CAAAA,EAAa,CAAEA,IAAAA,EAAKC,QAAAA,CAAAA,EAEvDsrB,EAAU,EAAI,CAAEvrB,IAAK,mBAAoBC,QAAS,EAAIsrB,CAAAA,EAAY,CAAEvrB,IAAK,WAAYC,QAASsrB,CAAAA,CAAAA,CAAAA,EAYrF8K,GAAf,cAAyCxK,EAAAA,CAAzCjyB,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EAEEE,KAAY6zB,aAAG,WAAA,CACfpD,WAAW7e,EAAgC2f,EAAAA,CACzC,IAAM5kB,EAAS3M,KAAKw8B,aAAa5qB,EAAaxL,KAAMmrB,CAAAA,EACpD,OAAO31B,OAAOq1B,QAAQtkB,CAAAA,EAAQtP,SAAW,EAAXA,CAEhC2yB,aAAape,EAAgC2f,EAAAA,CAC3C,OAAOvxB,KAAKywB,WAAW7e,EAAc2f,CAAAA,EAAS,GAAK,EAAA,CAErDoD,oBAAAA,CACE,MAAO,GAAA,CAETX,oBAAAA,CACE,MAAO,GAAA,CAET6D,8BAA8BvxB,EAAAA,CAG5B,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,MAAA,EAAQ+L,SAAS/L,CAAAA,EAAa,GAAK,EAAA,CAEpE8wB,wBAAwB9wB,EAAmBE,EAAAA,OAKlD,IAcMkG,GAd6CtR,EAAA,CACjDqhC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,EACbC,KAAM,CAAC,KAAM,IAAA,CAAA,EAEQ92B,CAAAA,IAd4B,KAAAlL,EAcd,CAAC,KAAM,IAAA,EAC5C,OAAOoL,EAAM,GAAKkG,EAAM,CAAA,EAAKA,EAAM,CAAA,CAAA,CAErC8vB,aAAa9E,EAAsBnG,EAAAA,CACjC,GAAImG,IAAJ,OACE,MAAM,IAAIr7B,UAAU,cAAA,EAEtB,IAAMsB,EAAM+0B,KAAKC,UAAU,CAAEC,KAAM,eAAgB8E,aAAAA,EAAcv7B,GAAI6D,KAAK7D,EAAAA,CAAAA,EACpE02B,EAAStB,EAAMh2B,IAAIoC,CAAAA,EACzB,GAAIk1B,EAAQ,OAAOA,EACnB,IAAMP,EAAiBtyB,KAAKmyB,aAAAA,EACtBkL,EAAkB,CAAC5L,EAAiB6L,IAAAA,CACxC,IAAMC,EAAgB/L,GAAmB,CAAEC,QAAAA,EAASC,SAAU,EAAGC,OAAQ,CAAA,CAAA,EACnE9S,EAAa,IAAIva,KAAKi5B,CAAAA,EAE5B1e,EAAW2e,WAAWF,EAAe,CAAA,EACrC,IAAMG,EAAenL,EAAeE,cAAc3T,CAAAA,EAI5C6e,EAAsBD,EAAatK,KAAMwK,GAAOA,EAAGhsB,OAAS,OAATA,EAAmB5Z,MAEtE6lC,GAAAA,CAAeH,EAAatK,KAAMwK,GAAOA,EAAGhsB,OAAS,KAATA,EAAiB5Z,MAC7D8lC,GAA2BJ,EAAatK,KAAMwK,GAAQA,EAAGhsB,OAAoB,aAApBA,EAC3DmsB,EACJ,GAAID,KAAJ,OAKE,MAAM,IAAIt9B,WACR,0DAA0DP,KAAK7D,EAAAA,6CAAAA,EAGnE,OARE2hC,EAAAA,CAAwBD,GAAyB9lC,MAQ5C,CAAE2lC,oBAAAA,EAAqBE,YAAAA,GAAaE,qBAAAA,CAAAA,CAAsB,EAK/DC,EAAe,GAAA,CACfL,oBAAEA,EAAmBE,YAAEA,EAAWE,qBAAEA,CAAAA,EAAyBT,EAAgB3F,EAAcqG,CAAAA,EAI3FL,IAAwB,MAC1BK,GAAgB,GAAA,CACbL,oBAAAA,EAAqBE,YAAAA,CAAAA,EAAgBP,EAAgB3F,EAAcqG,CAAAA,GAKxEA,GAAgBH,EAAc,EAC9B,IAAMv7B,EAAS,CAAA,EAEX27B,EACAC,EAFAC,EAAa,EAGbC,EAAAA,GACJ,GAAA,CACKT,oBAAAA,EAAqBE,YAAAA,EAAaE,qBAAAA,CAAAA,EAAyBT,EAAgB3F,EAAcqG,CAAAA,GACxFC,IACF37B,EAAO47B,CAAAA,EAA0BzN,YAAcwN,EAAiB,GAAKJ,GAEnEE,IAAyBpG,EAC3ByG,EAAAA,IAEA97B,EAAOq7B,CAAAA,EAAuB,CAAEQ,WAAYA,GAAAA,EAI5CH,GAAgB,IAElBC,EAAiBJ,EACjBK,EAAiBP,QAAAA,CACTS,GAIV,OAHA97B,EAAO47B,CAAAA,EAAgBzN,YAAcwN,EAAiB,GAAKJ,EAE3DrM,EAAM51B,IAAIgC,EAAK0E,CAAAA,EACRA,CAAAA,CAETiyB,gBAAgB1iB,EAAAA,CACd,GAAA,CAAMxL,KAAEA,EAAIC,MAAEA,CAAAA,EAAUuL,EACxB,MAAO,CAAExL,KAAAA,EAAMC,MAAOA,GAAS,GAAK,GAAKA,EAAQ,EAAGG,IAAK,CAAA,CAAA,CAElD+sB,mBACP3hB,EACA2f,EACAzlB,EAAqB,YACrB8nB,EAAAA,GAAiB,CAEjB,GAAA,CAAIxtB,KAAEA,EAAIC,MAAEA,EAAK0sB,WAAEA,EAAUvsB,IAAEA,EAAGF,UAAEA,CAAAA,EAAcsL,EAClD,GAAIxL,IAAJ,OAAwB,MAAM,IAAI/J,UAAU,wBAAA,EAC5C,GAAIu3B,EAAgB,CAIlB,GAAIb,GAAcA,IAAe,MAAO,MAAM,IAAIxyB,WAAW,iCAAiCwyB,CAAAA,EAAAA,EAC9F,IAAMzsB,EAAYsoB,GAAevoB,EAAiB0sB,IAAjB1sB,MAAiB0sB,EAC5CqL,EAAc,GAAG/3B,CAAAA,GAAQ0sB,GAAc,EAAA,GAEvCgG,EADS/4B,KAAKw8B,aAAap2B,EAAMmrB,CAAAA,EACd6M,CAAAA,EACzB,GAAIrF,IAAJ,OAA6B,MAAM,IAAIx4B,WAAW,mBAAmB69B,CAAAA,oBAA+Bh4B,CAAAA,EAAAA,EAEpG,OADAC,EAAQ0yB,EAAUmF,WACX,CAAE93B,KAAAA,EAAMC,MAAAA,EAAOG,IAAKA,EAAeF,UAAAA,CAAAA,CAC3C,CAIC,GADAtG,KAAK0zB,qBAAqB9hB,CAAAA,EACtBvL,IADsBuL,OACD,CAEvB,IAAMjF,EAAS3M,KAAKw8B,aAAap2B,EAAMmrB,CAAAA,EACnCrC,EAAa5oB,EAAUqV,QAAQ,SAAW0iB,GAAQA,IAAO,IAAM,MAAQ,EAAA,EACvEnP,EAAW,CAAA,IAAO,MAAKA,EAAaA,EAAWrwB,MAAM,CAAA,GACzD,IAAIk6B,EAAYpsB,EAAOuiB,CAAAA,EAKvB,GAJA7oB,EAAQ0yB,GAAaA,EAAUmF,WAI3B73B,IAJ2B63B,QAIJ53B,EAAU0yB,SAAS,GAAA,GAAQ1yB,GAAa,QAAUwF,IAAa,YAAa,CACrG,IAAMwyB,EAAAA,CAAah4B,EAAUqV,QAAQ,WAAY,EAAA,EACjDod,EAAYpsB,EAAO2xB,CAAAA,EACfvF,IACF1yB,EAAQ0yB,EAAUmF,WAClB53B,EAAYsoB,GAAe0P,CAAAA,EAE9B,CACD,GAAIj4B,IAAJ,OACE,MAAM,IAAI9F,WAAW,mBAAmB+F,CAAAA,oBAA6BF,CAAAA,EAAAA,CAExE,SAAUE,IAAJ,OAA6B,CAClC,IAAMqG,EAAS3M,KAAKw8B,aAAap2B,EAAMmrB,CAAAA,EACjCgN,EAAe3iC,OAAOq1B,QAAQtkB,CAAAA,EAC9BmnB,EAAeyK,EAAalhC,OAC9ByO,IAAa,UACfkjB,GAAiB3oB,EAAO,EAAGytB,CAAAA,EAC3B9E,GAAiBxoB,EAAe,EAAGxG,KAAKg0B,mBAAAA,CAAAA,IAExC3tB,EAAQ4oB,GAAoB5oB,EAAO,EAAGytB,CAAAA,EACtCttB,EAAMyoB,GAAoBzoB,EAAK,EAAGxG,KAAKg0B,mBAAAA,CAAAA,GAEzC,IAAMwK,EAAqBD,EAAapL,KAAMnC,GAAUA,EAAM,CAAA,EAAGkN,aAAe73B,CAAAA,EAChF,GAAIm4B,IAAJ,OACE,MAAM,IAAIj+B,WAAW,iBAAiB8F,CAAAA,oBAAyBD,CAAAA,EAAAA,EAEjEE,EAAYsoB,GAAAA,CACT4P,EAAmB,CAAA,EAAG7iB,QAAQ,MAAO,EAAA,EACtC6iB,EAAmB,CAAA,EAAGj4B,QAAQ,KAAA,IADQ,EACR,CAEjC,KAAM,CAEL,IAAMoG,EAAS3M,KAAKw8B,aAAap2B,EAAMmrB,CAAAA,EACnCrC,EAAa5oB,EAAUqV,QAAQ,SAAW0iB,GAAQA,IAAO,IAAM,MAAQ,EAAA,EACvEnP,EAAW,CAAA,IAAO,MAAKA,EAAaA,EAAWrwB,MAAM,CAAA,GACzD,IAAMk6B,EAAYpsB,EAAOuiB,CAAAA,EACzB,GAAA,CAAK6J,EAAW,MAAM,IAAIx4B,WAAW,uBAAuB+F,CAAAA,oBAA6BF,CAAAA,EAAAA,EACzF,GAAIC,IAAU0yB,EAAUmF,WACtB,MAAM,IAAI39B,WAAW,aAAa+F,CAAAA,gCAAyCD,CAAAA,oBAAyBD,CAAAA,EAAAA,CAEvG,CACD,OAAO0c,GAAAC,GAAA,GAAKnR,GAAL,CAAmBxL,KAAAA,EAAMC,MAAAA,EAAOC,UAAAA,EAAWE,IAAKA,CAAAA,EAAAA,CAAAA,EAKvDi4B,GAAN,cAA4BlC,EAAAA,CAA5Bz8B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,SAAA,CAAA,EAIDuiC,GAAN,cAA0BnC,EAAAA,CAA1Bz8B,aAAAA,CAAAA,MAAAA,GAAAA,SAAAA,EACEE,KAAE7D,GAAG,OAAA,CAAA,EASDwiC,GAAN,KAAMA,CACJ7+B,YAA6B8+B,EAAAA,CAAA5+B,KAAM4+B,OAANA,CAAAA,CAC7BzsB,YAAYxB,EAAAA,CACV,OAAI3Q,KAAK4+B,OAAO3M,QAAUthB,EAAO0B,SAAS,MAAA,EACjC,CAAC,MAAO,SAAA,EAEV,CAAA,CAAA,CAETwG,cAAclI,EAAAA,OACZ,GAAI3Q,KAAK4+B,OAAO/K,eAAiB,YAAa,CAC5C,IAAMtC,EAAQ,IAAIZ,GAElB7B,GAAyBne,EAAAA,OADJ3Q,KAAK4+B,OAAO5O,aAAa,CAAE5pB,MAAMuK,EAAAA,EAAOvK,OAAPuK,KAAAA,EAAe,IAAA,EAAQ4gB,CAAAA,CAAAA,CAE9E,CAAA,CAEHzY,UAAUnI,EAA4B7E,EAAAA,CACpC,IAAMylB,EAAQ,IAAIZ,GACZtuB,EAASrC,KAAK4+B,OAAO3K,kBAAkBtjB,EAAQ7E,EAAUylB,CAAAA,EAE/D,OADAA,EAAMH,UAAU/uB,CAAAA,EACTA,CAAAA,CAET0W,2BAA2BpI,EAAkC7E,EAAAA,CAC3D,IAAMylB,EAAQ,IAAIZ,GACZtuB,EAASrC,KAAK4+B,OAAOvH,mBAAmB1mB,EAAQ7E,EAAUylB,CAAAA,EAGhE,OADAA,EAAMH,UAAU/uB,CAAAA,EACTA,CAAAA,CAETuV,kBACEwX,EAAAA,CAEA,IAAM/sB,EAAS,IAAIqC,IACnB,QAASqT,EAAK,EAAGA,EAAKqX,EAAK/xB,OAAQ0a,IAAM,CACvC,IAAMpa,EAAMyxB,EAAKrX,CAAAA,EAEjB,OADA1V,EAAOpB,IAAItD,CAAAA,EACHA,EAAAA,CACN,IAAK,MACH0E,EAAOpB,IAAI,SAAA,EACXoB,EAAOpB,IAAI,MAAA,EACX,MACF,IAAK,UACHoB,EAAOpB,IAAI,KAAA,EACXoB,EAAOpB,IAAI,MAAA,EACX,MACF,IAAK,OACHoB,EAAOpB,IAAI,KAAA,EACXoB,EAAOpB,IAAI,SAAA,EACX,MACF,IAAK,QACHoB,EAAOpB,IAAI,WAAA,EAEPjB,KAAK4+B,OAAO1M,mBACd7vB,EAAOpB,IAAI,KAAA,EACXoB,EAAOpB,IAAI,SAAA,GAEb,MACF,IAAK,YACHoB,EAAOpB,IAAI,OAAA,EACPjB,KAAK4+B,OAAO1M,mBACd7vB,EAAOpB,IAAI,KAAA,EACXoB,EAAOpB,IAAI,SAAA,GAEb,MACF,IAAK,MACCjB,KAAK4+B,OAAO1M,mBACd7vB,EAAOpB,IAAI,KAAA,EACXoB,EAAOpB,IAAI,SAAA,EAAA,CAIlB,CACD,OAAOisB,GAAa7qB,CAAAA,CAAAA,CAEtB8V,QAAQxK,EAAAA,CAAkBjB,MAAEA,EAAKC,OAAEA,EAAMC,MAAEA,EAAKvL,KAAEA,CAAAA,EAAsByK,EAAAA,CACtE,IAAMylB,EAAQZ,GAAekO,kBAAkBlxB,CAAAA,EACzCiE,EAAe5R,KAAK4+B,OAAOnM,kBAAkB9kB,EAAS4jB,CAAAA,EACtDuN,EAAQ9+B,KAAK4+B,OAAO/I,YAAYjkB,EAAc,CAAElF,MAAAA,EAAOC,OAAAA,EAAQC,MAAAA,EAAOvL,KAAAA,CAAAA,EAAQyK,EAAUylB,CAAAA,EACxFwN,EAAW/+B,KAAK4+B,OAAO3K,kBAAkB6K,EAAO,YAAavN,CAAAA,EAMnE,OAJKZ,GAAekO,kBAAkBE,CAAAA,GACnB,IAAIpO,GAAeY,CAAAA,EAC3BH,UAAU2N,CAAAA,EAEdA,CAAAA,CAETxmB,UAAUG,EAAcC,EAAcL,EAAAA,CACpC,IAAM0mB,EAAWrO,GAAekO,kBAAkBnmB,CAAAA,EAC5CumB,EAAWtO,GAAekO,kBAAkBlmB,CAAAA,EAC5Cud,EAAcl2B,KAAK4+B,OAAOnM,kBAAkB/Z,EAAKsmB,CAAAA,EACjD7I,EAAcn2B,KAAK4+B,OAAOnM,kBAAkB9Z,EAAKsmB,CAAAA,EAEvD,OADej/B,KAAK4+B,OAAO3I,cAAcC,EAAaC,EAAa7d,EAAa0mB,CAAAA,CAAAA,CAGlFntB,UAKElE,EAAkBmiB,EAAAA,CAClB,IAAMyB,EAAQZ,GAAekO,kBAAkBlxB,CAAAA,EACzCiE,EAA+D5R,KAAK4+B,OAAOnM,kBAAkB9kB,EAAS4jB,CAAAA,EAI5G,GAHIzB,EAAgBvC,YAClB3b,EAAa2b,UAAYF,GAAc,QAAExb,UAAUlE,EAAS,CAAE4f,UAAAA,EAAW,CAAA,EAAQA,WAE/EuC,EAAgBtC,UAAW,CAC7B,IAAM0R,EAAcl/B,KAAK4+B,OAAO5H,oBAAoBplB,CAAAA,EAC9C4iB,EAAWx0B,KAAK4+B,OAAOxI,kBAAkB8I,EAAattB,EAAc2f,CAAAA,EAC1E3f,EAAa4b,UAAYgH,EAAW,CACrC,CAID,GAHI1E,EAAgBS,aAAY3e,EAAa2e,WAAanD,GAAuBptB,KAAK4+B,OAAOziC,GAAIwR,CAAAA,GACjGiE,EAAame,WAAa,EACtBD,EAAgBU,cAAa5e,EAAa4e,YAAcxwB,KAAK4+B,OAAOpO,YAAY5e,EAAc2f,CAAAA,GAC9FzB,EAAgBzO,WAAY,CAC9B,IAAM+X,EAAsBp5B,KAAK4+B,OAAO5H,oBAAoBplB,CAAAA,EACtDynB,EAA0Br5B,KAAK4+B,OAAO/I,YAAYuD,EAAqB,CAAE1sB,MAAO,CAAA,EAAK,YAAa6kB,CAAAA,EACxG3f,EAAayP,WAAarhB,KAAK4+B,OAAOxI,kBAAkBgD,EAAqBC,EAAyB9H,CAAAA,CACvG,CAGD,OAFIzB,EAAgBE,eAAcpe,EAAaoe,aAAehwB,KAAK4+B,OAAO5O,aAAape,EAAc2f,CAAAA,GACjGzB,EAAgBW,aAAY7e,EAAa6e,WAAazwB,KAAK4+B,OAAOnO,WAAW7e,EAAc2f,CAAAA,GACxF3f,CAAAA,CAET8b,mBAAAA,CACE,OAAO1tB,KAAK4+B,OAAOlR,kBAAAA,CAAAA,CAErBE,2BAAAA,CACE,OAAO5tB,KAAK4+B,OAAOhR,0BAAAA,CAAAA,CAAAA,EAIvB,QAAWuR,IAAU,CACnBrH,GACA8B,GACAsC,GACAF,GACAC,GACAwC,GACAC,GACAvC,GACAtC,GACAuC,GACAC,GACAC,GACAhD,GACAC,GACAC,GACAC,GACAC,GACAC,EAAAA,EACC,CACD,IAAMiF,EAAS,IAAIO,EAGnB9R,GAAKuR,EAAOziC,EAAAA,EAAM,IAAIwiC,GAAeC,CAAAA,CACtC,CAODlhC,GAAgB,eALhB,SAAsByL,EAAAA,CACpB,OAAOkkB,GAAKlkB,CAAAA,CACd,CAAA,EC30EA,IAAMvB,GAA6BC,KAAKC,eAOxC,SAASs3B,GAAY/N,EAAyBgO,EAAAA,CAC5C,IAAIC,EAAMljC,EAAQi1B,EAAKgO,CAAAA,EAYvB,OAXmB,OAARC,GAAQ,aAQjBA,EAAM,IAAI13B,GAA2BxL,EAAQi1B,EAAKx2B,EAAAA,EAASykC,EAAIljC,EAAQi1B,EAAKv2B,EAAAA,CAAAA,CAAAA,EAAAA,SP6Q9EQ,EACAa,EACApE,EAAAA,CAEA,IAAMwE,EAAQf,GAASF,CAAAA,EAEvB,GAAIiB,IAAJ,OAAyB,MAAM,IAAIF,UAAU,uCAAA,EAI7C,GAFqBE,EAAMJ,CAAAA,IAE3B,OAAgC,MAAM,IAAIE,UAAU,kBAAkBF,CAAAA,oBAAAA,EAEtEI,EAAMJ,CAAAA,EAAMpE,CACd,EOzRcs5B,EAAKgO,EAAMC,CAAAA,GAEhBA,CACT,CAiHA,SAASC,GAAwB/2B,EAAAA,CAC/B,OAAOzM,GAAQyM,EAAM/N,EAAAA,CACvB,CAEA,IAAM+kC,GAAN,KAAMA,CACJ1/B,YAAY2/B,EAAAA,OAA+C5xB,EAAAA,OAAoCV,EApHjG,SACEuyB,EACAnN,EACAoN,EAAAA,CAEA,IAAMC,EAAoBD,IAApBC,OACF/xB,EACJ,GAAI+xB,EAAY,CAId,IAAMC,EAA8C,CAClD,gBACA,WACA,kBACA,SACA,YACA,WACA,UACA,MACA,OACA,QACA,MACA,YACA,OACA,SACA,SACA,yBACA,eACA,gBACA,YACA,WAAA,EAEFhyB,EF4SE,SAAsB9V,EAAAA,CAC1B,GAAWA,GAAP,KACF,MAAM,IAAIsE,UAAU,uBAAuBtE,CAAAA,EAAAA,EAE7C,OAAO6D,OAAO7D,CAAAA,CAChB,EEjT0B4nC,CAAAA,EACtB,IAAMG,EAAalkC,OAAOC,OAAO,IAAA,EACjC,QAASuB,EAAI,EAAGA,EAAIyiC,EAAMxiC,OAAQD,IAAK,CACrC,IAAME,EAAOuiC,EAAMziC,CAAAA,EACfxB,OAAOiB,UAAUkjC,eAAevU,KAAK3d,EAASvQ,CAAAA,IAChDwiC,EAAWxiC,CAAAA,EAAQuQ,EAAQvQ,CAAAA,EAE9B,CACDuQ,EAAUiyB,CACX,MACCjyB,EAAUjS,OAAOC,OAAO,IAAA,EAE1B,IAAMmkC,EAAW,IAAIp4B,GAA2B2qB,EAAQ1kB,CAAAA,EAClDoyB,EAAKD,EAAS3pB,gBAAAA,EAgBpB,GAdAva,GAAY4jC,CAAAA,EAcRE,EAAY,CACd,IAAMM,EAAiBtkC,OAAO+hB,OAAO/hB,OAAOC,OAAO,IAAA,EAAOokC,CAAAA,EAC1D,QAAW3iC,KAAQ4iC,EACZtkC,OAAOiB,UAAUkjC,eAAevU,KAAK3d,EAASvQ,CAAAA,GAAAA,OAC1C4iC,EAAe5iC,CAAAA,EAM1B4iC,EAAe53B,OAASuF,EAAQvF,OAChC43B,EAAeC,UAAYtyB,EAAQsyB,UACnC7jC,GAAQojC,EAAK5kC,GAASolC,CAAAA,CACvB,MACC5jC,GAAQojC,EAAK5kC,GAAS+S,CAAAA,EAGxBvR,GAAQojC,EAAK7kC,GAAQolC,EAAG1N,MAAAA,EACxBj2B,GAAQojC,EAAKjlC,GAAUulC,CAAAA,EACvB1jC,GAAQojC,EAAKhlC,GAAculC,EAAGj5B,QAAAA,EAC9B1K,GAAQojC,EAAK9kC,GAAQqlC,EAAG92B,QAAAA,EACxB7M,GAAQojC,EAAKvlC,GAAMimC,EAAAA,EACnB9jC,GAAQojC,EAAKtlC,GAAIimC,EAAAA,EACjB/jC,GAAQojC,EAAKrlC,GAAIimC,EAAAA,EACjBhkC,GAAQojC,EAAKplC,GAAUimC,EAAAA,EACvBjkC,GAAQojC,EAAKnlC,GAAUimC,EAAAA,EACvBlkC,GAAQojC,EAAKllC,GAAMimC,EAAAA,EAOnB,IAAMC,EAAiBd,EAAa/xB,EAAQ7G,SAAAA,OAC5C,GAAI05B,IAAJ,OACEpkC,GAAQojC,EAAK/kC,GAAaslC,EAAGj5B,QAAAA,MACxB,CACL,IAAM7K,EAAKwkC,GAAYD,CAAAA,EACvB,GAAIvkC,EAAGwyB,WAAW,QAAA,EAGhB,MAAM,IAAIpuB,WAAW,8DAAA,EAGvBjE,GAAQojC,EAAK/kC,GAAaimC,GAAgCzkC,CAAAA,CAAAA,CAC3D,CAEH,GAQyB6D,KAAMy/B,EAAS5xB,CAAAA,CAAAA,CAGlC4S,IAAAA,QAAAA,CACFogB,EAAiB7gC,KAAMu/B,EAAAA,EACvB,IAAMuB,EAAcrgB,GAAOsgB,KAAK/gC,IAAAA,EAKhC,OAJApE,OAAOolC,iBAAiBF,EAAa,CACnCzjC,OAAQ,CAAEtF,MAAO,EAAGiF,WAAAA,GAAmBD,SAAAA,GAAiBE,aAAAA,EAAc,EACtEN,KAAM,CAAE5E,MAAO,GAAIiF,WAAAA,GAAmBD,SAAAA,GAAiBE,aAAAA,EAAc,CAAA,CAAA,EAEhE6jC,CAAAA,CAGTG,YAAYC,EAA6BC,EAAAA,CAEvC,OADAN,EAAiB7gC,KAAMu/B,EAAAA,EAChB0B,GAAYzV,KAAKxrB,KAAMkhC,EAAGC,CAAAA,CAAAA,CAGnC3O,cACEjS,KACG6gB,EAAAA,CAGH,OADAP,EAAiB7gC,KAAMu/B,EAAAA,EAChB/M,GAAchH,KAAKxrB,KAAMugB,EAAAA,GAAa6gB,CAAAA,CAAAA,CAG/CC,mBACEH,EACAC,EAAAA,CAGA,OADAN,EAAiB7gC,KAAMu/B,EAAAA,EAChB8B,GAAmB7V,KAAKxrB,KAAMkhC,EAAGC,CAAAA,CAAAA,CAG1C9qB,iBAAAA,CAEE,OADAwqB,EAAiB7gC,KAAMu/B,EAAAA,EAChBlpB,GAAgBmV,KAAKxrB,IAAAA,CAAAA,CAAAA,EAI1B,kBAAmB4H,GAA2B/K,WAAAA,OAC3C2iC,GAAmB3iC,UAAU21B,cAGhC,uBAAwB5qB,GAA2B/K,WAAAA,OAChD2iC,GAAmB3iC,UAAUwkC,mBAY/B,IAAMv5B,GAAiB,SAC5B23B,EAAAA,OACA5xB,EAAAA,OAAoCV,CAEpC,OAAO,IAAIqyB,GAAmBC,EAAS5xB,CAAAA,CACzC,EAYA,SAASwI,IAAAA,CACP,IAAMirB,EAAWllC,EAAQ4D,KAAMvF,EAAAA,EAAU4b,gBAAAA,EAEzC,OADAirB,EAASt6B,SAAW5K,EAAQ4D,KAAMrF,EAAAA,EAC3B2mC,CACT,CAIA,SAAS7gB,GAEPF,KACG6gB,EAAAA,CAEH,IACIhP,EAAWmP,EADXC,EAAYC,GAAiBlhB,EAAUvgB,IAAAA,EAS3C,OAPIwhC,EAAUpP,WACZA,EAAYoP,EAAUpP,UACtBmP,EAAa,CAACG,GAAeF,EAAUjgC,QAAS,OAAA,CAAA,IAEhD6wB,EAAYh2B,EAAQ4D,KAAMvF,EAAAA,EAC1B8mC,EAAa,CAAChhB,EAAAA,GAAa6gB,CAAAA,GAEtBhP,EAAU3R,OAAAA,GAAW8gB,CAAAA,CAC9B,CAEA,SAAS/O,GAEPjS,KACG6gB,EAAAA,CAEH,IACIhP,EAAWmP,EADXC,EAAYC,GAAiBlhB,EAAUvgB,IAAAA,EAS3C,OAPIwhC,EAAUpP,WACZA,EAAYoP,EAAUpP,UACtBmP,EAAa,CAACG,GAAeF,EAAUjgC,QAAS,OAAA,CAAA,IAEhD6wB,EAAYh2B,EAAQ4D,KAAMvF,EAAAA,EAC1B8mC,EAAa,CAAChhB,EAAAA,GAAa6gB,CAAAA,GAEtBhP,EAAUI,cAAAA,GAAkB+O,CAAAA,CACrC,CAEA,SAASN,GAAsCU,EAAkCC,EAAAA,CAC/E,GAAID,IAAJ,QAA4BC,IAAxBD,OACF,MAAM,IAAItlC,UAAU,qDAAA,EAEtB,IAAM6kC,EAAIW,GAAsBF,CAAAA,EAC1BR,EAAIU,GAAsBD,CAAAA,EAE5BxP,EADAmP,EAAa,CAACL,EAAGC,CAAAA,EAErB,GAAIW,GAAiBZ,CAAAA,IAAOY,GAAiBX,CAAAA,EAC3C,MAAM,IAAI9kC,UAAU,qEAAA,EAEtB,GAAIylC,GAAiBZ,CAAAA,EAAI,CACvB,GAAA,CAAKa,GAAiBb,EAAGC,CAAAA,EACvB,MAAM,IAAI9kC,UAAU,qEAAA,EAEtB,GAAA,CAAQkF,QAASygC,EAAI5P,UAAW6P,CAAAA,EAAeR,GAAiBP,EAAGlhC,IAAAA,EAAAA,CAC3DuB,QAAS2gC,EAAI9P,UAAW+P,CAAAA,EAAeV,GAAiBN,EAAGnhC,IAAAA,EAC/DiiC,IAEF7P,EAAY6P,EACZV,EAAa,CAACG,GAAeM,EAAI,OAAA,EAAUN,GAAeQ,EAAI,OAAA,CAAA,EAEjE,CAID,OAHK9P,IACHA,EAAYh2B,EAAQ4D,KAAMvF,EAAAA,GAErB23B,EAAU6O,YAAAA,GAAgBM,CAAAA,CACnC,CAEA,SAASF,GAEPM,EACAC,EAAAA,CAEA,GAAID,IAAJ,QAA4BC,IAAxBD,OACF,MAAM,IAAItlC,UAAU,qDAAA,EAEtB,IAAM6kC,EAAIW,GAAsBF,CAAAA,EAC1BR,EAAIU,GAAsBD,CAAAA,EAE5BxP,EADAmP,EAAa,CAACL,EAAGC,CAAAA,EAErB,GAAIW,GAAiBZ,CAAAA,IAAOY,GAAiBX,CAAAA,EAC3C,MAAM,IAAI9kC,UAAU,4EAAA,EAEtB,GAAIylC,GAAiBZ,CAAAA,EAAI,CACvB,GAAA,CAAKa,GAAiBb,EAAGC,CAAAA,EACvB,MAAM,IAAI9kC,UAAU,4EAAA,EAEtB,GAAA,CAAQkF,QAASygC,EAAI5P,UAAW6P,CAAAA,EAAeR,GAAiBP,EAAGlhC,IAAAA,EAAAA,CAC3DuB,QAAS2gC,EAAI9P,UAAW+P,CAAAA,EAAeV,GAAiBN,EAAGnhC,IAAAA,EAC/DiiC,IAEF7P,EAAY6P,EACZV,EAAa,CAACG,GAAeM,EAAI,OAAA,EAAUN,GAAeQ,EAAI,OAAA,CAAA,EAEjE,CAID,OAHK9P,IACHA,EAAYh2B,EAAQ4D,KAAMvF,EAAAA,GAErB23B,EAAUiP,mBAAAA,GAAuBE,CAAAA,CAC1C,CAOA,SAASa,GAAMzC,EAA2C,CAAA,EAAI0C,EAA6B,CAAA,EAAA,CACzF,IAAMx0B,EAAUjS,OAAO+hB,OAAO,CAAE,EAAEgiB,CAAAA,EAC5BE,EAAQ,CACZ,OACA,QACA,MACA,OACA,SACA,SACA,UACA,YACA,eACA,YACA,WAAA,EAEF,QAASziC,EAAI,EAAGA,EAAIyiC,EAAMxiC,OAAQD,IAAK,CACrC,IAAMklC,EAAMzC,EAAMziC,CAAAA,EAGjByQ,EAAQy0B,CAAAA,EAA4BA,KAAOD,EAAUA,EAAQC,CAAAA,EAAOz0B,EAAQy0B,CAAAA,EACxEz0B,EAAQy0B,CAAAA,IADgEA,IACzBz0B,EAAQy0B,CAAAA,IAA/CA,QAA+CA,OAA2Bz0B,EAAQy0B,CAAAA,CAChG,CACD,OAAOz0B,CACT,CAIA,SAAS0yB,GAAUgC,EAAAA,CACjB,IAAM10B,EAAUu0B,GAAMG,EAAiB,CACrCn8B,KAAAA,GACAC,MAAAA,GACAG,IAAAA,GACAg8B,QAAAA,GACAC,aAAAA,GACAC,UAAAA,EAAW,CAAA,EAOb,GALI70B,EAAQ80B,YAAc,QAAU90B,EAAQ80B,YAAc,SAAdA,OAEnC90B,EAAQ80B,UACf/mC,OAAO+hB,OAAO9P,EAAS,CAAEpH,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,SAAA,CAAA,GAAA,CAElEi8B,GAAe/0B,CAAAA,EAAU,CAC5B,GAAIg1B,GAAsBN,CAAAA,EACxB,MAAM,IAAIlmC,UAAU,kDAAkDT,OAAOwzB,KAAKmT,CAAAA,CAAAA,GAAAA,EAEpF3mC,OAAO+hB,OAAO9P,EAAS,CACrBpH,KAAM,UACNC,OAAQ,UACRC,OAAQ,SAAA,CAAA,CAEX,CACD,OAAOkH,CACT,CAEA,SAASwyB,GAAekC,EAAAA,CAGtB,IAAMO,EAAiB,CACrBC,MAAO,CAAE38B,KAAM,UAAWC,MAAO,SAAA,EACjC28B,OAAQ,CAAE58B,KAAM,UAAWC,MAAO,OAAA,EAClC48B,KAAM,CAAE78B,KAAM,UAAWC,MAAO,MAAA,EAChC68B,KAAM,CAAE98B,KAAM,UAAWC,MAAO,MAAA,CAAA,EAE5BwH,EAAUu0B,GAAMG,EAAiB,CACrC/7B,IAAAA,GACAC,KAAAA,GACAC,OAAAA,GACAC,OAAAA,GACA67B,QAAAA,GACAW,UAAAA,GACAV,aAAAA,GACAE,UAAAA,EAAW,CAAA,EAEb,GAAI,cAAe90B,GAAWA,EAAQ60B,UAAW,CAC/C,IAAMU,EAAQv1B,EAAQ60B,UAAAA,OACf70B,EAAQ60B,UACf9mC,OAAO+hB,OAAO9P,EAASi1B,EAAeM,CAAAA,CAAAA,CACvC,CACD,GAAA,EAAM,SAAUv1B,GAAW,UAAWA,GAAW,QAASA,GAAU,CAClE,GAAIg1B,GAAsBN,CAAAA,EACxB,MAAM,IAAIlmC,UAAU,8CAA8CT,OAAOwzB,KAAKmT,CAAAA,CAAAA,GAAAA,EAEhF3mC,OAAO+hB,OAAO9P,EAAS,CAAEzH,KAAM,UAAWC,MAAO,SAAA,CAAA,CAClD,CACD,OAAOwH,CACT,CAEA,SAASyyB,GAAciC,EAAAA,CAErB,IAAMO,EAAiB,CACrBC,MAAO,CAAE18B,MAAO,UAAWG,IAAK,SAAA,EAChCw8B,OAAQ,CAAE38B,MAAO,QAASG,IAAK,SAAA,EAC/By8B,KAAM,CAAE58B,MAAO,OAAQG,IAAK,SAAA,EAC5B08B,KAAM,CAAE78B,MAAO,OAAQG,IAAK,SAAA,CAAA,EAExBqH,EAAUu0B,GAAMG,EAAiB,CACrCn8B,KAAAA,GACAK,KAAAA,GACAC,OAAAA,GACAC,OAAAA,GACA67B,QAAAA,GACAW,UAAAA,GACAV,aAAAA,GACAE,UAAAA,EAAW,CAAA,EAEb,GAAI,cAAe90B,GAAWA,EAAQ60B,UAAW,CAC/C,IAAMU,EAAQv1B,EAAQ60B,UAAAA,OACf70B,EAAQ60B,UACf9mC,OAAO+hB,OAAO9P,EAASi1B,EAAeM,CAAAA,CAAAA,CACvC,CACD,GAAA,EAAM,UAAWv1B,IAAAA,EAAW,QAASA,GAAU,CAC7C,GAAIg1B,GAAsBN,CAAAA,EACxB,MAAM,IAAIlmC,UAAU,6CAA6CT,OAAOwzB,KAAKmT,CAAAA,CAAAA,GAAAA,EAE/E3mC,OAAO+hB,OAAO9P,EAAS,CAAExH,MAAO,UAAWG,IAAK,SAAA,CAAA,CACjD,CACD,OAAOqH,CACT,CAEA,SAASuyB,GAAUmC,EAAAA,CACjB,IAAM10B,EAAUu0B,GAAMG,EAAiB,CACrC97B,KAAAA,GACAC,OAAAA,GACAC,OAAAA,GACAw8B,UAAAA,GACAV,aAAAA,GACAE,UAAAA,EAAW,CAAA,EAEb,GAAA,CAAKU,GAAex1B,CAAAA,EAAU,CAC5B,GAAIg1B,GAAsBN,CAAAA,EACxB,MAAM,IAAIlmC,UAAU,yCAAyCT,OAAOwzB,KAAKmT,CAAAA,CAAAA,GAAAA,EAE3E3mC,OAAO+hB,OAAO9P,EAAS,CACrBzH,KAAM,UACNC,MAAO,UACPG,IAAK,SAAA,CAAA,CAER,CACD,OAAOqH,CACT,CAEA,SAAS2yB,GAAc+B,EAAAA,CACrB,IAAM10B,EAAUu0B,GAAMG,EAAiB,CAAEE,aAAAA,EAAc,CAAA,EAmBvD,IAlBI50B,EAAQ80B,YAAc,QAAU90B,EAAQ80B,YAAc,UAAdA,OAEnC90B,EAAQ80B,UACf/mC,OAAO+hB,OAAO9P,EAAS,CAAEpH,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,SAAA,CAAA,EAIjEkH,EAAQ60B,aAOV9mC,OAAO+hB,OAAO9P,EANS,CACrBk1B,MAAO,CAAE38B,KAAM,UAAWC,MAAO,UAAWG,IAAK,SAAA,EACjDw8B,OAAQ,CAAE58B,KAAM,UAAWC,MAAO,QAASG,IAAK,SAAA,EAChDy8B,KAAM,CAAE78B,KAAM,UAAWC,MAAO,OAAQG,IAAK,SAAA,EAC7C08B,KAAM,CAAE98B,KAAM,UAAWC,MAAO,OAAQG,IAAK,UAAWg8B,QAAS,MAAA,CAAA,EAE7B30B,EAAQ60B,SAAAA,CAAAA,EAAAA,OACvC70B,EAAQ60B,WAGnB,CAAKE,GAAe/0B,CAAAA,GAAAA,CAAaw1B,GAAex1B,CAAAA,EAAU,CACxD,GAAIg1B,GAAsBN,CAAAA,EACxB,MAAM,IAAIlmC,UAAU,6CAA6CT,OAAOwzB,KAAKmT,CAAAA,CAAAA,GAAAA,EAE/E3mC,OAAO+hB,OAAO9P,EAAS,CACrBzH,KAAM,UACNC,MAAO,UACPG,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,SAAA,CAAA,CAEX,CACD,OAAOkH,CACT,CAEA,SAAS4yB,GAAad,EAAAA,CACpB,IAAI9xB,EAAU8xB,EAWd,OAVKiD,GAAe/0B,CAAAA,GAAaw1B,GAAex1B,CAAAA,IAC9CA,EAAUjS,OAAO+hB,OAAO,CAAA,EAAI9P,EAAS,CACnCzH,KAAM,UACNC,MAAO,UACPG,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,SAAA,CAAA,GAGLkH,CACT,CAEA,SAASw1B,GAAex1B,EAAAA,CACtB,MACE,SAAUA,GACV,UAAWA,GACX,QAASA,GACT,YAAaA,GACb,cAAeA,GACf,QAASA,CAEb,CAEA,SAAS+0B,GAAe/0B,EAAAA,CACtB,MACE,SAAUA,GACV,WAAYA,GACZ,WAAYA,GACZ,cAAeA,GACf,cAAeA,GACf,2BAA4BA,CAEhC,CAEA,SAASg1B,GAAsBN,EAAAA,CAC7B,OACEc,GAAed,CAAAA,GACfK,GAAeL,CAAAA,GACf,cAAeA,GACf,cAAeA,GACf,iBAAkBA,CAEtB,CAEA,SAAST,GACPzQ,EAAAA,CASA,OACEiS,GAAkBjS,CAAAA,GAClBkS,GAAkBlS,CAAAA,GAClBmS,GAAsBnS,CAAAA,GACtBoS,GAA2BpS,CAAAA,GAC3BqS,GAAuBrS,CAAAA,GACvBsS,GAAsBtS,CAAAA,GACtBuS,GAAqBvS,CAAAA,CAEzB,CAEA,SAASwQ,GAAsB9pC,EAAAA,CAC7B,OAAI+pC,GAAiB/pC,CAAAA,EAAeA,EAC7B8rC,GAAY9rC,CAAAA,CACrB,CAEA,SAASgqC,GAAiB1pC,EAAYI,EAAAA,CACpC,MAAA,EAAA,CAAKqpC,GAAiBzpC,CAAAA,GAAAA,CAAOypC,GAAiBrpC,CAAAA,GAC1C8qC,GAAkBlrC,CAAAA,GAAAA,CAAOkrC,GAAkB9qC,CAAAA,GAC3C6qC,GAAkBjrC,CAAAA,GAAAA,CAAOirC,GAAkB7qC,CAAAA,GAC3C+qC,GAAsBnrC,CAAAA,GAAAA,CAAOmrC,GAAsB/qC,CAAAA,GACnDgrC,GAA2BprC,CAAAA,GAAAA,CAAOorC,GAA2BhrC,CAAAA,GAC7DirC,GAAuBrrC,CAAAA,GAAAA,CAAOqrC,GAAuBjrC,CAAAA,GACrDkrC,GAAsBtrC,CAAAA,GAAAA,CAAOsrC,GAAsBlrC,CAAAA,GACnDmrC,GAAqBvrC,CAAAA,GAAAA,CAAOurC,GAAqBnrC,CAAAA,EAEvD,CAWA,SAASgpC,GAAiBhwB,EAAkCqyB,EAAAA,CAC1D,GAAIP,GAAkB9xB,CAAAA,EAAc,CAClC,IAAMkB,EAAc,CAClBhF,QAAS,CAAEvH,KAAM,KAAMC,MAAO,EAAGG,IAAK,CAAA,EACtCrD,KAAM/G,EAAQqV,EAAatY,EAAAA,CAAAA,EAE7B,MAAO,CACLoI,QAASwiC,GAA0B3nC,EAAQ0nC,EAAMppC,EAAAA,EAAeiY,EAAa,YAAA,EAC7Eyf,UAAWgN,GAAY0E,EAAMxpC,EAAAA,CAAAA,CAEhC,CAED,GAAIopC,GAAuBjyB,CAAAA,EAAc,CACvC,IAAMtI,EAAW/M,EAAQqV,EAAarY,CAAAA,EAChC4qC,EAAe5nC,EAAQ0nC,EAAMlpC,EAAAA,EACnC,GAAIuO,IAAa66B,EACf,MAAM,IAAIzjC,WACR,8CAA8C4I,CAAAA,4BAAoC66B,CAAAA,EAAAA,EAGtF,IAAMrxB,EAAcsxB,GAA+B7nC,EAAQqV,EAAaxY,CAAAA,EF8OnE,CAAE+Z,UAAW,EAAGvM,KAAM,GAAIC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EE7OjG,MAAO,CACLvF,QAASwiC,GAA0B3nC,EAAQ0nC,EAAMppC,EAAAA,EAAeiY,EAAa,YAAA,EAC7Eyf,UAAWgN,GAAY0E,EAAM1pC,EAAAA,CAAAA,CAEhC,CAED,GAAIupC,GAAsBlyB,CAAAA,EAAc,CACtC,IAAMtI,EAAW/M,EAAQqV,EAAarY,CAAAA,EAChC4qC,EAAe5nC,EAAQ0nC,EAAMlpC,EAAAA,EACnC,GAAIuO,IAAa66B,EACf,MAAM,IAAIzjC,WACR,6CAA6C4I,CAAAA,4BAAoC66B,CAAAA,EAAAA,EAGrF,IAAMrxB,EAAcsxB,GAA+B7nC,EAAQqV,EAAaxY,CAAAA,EF+NnE,CAAE+Z,UAAW,EAAGvM,KAAM,GAAIC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EE9NjG,MAAO,CACLvF,QAASwiC,GAA0B3nC,EAAQ0nC,EAAMppC,EAAAA,EAAeiY,EAAa,YAAA,EAC7Eyf,UAAWgN,GAAY0E,EAAMzpC,EAAAA,CAAAA,CAEhC,CAED,GAAIipC,GAAkB7xB,CAAAA,EAAc,CAClC,IAAMtI,EAAW/M,EAAQqV,EAAarY,CAAAA,EAChC4qC,EAAe5nC,EAAQ0nC,EAAMlpC,EAAAA,EACnC,GAAIuO,IAAa,WAAaA,IAAa66B,EACzC,MAAM,IAAIzjC,WAAW,yCAAyC4I,CAAAA,4BAAoC66B,CAAAA,EAAAA,EAEpG,IAAMrxB,EAAcsxB,GAA+B7nC,EAAQqV,EAAaxY,CAAAA,EFkNnE,CAAE+Z,UAAW,EAAGvM,KAAM,GAAIC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EEjNjG,MAAO,CACLvF,QAASwiC,GAA0B3nC,EAAQ0nC,EAAMppC,EAAAA,EAAeiY,EAAa,YAAA,EAC7Eyf,UAAWgN,GAAY0E,EAAM3pC,EAAAA,CAAAA,CAEhC,CAED,GAAIqpC,GAAsB/xB,CAAAA,EAAc,CACtC,IAAMtI,EAAW/M,EAAQqV,EAAarY,CAAAA,EAChC4qC,EAAe5nC,EAAQ0nC,EAAMlpC,EAAAA,EACnC,GAAIuO,IAAa,WAAaA,IAAa66B,EACzC,MAAM,IAAIzjC,WACR,6CAA6C4I,CAAAA,4BAAoC66B,CAAAA,EAAAA,EAGrF,IAAMrxB,EAAcvW,EAAQqV,EAAavY,EAAAA,EACzC,MAAO,CACLqI,QAASwiC,GAA0B3nC,EAAQ0nC,EAAMppC,EAAAA,EAAeiY,EAAa,YAAA,EAC7Eyf,UAAWgN,GAAY0E,EAAMvpC,EAAAA,CAAAA,CAEhC,CAED,GAAIkpC,GAA2BhyB,CAAAA,EAC7B,MAAM,IAAIpV,UACR,+FAAA,EAIJ,OAAIunC,GAAqBnyB,CAAAA,EAChB,CACLlQ,QAASnF,EAAQqV,EAAazY,CAAAA,EAC9Bo5B,UAAWgN,GAAY0E,EAAMtpC,EAAAA,CAAAA,EAI1B,CAAA,CACT,CAEA,SAAS0pC,GAAsC1gC,EAAAA,CAC7C,IAAM2V,EAASvd,OAAOC,OAAO,IAAA,EAW7B,OAVAsd,EAAOzM,MAAQtQ,EAAQoH,EAAU/J,EAAAA,EACjC0f,EAAOxM,OAASvQ,EAAQoH,EAAU9J,EAAAA,EAClCyf,EAAOvM,MAAQxQ,EAAQoH,EAAU7J,EAAAA,EACjCwf,EAAO9X,KAAOjF,EAAQoH,EAAU5J,EAAAA,EAChCuf,EAAOtM,MAAQzQ,EAAQoH,EAAU3J,EAAAA,EACjCsf,EAAOrM,QAAU1Q,EAAQoH,EAAU1J,EAAAA,EACnCqf,EAAOpM,QAAU3Q,EAAQoH,EAAUzJ,EAAAA,EACnCof,EAAOnM,aAAe5Q,EAAQoH,EAAUxJ,EAAAA,EACxCmf,EAAOlM,aAAe7Q,EAAQoH,EAAUvJ,EAAAA,EACxCkf,EAAOjM,YAAc9Q,EAAQoH,EAAUtJ,EAAAA,EAChCif,CACT,CA1eAqmB,GAAmB3iC,UAAUiD,YAAcgI,GAE3ClM,OAAOgB,eAAekL,GAAgB,YAAa,CACjD/P,MAAOynC,GAAmB3iC,UAC1BE,SAAAA,GACAC,WAAAA,GACAC,aAAAA,EAAc,CAAA,EAEhB6K,GAAeq8B,mBAAqBv8B,GAA2Bu8B,mBAC/D1nC,GAAmBqL,GAAyD,qBAAA,YAme5E,CAAQ2Y,OAAQ2jB,GAAmC5R,cAAe6R,EAAAA,GAChEx8B,IAAAA,GAAAA,KAAKy8B,iBAALz8B,YAAAA,GAAqBhL,YAArBgL,KAAAA,GAAkCjM,OAAOC,OAAO,IAAA,EAE5C,SAAU0oC,GAEdhb,EAAAA,CAEA1hB,KAAKy8B,eAAeznC,UAAUwZ,gBAAgBmV,KAAKxrB,IAAAA,EACnD,IACMmZ,EAAS+qB,GADEM,GAAsBjb,CAAAA,CAAAA,EAEvC,OAAO6a,GAAkC5Y,KAAKxrB,KAAMmZ,CAAAA,CACtD,SAEItR,GAAAA,KAAKy8B,iBAALz8B,MAAAA,GAAqBhL,YACvBgL,KAAKy8B,eAAeznC,UAAU4jB,OAAS8jB,GACvC18B,KAAKy8B,eAAeznC,UAAU21B,cAAgB,SAAuBjJ,EAAAA,CACnE1hB,KAAKy8B,eAAeznC,UAAUwZ,gBAAgBmV,KAAKxrB,IAAAA,EACnD,IACMmZ,EAAS+qB,GADEM,GAAsBjb,CAAAA,CAAAA,EAEvC,OAAO8a,GAAyC7Y,KAAKxrB,KAAMmZ,CAAAA,CAC7D,GAAA,IAAAsrB,GAAA,OAAA,OAAA,CAAA,UAAA,KAAA,eAAAC,GAAA,0CAAAC,EAAA,CAAA,EC3uBWC,GD2uBX,KC3uBWA,CACX9kC,YAAYoX,EAAAA,CAGV,GAAI2tB,UAAUxnC,OAAS,EACrB,MAAM,IAAIhB,UAAU,gDAAA,EAItByoC,GAA8B9kC,KADnB+kC,GAAY7tB,CAAAA,CAAAA,CAExB,CAEGiE,IAAAA,mBAAAA,CAGF,OAFA0lB,EAAiB7gC,KAAM4jC,EAAAA,EAEhBlC,GADOtlC,EAAQ4D,KAAMhH,CAAAA,EACC,OAAA,CAC9B,CACGke,IAAAA,kBAAAA,CAEF,OADA2pB,EAAiB7gC,KAAM4jC,EAAAA,EAChBoB,GAAoBhuC,EAAAA,QAAKC,OAAOmF,EAAQ4D,KAAMhH,CAAAA,CAAAA,CAAAA,CACtD,CAEDiI,IAAIwL,EAAAA,CAEF,OADAo0B,EAAiB7gC,KAAM4jC,EAAAA,EAChBqB,GAAwB,MAAOjlC,KAAMyM,CAAAA,CAC7C,CACD9L,SAAS8L,EAAAA,CAEP,OADAo0B,EAAiB7gC,KAAM4jC,EAAAA,EAChBqB,GAAwB,WAAYjlC,KAAMyM,CAAAA,CAClD,CACDy4B,MAAM/jC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAM4jC,EAAAA,EAChBuB,GAA6B,QAASnlC,KAAMmB,EAAO0M,CAAAA,CAC3D,CACDu3B,MAAMjkC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAM4jC,EAAAA,EAChBuB,GAA6B,QAASnlC,KAAMmB,EAAO0M,CAAAA,CAC3D,CACD5L,MAAMojC,EAAAA,CAEJ,GADAxE,EAAiB7gC,KAAM4jC,EAAAA,EACnByB,IADmBzB,OACS,MAAM,IAAIvnC,UAAU,+BAAA,EACpD,IAAMipC,EACoB,OAAjBD,GAAiB,SACnBE,GAAuB,eAAgBF,CAAAA,EACxCG,EAAoBH,CAAAA,EACpBh3B,EAAoBo3B,GAAsCH,CAAAA,EAC1DnoB,EAAeuoB,GAAyBJ,EAAS,YAAA,EACjDp2B,EAAey2B,GAA+BL,EAAS,eAAgB,OAAQM,EAAAA,EAYrF,OAHAC,GAAqCx3B,EARX,CACxB5H,KAAM,GACNC,OAAQ,KACRC,OAAQ,MACRC,YAAa,MACbC,YAAa,MACbC,WAAY,MAAA,EAE4DoI,CAAAA,EAAAA,EAAe,EAGlF42B,GADWC,GADP3pC,EAAQ4D,KAAMhH,CAAAA,EACqBqV,EAAmBa,EAAciO,CAAAA,CAAAA,CAEhF,CACD6oB,OAAOje,EAAAA,CACL8Y,EAAiB7gC,KAAM4jC,EAAAA,EACvB,IAAMziC,EAAQ8kC,GAAqBle,CAAAA,EAC7BrP,EAAMtc,EAAQ4D,KAAMhH,CAAAA,EACpB2f,EAAMvc,EAAQ+E,EAAOnI,CAAAA,EAC3B,OAAOhC,EAAAA,QAAKkB,MAAMlB,EAAAA,QAAKC,OAAOyhB,CAAAA,EAAM1hB,EAAAA,QAAKC,OAAO0hB,CAAAA,CAAAA,CACjD,CACD3gB,SAAS6V,EAAAA,OAAiCV,CACxC0zB,EAAiB7gC,KAAM4jC,EAAAA,EACvB,IAAMvtB,EAAkBmvB,EAAoB33B,CAAAA,EACtCq4B,EAASC,GAA2C9vB,CAAAA,EACpD8G,EAAeuoB,GAAyBrvB,EAAiB,OAAA,EACzDnH,EAAey2B,GAA+BtvB,EAAiB,eAAgB,OAAA,MAAQlJ,EAC7F,GAAI+B,IAAiB,OAAQ,MAAM,IAAI3O,WAAW,oDAAA,EAClD,IAAIyG,EAAWqP,EAAgBrP,SAC3BA,IAD2BA,SACHA,EAAW45B,GAAgC55B,CAAAA,GACvE,GAAA,CAAMmI,UAAEA,EAASC,KAAEA,EAAIjN,UAAEA,CAAAA,EAAcikC,GAAkCl3B,EAAcg3B,CAAAA,EAIvF,OAAOG,GADgBP,GADLC,GADP3pC,EAAQ4D,KAAMhH,CAAAA,EACqBmJ,EAAWiN,EAAM+N,CAAAA,CAAAA,EAEbnW,EAAUmI,CAAAA,CAC7D,CACDm3B,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAM4jC,EAAAA,EAChByC,GAA2BrmC,KAAAA,OAAiB,MAAA,CACpD,CACDumC,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAGvC,OADA0zB,EAAiB7gC,KAAM4jC,EAAAA,EAChB,IAAI97B,GAAe23B,EAAS5xB,CAAAA,EAAS4S,OAAOzgB,IAAAA,CACpD,CACDwmC,SAAAA,CACEC,GAAiB,SAAA,CAClB,CACDC,mBAAmBC,EAAAA,CACjB9F,EAAiB7gC,KAAM4jC,EAAAA,EACvB,IAAM58B,EAAW45B,GAAgC+F,CAAAA,EACjD,OAAOC,GAA+BxqC,EAAQ4D,KAAMhH,CAAAA,EAAmBgO,EAAU,SAAA,CAClF,CAED5G,OAAAA,sBAA6B+a,EAAAA,CAE3B,OAAO2qB,GADkBe,GAAehD,GAAY1oB,CAAAA,CAAAA,CAAAA,CAErD,CACD/a,OAAAA,qBACE+qB,EAAAA,CAGA,OAAO2a,GADkBf,GAAY5Z,CAAAA,CAAAA,CAEtC,CACD/qB,OAAAA,KAAYoI,EAAAA,CACV,OAAOy9B,GAAqBz9B,CAAAA,CAC7B,CACDpI,OAAAA,QAAe0mC,EAAgCC,EAAAA,CAC7C,IAAMruB,EAAMutB,GAAqBa,CAAAA,EAC3BnuB,EAAMstB,GAAqBc,CAAAA,EAC3BC,EAAQ5qC,EAAQsc,EAAK1f,CAAAA,EACrBiuC,EAAQ7qC,EAAQuc,EAAK3f,CAAAA,EAC3B,OAAIhC,EAAAA,QAAKsB,SAAS0uC,EAAOC,CAAAA,EAAAA,GACrBjwC,EAAAA,QAAK0B,YAAYsuC,EAAOC,CAAAA,EAAe,EACpC,CACR,CAAA,EAIHxqC,GAAmBmoC,GAAS,kBAAA,EAAA,IClIfsC,GDkIe,KClIfA,CACXpnC,YACE2xB,EACAC,EACAC,EACAwV,EAA0C,UAAA,CAE1C,IAAM/gC,EAAOghC,EAA2B3V,CAAAA,EAClCprB,EAAQ+gC,EAA2B1V,CAAAA,EACnClrB,EAAM4gC,EAA2BzV,CAAAA,EACjCxoB,EAAWk+B,GAAwBF,IAAxBE,OAAsD,UAAYC,GAAiBH,CAAAA,CAAAA,EACpGI,GAAiBnhC,EAAMC,EAAOG,CAAAA,EAE9BghC,GAA2BxnC,KAAM,CAAEoG,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAO2C,CAAAA,CACxD,CACGs+B,IAAAA,YAAAA,CAEF,OADA5G,EAAiB7gC,KAAMsjC,EAAAA,EAChBlnC,EAAQ4D,KAAM5G,CAAAA,CACtB,CACG8M,IAAAA,KAAAA,CACF,OAAOwhC,GAAoB1nC,KAAM,KAAA,CAClC,CACGmG,IAAAA,SAAAA,CACF,OAAOuhC,GAAoB1nC,KAAM,SAAA,CAClC,CACGoG,IAAAA,MAAAA,CACF,OAAOshC,GAAoB1nC,KAAM,MAAA,CAClC,CACGqG,IAAAA,OAAAA,CACF,OAAOqhC,GAAoB1nC,KAAM,OAAA,CAClC,CACGsG,IAAAA,WAAAA,CACF,OAAOohC,GAAoB1nC,KAAM,WAAA,CAClC,CACGwG,IAAAA,KAAAA,CACF,OAAOkhC,GAAoB1nC,KAAM,KAAA,CAClC,CACGutB,IAAAA,WAAAA,CACF,OAAOma,GAAoB1nC,KAAM,WAAA,CAClC,CACGwtB,IAAAA,WAAAA,CACF,OAAOka,GAAoB1nC,KAAM,WAAA,CAClC,CACGuwB,IAAAA,YAAAA,OACF,OAAOmX,EAAAA,GAAoB1nC,KAAM,YAAA,IAA1B0nC,YAAAA,EAAyCpZ,IACjD,CACGqZ,IAAAA,YAAAA,OACF,OAAOD,EAAAA,GAAoB1nC,KAAM,YAAA,IAA1B0nC,YAAAA,EAAyCthC,IACjD,CACG2pB,IAAAA,YAAAA,CACF,OAAO2X,GAAoB1nC,KAAM,YAAA,CAClC,CACGwwB,IAAAA,aAAAA,CACF,OAAOkX,GAAoB1nC,KAAM,aAAA,CAClC,CACGqhB,IAAAA,YAAAA,CACF,OAAOqmB,GAAoB1nC,KAAM,YAAA,CAClC,CACGgwB,IAAAA,cAAAA,CACF,OAAO0X,GAAoB1nC,KAAM,cAAA,CAClC,CACGywB,IAAAA,YAAAA,CACF,OAAOiX,GAAoB1nC,KAAM,YAAA,CAClC,CACD4nC,KAAKC,EAAqCh6B,EAAAA,OAA6BV,CAErE,GADA0zB,EAAiB7gC,KAAMsjC,EAAAA,EAAAA,CAClBwE,GAAYD,CAAAA,EACf,MAAM,IAAIxrC,UAAU,kBAAA,EAEtB0rC,GAA4BF,CAAAA,EAE5B,IAAM1+B,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EAC3BuX,EAASq3B,GAAmB7+B,EAAU/M,EAAQ4D,KAAM/G,CAAAA,CAAAA,EAYxD,OAJA0X,EAASs3B,GAAuB9+B,EAAUwH,EAPtBu3B,GAClB/+B,EACA0+B,EACA,CAAC,OAAQ,QAAS,YAAa,KAAA,EAC/B,CAAA,EACA,SAAA,CAAA,EAMKM,GADSC,GAA0Bj/B,EAAUwH,EADnC03B,GAA6B7C,EAAoB33B,CAAAA,CAAAA,CAAAA,EAE5B1E,CAAAA,CACvC,CACDm/B,aAAanB,EAAAA,CACXtG,EAAiB7gC,KAAMsjC,EAAAA,EACvB,IAAMn6B,EAAWo/B,GAAgCpB,CAAAA,EACjD,OAAOgB,GAAsB/rC,EAAQ4D,KAAM/G,CAAAA,EAAWkQ,CAAAA,CACvD,CACDlI,IAAIwL,EAAwCoB,EAAAA,OAA4BV,CAEtE,OADA0zB,EAAiB7gC,KAAMsjC,EAAAA,EAChBkF,GAAqB,MAAOxoC,KAAMyM,EAAsBoB,CAAAA,CAChE,CACDlN,SACE8L,EACAoB,EAAAA,OAAiCV,CAGjC,OADA0zB,EAAiB7gC,KAAMsjC,EAAAA,EAChBkF,GAAqB,WAAYxoC,KAAMyM,EAAsBoB,CAAAA,CACrE,CACDq3B,MAAM/jC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMsjC,EAAAA,EAChBmF,GAA+B,QAASzoC,KAAMmB,EAAO0M,CAAAA,CAC7D,CACDu3B,MAAMjkC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMsjC,EAAAA,EAChBmF,GAA+B,QAASzoC,KAAMmB,EAAO0M,CAAAA,CAC7D,CACDm4B,OAAOje,EAAAA,CACL8Y,EAAiB7gC,KAAMsjC,EAAAA,EACvB,IAAMniC,EAAQunC,GAAkB3gB,CAAAA,EAChC,OAAIwH,GAAkBnzB,EAAQ4D,KAAM/G,CAAAA,EAAWmD,EAAQ+E,EAAOlI,CAAAA,CAAAA,IAAe,GACtE0vC,GAAkBvsC,EAAQ4D,KAAM5G,CAAAA,EAAWgD,EAAQ+E,EAAO/H,CAAAA,CAAAA,CAClE,CACDpB,SAAS6V,EAAAA,OAAiCV,CAIxC,OAHA0zB,EAAiB7gC,KAAMsjC,EAAAA,EAGhBsF,GAAwB5oC,KADV6oC,GADGrD,EAAoB33B,CAAAA,CAAAA,CAAAA,CAG7C,CACDy4B,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAMsjC,EAAAA,EAChBsF,GAAwB5oC,IAAAA,CAChC,CACDumC,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAGvC,OADA0zB,EAAiB7gC,KAAMsjC,EAAAA,EAChB,IAAIx7B,GAAe23B,EAAS5xB,CAAAA,EAAS4S,OAAOzgB,IAAAA,CACpD,CACDwmC,SAAAA,CACEC,GAAiB,WAAA,CAClB,CACDqC,gBAAgBjf,EAAAA,OAA6C1c,CAC3D0zB,EAAiB7gC,KAAMsjC,EAAAA,EACvB,IAAMngC,EAAO4lC,GAA0Blf,CAAAA,EAEvC,OAAOmf,GADa/E,GAA+B7nC,EAAQ4D,KAAM/G,CAAAA,EAAWkK,CAAAA,EAC9B/G,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAC7D,CACD6vC,gBAAgBzgC,EAAAA,CAGd,IAAIxB,EAAU6iB,EACd,GAHAgX,EAAiB7gC,KAAMsjC,EAAAA,EAGnBwE,GAAYt/B,CAAAA,EAAO,CACrB,IAAM0gC,EAAe1gC,EAAKxB,SACtBkiC,IADsBliC,OAExBA,EAAW45B,GAAgCp4B,CAAAA,GAE3CxB,EAAW45B,GAAgCsI,CAAAA,EAC3Crf,EAAerhB,EAAKigB,UAEvB,MACCzhB,EAAW45B,GAAgCp4B,CAAAA,EAG7C,IAAMmF,EAAUvR,EAAQ4D,KAAM/G,CAAAA,EAC1BsI,EAQJ,OAPIsoB,IAOJ,OANEtoB,EAAU4nC,GAAiBniC,EAAU2G,CAAAA,GAErCkc,EAAeuf,GAAkBvf,CAAAA,EAEjCtoB,EAAUwiC,GAA0B/8B,EADhBi9B,GAA+Bt2B,EAASvR,EAAQytB,EAAc1wB,EAAAA,CAAAA,EACvB,YAAA,GAEtDytC,GAA+BrlC,EAASyF,EAAU5K,EAAQ4D,KAAM5G,CAAAA,CAAAA,CACxE,CACDiwC,kBAAAA,CACExI,EAAiB7gC,KAAMsjC,EAAAA,EACvB,IAAMn6B,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EAG/B,OAAOkwC,GADSC,GAA+BpgC,EADhC6+B,GAAmB7+B,EAAU/M,EAAQ4D,KAAM/G,CAAAA,CAAAA,EACO,WAAA,EACtBkQ,CAAAA,CAC5C,CACDqgC,iBAAAA,CACE3I,EAAiB7gC,KAAMsjC,EAAAA,EACvB,IAAMn6B,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EAG/B,OAAOqwC,GADSC,GAA8BvgC,EAD/B6+B,GAAmB7+B,EAAU/M,EAAQ4D,KAAM/G,CAAAA,CAAAA,EACM,WAAA,EACtBkQ,CAAAA,CAC3C,CAED/I,OAAAA,KAAYoI,EAAyBqF,EAAAA,OAA6BV,CAChE,OAAOu7B,GAAkBlgC,EAAMqF,CAAAA,CAChC,CACDzN,OAAAA,QAAe0mC,EAAgCC,EAAAA,CAC7C,IAAMruB,EAAMgwB,GAAkB5B,CAAAA,EACxBnuB,EAAM+vB,GAAkB3B,CAAAA,EAC9B,OAAOxX,GAAkBnzB,EAAQsc,EAAKzf,CAAAA,EAAWmD,EAAQuc,EAAK1f,CAAAA,CAAAA,CAC/D,CAAA,EAMH,SAASyuC,GACPnrB,EACAjf,EAAAA,CAEAujC,EAAiBtkB,EAAM+mB,EAAAA,EACvB,IAAM31B,EAAUvR,EAAQmgB,EAAMtjB,CAAAA,EAC9B,OAAO0wC,GAAsBptB,CAAAA,EAAM1K,UAAUlE,EAAS,CAAErQ,CAACA,CAAAA,EAAAA,EAAO,CAAA,EAAQA,CAAAA,CAC1E,CATAb,GAAmByqC,GAAW,oBAAA,EAAA,IClMjB0C,GDkMiB,KClMjBA,CACX9pC,YACE2xB,EACAC,EACAC,EACA1lB,EAAsC,EACtCC,EAAwC,EACxCC,EAAwC,EACxCC,EAA6C,EAC7CC,EAA6C,EAC7CC,EAA4C,EAC5C66B,EAA0C,UAAA,CAE1C,IAAM/gC,EAAOghC,EAA2B3V,CAAAA,EAClCprB,EAAQ+gC,EAA2B1V,CAAAA,EACnClrB,EAAM4gC,EAA2BzV,CAAAA,EACjClrB,EAAOwF,IAAPxF,OAAiC,EAAI2gC,EAA2Bn7B,CAAAA,EAChEvF,EAASwF,IAATxF,OAAqC,EAAI0gC,EAA2Bl7B,CAAAA,EACpEvF,EAASwF,IAATxF,OAAqC,EAAIygC,EAA2Bj7B,CAAAA,EACpEvF,EAAcwF,IAAdxF,OAA+C,EAAIwgC,EAA2Bh7B,CAAAA,EAC9EvF,EAAcwF,IAAdxF,OAA+C,EAAIugC,EAA2B/6B,CAAAA,EAC9EvF,EAAawF,IAAbxF,OAA6C,EAAIsgC,EAA2B96B,CAAAA,EAC5EnD,EAAWk+B,GAAwBF,IAAxBE,OAAsD,UAAYC,GAAiBH,CAAAA,CAAAA,EAEpG0C,GAAkBzjC,EAAMC,EAAOG,EAAKC,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,EAEpFgjC,GACE9pC,KACA,CAAE2N,QAAS,CAAEvH,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAOrD,KAAM,CAAEsD,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,CAAAA,CAAAA,EACzFqC,CAAAA,CAEH,CACGs+B,IAAAA,YAAAA,CAEF,OADA5G,EAAiB7gC,KAAMwjC,EAAAA,EAChBpnC,EAAQ4D,KAAM5G,CAAAA,CACtB,CACGgN,IAAAA,MAAAA,CACF,OAAOshC,GAAoB1nC,KAAM,MAAA,CAClC,CACGqG,IAAAA,OAAAA,CACF,OAAOqhC,GAAoB1nC,KAAM,OAAA,CAClC,CACGsG,IAAAA,WAAAA,CACF,OAAOohC,GAAoB1nC,KAAM,WAAA,CAClC,CACGwG,IAAAA,KAAAA,CACF,OAAOkhC,GAAoB1nC,KAAM,KAAA,CAClC,CACGyG,IAAAA,MAAAA,CACF,OAAOsjC,GAAgB/pC,KAAM,MAAA,CAC9B,CACG0G,IAAAA,QAAAA,CACF,OAAOqjC,GAAgB/pC,KAAM,QAAA,CAC9B,CACG2G,IAAAA,QAAAA,CACF,OAAOojC,GAAgB/pC,KAAM,QAAA,CAC9B,CACG4G,IAAAA,aAAAA,CACF,OAAOmjC,GAAgB/pC,KAAM,aAAA,CAC9B,CACG6G,IAAAA,aAAAA,CACF,OAAOkjC,GAAgB/pC,KAAM,aAAA,CAC9B,CACG8G,IAAAA,YAAAA,CACF,OAAOijC,GAAgB/pC,KAAM,YAAA,CAC9B,CACGkG,IAAAA,KAAAA,CACF,OAAOwhC,GAAoB1nC,KAAM,KAAA,CAClC,CACGmG,IAAAA,SAAAA,CACF,OAAOuhC,GAAoB1nC,KAAM,SAAA,CAClC,CACGutB,IAAAA,WAAAA,CACF,OAAOma,GAAoB1nC,KAAM,WAAA,CAClC,CACGwtB,IAAAA,WAAAA,CACF,OAAOka,GAAoB1nC,KAAM,WAAA,CAClC,CACGuwB,IAAAA,YAAAA,OACF,OAAOmX,EAAAA,GAAoB1nC,KAAM,YAAA,IAA1B0nC,YAAAA,EAAyCpZ,IACjD,CACGqZ,IAAAA,YAAAA,OACF,OAAOD,EAAAA,GAAoB1nC,KAAM,YAAA,IAA1B0nC,YAAAA,EAAyCthC,IACjD,CACG2pB,IAAAA,YAAAA,CACF,OAAO2X,GAAoB1nC,KAAM,YAAA,CAClC,CACGqhB,IAAAA,YAAAA,CACF,OAAOqmB,GAAoB1nC,KAAM,YAAA,CAClC,CACGwwB,IAAAA,aAAAA,CACF,OAAOkX,GAAoB1nC,KAAM,aAAA,CAClC,CACGgwB,IAAAA,cAAAA,CACF,OAAO0X,GAAoB1nC,KAAM,cAAA,CAClC,CACGywB,IAAAA,YAAAA,CACF,OAAOiX,GAAoB1nC,KAAM,YAAA,CAClC,CACD4nC,KAAKoC,EAAyCn8B,EAAAA,OAA6BV,CAEzE,GADA0zB,EAAiB7gC,KAAMwjC,EAAAA,EAAAA,CAClBsE,GAAYkC,CAAAA,EACf,MAAM,IAAI3tC,UAAU,kBAAA,EAEtB0rC,GAA4BiC,CAAAA,EAE5B,IAAM7gC,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EACzBuZ,EAAcvW,EAAQ4D,KAAM9G,EAAAA,EAC9ByX,EAASoS,MAAA,GACRilB,GAAmB7+B,EAAUwJ,EAAYhF,OAAAA,GACzCgF,EAAYxP,MAajB,OAJAwN,EAASs3B,GAAuB9+B,EAAUwH,EAPlBu3B,GACtB/+B,EACA6gC,EACA,CAAC,OAAQ,QAAS,YAAa,KAAA,EAC/B,CAAC,OAAQ,SAAU,SAAU,cAAe,cAAe,YAAA,EAC3D,SAAA,CAAA,EAMKhB,GADaiB,GAAmC9gC,EAAUwH,EADhD03B,GAA6B7C,EAAoB33B,CAAAA,CAAAA,CAAAA,EAEpB1E,CAAAA,CAC/C,CACD+gC,cAAcrgB,EAAAA,OAA2C1c,CACvD0zB,EAAiB7gC,KAAMwjC,EAAAA,EACvB,IAAMrgC,EAAO4lC,GAA0Blf,CAAAA,EAEvC,OAAOmf,GADa/E,GAA+B7nC,EAAQ4D,KAAM9G,EAAAA,EAAeyU,QAASxK,CAAAA,EAC3C/G,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAC7D,CACDkvC,aAAanB,EAAAA,CACXtG,EAAiB7gC,KAAMwjC,EAAAA,EACvB,IAAMr6B,EAAWo/B,GAAgCpB,CAAAA,EACjD,OAAO6B,GAA0B5sC,EAAQ4D,KAAM9G,EAAAA,EAAgBiQ,CAAAA,CAChE,CACDlI,IAAIwL,EAAwCoB,EAAAA,OAA4BV,CAEtE,OADA0zB,EAAiB7gC,KAAMwjC,EAAAA,EAChB2G,GAAyB,MAAOnqC,KAAMyM,EAAsBoB,CAAAA,CACpE,CACDlN,SACE8L,EACAoB,EAAAA,OAAiCV,CAGjC,OADA0zB,EAAiB7gC,KAAMwjC,EAAAA,EAChB2G,GAAyB,WAAYnqC,KAAMyM,EAAsBoB,CAAAA,CACzE,CACDq3B,MAAM/jC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMwjC,EAAAA,EAChB4G,GAAmC,QAASpqC,KAAMmB,EAAO0M,CAAAA,CACjE,CACDu3B,MAAMjkC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMwjC,EAAAA,EAChB4G,GAAmC,QAASpqC,KAAMmB,EAAO0M,CAAAA,CACjE,CACD5L,MAAMojC,EAAAA,CAEJ,GADAxE,EAAiB7gC,KAAMwjC,EAAAA,EACnB6B,IADmB7B,OACS,MAAM,IAAInnC,UAAU,+BAAA,EACpD,IAAMipC,EACoB,OAAjBD,GAAiB,SACnBE,GAAuB,eAAgBF,CAAAA,EACxCG,EAAoBH,CAAAA,EACpBh3B,EAAoBo3B,GAAsCH,CAAAA,EAC1DnoB,EAAeuoB,GAAyBJ,EAAS,YAAA,EACjDp2B,EAAey2B,GAA+BL,EAAS,eAAgB,OAAQM,GAAa,CAAC,KAAA,CAAA,EAU7Fl3B,EAToB,CACxBlI,IAAK,EACLC,KAAM,GACNC,OAAQ,GACRC,OAAQ,GACRC,YAAa,IACbC,YAAa,IACbC,WAAY,GAAA,EAEoBoI,CAAAA,EAElC22B,GAAqCx3B,EAAmBK,EADtCA,IAAY,CAAZA,EAGlB,IAAMiE,EAAcvW,EAAQ4D,KAAM9G,EAAAA,EAClC,OACS8vC,GADL36B,IAAsB,GAAKa,IAAiB,aACbyD,EAEpB03B,GAAoB13B,EAAatE,EAAmBa,EAAciO,CAAAA,EAFjC/gB,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAK/D,CACD4sC,OAAOje,EAAAA,CACL8Y,EAAiB7gC,KAAMwjC,EAAAA,EACvB,IAAMriC,EAAQmpC,GAAsBviB,CAAAA,EACpC,OAAIwiB,GAAsBnuC,EAAQ4D,KAAM9G,EAAAA,EAAgBkD,EAAQ+E,EAAOjI,EAAAA,CAAAA,IAAoB,GACpFyvC,GAAkBvsC,EAAQ4D,KAAM5G,CAAAA,EAAWgD,EAAQ+E,EAAO/H,CAAAA,CAAAA,CAClE,CACDpB,SAAS6V,EAAAA,OAAiCV,CACxC0zB,EAAiB7gC,KAAMwjC,EAAAA,EACvB,IAAMntB,EAAkBmvB,EAAoB33B,CAAAA,EACtCxE,EAAew/B,GAAqCxyB,CAAAA,EACpD6vB,EAASC,GAA2C9vB,CAAAA,EACpD8G,EAAeuoB,GAAyBrvB,EAAiB,OAAA,EACzDnH,EAAey2B,GAA+BtvB,EAAiB,eAAgB,OAAA,MAAQlJ,EAC7F,GAAI+B,IAAiB,OAAQ,MAAM,IAAI3O,WAAW,oDAAA,EAClD,GAAA,CAAM4O,UAAEA,EAASC,KAAEA,EAAIjN,UAAEA,CAAAA,EAAcikC,GAAkCl3B,EAAcg3B,CAAAA,EACjF7jC,EAASgoC,GAAoBjuC,EAAQ4D,KAAM9G,EAAAA,EAAgBiJ,EAAWiN,EAAM+N,CAAAA,EAElF,OADAqtB,GAAuBnoC,CAAAA,EAChBooC,GAAuBpoC,EAAQjG,EAAQ4D,KAAM5G,CAAAA,EAAW+V,EAAW9F,CAAAA,CAC3E,CACDi9B,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAMwjC,EAAAA,EAChBiH,GAAuBruC,EAAQ4D,KAAM9G,EAAAA,EAAgBkD,EAAQ4D,KAAM5G,CAAAA,EAAW,MAAA,CACtF,CACDmtC,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAGvC,OADA0zB,EAAiB7gC,KAAMwjC,EAAAA,EAChB,IAAI17B,GAAe23B,EAAS5xB,CAAAA,EAAS4S,OAAOzgB,IAAAA,CACpD,CACDwmC,SAAAA,CACEC,GAAiB,eAAA,CAClB,CAEDwC,gBACEjwB,EACAnL,EAAAA,OAAwCV,CAExC0zB,EAAiB7gC,KAAMwjC,EAAAA,EACvB,IAAMx8B,EAAW45B,GAAgC5nB,CAAAA,EAE3C/D,EAAiBy1B,GADClF,EAAoB33B,CAAAA,CAAAA,EAG5C,OAAO+4B,GADS7C,GAA0B/8B,EAAU5K,EAAQ4D,KAAM9G,EAAAA,EAAgB+b,CAAAA,EACnCjO,EAAU5K,EAAQ4D,KAAM5G,CAAAA,CAAAA,CACxE,CACDuxC,aAAAA,CAEE,OADA9J,EAAiB7gC,KAAMwjC,EAAAA,EAChB2E,GAAsB/rC,EAAQ4D,KAAM9G,EAAAA,EAAeyU,QAASvR,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAClF,CACDwxC,aAAAA,CAEE,OADA/J,EAAiB7gC,KAAMwjC,EAAAA,EAChBqH,GAAsBzuC,EAAQ4D,KAAM9G,EAAAA,EAAeiK,IAAAA,CAC3D,CAED/C,OAAAA,KAAYoI,EAAyBqF,EAAAA,OAA6BV,CAChE,OAAOm9B,GAAsB9hC,EAAMqF,CAAAA,CACpC,CACDzN,OAAAA,QAAe0mC,EAAgCC,EAAAA,CAC7C,IAAMruB,EAAM4xB,GAAsBxD,CAAAA,EAC5BnuB,EAAM2xB,GAAsBvD,CAAAA,EAClC,OAAOwD,GAAsBnuC,EAAQsc,EAAKxf,EAAAA,EAAgBkD,EAAQuc,EAAKzf,EAAAA,CAAAA,CACxE,CAAA,EAMH,SAASwuC,GACPryB,EACA/X,EAAAA,CAEAujC,EAAiBxrB,EAAImuB,EAAAA,EACrB,IAAM71B,EAAUvR,EAAQiZ,EAAInc,EAAAA,EAAeyU,QAC3C,OAAOg8B,GAAsBt0B,CAAAA,EAAIxD,UAAUlE,EAAS,CAAErQ,CAACA,CAAAA,EAAAA,EAAO,CAAA,EAAQA,CAAAA,CACxE,CAEA,SAASysC,GAAgB10B,EAA4B/X,EAAAA,CAEnD,OADAujC,EAAiBxrB,EAAImuB,EAAAA,EACdpnC,EAAQiZ,EAAInc,EAAAA,EAAeiK,KAAK7F,CAAAA,CACzC,CAdAb,GAAmBmtC,GAAe,wBAAA,EAAA,ICtOrBxhB,GDsOqB,MCtOrBA,CAAAA,CACXtoB,YACEgrC,EAAuC,EACvCC,EAAwC,EACxCC,EAAuC,EACvCC,EAAsC,EACtCC,EAAuC,EACvCC,EAAyC,EACzCC,EAAyC,EACzCC,EAA8C,EAC9CC,EAA8C,EAC9CC,EAA6C,EAAA,CAE7C,IAAM7+B,EAAQo+B,IAARp+B,OAAmC,EAAI8+B,GAAuBV,CAAAA,EAC9Dn+B,EAASo+B,IAATp+B,OAAqC,EAAI6+B,GAAuBT,CAAAA,EAChEn+B,EAAQo+B,IAARp+B,OAAmC,EAAI4+B,GAAuBR,CAAAA,EAC9D3pC,EAAO4pC,IAAP5pC,OAAiC,EAAImqC,GAAuBP,CAAAA,EAC5Dp+B,EAAQq+B,IAARr+B,OAAmC,EAAI2+B,GAAuBN,CAAAA,EAC9Dp+B,EAAUq+B,IAAVr+B,OAAuC,EAAI0+B,GAAuBL,CAAAA,EAClEp+B,EAAUq+B,IAAVr+B,OAAuC,EAAIy+B,GAAuBJ,CAAAA,EAClEp+B,EAAeq+B,IAAfr+B,OAAiD,EAAIw+B,GAAuBH,CAAAA,EAC5Ep+B,EAAeq+B,IAAfr+B,OAAiD,EAAIu+B,GAAuBF,CAAAA,EAC5Ep+B,EAAcq+B,IAAdr+B,OAA+C,EAAIs+B,GAAuBD,CAAAA,EAEhFE,GAAkB/+B,EAAOC,EAAQC,EAAOvL,EAAMwL,EAAOC,EAASC,EAASC,EAAcC,EAAcC,CAAAA,EAEnGpR,GAAYkE,IAAAA,EACZ1D,GAAQ0D,KAAMvG,GAAOiT,CAAAA,EACrBpQ,GAAQ0D,KAAMtG,GAAQiT,CAAAA,EACtBrQ,GAAQ0D,KAAMrG,GAAOiT,CAAAA,EACrBtQ,GAAQ0D,KAAMpG,GAAMyH,CAAAA,EACpB/E,GAAQ0D,KAAMnG,GAAOgT,CAAAA,EACrBvQ,GAAQ0D,KAAMlG,GAASgT,CAAAA,EACvBxQ,GAAQ0D,KAAMjG,GAASgT,CAAAA,EACvBzQ,GAAQ0D,KAAMhG,GAAcgT,CAAAA,EAC5B1Q,GAAQ0D,KAAM/F,GAAcgT,CAAAA,EAC5B3Q,GAAQ0D,KAAM9F,GAAagT,CAAAA,CAAAA,CAWzBR,IAAAA,OAAAA,CAEF,OADAm0B,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMvG,EAAAA,CAAAA,CAEnBkT,IAAAA,QAAAA,CAEF,OADAk0B,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMtG,EAAAA,CAAAA,CAEnBkT,IAAAA,OAAAA,CAEF,OADAi0B,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMrG,EAAAA,CAAAA,CAEnB0H,IAAAA,MAAAA,CAEF,OADAw/B,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMpG,EAAAA,CAAAA,CAEnBiT,IAAAA,OAAAA,CAEF,OADAg0B,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMnG,EAAAA,CAAAA,CAEnBiT,IAAAA,SAAAA,CAEF,OADA+zB,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMlG,EAAAA,CAAAA,CAEnBiT,IAAAA,SAAAA,CAEF,OADA8zB,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMjG,EAAAA,CAAAA,CAEnBiT,IAAAA,cAAAA,CAEF,OADA6zB,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAMhG,EAAAA,CAAAA,CAEnBiT,IAAAA,cAAAA,CAEF,OADA4zB,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAM/F,EAAAA,CAAAA,CAEnBiT,IAAAA,aAAAA,CAEF,OADA2zB,EAAiB7gC,KAAM0rC,EAAAA,EAChBtvC,EAAQ4D,KAAM9F,EAAAA,CAAAA,CAEnBkE,IAAAA,MAAAA,CAEF,OADAyiC,EAAiB7gC,KAAM0rC,EAAAA,EAChBC,GAAgB3rC,IAAAA,CAAAA,CAErB4rC,IAAAA,OAAAA,CAEF,OADA/K,EAAiB7gC,KAAM0rC,EAAAA,EAChBC,GAAgB3rC,IAAAA,IAAU,CAAVA,CAEzB4nC,KAAKre,EAAAA,CACHsX,EAAiB7gC,KAAM0rC,EAAAA,EACvB,IAAMG,EAAkBC,GAAmCviB,CAAAA,EAAAA,CACrD7c,MACJA,EAAQtQ,EAAQ4D,KAAMvG,EAAAA,EAAMkT,OAC5BA,EAASvQ,EAAQ4D,KAAMtG,EAAAA,EAAOkT,MAC9BA,EAAQxQ,EAAQ4D,KAAMrG,EAAAA,EAAM0H,KAC5BA,EAAOjF,EAAQ4D,KAAMpG,EAAAA,EAAKiT,MAC1BA,EAAQzQ,EAAQ4D,KAAMnG,EAAAA,EAAMiT,QAC5BA,EAAU1Q,EAAQ4D,KAAMlG,EAAAA,EAAQiT,QAChCA,EAAU3Q,EAAQ4D,KAAMjG,EAAAA,EAAQiT,aAChCA,EAAe5Q,EAAQ4D,KAAMhG,EAAAA,EAAaiT,aAC1CA,EAAe7Q,EAAQ4D,KAAM/F,EAAAA,EAAaiT,YAC1CA,EAAc9Q,EAAQ4D,KAAM9F,EAAAA,CAAAA,EAC1B2xC,EACJ,OAAO,IAAIzjB,EAAS1b,EAAOC,EAAQC,EAAOvL,EAAMwL,EAAOC,EAASC,EAASC,EAAcC,EAAcC,CAAAA,CAAAA,CAEvG6+B,SAAAA,CAEE,OADAlL,EAAiB7gC,KAAM0rC,EAAAA,EAChBM,GAAiChsC,IAAAA,CAAAA,CAE1C5H,KAAAA,CAEE,OADAyoC,EAAiB7gC,KAAM0rC,EAAAA,EAChB,IAAItjB,EACT/pB,KAAKjG,IAAIgE,EAAQ4D,KAAMvG,EAAAA,CAAAA,EACvB4E,KAAKjG,IAAIgE,EAAQ4D,KAAMtG,EAAAA,CAAAA,EACvB2E,KAAKjG,IAAIgE,EAAQ4D,KAAMrG,EAAAA,CAAAA,EACvB0E,KAAKjG,IAAIgE,EAAQ4D,KAAMpG,EAAAA,CAAAA,EACvByE,KAAKjG,IAAIgE,EAAQ4D,KAAMnG,EAAAA,CAAAA,EACvBwE,KAAKjG,IAAIgE,EAAQ4D,KAAMlG,EAAAA,CAAAA,EACvBuE,KAAKjG,IAAIgE,EAAQ4D,KAAMjG,EAAAA,CAAAA,EACvBsE,KAAKjG,IAAIgE,EAAQ4D,KAAMhG,EAAAA,CAAAA,EACvBqE,KAAKjG,IAAIgE,EAAQ4D,KAAM/F,EAAAA,CAAAA,EACvBoE,KAAKjG,IAAIgE,EAAQ4D,KAAM9F,EAAAA,CAAAA,CAAAA,CAAAA,CAG3B+G,IAAIE,EAAAA,CAEF,OADA0/B,EAAiB7gC,KAAM0rC,EAAAA,EAChBO,GAAgB,MAAOjsC,KAAMmB,CAAAA,CAAAA,CAEtCR,SAASQ,EAAAA,CAEP,OADA0/B,EAAiB7gC,KAAM0rC,EAAAA,EAChBO,GAAgB,WAAYjsC,KAAMmB,CAAAA,CAAAA,CAE3Cc,MAAMojC,EAAAA,CAEJ,GADAxE,EAAiB7gC,KAAM0rC,EAAAA,EACnBrG,IADmBqG,OACS,MAAM,IAAIrvC,UAAU,+BAAA,EAEpD,IAAM6vC,EAAsBC,GAA8BnsC,IAAAA,EACpDslC,EACoB,OAAjBD,GAAiB,SACnBE,GAAuB,eAAgBF,CAAAA,EACxCG,EAAoBH,CAAAA,EAEtB/sB,EAAcqtB,GAA+BL,EAAS,cAAe,WAAA,OAAuB,CAAC,MAAA,CAAA,EAAA,CAC7F90B,gBAAEA,EAAeD,gBAAEA,CAAAA,EAAoB67B,GAA+B9G,CAAAA,EACpEj3B,EAAoBo3B,GAAsCH,CAAAA,EAC1DnoB,EAAeuoB,GAAyBJ,EAAS,YAAA,EACnDp2B,EAAey2B,GAA+BL,EAAS,eAAgB,WAAA,MAAYn4B,EAEnFk/B,EAAAA,GACCn9B,IACHm9B,EAAAA,GACAn9B,EAAe,cAEjB,IAAM2Y,EAAqBykB,GAA4BJ,EAAqBh9B,CAAAA,EACxEq9B,EAAAA,GAMJ,GALKj0B,IACHi0B,EAAAA,GACAj0B,EAAcuP,GAEZvP,IAAgB,SAAQA,EAAcuP,GAAAA,CACrCwkB,GAAAA,CAAwBE,EAC3B,MAAM,IAAIhsC,WAAW,yDAAA,EAEvB,GAAI+rC,GAA4Bh0B,EAAapJ,CAAAA,IAAkBoJ,EAC7D,MAAM,IAAI/X,WAAW,eAAe+X,CAAAA,wCAAmDpJ,CAAAA,EAAAA,EAGzF,IAQMR,EARoB,CACxBjI,KAAM,GACNC,OAAQ,GACRC,OAAQ,GACRC,YAAa,IACbC,YAAa,IACbC,WAAY,GAAA,EAEoBoI,CAAAA,EAElC,GADIR,IACJ,QAD2Bm3B,GAAqCx3B,EAAmBK,EAAAA,EAAS,EACxFL,EAAoB,GAAKm+B,GAAwBt9B,CAAAA,IAAkB,QAAUoJ,IAAgBpJ,EAC/F,MAAM,IAAI3O,WAAW,+EAAA,EAGvB,GAAIgQ,EAAiB,CACnB,IAAI/M,EAAWipC,GAA4BzsC,IAAAA,EACrCgH,EAAW5K,EAAQmU,EAAiB/W,EAAAA,EACpC2P,EAAW/M,EAAQmU,EAAiBnX,CAAAA,EACpCszC,EAAkBtwC,EAAQmU,EAAiBvX,CAAAA,EAajD,OAXAwK,EAAWmpC,GACTD,EAFoBE,GAAoBF,EAAiB1lC,EAAUmC,EAAU3F,CAAAA,EAI7EwD,EACAmC,EACAmP,EACAjK,EACAa,EACAiO,CAAAA,EAEEqvB,GAAwBl0B,CAAAA,IAAiB,SAAQA,EAAc,QAC5Du0B,GAAgCrpC,EAAU8U,CAAAA,CAClD,CAED,GAAI9H,EAAiB,CACnB,IAAIhN,EAAWspC,GAA0C9sC,IAAAA,EACnD+sC,EAAaC,GN0oBhB,CAAEh6B,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,EM1oBvCtD,EAASL,IAAAA,EAG1D8pC,EAAoB7wC,EAAQoU,EAAiBvX,CAAAA,EAC7CkQ,EAAW/M,EAAQoU,EAAiBpX,CAAAA,EAEpC8zC,EAAaC,GAAmBhkC,EAAU8jC,EAD3BG,GAA4B5pC,EAAS+Y,KAAMwwB,EAAW/5B,SAAAA,EACM,WAAA,EAajF,OATAxP,EAAW6pC,GAFSpJ,GAA+BgJ,ENkoBhD,CAAEj6B,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EMjoBvEm9B,GAA+BiJ,EAAYH,CAAAA,EAIhE5jC,EACAmP,EACAjK,EACAa,EACAiO,CAAAA,EAEK0vB,GAAgCrpC,EAAU8U,CAAAA,CAClD,CAGD,GAAIg1B,GAAkBpB,CAAAA,EACpB,MAAM,IAAI3rC,WAAW,oCAAoC2rC,CAAAA,aAAAA,EAE3D,GAAIoB,GAAkBh1B,CAAAA,EACpB,MAAM,IAAI/X,WAAW,oCAAoC+X,CAAAA,aAAAA,EAG3D,IAAIuK,EAAmBiqB,GAA0C9sC,IAAAA,EACjE,GAAIkP,IAAiB,MAAO,CAE1B,GAAA,CAAMtW,SAAEA,EAAQT,UAAEA,CAAAA,EAAc0qB,EAAiB1f,KAAKxK,OAAO40C,EAAAA,EACzDlsC,EAAOwhB,EAAiBtG,KAAKlb,KAAOzI,EAAW40C,GAAqBr1C,EAAW,KAAA,EACnFkJ,EAAOosC,GAA0BpsC,EAAMgN,EAAmB8O,CAAAA,EAE1D0F,EAAmB6qB,GADE,CAAEhhC,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAAA,CAAAA,EACSxB,GAAa9I,IAAAA,CAC7E,MAEC8rB,EAAmB6qB,GN0lBhB,CAAEhhC,MAAO,EAAGC,OAAQ,EAAGC,MAAO,EAAGvL,KAAM,CAAA,EM3lBrBssC,GAAqB9qB,EAAiB1f,KAAMkL,EAAmBa,EAAciO,CAAAA,CAAAA,EAGpG,OAAO0vB,GAAgChqB,EAAkBvK,CAAAA,CAAAA,CAE3DsN,MAAM+Z,EAAAA,CAGJ,GAFAkB,EAAiB7gC,KAAM0rC,EAAAA,EAEnB/L,IAFmB+L,OAES,MAAM,IAAIrvC,UAAU,8BAAA,EACpD,IAAMwR,EACoB,OAAjB8xB,GAAiB,SACnB4F,GAAuB,OAAQ5F,CAAAA,EAChC6F,EAAoB7F,CAAAA,EAC1B,CAAInvB,gBAAEA,EAAeD,gBAAEA,CAAAA,EAAoB67B,GAA+Bv+B,CAAAA,EACpEuB,EAAOu2B,GAA+B93B,EAAS,OAAQ,WAAY+3B,EAAAA,EAEzE,GAAIr1B,EAAiB,CACnB,IAAM/M,EAAWipC,GAA4BzsC,IAAAA,EACvCgH,EAAW5K,EAAQmU,EAAiB/W,EAAAA,EACpC2P,EAAW/M,EAAQmU,EAAiBnX,CAAAA,EACpCszC,EAAkBtwC,EAAQmU,EAAiBvX,CAAAA,EAEjD,ON6rHA,SACJsqB,EACAC,EACAvc,EACAmC,EACAiG,EAAAA,CAEA,OAAIkC,GAAqBlC,CAAAA,IAAU,OAE1B6X,GAAkBpnB,GAAa2jB,gBAAgBD,EAAKD,CAAAA,EAAMlU,CAAAA,EAK5D4X,GAFU9C,GAAwBZ,EAAKC,EAAKvc,EAAUmC,EAAUiG,CAAAA,EAEhCmU,EADtB3Q,GAAkB5L,EAAUsc,CAAAA,EACStc,EAAUmC,EAAUiG,CAAAA,CAC5E,EM5sHiDs9B,EADrBE,GAAoBF,EAAiB1lC,EAAUmC,EAAU3F,CAAAA,EACJwD,EAAUmC,EAAUiG,CAAAA,CAChG,CAED,GAAIoB,EAAiB,CACnB,IAAMhN,EAAWspC,GAA0C9sC,IAAAA,EACvD+sC,EAAaC,GNwkBd,CAAEh6B,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,EMxkBzCtD,EAASL,IAAAA,EAGxD8pC,EAAoB7wC,EAAQoU,EAAiBvX,CAAAA,EAC7CkQ,EAAW/M,EAAQoU,EAAiBpX,CAAAA,EAEpC8zC,EAAaC,GAAmBhkC,EAAU8jC,EAD3BG,GAA4B5pC,EAAS+Y,KAAMwwB,EAAW/5B,SAAAA,EACM,WAAA,EAIjF,ON2nHA,SACJ2Q,EACAC,EACAza,EACAiG,EAAAA,CAEA,GAAIiM,GAAmBsI,EAAcC,CAAAA,GAAiB,EAAG,MAAO,GAEhEnN,GAAoBkN,CAAAA,EACpBlN,GAAoBmN,CAAAA,EACpB,IAAMpgB,EAAWkgB,GAAsBC,EAAcC,EAAcza,EAAUiG,CAAAA,EAE7E,OAAIA,IAAS,aAAqBpY,EAAAA,QAAKkJ,SAASsD,EAASL,KAAKpD,OAAAA,EAGvDinB,GAAsBxjB,EADT2Q,GAAuByP,CAAAA,EACSD,EAAc,KAAMxa,EAAUiG,CAAAA,CACpF,EM7oH0B60B,GAA+BgJ,ENgkBhD,CAAEj6B,UAAW,EAAGvM,KAAM,EAAGC,OAAQ,EAAGC,OAAQ,EAAGC,YAAa,EAAGC,YAAa,EAAGC,WAAY,CAAA,CAAA,EM/jBvEm9B,GAA+BiJ,EAAYH,CAAAA,EACM5jC,EAAUiG,CAAAA,CACnF,CAGD,IAAMkJ,EAAc6zB,GAA8BnsC,IAAAA,EAClD,GAAIstC,GAAkBh1B,CAAAA,EACpB,MAAM,IAAI/X,WAAW,oCAAoC+X,CAAAA,SAAAA,EAE3D,GAAIg1B,GAAkBl+B,CAAAA,EACpB,MAAM,IAAI7O,WAAW,oCAAoC6O,CAAAA,SAAAA,EAG3D,OAAOo+B,GADUV,GAA0C9sC,IAAAA,EACtBmD,KAAMiM,CAAAA,CAAAA,CAE7CpX,SAAS6V,EAAAA,OAAiCV,CACxC0zB,EAAiB7gC,KAAM0rC,EAAAA,EACvB,IAAMr1B,EAAkBmvB,EAAoB33B,CAAAA,EACtCq4B,EAASC,GAA2C9vB,CAAAA,EACpD8G,EAAeuoB,GAAyBrvB,EAAiB,OAAA,EACzDnH,EAAey2B,GAA+BtvB,EAAiB,eAAgB,OAAA,MAAQlJ,EAC7F,GAAI+B,IAAiB,QAAUA,IAAiB,SAC9C,MAAM,IAAI3O,WAAW,kEAAA,EAEvB,GAAA,CAAM4O,UAAEA,EAASC,KAAEA,EAAIjN,UAAEA,CAAAA,EAAcikC,GAAkCl3B,EAAcg3B,CAAAA,EAMvF,GAAI92B,IAAS,cAAgBjN,IAAc,EAAG,OAAOyrC,GAA4B5tC,KAAMmP,CAAAA,EAEvF,IAAMmJ,EAAc6zB,GAA8BnsC,IAAAA,EAC9C6iB,EAAmB4pB,GAA4BzsC,IAAAA,EAC7Csa,EAAeqzB,GAAqB9qB,EAAiB1f,KAAMhB,EAAWiN,EAAM+N,CAAAA,EAMlF,OALA0F,EAAmB6qB,GAA8B7qB,EAAiBtG,KAAMjC,CAAAA,EAKjEszB,GAJiBf,GACtBhqB,EACAypB,GAA4Bh0B,EAAa,QAAA,CAAA,EAESnJ,CAAAA,CAAAA,CAEtDm3B,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAM0rC,EAAAA,EAChBkC,GAA4B5tC,KAAM,MAAA,CAAA,CAE3CumC,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAGvC,GADA0zB,EAAiB7gC,KAAM0rC,EAAAA,EACY,OAAxB7jC,KAAKy8B,gBAAmB,WAAY,CAC7C,IAAMlS,EAAY,IAAIvqB,KAAKy8B,eAAe7E,EAAS5xB,CAAAA,EACnD,OAAO02B,GAA0C/Y,KAAK4G,EAAWpyB,IAAAA,CAClE,CAED,OADA6tC,QAAQC,KAAK,4EAAA,EACNF,GAA4B5tC,KAAM,MAAA,CAAA,CAE3CwmC,SAAAA,CACEC,GAAiB,UAAA,CAAA,CAEnBrmC,OAAAA,KAAYoI,EAAAA,CACV,OAAOg8B,GAAsBh8B,CAAAA,CAAAA,CAE/BpI,OAAAA,QACE0mC,EACAC,EACAl5B,EAAAA,OAAgCV,CAEhC,IAAMuL,EAAM8rB,GAAsBsC,CAAAA,EAC5BnuB,EAAM6rB,GAAsBuC,CAAAA,EAC5B1wB,EAAkBmvB,EAAoB33B,CAAAA,EAAAA,CACtC2C,gBAAEA,EAAeD,gBAAEA,CAAAA,EAAoB67B,GAA+B/1B,CAAAA,EAE5E,GACEja,EAAQsc,EAAKjf,EAAAA,IAAW2C,EAAQuc,EAAKlf,EAAAA,GACrC2C,EAAQsc,EAAKhf,EAAAA,IAAY0C,EAAQuc,EAAKjf,EAAAA,GACtC0C,EAAQsc,EAAK/e,EAAAA,IAAWyC,EAAQuc,EAAKhf,EAAAA,GACrCyC,EAAQsc,EAAK9e,EAAAA,IAAUwC,EAAQuc,EAAK/e,EAAAA,GACpCwC,EAAQsc,EAAK7e,EAAAA,IAAWuC,EAAQuc,EAAK9e,EAAAA,GACrCuC,EAAQsc,EAAK5e,EAAAA,IAAasC,EAAQuc,EAAK7e,EAAAA,GACvCsC,EAAQsc,EAAK3e,EAAAA,IAAaqC,EAAQuc,EAAK5e,EAAAA,GACvCqC,EAAQsc,EAAK1e,EAAAA,IAAkBoC,EAAQuc,EAAK3e,EAAAA,GAC5CoC,EAAQsc,EAAKze,EAAAA,IAAkBmC,EAAQuc,EAAK1e,EAAAA,GAC5CmC,EAAQsc,EAAKxe,EAAAA,IAAiBkC,EAAQuc,EAAKze,EAAAA,EAE3C,MAAO,GAGT,IAAM6zC,EAAe5B,GAA8BzzB,CAAAA,EAC7Cs1B,EAAe7B,GAA8BxzB,CAAAA,EAC7Cs1B,EAAYxB,GAA4B/zB,CAAAA,EACxCw1B,EAAYzB,GAA4B9zB,CAAAA,EAE9C,GACEpI,IACCi8B,GAAwBuB,CAAAA,IAAkB,QAAUvB,GAAwBwB,CAAAA,IAAkB,QAC/F,CACA,IAAMhnC,EAAW5K,EAAQmU,EAAiB/W,EAAAA,EACpC2P,EAAW/M,EAAQmU,EAAiBnX,CAAAA,EACpCmI,EAAUnF,EAAQmU,EAAiBvX,CAAAA,EAEnCm1C,EAASvB,GAAoBrrC,EAASyF,EAAUmC,EAAU8kC,CAAAA,EAC1DG,EAASxB,GAAoBrrC,EAASyF,EAAUmC,EAAU+kC,CAAAA,EAChE,OAAO9Y,GAAoBp+B,EAAAA,QAAKkJ,SAASlJ,EAAAA,QAAK2J,SAASwtC,EAAQC,CAAAA,CAAAA,CAAAA,CAChE,CAED,IAAIhlB,EAAK6kB,EAAU1xB,KAAKlb,KACpBgoB,EAAK6kB,EAAU3xB,KAAKlb,KACxB,GAAIisC,GAAkBS,CAAAA,GAAiBT,GAAkBU,CAAAA,EAAe,CACtE,GAAA,CAAKx9B,EACH,MAAM,IAAIjQ,WAAW,qEAAA,EAEvB6oB,EAAKilB,GAAoBJ,EAAU1xB,KAAM/L,CAAAA,EACzC6Y,EAAKglB,GAAoBH,EAAU3xB,KAAM/L,CAAAA,CAC1C,CACD,IAAM89B,EAAgBL,EAAU9qC,KAAK/B,cAAcgoB,CAAAA,EAC7CmlB,EAAgBL,EAAU/qC,KAAK/B,cAAcioB,CAAAA,EACnD,OAAOilB,EAAc5uC,IAAI6uC,CAAAA,CAAAA,CAAAA,EAK7B9xC,GAAmB2rB,GAAU,mBAAA,EAAA,IC9ahBomB,GD8agB,KC9ahBA,CACX1uC,YACE4xB,EACAC,EACAwV,EAAgB,UAChBr8B,EAAmB,KAAA,CAEnB,IAAMzE,EAAQ+gC,EAA2B1V,CAAAA,EACnClrB,EAAM4gC,EAA2BzV,CAAAA,EACjCxoB,EAAWk+B,GAAwBF,IAAxBE,OAAsD,UAAYC,GAAiBH,CAAAA,CAAAA,EAC9F/gC,EAAOghC,EAA2Bt8B,CAAAA,EAExCy8B,GAAiBnhC,EAAMC,EAAOG,CAAAA,EAC9BioC,GAA+BzuC,KAAM,CAAEoG,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAO2C,CAAAA,CAC5D,CAEG7C,IAAAA,WAAAA,CACF,OAAOohC,GAAoB1nC,KAAM,WAAA,CAClC,CACGwG,IAAAA,KAAAA,CACF,OAAOkhC,GAAoB1nC,KAAM,KAAA,CAClC,CACGynC,IAAAA,YAAAA,CAEF,OADA5G,EAAiB7gC,KAAM2jC,EAAAA,EAChBvnC,EAAQ4D,KAAM5G,CAAAA,CACtB,CAEDwuC,KAAK8G,EAAyC7gC,EAAAA,OAA6BV,CAEzE,GADA0zB,EAAiB7gC,KAAM2jC,EAAAA,EAAAA,CAClBmE,GAAY4G,CAAAA,EACf,MAAM,IAAIryC,UAAU,kBAAA,EAEtB0rC,GAA4B2G,CAAAA,EAE5B,IAAMvlC,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EAC3BuX,EAASq3B,GAAmB7+B,EAAU/M,EAAQ4D,KAAM/G,CAAAA,EAAW,WAAA,EAYnE,OAJA0X,EAASs3B,GAAuB9+B,EAAUwH,EAPlBu3B,GACtB/+B,EACAulC,EACA,CAAC,OAAQ,QAAS,YAAa,KAAA,EAC/B,CAAA,EACA,SAAA,CAAA,EAMKjF,GADSC,GAA8BvgC,EAAUwH,EADvC03B,GAA6B7C,EAAoB33B,CAAAA,CAAAA,CAAAA,EAExB1E,CAAAA,CAC3C,CACD68B,OAAOje,EAAAA,CACL8Y,EAAiB7gC,KAAM2jC,EAAAA,EACvB,IAAMxiC,EAAQwtC,GAAsB5mB,CAAAA,EACpC,OAAIwH,GAAkBnzB,EAAQ4D,KAAM/G,CAAAA,EAAWmD,EAAQ+E,EAAOlI,CAAAA,CAAAA,IAAe,GACtE0vC,GAAkBvsC,EAAQ4D,KAAM5G,CAAAA,EAAWgD,EAAQ+E,EAAO/H,CAAAA,CAAAA,CAClE,CACDpB,SAAS6V,EAAAA,OAAiCV,CAIxC,OAHA0zB,EAAiB7gC,KAAM2jC,EAAAA,EAGhBiL,GAA4B5uC,KADd6oC,GADGrD,EAAoB33B,CAAAA,CAAAA,CAAAA,CAG7C,CACDy4B,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAM2jC,EAAAA,EAChBiL,GAA4B5uC,IAAAA,CACpC,CACDumC,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAGvC,OADA0zB,EAAiB7gC,KAAM2jC,EAAAA,EAChB,IAAI77B,GAAe23B,EAAS5xB,CAAAA,EAAS4S,OAAOzgB,IAAAA,CACpD,CACDwmC,SAAAA,CACEC,GAAiB,eAAA,CAClB,CACDkE,YAAYniC,EAAAA,CAEV,GADAq4B,EAAiB7gC,KAAM2jC,EAAAA,EAAAA,CAClBmE,GAAYt/B,CAAAA,EAAO,MAAM,IAAInM,UAAU,8BAAA,EAC5C,IAAM8M,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EAM/B,OAAO+uC,GADSC,GAA0Bj/B,EADvB8+B,GAAuB9+B,EAF3B6+B,GAAmB7+B,EAAU/M,EAAQ4D,KAAM/G,CAAAA,EAAW,WAAA,EACjDivC,GAAyB/+B,EAAUX,EAAM,CAAC,MAAA,EAAS,CAAA,EAAI,CAAA,CAAA,CAAA,EAET,WAAA,EAC5BW,CAAAA,CACvC,CAED/I,OAAAA,KAAYoI,EAAyBqF,EAAAA,OAA6BV,CAChE,OAAOwhC,GAAsBnmC,EAAMqF,CAAAA,CACpC,CAAA,EAMH,SAAS65B,GACPmH,EACAvxC,EAAAA,CAEAujC,EAAiBgO,EAAIlL,EAAAA,EACrB,IAAMh2B,EAAUvR,EAAQyyC,EAAI51C,CAAAA,EAC5B,OAAO0wC,GAAsBkF,CAAAA,EAAIh9B,UAAUlE,EAAS,CAAErQ,CAACA,CAAAA,EAAAA,EAAO,CAAA,EAAQA,CAAAA,CACxE,CC1GA,SAASwxC,GAAe9nC,EAAAA,CACtB,OAAO+nC,GAAqB/nC,EAAUgoC,GAAAA,CAAAA,CACxC,CD+FAvyC,GAAmB+xC,GAAe,wBAAA,EC7FlC,IA0BaS,GAA2B,CACtCpzB,QA3BgD,IACzCiqB,GAAyBkJ,GAAAA,CAAAA,EA2BhCE,iBAzBkE,CAACl2B,EAAuBm2B,GAAAA,IAGnFnG,GADa8F,GADHlO,GAAgC5nB,CAAAA,CAAAA,EAEH,SAAA,EAuB9Co2B,aAjB0D,CAACp2B,EAAuBm2B,GAAAA,IAG3EhH,GADa2G,GADHlO,GAAgC5nB,CAAAA,CAAAA,EAERrL,QAAS,SAAA,EAelD0hC,aAb0D,CAACr2B,EAAuBm2B,GAAAA,IAG3EtE,GADaiE,GADHlO,GAAgC5nB,CAAAA,CAAAA,EAER7V,IAAAA,EAWzCmsC,WATsD,IAC/CH,GAAAA,EASPI,iBAxBkE,CAACv2B,EAAuBm2B,GAAAA,IAAAA,CAC1F,IAAMnoC,EAAW45B,GAAgC5nB,CAAAA,EACjD,OAAO4tB,GAA+BoI,GAAAA,EAAgChoC,EAAU,SAAA,CAAU,EAuB1F,CAAC9L,OAAO4B,WAAAA,EAAc,cAAA,EAExBlB,OAAOgB,eAAeqyC,GAAK/zC,OAAO4B,YAAa,CAC7C/E,MAAO,eACPgF,SAAAA,GACAC,WAAAA,GACAC,aAAAA,EAAc,CAAA,EAAA,ICtCHuyC,GDsCG,MCtCHA,CAAAA,CACX1vC,YAAY2vC,EAAU,EAAGC,EAAY,EAAGC,EAAY,EAAGC,EAAiB,EAAGC,EAAiB,EAAGC,EAAgB,EAAA,CAC7G,IAAMrpC,EAAOgpC,IAAPhpC,OAA+B,EAAI2gC,EAA2BqI,CAAAA,EAC9D/oC,EAASgpC,IAAThpC,OAAmC,EAAI0gC,EAA2BsI,CAAAA,EAClE/oC,EAASgpC,IAAThpC,OAAmC,EAAIygC,EAA2BuI,CAAAA,EAClE/oC,EAAcgpC,IAAdhpC,OAA6C,EAAIwgC,EAA2BwI,CAAAA,EAC5E/oC,EAAcgpC,IAAdhpC,OAA6C,EAAIugC,EAA2ByI,CAAAA,EAC5E/oC,EAAagpC,IAAbhpC,OAA2C,EAAIsgC,EAA2B0I,CAAAA,EAEhFC,GAActpC,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,EAG9DkpC,GAA2BhwC,KAFd,CAAEyG,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,CAAAA,CAAAA,CAGhE,CAEGL,IAAAA,MAAAA,CAEF,OADAo6B,EAAiB7gC,KAAMujC,EAAAA,EAChBnnC,EAAQ4D,KAAM7G,EAAAA,EAAMsN,IAC5B,CACGC,IAAAA,QAAAA,CAEF,OADAm6B,EAAiB7gC,KAAMujC,EAAAA,EAChBnnC,EAAQ4D,KAAM7G,EAAAA,EAAMuN,MAC5B,CACGC,IAAAA,QAAAA,CAEF,OADAk6B,EAAiB7gC,KAAMujC,EAAAA,EAChBnnC,EAAQ4D,KAAM7G,EAAAA,EAAMwN,MAC5B,CACGC,IAAAA,aAAAA,CAEF,OADAi6B,EAAiB7gC,KAAMujC,EAAAA,EAChBnnC,EAAQ4D,KAAM7G,EAAAA,EAAMyN,WAC5B,CACGC,IAAAA,aAAAA,CAEF,OADAg6B,EAAiB7gC,KAAMujC,EAAAA,EAChBnnC,EAAQ4D,KAAM7G,EAAAA,EAAM0N,WAC5B,CACGC,IAAAA,YAAAA,CAEF,OADA+5B,EAAiB7gC,KAAMujC,EAAAA,EAChBnnC,EAAQ4D,KAAM7G,EAAAA,EAAM2N,UAC5B,CAED8gC,KAAKqI,EAAqCpiC,EAAAA,OAA6BV,CAErE,GADA0zB,EAAiB7gC,KAAMujC,EAAAA,EAAAA,CAClBuE,GAAYmI,CAAAA,EACf,MAAM,IAAI5zC,UAAU,kBAAA,EAEtB0rC,GAA4BkI,CAAAA,EAE5B,IAAMC,EAAcC,GAAwBF,EAAkB,SAAA,EAExDt/B,EAASw/B,GAAwBnwC,IAAAA,EACvC,CAAIyG,KAAEA,EAAIC,OAAEA,EAAMC,OAAEA,EAAMC,YAAEA,EAAWC,YAAEA,EAAWC,WAAEA,CAAAA,EAAelL,OAAO+hB,OAAOhN,EAAQu/B,CAAAA,EACrFpkC,EAAWu8B,GAA6B7C,EAAoB33B,CAAAA,CAAAA,EAUlE,MAAA,CATGpH,KAAAA,EAAMC,OAAAA,EAAQC,OAAAA,EAAQC,YAAAA,EAAaC,YAAAA,EAAaC,WAAAA,CAAAA,EAAespC,GAChE3pC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAgF,CAAAA,EAEK,IAAI0jC,EAAU/oC,EAAMC,EAAQC,EAAQC,EAAaC,EAAaC,CAAAA,CACtE,CACD7F,IAAIwL,EAAAA,CAEF,OADAo0B,EAAiB7gC,KAAMujC,EAAAA,EAChB8M,GAAqB,MAAOrwC,KAAMyM,CAAAA,CAC1C,CACD9L,SAAS8L,EAAAA,CAEP,OADAo0B,EAAiB7gC,KAAMujC,EAAAA,EAChB8M,GAAqB,WAAYrwC,KAAMyM,CAAAA,CAC/C,CACDy4B,MAAM/jC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMujC,EAAAA,EAChB+M,GAA+B,QAAStwC,KAAMmB,EAAO0M,CAAAA,CAC7D,CACDu3B,MAAMjkC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMujC,EAAAA,EAChB+M,GAA+B,QAAStwC,KAAMmB,EAAO0M,CAAAA,CAC7D,CACD5L,MAAMojC,EAAAA,CAEJ,GADAxE,EAAiB7gC,KAAMujC,EAAAA,EACnB8B,IADmB9B,OACS,MAAM,IAAIlnC,UAAU,+BAAA,EACpD,IAAMipC,EACoB,OAAjBD,GAAiB,SACnBE,GAAuB,eAAgBF,CAAAA,EACxCG,EAAoBH,CAAAA,EACpBh3B,EAAoBo3B,GAAsCH,CAAAA,EAC1DnoB,EAAeuoB,GAAyBJ,EAAS,YAAA,EACjDp2B,EAAey2B,GAA+BL,EAAS,eAAgB,OAAQM,EAAAA,EAYrF,OAHAC,GAAqCx3B,EARd,CACrB5H,KAAM,GACNC,OAAQ,GACRC,OAAQ,GACRC,YAAa,IACbC,YAAa,IACbC,WAAY,GAAA,EAEyDoI,CAAAA,EAAAA,EAAe,EAG/E27B,GADM0F,GAAan0C,EAAQ4D,KAAM7G,EAAAA,EAAOkV,EAAmBa,EAAciO,CAAAA,CAAAA,CAEjF,CACD6oB,OAAOje,EAAAA,CACL8Y,EAAiB7gC,KAAMujC,EAAAA,EACvB,IAAMpiC,EAAQioC,GAAkBrhB,CAAAA,EAChC,OAAOyoB,GAAqBp0C,EAAQ4D,KAAM7G,EAAAA,EAAOiD,EAAQ+E,EAAOhI,EAAAA,CAAAA,IAAW,CAC5E,CAEDnB,SAAS6V,EAAAA,OAAiCV,CACxC0zB,EAAiB7gC,KAAMujC,EAAAA,EACvB,IAAMltB,EAAkBmvB,EAAoB33B,CAAAA,EACtCq4B,EAASC,GAA2C9vB,CAAAA,EACpD8G,EAAeuoB,GAAyBrvB,EAAiB,OAAA,EACzDnH,EAAey2B,GAA+BtvB,EAAiB,eAAgB,OAAA,MAAQlJ,EAC7F,GAAI+B,IAAiB,OAAQ,MAAM,IAAI3O,WAAW,oDAAA,EAClD,GAAA,CAAM4O,UAAEA,EAASC,KAAEA,EAAIjN,UAAEA,CAAAA,EAAcikC,GAAkCl3B,EAAcg3B,CAAAA,EAEvF,OAAOuK,GADMF,GAAan0C,EAAQ4D,KAAM7G,EAAAA,EAAOgJ,EAAWiN,EAAM+N,CAAAA,EAC7BhO,CAAAA,CACpC,CACDm3B,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAMujC,EAAAA,EAChBkN,GAAsBr0C,EAAQ4D,KAAM7G,EAAAA,EAAO,MAAA,CACnD,CACDotC,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAGvC,OADA0zB,EAAiB7gC,KAAMujC,EAAAA,EAChB,IAAIz7B,GAAe23B,EAAS5xB,CAAAA,EAAS4S,OAAOzgB,IAAAA,CACpD,CACDwmC,SAAAA,CACEC,GAAiB,WAAA,CAClB,CAEDrmC,OAAAA,KAAYoI,EAAyBqF,EAAAA,OAA6BV,CAChE,OAAOi8B,GAAkB5gC,EAAMqF,CAAAA,CAChC,CACDzN,OAAAA,QAAe0mC,EAAgCC,EAAAA,CAC7C,IAAMruB,EAAM0wB,GAAkBtC,CAAAA,EACxBnuB,EAAMywB,GAAkBrC,CAAAA,EAC9B,OAAOyJ,GAAqBp0C,EAAQsc,EAAKvf,EAAAA,EAAOiD,EAAQuc,EAAKxf,EAAAA,CAAAA,CAC9D,CAAA,EAIHsD,GAAmB+yC,GAAW,oBAAA,EAAA,IC9IjBkB,GD8IiB,KC9IjBA,CACX5wC,YACE2xB,EACAC,EACAyV,EAA0C,UAC1Cv8B,EAA4C,EAAA,CAE5C,IAAMxE,EAAOghC,EAA2B3V,CAAAA,EAClCprB,EAAQ+gC,EAA2B1V,CAAAA,EACnCvoB,EAAWk+B,GAAwBF,IAAxBE,OAAsD,UAAYC,GAAiBH,CAAAA,CAAAA,EAC9F3gC,EAAM4gC,EAA2Bx8B,CAAAA,EAEvC28B,GAAiBnhC,EAAMC,EAAOG,CAAAA,EAC9BmqC,GAAgC3wC,KAAM,CAAEoG,KAAAA,EAAMC,MAAAA,EAAOG,IAAAA,CAAAA,EAAO2C,CAAAA,CAC7D,CACG/C,IAAAA,MAAAA,CACF,OAAOshC,GAAoB1nC,KAAM,MAAA,CAClC,CACGqG,IAAAA,OAAAA,CACF,OAAOqhC,GAAoB1nC,KAAM,OAAA,CAClC,CACGsG,IAAAA,WAAAA,CACF,OAAOohC,GAAoB1nC,KAAM,WAAA,CAClC,CACGynC,IAAAA,YAAAA,CAEF,OADA5G,EAAiB7gC,KAAM0jC,EAAAA,EAChBtnC,EAAQ4D,KAAM5G,CAAAA,CACtB,CACG8M,IAAAA,KAAAA,CACF,OAAOwhC,GAAoB1nC,KAAM,KAAA,CAClC,CACGmG,IAAAA,SAAAA,CACF,OAAOuhC,GAAoB1nC,KAAM,SAAA,CAClC,CACGwwB,IAAAA,aAAAA,CACF,OAAOkX,GAAoB1nC,KAAM,aAAA,CAClC,CACGqhB,IAAAA,YAAAA,CACF,OAAOqmB,GAAoB1nC,KAAM,YAAA,CAClC,CACGgwB,IAAAA,cAAAA,CACF,OAAO0X,GAAoB1nC,KAAM,cAAA,CAClC,CACGywB,IAAAA,YAAAA,CACF,OAAOiX,GAAoB1nC,KAAM,YAAA,CAClC,CACD4nC,KAAKgJ,EAA0C/iC,EAAAA,OAA6BV,CAE1E,GADA0zB,EAAiB7gC,KAAM0jC,EAAAA,EAAAA,CAClBoE,GAAY8I,CAAAA,EACf,MAAM,IAAIv0C,UAAU,kBAAA,EAEtB0rC,GAA4B6I,CAAAA,EAE5B,IAAMznC,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EAC3BuX,EAASq3B,GAAmB7+B,EAAU/M,EAAQ4D,KAAM/G,CAAAA,EAAW,YAAA,EAYnE,OAJA0X,EAASs3B,GAAuB9+B,EAAUwH,EAPjBu3B,GACvB/+B,EACAynC,EACA,CAAC,OAAQ,QAAS,WAAA,EAClB,CAAA,EACA,SAAA,CAAA,EAMKtH,GADSC,GAA+BpgC,EAAUwH,EADxC03B,GAA6B7C,EAAoB33B,CAAAA,CAAAA,CAAAA,EAEvB1E,CAAAA,CAC5C,CACDlI,IAAIwL,EAAwCoB,EAAAA,OAA4BV,CAEtE,OADA0zB,EAAiB7gC,KAAM0jC,EAAAA,EAChBmN,GAA0B,MAAO7wC,KAAMyM,EAAsBoB,CAAAA,CACrE,CACDlN,SACE8L,EACAoB,EAAAA,OAAiCV,CAGjC,OADA0zB,EAAiB7gC,KAAM0jC,EAAAA,EAChBmN,GAA0B,WAAY7wC,KAAMyM,EAAsBoB,CAAAA,CAC1E,CACDq3B,MAAM/jC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAM0jC,EAAAA,EAChBoN,GAAoC,QAAS9wC,KAAMmB,EAAO0M,CAAAA,CAClE,CACDu3B,MAAMjkC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAM0jC,EAAAA,EAChBoN,GAAoC,QAAS9wC,KAAMmB,EAAO0M,CAAAA,CAClE,CACDm4B,OAAOje,EAAAA,CACL8Y,EAAiB7gC,KAAM0jC,EAAAA,EACvB,IAAMviC,EAAQ4vC,GAAuBhpB,CAAAA,EACrC,OAAIwH,GAAkBnzB,EAAQ4D,KAAM/G,CAAAA,EAAWmD,EAAQ+E,EAAOlI,CAAAA,CAAAA,IAAe,GACtE0vC,GAAkBvsC,EAAQ4D,KAAM5G,CAAAA,EAAWgD,EAAQ+E,EAAO/H,CAAAA,CAAAA,CAClE,CACDpB,SAAS6V,EAAAA,OAAiCV,CAIxC,OAHA0zB,EAAiB7gC,KAAM0jC,EAAAA,EAGhBsN,GAA6BhxC,KADf6oC,GADGrD,EAAoB33B,CAAAA,CAAAA,CAAAA,CAG7C,CACDy4B,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAM0jC,EAAAA,EAChBsN,GAA6BhxC,IAAAA,CACrC,CACDumC,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAGvC,OADA0zB,EAAiB7gC,KAAM0jC,EAAAA,EAChB,IAAI57B,GAAe23B,EAAS5xB,CAAAA,EAAS4S,OAAOzgB,IAAAA,CACpD,CACDwmC,SAAAA,CACEC,GAAiB,gBAAA,CAClB,CACDkE,YAAYniC,EAAAA,CAEV,GADAq4B,EAAiB7gC,KAAM0jC,EAAAA,EAAAA,CAClBoE,GAAYt/B,CAAAA,EAAO,MAAM,IAAInM,UAAU,8BAAA,EAC5C,IAAM8M,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EAM/B,OAAO+uC,GADSC,GAA0Bj/B,EADrB8+B,GAAuB9+B,EAF7B6+B,GAAmB7+B,EAAU/M,EAAQ4D,KAAM/G,CAAAA,EAAW,YAAA,EACjDivC,GAAyB/+B,EAAUX,EAAM,CAAC,KAAA,EAAQ,CAAA,EAAI,CAAA,CAAA,CAAA,EAER,WAAA,EAC5BW,CAAAA,CACvC,CAED/I,OAAAA,KAAYoI,EAAyBqF,EAAAA,OAA6BV,CAChE,OAAO4jC,GAAuBvoC,EAAMqF,CAAAA,CACrC,CACDzN,OAAAA,QAAe0mC,EAAgCC,EAAAA,CAC7C,IAAMruB,EAAMq4B,GAAuBjK,CAAAA,EAC7BnuB,EAAMo4B,GAAuBhK,CAAAA,EACnC,OAAOxX,GAAkBnzB,EAAQsc,EAAKzf,CAAAA,EAAWmD,EAAQuc,EAAK1f,CAAAA,CAAAA,CAC/D,CAAA,EAMH,SAASyuC,GACPuJ,EACA3zC,EAAAA,CAEAujC,EAAiBoQ,EAAIvN,EAAAA,EACrB,IAAM/1B,EAAUvR,EAAQ60C,EAAIh4C,CAAAA,EAC5B,OAAO0wC,GAAsBsH,CAAAA,EAAIp/B,UAAUlE,EAAS,CAAErQ,CAACA,CAAAA,EAAAA,EAAO,CAAA,EAAQA,CAAAA,CACxE,CATAb,GAAmBi0C,GAAgB,yBAAA,ECnInC,IAAMQ,GAAwBppC,GAAejL,UAAUwZ,gBAE1C86B,GAF0C96B,KAE1C86B,CACXrxC,YAAYqrB,EAAsCwb,EAAuBQ,EAAgB,UAAA,CAGvF,GAAItC,UAAUxnC,OAAS,EACrB,MAAM,IAAIhB,UAAU,gDAAA,EAEtB,IAAM6a,EAAmB6tB,GAAY5Z,CAAAA,EACjCnkB,EAAWsgC,GAAiBX,CAAAA,EAChC,CAAMl7B,OAAEA,EAAMD,cAAEA,CAAAA,EAAkB4lC,GAA2BpqC,CAAAA,EAC7D,GAAIwE,IAAJ,OAAiC,CAE/B,IAAM2N,EAASk4B,GAAuC5lC,CAAAA,EACtD,GAAA,CAAK0N,EAAQ,MAAM,IAAI5Y,WAAW,qBAAqBkL,CAAAA,EAAAA,EACvDzE,EAAWmS,EAAO5N,UACnB,MACCvE,EAAWsqC,GAAkC9lC,CAAAA,EAI/C+lC,GAAoCvxC,KAAMkX,EAAkBlQ,EAF3CqgC,GAAwBF,IAAxBE,OAAsD,UAAYC,GAAiBH,CAAAA,CAAAA,CAAAA,CAAAA,CAIlGM,IAAAA,YAAAA,CAEF,OADA5G,EAAiB7gC,KAAMyjC,EAAAA,EAChBrnC,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAEnBk2C,IAAAA,YAAAA,CAEF,OADAzO,EAAiB7gC,KAAMyjC,EAAAA,EAChBrnC,EAAQ4D,KAAMxG,EAAAA,CAAAA,CAEnB4M,IAAAA,MAAAA,CACF,OAAOshC,GAAoB1nC,KAAM,MAAA,CAAA,CAE/BqG,IAAAA,OAAAA,CACF,OAAOqhC,GAAoB1nC,KAAM,OAAA,CAAA,CAE/BsG,IAAAA,WAAAA,CACF,OAAOohC,GAAoB1nC,KAAM,WAAA,CAAA,CAE/BwG,IAAAA,KAAAA,CACF,OAAOkhC,GAAoB1nC,KAAM,KAAA,CAAA,CAE/ByG,IAAAA,MAAAA,CACF,OAAOsjC,GAAgB/pC,KAAM,MAAA,CAAA,CAE3B0G,IAAAA,QAAAA,CACF,OAAOqjC,GAAgB/pC,KAAM,QAAA,CAAA,CAE3B2G,IAAAA,QAAAA,CACF,OAAOojC,GAAgB/pC,KAAM,QAAA,CAAA,CAE3B4G,IAAAA,aAAAA,CACF,OAAOmjC,GAAgB/pC,KAAM,aAAA,CAAA,CAE3B6G,IAAAA,aAAAA,CACF,OAAOkjC,GAAgB/pC,KAAM,aAAA,CAAA,CAE3B8G,IAAAA,YAAAA,CACF,OAAOijC,GAAgB/pC,KAAM,YAAA,CAAA,CAE3BkG,IAAAA,KAAAA,CACF,OAAOwhC,GAAoB1nC,KAAM,KAAA,CAAA,CAE/BmG,IAAAA,SAAAA,CACF,OAAOuhC,GAAoB1nC,KAAM,SAAA,CAAA,CAE/Bmb,IAAAA,mBAAAA,CAGF,OAFA0lB,EAAiB7gC,KAAMyjC,EAAAA,EAEhB/B,GADOtlC,EAAQ4D,KAAMhH,CAAAA,EACC,OAAA,CAAA,CAE3Bke,IAAAA,kBAAAA,CAEF,OADA2pB,EAAiB7gC,KAAMyjC,EAAAA,EAChBuB,GAAoB5oC,EAAQ4D,KAAMhH,CAAAA,CAAAA,CAAAA,CAEvCu0B,IAAAA,WAAAA,CACF,OAAOma,GAAoB1nC,KAAM,WAAA,CAAA,CAE/BwtB,IAAAA,WAAAA,CACF,OAAOka,GAAoB1nC,KAAM,WAAA,CAAA,CAE/BuwB,IAAAA,YAAAA,OACF,OAAOmX,EAAAA,GAAoB1nC,KAAM,YAAA,IAA1B0nC,YAAAA,EAAyCpZ,IAAAA,CAE9CqZ,IAAAA,YAAAA,OACF,OAAOD,EAAAA,GAAoB1nC,KAAM,YAAA,IAA1B0nC,YAAAA,EAAyCthC,IAAAA,CAE9CorC,IAAAA,YAAAA,CACF3Q,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMz8B,EAAW5K,EAAQ4D,KAAMxG,EAAAA,EACzBi4C,EAAQ/nB,GAAS1pB,IAAAA,EAAM2N,QACvB+jC,EAAWpiB,GAAkBmiB,EAAMrrC,KAAMqrC,EAAMprC,MAAOorC,EAAMjrC,IAAM,CAAA,EAClEmrC,EAAUxI,GAAiBniC,EAAUyqC,CAAAA,EACrCG,EAAazI,GAAiBniC,EAAU0qC,CAAAA,EAE9C,OAAOlE,GADM3tC,GAAa2jB,gBAAgBouB,EAAYD,CAAAA,EACpB,MAAA,CAAA,CAEhC5hB,IAAAA,YAAAA,CACF,OAAO2X,GAAoB1nC,KAAM,YAAA,CAAA,CAE/BwwB,IAAAA,aAAAA,CACF,OAAOkX,GAAoB1nC,KAAM,aAAA,CAAA,CAE/BqhB,IAAAA,YAAAA,CACF,OAAOqmB,GAAoB1nC,KAAM,YAAA,CAAA,CAE/BgwB,IAAAA,cAAAA,CACF,OAAO0X,GAAoB1nC,KAAM,cAAA,CAAA,CAE/BywB,IAAAA,YAAAA,CACF,OAAOiX,GAAoB1nC,KAAM,YAAA,CAAA,CAE/B+C,IAAAA,QAAAA,CAGF,OAFA89B,EAAiB7gC,KAAMyjC,EAAAA,EAEhBoO,GADUC,GAA2B11C,EAAQ4D,KAAMxG,EAAAA,EAAY4C,EAAQ4D,KAAMhH,CAAAA,CAAAA,CAAAA,CAAAA,CAGlFiiB,IAAAA,mBAAAA,CAEF,OADA4lB,EAAiB7gC,KAAMyjC,EAAAA,EAChBqO,GAA2B11C,EAAQ4D,KAAMxG,EAAAA,EAAY4C,EAAQ4D,KAAMhH,CAAAA,CAAAA,CAAAA,CAE5E4uC,KAAKmK,EAA8ClkC,EAAAA,OAA6BV,CAE9E,GADA0zB,EAAiB7gC,KAAMyjC,EAAAA,EAAAA,CAClBqE,GAAYiK,CAAAA,EACf,MAAM,IAAI11C,UAAU,8BAAA,EAEtB0rC,GAA4BgK,CAAAA,EAE5B,IAAM5oC,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EACzB4N,EAAW5K,EAAQ4D,KAAMxG,EAAAA,EAEzBwb,EAAW88B,GAA2B9qC,EAD5B5K,EAAQ4D,KAAMhH,CAAAA,CAAAA,EAExB2Z,EAAc+W,GAAS1pB,IAAAA,EACzB2Q,EAASmS,GAAAC,MAAA,GACRilB,GAAmB7+B,EAAUwJ,EAAYhF,OAAAA,GACzCgF,EAAYxP,MAFJ,CAGXJ,OAAQ8uC,GAA8B78B,CAAAA,CAAAA,GASxCrE,EAASs3B,GAAuB9+B,EAAUwH,EAPbu3B,GAC3B/+B,EACA4oC,EACA,CAAC,OAAQ,QAAS,YAAa,KAAA,EAC/B,CAAC,OAAQ,SAAU,SAAU,cAAe,cAAe,aAAc,QAAA,EACzE,SAAA,CAAA,EAIF,IAAM17B,EAAkBmvB,EAAoB33B,CAAAA,EACtCoH,EAAiBy1B,GAAmCr0B,CAAAA,EACpDtT,EAASivC,GAA2B37B,EAAiB,QAAA,EAGrD47B,EAAchI,GAAmC9gC,EAAUwH,EAFhD03B,GAA6BhyB,CAAAA,CAAAA,EAGxC67B,EAAcC,GAA0BxhC,EAAO5N,MAAAA,EAYrD,OAAO6jC,GAXkBwL,GACvBH,EAAYtkC,QACZskC,EAAY9uC,KACZ,SACA+uC,EACAlrC,EACAiO,EACAlS,EAAAA,EACoB,EAGkCiE,EAAUmC,CAAAA,CAAAA,CAEpE+gC,cAAcmI,EAAAA,OAAgDllC,CAC5D0zB,EAAiB7gC,KAAMyjC,EAAAA,EAEvB,IAAMz8B,EAAW5K,EAAQ4D,KAAMxG,EAAAA,EACzB2P,EAAW/M,EAAQ4D,KAAM5G,CAAAA,EACzBk5C,EAAM5oB,GAAS1pB,IAAAA,EAAM2N,QAEvBpM,EAQJ,OANEA,EADE8wC,IACF9wC,OAAU4nC,GAAiBniC,EAAUsrC,CAAAA,EAI3BvO,GAA0B/8B,EADzBi9B,GAA+BqO,EAAKl2C,EAD1BgtC,GAAkBiJ,CAAAA,EAC8Bl5C,EAAAA,CAAAA,EACnB,YAAA,EAE7CytC,GAA+BrlC,EAASyF,EAAUmC,CAAAA,CAAAA,CAE3DopC,aAAa5L,EAAAA,CACX9F,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMz8B,EAAW45B,GAAgC+F,CAAAA,EACjD,OAAOC,GAA+BxqC,EAAQ4D,KAAMhH,CAAAA,EAAmBgO,EAAU5K,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAAAA,CAEjGkvC,aAAanB,EAAAA,CACXtG,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMt6B,EAAWo/B,GAAgCpB,CAAAA,EACjD,OAAOP,GAA+BxqC,EAAQ4D,KAAMhH,CAAAA,EAAmBoD,EAAQ4D,KAAMxG,EAAAA,EAAY2P,CAAAA,CAAAA,CAEnGlI,IAAIwL,EAAwCoB,EAAAA,OAA4BV,CAEtE,OADA0zB,EAAiB7gC,KAAMyjC,EAAAA,EAChB+O,GAA8B,MAAOxyC,KAAMyM,EAAsBoB,CAAAA,CAAAA,CAE1ElN,SACE8L,EACAoB,EAAAA,OAAiCV,CAGjC,OADA0zB,EAAiB7gC,KAAMyjC,EAAAA,EAChB+O,GAA8B,WAAYxyC,KAAMyM,EAAsBoB,CAAAA,CAAAA,CAE/Eq3B,MAAM/jC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMyjC,EAAAA,EAChBgP,GAAmC,QAASzyC,KAAMmB,EAAO0M,CAAAA,CAAAA,CAElEu3B,MAAMjkC,EAA2B0M,EAAAA,OAA8BV,CAE7D,OADA0zB,EAAiB7gC,KAAMyjC,EAAAA,EAChBgP,GAAmC,QAASzyC,KAAMmB,EAAO0M,CAAAA,CAAAA,CAElE5L,MAAMojC,EAAAA,CAEJ,GADAxE,EAAiB7gC,KAAMyjC,EAAAA,EACnB4B,IADmB5B,OACS,MAAM,IAAIpnC,UAAU,+BAAA,EACpD,IAAMipC,EACoB,OAAjBD,GAAiB,SACnBE,GAAuB,eAAgBF,CAAAA,EACxCG,EAAoBH,CAAAA,EACpBh3B,EAAoBo3B,GAAsCH,CAAAA,EAC1DnoB,EAAeuoB,GAAyBJ,EAAS,YAAA,EACjDp2B,EAAey2B,GAA+BL,EAAS,eAAgB,OAAQM,GAAa,CAAC,KAAA,CAAA,EAU7Fl3B,EAToB,CACxBlI,IAAK,EACLC,KAAM,GACNC,OAAQ,GACRC,OAAQ,GACRC,YAAa,IACbC,YAAa,IACbC,WAAY,GAAA,EAEoBoI,CAAAA,EAIlC,GAFA22B,GAAqCx3B,EAAmBK,EADtCA,IAAY,CAAZA,EAGdQ,IAAiB,cAAgBb,IAAsB,EACzD,OAAOu4B,GACLxqC,EAAQ4D,KAAMhH,CAAAA,EACdoD,EAAQ4D,KAAMxG,EAAAA,EACd4C,EAAQ4D,KAAM5G,CAAAA,CAAAA,EAKlB,IAAM4N,EAAW5K,EAAQ4D,KAAMxG,EAAAA,EACzBk5C,EAASt2C,EAAQ4D,KAAMhH,CAAAA,EACvBs5C,EAAM5oB,GAAS1pB,IAAAA,EACjBkX,EAEJ,GAAIhI,IAAiB,MAAO,CAG1B,IAAMyjC,EAAYL,EAAI3kC,QAChBilC,EAAUtjB,GAAkBqjB,EAAUvsC,KAAMusC,EAAUtsC,MAAOssC,EAAUnsC,IAAM,CAAA,EAE7EqsC,EAAU1J,GAAiBniC,EAAU2rC,CAAAA,EAMrCG,EAAQ3J,GAAiBniC,EAAU4rC,CAAAA,EAMnCG,EAAc/7C,EAAAA,QAAK2J,SAASmyC,EAAOD,CAAAA,EAGzC37B,EAFsBrX,GAAa2jB,gBAAgBkvB,EAAQG,CAAAA,EACxB5wC,MAAM8wC,EAAa51B,CAAAA,EACtB7b,aAAauxC,CAAAA,CAC9C,KAAM,CAGL,IAAMG,EAAkB3I,GAAoBiI,EAAKjkC,EAAmBa,EAAciO,CAAAA,EAO5EnI,EAAW88B,GAA2B9qC,EAAU0rC,CAAAA,EACtDx7B,EAAmBk7B,GACjBY,EAAgBrlC,QAChBqlC,EAAgB7vC,KAChB,SACA6R,EACAhO,EACA,aACA,SAAA,EACoB,CAEvB,CAED,OAAO4/B,GAA+B1vB,EAAkBlQ,EAAU5K,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAAAA,CAElF4sC,OAAOje,EAAAA,CACL8Y,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMtiC,EAAQ8xC,GAA2BlrB,CAAAA,EACnCrP,EAAMtc,EAAQ4D,KAAMhH,CAAAA,EACpB2f,EAAMvc,EAAQ+E,EAAOnI,CAAAA,EAC3B,MAAA,CAAA,CAAKhC,EAAAA,QAAKkB,MAAMlB,EAAAA,QAAKC,OAAOyhB,CAAAA,EAAM1hB,EAAAA,QAAKC,OAAO0hB,CAAAA,CAAAA,GAAAA,CAAAA,CACzCu6B,GAAkB92C,EAAQ4D,KAAMxG,EAAAA,EAAY4C,EAAQ+E,EAAO3H,EAAAA,CAAAA,GACzDmvC,GAAkBvsC,EAAQ4D,KAAM5G,CAAAA,EAAWgD,EAAQ+E,EAAO/H,CAAAA,CAAAA,CAAAA,CAEnEpB,SAAS6V,EAAAA,OAAiCV,CACxC0zB,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMptB,EAAkBmvB,EAAoB33B,CAAAA,EACtCxE,EAAew/B,GAAqCxyB,CAAAA,EACpD6vB,EAASC,GAA2C9vB,CAAAA,EACpD6G,EXymBJ,SAAsCrP,EAAAA,CAC1C,OAAOC,GAAUD,EAAS,SAAU,CAAC,OAAQ,OAAA,EAAU,MAAA,CACzD,EW3mBsDwI,CAAAA,EAC5C8G,EAAeuoB,GAAyBrvB,EAAiB,OAAA,EACzDnH,EAAey2B,GAA+BtvB,EAAiB,eAAgB,OAAA,MAAQlJ,EAC7F,GAAI+B,IAAiB,OAAQ,MAAM,IAAI3O,WAAW,oDAAA,EAClD,IAAM0c,EXimBJ,SAA4CpP,EAAAA,CAChD,OAAOC,GAAUD,EAAS,eAAgB,CAAC,OAAQ,QAAS,UAAA,EAAa,MAAA,CAC3E,EWnmB8DwI,CAAAA,EAAAA,CACpDlH,UAAEA,EAASC,KAAEA,EAAIjN,UAAEA,CAAAA,EAAcikC,GAAkCl3B,EAAcg3B,CAAAA,EACvF,OAAOiN,GAAiCnzC,KAAMmP,EAAW9F,EAAc4T,EAAcC,EAAY,CAC/F9N,KAAAA,EACAjN,UAAAA,EACAgb,aAAAA,CAAAA,CAAAA,CAAAA,CAGJopB,eACE9G,EAAAA,OACA5xB,EAAAA,OAAuCV,CAEvC0zB,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMptB,EAAkBmvB,EAAoB33B,CAAAA,EAMtCulC,EAAcx3C,OAAOC,OAAO,IAAA,EAGlC,GXmDE,SACJw3C,EACA5wC,EACA6wC,EACAC,EAAAA,CAEA,GAAW9wC,GAAP,KAAkD,OAEtD,IAAM2sB,EAAOokB,QAAQC,QAAQhxC,CAAAA,EAC7B,QAAS4K,EAAQ,EAAGA,EAAQ+hB,EAAK/xB,OAAQgQ,IAAS,CAChD,IAAMqmC,EAAUtkB,EAAK/hB,CAAAA,EACrB,GAAA,CAAIimC,EAAaK,KAAMpsC,GAAM3L,OAAOg4C,GAAGrsC,EAAGmsC,CAAAA,CAAAA,GACtC93C,OAAOiB,UAAUg3C,qBAAqBroB,KAAK/oB,EAAQixC,CAAAA,EAAU,CAC/D,IAAM17B,EAAYvV,EAAOixC,CAAAA,EAGzBL,EAAOK,CAAAA,EAAW17B,CACnB,CACF,CACH,EWxE0Bo7B,EAAa/8B,EAAiB,CAAC,UAAA,CAAA,EAEjDA,EAAgBrP,WAFiC,OAGnD,MAAM,IAAI3K,UAAU,gEAAA,EAuBtB,GAnBE+2C,EAAYhtC,OAmBd,QAlBEgtC,EAAY/sC,QADAD,QAEZgtC,EAAY5sC,MADAH,QAEZ+sC,EAAYltC,MADAM,QAEZ4sC,EAAY5Q,UADAt8B,QAEZktC,EAAY1Q,YADAF,QAEZ4Q,EAAY3sC,OADAi8B,QAEZ0Q,EAAY1sC,SADAD,QAEZ2sC,EAAYzsC,SADAD,QAEZ0sC,EAAYtkC,yBADAnI,QAEZysC,EAAYzQ,YADA7zB,QAEZskC,EAAYjQ,YADAR,QAEZyQ,EAAY3Q,eADAU,SAGZiQ,EAAY3Q,aAAe,SAI7B2Q,EAAYpsC,SAAW5K,EAAQ4D,KAAMxG,EAAAA,EACjCs6C,GAA8BV,EAAYpsC,QAAAA,EAE5C,MAAM,IAAIzG,WAAW,6DAAA,EAGvB,IAAM6xB,EAAY,IAAItqB,GAAe23B,EAAS2T,CAAAA,EAExCW,EAA2B7C,GAAsB1lB,KAAK4G,CAAAA,EAAWjpB,SACjE6qC,EAAqB53C,EAAQ4D,KAAM5G,CAAAA,EACzC,GACE46C,IAAuB,WACvBD,IAA6B,WAA7BA,CACCpL,GAAkBoL,EAA0BC,CAAAA,EAE7C,MAAM,IAAIzzC,WACR,6CAA6CyzC,CAAAA,4BACfD,CAAAA,EAAAA,EAIlC,OAAO3hB,EAAU3R,OAAOqlB,GAAyB1pC,EAAQ4D,KAAMhH,CAAAA,CAAAA,CAAAA,CAAAA,CAEjEstC,QAAAA,CAEE,OADAzF,EAAiB7gC,KAAMyjC,EAAAA,EAChB0P,GAAiCnzC,KAAM,MAAA,CAAA,CAEhDwmC,SAAAA,CACEC,GAAiB,eAAA,CAAA,CAEnBwN,YAAAA,CACEpT,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMz8B,EAAW5K,EAAQ4D,KAAMxG,EAAAA,EAG/B,OAAOotC,GADkBuC,GAAiBniC,EAD1B0iB,GAAS1pB,IAAAA,EAAM2N,OAAAA,EAEyB3G,EAAU5K,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAAAA,CAElF86C,sBAAsBC,EAAAA,CACpBtT,EAAiB7gC,KAAMyjC,EAAAA,EACvB,IAAMz8B,EAAW5K,EAAQ4D,KAAMxG,EAAAA,EAE/B,GAAI26C,IAAJ,OAAkC,MAAM,IAAI93C,UAAU,+BAAA,EACtD,IAAM+3C,EXmhBDtmC,GWlhBuB,OAAnBqmC,GAAmB,SACrB5O,GAAuB,YAAa4O,CAAAA,EACrC3O,EAAoB2O,CAAAA,EXghBF,YAAa,CAAC,OAAQ,UAAA,EAAa9kC,EAAAA,EW9gB3D,GAAI+kC,IAAJ,OAA6B,MAAM,IAAI/3C,UAAU,8BAAA,EAGjD,GAAIy3C,GAA8B9sC,CAAAA,GAAaA,IAAa,MAC1D,OAAO,KAGT,IAAMqtC,EAAuBj4C,EAAQ4D,KAAMhH,CAAAA,EACrCke,EACJk9B,IAAc,OACVE,GAAkCttC,EAAUqtC,CAAAA,EAC5CE,GAAsCvtC,EAAUqtC,CAAAA,EACtD,OAAOn9B,IAAqB,KACxB,KACA0vB,GAA+B1vB,EAAkBlQ,EAAU5K,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAAAA,CAE/Eo7C,WAAAA,CAEE,OADA3T,EAAiB7gC,KAAMyjC,EAAAA,EAChBqC,GAAyB1pC,EAAQ4D,KAAMhH,CAAAA,CAAAA,CAAAA,CAEhD2xC,aAAAA,CAEE,OADA9J,EAAiB7gC,KAAMyjC,EAAAA,EAChB0E,GAAsBze,GAAS1pB,IAAAA,EAAM2N,QAASvR,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAAAA,CAErEwxC,aAAAA,CAEE,OADA/J,EAAiB7gC,KAAMyjC,EAAAA,EAChBoH,GAAsBnhB,GAAS1pB,IAAAA,EAAMmD,IAAAA,CAAAA,CAE9C2lC,iBAAAA,CAEE,OADAjI,EAAiB7gC,KAAMyjC,EAAAA,EAChBuF,GAA0Btf,GAAS1pB,IAAAA,EAAO5D,EAAQ4D,KAAM5G,CAAAA,CAAAA,CAAAA,CAGjEgH,OAAAA,KAAYoI,EAAyBm3B,EAAAA,OAAkCxyB,CACrE,OAAO8lC,GAA2BzqC,EAAMm3B,CAAAA,CAAAA,CAE1Cv/B,OAAAA,QAAe0mC,EAAgCC,EAAAA,CAC7C,IAAMruB,EAAMu6B,GAA2BnM,CAAAA,EACjCnuB,EAAMs6B,GAA2BlM,CAAAA,EACjCzjB,EAAMlnB,EAAQsc,EAAK1f,CAAAA,EACnBuqB,EAAMnnB,EAAQuc,EAAK3f,CAAAA,EACzB,OAAIhC,EAAAA,QAAKsB,SAAStB,EAAAA,QAAKC,OAAOqsB,CAAAA,EAAMtsB,EAAAA,QAAKC,OAAOssB,CAAAA,CAAAA,EAAAA,GAC5CvsB,EAAAA,QAAK0B,YAAY1B,EAAAA,QAAKC,OAAOqsB,CAAAA,EAAMtsB,EAAAA,QAAKC,OAAOssB,CAAAA,CAAAA,EAAc,EAC1D,CAAA,CAAA,EAOX,SAASmG,GAAS1M,EAAAA,CAChB,OAAO+xB,GAAqB3yC,EAAQ4gB,EAAKxjB,EAAAA,EAAY4C,EAAQ4gB,EAAKhkB,CAAAA,CAAAA,CACpE,CAEA,SAAS0uC,GACP1qB,EACA1f,EAAAA,CAEAujC,EAAiB7jB,EAAKymB,EAAAA,EACtB,IAAM91B,EAAU+b,GAAS1M,CAAAA,EAAKrP,QAC9B,OAAOg8B,GAAsB3sB,CAAAA,EAAKnL,UAAUlE,EAAS,CAAErQ,CAACA,CAAAA,EAAAA,EAAO,CAAA,EAAQA,CAAAA,CACzE,CAEA,SAASysC,GAAgB/sB,EAA6B1f,EAAAA,CAEpD,OADAujC,EAAiB7jB,EAAKymB,EAAAA,EACf/Z,GAAS1M,CAAAA,EAAK7Z,KAAK7F,CAAAA,CAC5B,CAlBAb,GAAmB00C,GAAe,wBAAA,EAAA,IAAAsD,GAAA,OAAA,OAAA,CAAA,UAAA,KAAA,SAAArsB,GAAA,QAAAwc,GAAA,IAAA8P,GAAA,UAAAxN,GAAA,cAAA0C,GAAA,cAAA4E,GAAA,UAAAgB,GAAA,eAAAkB,GAAA,cAAAS,EAAA,CAAA,ECzcrBwD,GAPb,KAAMC,CACJD,mBAAAA,CAEE,OAAO7O,GADkBe,GAAeviC,KAAKzH,UAAU2pC,QAAQhb,KAAKxrB,IAAAA,CAAAA,CAAAA,CAErE,CAAA,EAG6CnD,UAAU83C,kBCJpDE,GAAQ,CACZC,GACAC,GACAC,GACAC,GACAC,GAEAC,GACAC,GACAC,EAAAA,EAEF,QAAW1jC,KAAQkjC,GAAO,CACxB,IAAMS,EAAa15C,OAAO4B,yBAAyBmU,EAAM,WAAA,GACrD2jC,EAAWr4C,cAAgBq4C,EAAWt4C,YAAcs4C,EAAWv4C,YACjEu4C,EAAWr4C,aAAAA,GACXq4C,EAAWt4C,WAAAA,GACXs4C,EAAWv4C,SAAAA,GACXnB,OAAOgB,eAAe+U,EAAM,YAAa2jC,CAAAA,EAE5C,CC9Bc,SAARC,IAA+B,CAEpC,GAAI,EAAE,gBAAgBA,IACpB,OAAO,IAAIA,GAIb,KAAK,KAAO,EAGZ,KAAK,IAAM,EAGX,KAAK,UAAY,CAAC,EAGlB,KAAK,gBAAkB,CAAC,EAGxB,KAAK,QAAU,OAAO,OAAO,KAAK,OAAO,EAGzC,KAAK,cAAgB,CAAC,CACxB,CAGA,IAAIC,GAAU,OAAO,SAAS,gBAC1BC,GACFD,GAAQ,SACRA,GAAQ,uBACRA,GAAQ,oBACRA,GAAQ,kBACRA,GAAQ,kBAUVD,GAAY,UAAU,gBAAkB,SAASG,EAAIC,EAAU,CAC7D,OAAOF,GAAQ,KAAKC,EAAIC,CAAQ,CAClC,EAUAJ,GAAY,UAAU,iBAAmB,SAASK,EAAWC,EAAS,CACpE,OAAOA,EAAQ,iBAAiBD,CAAS,CAC3C,EAUAL,GAAY,UAAU,QAAU,CAAC,EAGjC,IAAIO,GAAO,oCACXP,GAAY,UAAU,QAAQ,KAAK,CACjC,KAAM,KACN,SAAU,SAAyBQ,EAAK,CACtC,IAAIC,EACJ,GAAKA,EAAID,EAAI,MAAMD,EAAI,EACrB,OAAOE,EAAE,CAAC,EAAE,MAAM,CAAC,CAEvB,EACA,QAAS,SAAsBN,EAAI,CACjC,GAAIA,EAAG,GACL,MAAO,CAACA,EAAG,EAAE,CAEjB,CACF,CAAC,EAGD,IAAIO,GAAU,qCACdV,GAAY,UAAU,QAAQ,KAAK,CACjC,KAAM,QACN,SAAU,SAA4BQ,EAAK,CACzC,IAAIC,EACJ,GAAKA,EAAID,EAAI,MAAME,EAAO,EACxB,OAAOD,EAAE,CAAC,EAAE,MAAM,CAAC,CAEvB,EACA,QAAS,SAA8BN,EAAI,CACzC,IAAIQ,EAAYR,EAAG,UACnB,GAAIQ,EAAW,CACb,GAAI,OAAOA,GAAc,SACvB,OAAOA,EAAU,MAAM,IAAI,EACtB,GAAI,OAAOA,GAAc,UAAY,YAAaA,EAGvD,OAAOA,EAAU,QAAQ,MAAM,IAAI,CAEvC,CACF,CACF,CAAC,EAGD,IAAIC,GAAQ,mCACZZ,GAAY,UAAU,QAAQ,KAAK,CACjC,KAAM,MACN,SAAU,SAA0BQ,EAAK,CACvC,IAAIC,EACJ,GAAKA,EAAID,EAAI,MAAMI,EAAK,EACtB,OAAOH,EAAE,CAAC,EAAE,YAAY,CAE5B,EACA,QAAS,SAA2BN,EAAI,CACtC,MAAO,CAACA,EAAG,SAAS,YAAY,CAAC,CACnC,CACF,CAAC,EAGDH,GAAY,UAAU,QAAQ,QAAa,CACzC,KAAM,YACN,SAAU,UAAW,CACnB,MAAO,EACT,EACA,QAAS,UAAW,CAClB,MAAO,CAAC,EAAI,CACd,CACF,EAGA,IAAIa,GACA,OAAO,OAAO,KAAQ,WACxBA,GAAM,OAAO,IAEbA,GAAO,UAAW,CAChB,SAASA,GAAM,CACb,KAAK,IAAM,CAAC,CACd,CACA,OAAAA,EAAI,UAAU,IAAM,SAASC,EAAK,CAChC,OAAO,KAAK,IAAIA,EAAM,GAAG,CAC3B,EACAD,EAAI,UAAU,IAAM,SAASC,EAAKC,EAAO,CACvC,KAAK,IAAID,EAAM,GAAG,EAAIC,CACxB,EACOF,CACT,EAAG,EAML,IAAIG,GAAU,sIAOd,SAASC,GAAqBC,EAAYd,EAAU,CAClDc,EAAaA,EAAW,MAAM,CAAC,EAAE,OAAOA,EAAW,OAAU,EAE7D,IAAIC,EAAgBD,EAAW,OAC7BE,EACAC,EACAZ,EACAa,EACAC,EAAOnB,EACPU,EACAU,EACAC,EAAU,CAAC,EAEb,EAEE,IADAT,GAAQ,KAAK,EAAE,GACVP,EAAIO,GAAQ,KAAKO,CAAI,KACxBA,EAAOd,EAAE,CAAC,EACNA,EAAE,CAAC,GAAK,CAACc,IACX,IAAKH,EAAI,EAAGA,EAAID,EAAeC,IAE7B,GADAI,EAAQN,EAAWE,CAAC,EACfN,EAAMU,EAAM,SAASf,EAAE,CAAC,CAAC,EAAI,CAGhC,IAFAY,EAAII,EAAQ,OACZH,EAAM,GACCD,KACL,GAAII,EAAQJ,CAAC,EAAE,QAAUG,GAASC,EAAQJ,CAAC,EAAE,MAAQP,EAAK,CACxDQ,EAAM,GACN,KACF,CAEGA,GACHG,EAAQ,KAAK,CAAE,MAAOD,EAAO,IAAKV,CAAI,CAAC,EAEzC,KACF,QAICL,GAET,OAAOgB,CACT,CAQA,SAASC,GAAgBC,EAAKC,EAAO,CACnC,IAAIR,EAAGS,EAAKC,EACZ,IAAKV,EAAI,EAAGS,EAAMF,EAAI,OAAQP,EAAIS,EAAKT,IAErC,GADAU,EAAOH,EAAIP,CAAC,EACRQ,EAAM,cAAcE,CAAI,EAC1B,OAAOA,CAGb,CAcA9B,GAAY,UAAU,oBAAsB,UAAW,CAAC,EAQxDA,GAAY,UAAU,IAAM,SAASI,EAAU2B,EAAM,CACnD,IAAIC,EACFZ,EACAa,EACAnB,EACAU,EACAU,EACAC,EACAC,EACAX,EAAU,KAAK,cACfpB,EAAY,KAAK,UACjBgC,EAAkB,KAAK,gBAEzB,GAAI,OAAOjC,GAAa,SAYxB,KARA4B,EAAM,CACJ,GAAI,KAAK,MACT,SAAU5B,EACV,KAAM2B,CACR,EACAM,EAAgBL,EAAI,EAAE,EAAIA,EAE1BG,EAAkBlB,GAAqB,KAAK,QAASb,CAAQ,EACxDgB,EAAI,EAAGA,EAAIe,EAAgB,OAAQf,IACtCgB,EAAgBD,EAAgBf,CAAC,EACjCN,EAAMsB,EAAc,IACpBH,EAAaG,EAAc,MAE3BZ,EAAQE,GAAgBD,EAASQ,CAAU,EACtCT,IACHA,EAAQ,OAAO,OAAOS,CAAU,EAChCT,EAAM,IAAM,IAAIX,GAChBY,EAAQ,KAAKD,CAAK,GAGhBS,IAAe,KAAK,QAAQ,SAC9B,KAAK,oBAAoBD,CAAG,EAE9BE,EAAOV,EAAM,IAAI,IAAIV,CAAG,EACnBoB,IACHA,EAAO,CAAC,EACRV,EAAM,IAAI,IAAIV,EAAKoB,CAAI,GAEzBA,EAAK,KAAKF,CAAG,EAGf,KAAK,OACL3B,EAAU,KAAKD,CAAQ,EACzB,EAQAJ,GAAY,UAAU,OAAS,SAASI,EAAU2B,EAAM,CACtD,GAAI,OAAO3B,GAAa,SAIxB,KAAI+B,EACFC,EACAhB,EACAC,EACAiB,EACAC,EACAL,EACAF,EACAP,EAAU,KAAK,cACfpB,EAAa,KAAK,UAAY,CAAC,EAC/BgC,EAAkB,KAAK,gBACvBG,EAAa,CAAC,EACdC,EAAY,UAAU,SAAW,EAGnC,IADAN,EAAkBlB,GAAqB,KAAK,QAASb,CAAQ,EACxDgB,EAAI,EAAGA,EAAIe,EAAgB,OAAQf,IAItC,IAHAgB,EAAgBD,EAAgBf,CAAC,EAEjCC,EAAII,EAAQ,OACLJ,KAEL,GADAkB,EAAWd,EAAQJ,CAAC,EAChBe,EAAc,MAAM,cAAcG,CAAQ,EAAG,CAE/C,GADAL,EAAOK,EAAS,IAAI,IAAIH,EAAc,GAAG,EACrCF,EAEF,IADAI,EAAIJ,EAAK,OACFI,KACLN,EAAME,EAAKI,CAAC,EACRN,EAAI,WAAa5B,IAAaqC,GAAaT,EAAI,OAASD,KAC1DG,EAAK,OAAOI,EAAG,CAAC,EAChBE,EAAWR,EAAI,EAAE,EAAI,IAI3B,KACF,CAIJ,IAAKZ,KAAKoB,EACR,OAAOH,EAAgBjB,CAAC,EACxB,KAAK,OAGP,IAAKA,KAAKiB,EACRhC,EAAU,KAAKgC,EAAgBjB,CAAC,EAAE,QAAQ,EAE9C,EAQA,SAASsB,GAASC,EAAGC,EAAG,CACtB,OAAOD,EAAE,GAAKC,EAAE,EAClB,CAOA5C,GAAY,UAAU,SAAW,SAASM,EAAS,CACjD,GAAI,CAAC,KAAK,UAAU,OAClB,MAAO,CAAC,EAGV,IAAIJ,EAAU,CAAC,EACb2C,EAAU,CAAC,EACTC,EAAM,KAAK,iBAAiB,KAAK,UAAU,KAAK,IAAI,EAAGxC,CAAO,EAE9Dc,EAAGC,EAAGQ,EAAKkB,EAAM5C,EAAIM,EAAGuC,EAAOhB,EACnC,IAAKZ,EAAI,EAAGS,EAAMiB,EAAI,OAAQ1B,EAAIS,EAAKT,IAGrC,IAFAjB,EAAK2C,EAAI1B,CAAC,EACVX,EAAI,KAAK,QAAQN,CAAE,EACdkB,EAAI,EAAG0B,EAAOtC,EAAE,OAAQY,EAAI0B,EAAM1B,IACrCW,EAAMvB,EAAEY,CAAC,EACJnB,EAAQ8B,EAAI,EAAE,EAUjBgB,EAAQ9C,EAAQ8B,EAAI,EAAE,GATtBgB,EAAQ,CACN,GAAIhB,EAAI,GACR,SAAUA,EAAI,SACd,KAAMA,EAAI,KACV,SAAU,CAAC,CACb,EACA9B,EAAQ8B,EAAI,EAAE,EAAIgB,EAClBH,EAAQ,KAAKG,CAAK,GAIpBA,EAAM,SAAS,KAAK7C,CAAE,EAI1B,OAAO0C,EAAQ,KAAKH,EAAQ,CAC9B,EAOA1C,GAAY,UAAU,QAAU,SAASG,EAAI,CAC3C,GAAI,CAACA,EACH,MAAO,CAAC,EAGV,IAAIiB,EAAGC,EAAGiB,EAAGT,EAAKkB,EAAME,EAAMzB,EAAO0B,EAAMhB,EAAMF,EAAKmB,EAClD1B,EAAU,KAAK,cACjB2B,EAAa,CAAC,EACdlD,EAAU,CAAC,EAEb,IAAKkB,EAAI,EAAGS,EAAMJ,EAAQ,OAAQL,EAAIS,EAAKT,IAGzC,GAFAI,EAAQC,EAAQL,CAAC,EACjB8B,EAAO1B,EAAM,QAAQrB,CAAE,EACnB+C,GACF,IAAK7B,EAAI,EAAG0B,EAAOG,EAAK,OAAQ7B,EAAI0B,EAAM1B,IACxC,GAAKa,EAAOV,EAAM,IAAI,IAAI0B,EAAK7B,CAAC,CAAC,EAC/B,IAAKiB,EAAI,EAAGW,EAAOf,EAAK,OAAQI,EAAIW,EAAMX,IACxCN,EAAME,EAAKI,CAAC,EACZa,EAAKnB,EAAI,GACL,CAACoB,EAAWD,CAAE,GAAK,KAAK,gBAAgBhD,EAAI6B,EAAI,QAAQ,IAC1DoB,EAAWD,CAAE,EAAI,GACjBjD,EAAQ,KAAK8B,CAAG,GAQ5B,OAAO9B,EAAQ,KAAKwC,EAAQ,CAC9B,ECpbA,IAAIW,GAAe,CAAC,EAChBC,GAAgB,CAAC,EACjBC,GAAqB,IAAI,QACzBC,GAA8B,IAAI,QAClCC,GAAiB,IAAI,QACrBC,GAAoB,OAAO,yBAAyB,MAAM,UAAW,eAAe,EAExF,SAASC,GAAOC,EAASC,EAAMC,EAAI,CACjC,IAAIC,EAASH,EAAQC,CAAI,EAEzB,OAAAD,EAAQC,CAAI,EAAI,UAAY,CAC1B,OAAAC,EAAG,MAAMF,EAAS,SAAS,EACpBG,EAAO,MAAMH,EAAS,SAAS,CACxC,EAEOA,CACT,CAEA,SAASI,GAAQC,EAAWC,EAAQC,EAAS,CAC3C,IAAIC,EAAQ,CAAC,EACTC,EAAOH,EAEX,EAAG,CACD,GAAIG,EAAK,WAAa,EAAG,MAEzB,IAAIC,EAAWL,EAAU,QAAQI,CAAI,EAErC,GAAIC,EAAS,OAAQ,CACnB,IAAIC,EAAU,CACZ,KAAMF,EACN,UAAWC,CACb,EAEIH,EACFC,EAAM,QAAQG,CAAO,EAErBH,EAAM,KAAKG,CAAO,CAEtB,CACF,OAASF,EAAOA,EAAK,eAErB,OAAOD,CACT,CAEA,SAASI,IAAmB,CAC1BjB,GAAmB,IAAI,KAAM,EAAI,CACnC,CAEA,SAASkB,IAAiB,CACxBlB,GAAmB,IAAI,KAAM,EAAI,EACjCC,GAA4B,IAAI,KAAM,EAAI,CAC5C,CAEA,SAASkB,IAAmB,CAC1B,OAAOjB,GAAe,IAAI,IAAI,GAAK,IACrC,CAEA,SAASkB,GAAoBC,EAAOC,EAAQ,CACrCnB,IACL,OAAO,eAAekB,EAAO,gBAAiB,CAC5C,aAAc,GACd,WAAY,GACZ,IAAKC,GAAUnB,GAAkB,GACnC,CAAC,CACH,CAEA,SAASoB,GAAYF,EAAO,CAC1B,GAAI,CACF,OAAAA,EAAM,WACC,EACT,OAASG,EAAG,CACV,MAAO,EACT,CACF,CAEA,SAASC,GAASJ,EAAO,CACvB,GAAKE,GAAYF,CAAK,EACtB,KAAIK,EAASL,EAAM,aAAe,EAAItB,GAAgBD,GAClDY,EAAYgB,EAAOL,EAAM,IAAI,EACjC,GAAKX,EACL,KAAIG,EAAQJ,GAAQC,EAAWW,EAAM,OAAQA,EAAM,aAAe,CAAC,EACnE,GAAKR,EAAM,OACX,CAAAT,GAAOiB,EAAO,kBAAmBJ,EAAgB,EACjDb,GAAOiB,EAAO,2BAA4BH,EAAc,EACxDE,GAAoBC,EAAOF,EAAgB,EAE3C,QAASQ,EAAI,EAAGC,EAAOf,EAAM,OAAQc,EAAIC,GACnC,CAAA5B,GAAmB,IAAIqB,CAAK,EADaM,IAAK,CAElD,IAAIX,EAAUH,EAAMc,CAAC,EACrBzB,GAAe,IAAImB,EAAOL,EAAQ,IAAI,EAEtC,QAASa,EAAI,EAAGC,EAAOd,EAAQ,UAAU,OAAQa,EAAIC,GAC/C,CAAA7B,GAA4B,IAAIoB,CAAK,EADgBQ,IAEzDb,EAAQ,UAAUa,CAAC,EAAE,KAAK,KAAKb,EAAQ,KAAMK,CAAK,CAEtD,CAEAnB,GAAe,OAAUmB,CAAK,EAC9BD,GAAoBC,CAAK,IAC3B,CAEA,SAASU,GAAGC,EAAMC,EAAU1B,EAAI,CAC9B,IAAI2B,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAC,EAC/EC,EAAU,EAAAD,EAAQ,QAClBR,EAASS,EAAUpC,GAAgBD,GACnCY,EAAYgB,EAAOM,CAAI,EAEtBtB,IACHA,EAAY,IAAI0B,GAChBV,EAAOM,CAAI,EAAItB,EACf,SAAS,iBAAiBsB,EAAMP,GAAUU,CAAO,GAGnDzB,EAAU,IAAIuB,EAAU1B,CAAE,CAC5B,CCnHO,IC0BM8B,GChBPC,GCPFC,GA2FSC,GCmFTC,GAWAC,GAEEC,GA0BAC,GC1MAC,GAaFC,GAkJEC,GACAC,GC5KKC,GNeEC,GAAgC,CAAG,EACnCC,GAAY,CAAA,EACZC,GACZ,oECnBYC,GAAUC,MAAMD,QAStB,SAASE,GAAOC,EAAKC,EAAAA,CAE3B,QAASR,KAAKQ,EAAOD,EAAIP,CAAAA,EAAKQ,EAAMR,CAAAA,EACpC,OAA6BO,CAC9B,CAQgB,SAAAE,GAAWC,EAAAA,CACtBA,GAAQA,EAAKC,YAAYD,EAAKC,WAAWC,YAAYF,CAAAA,CAC1D,CEVgB,SAAAG,GAAcC,EAAMN,EAAOO,EAAAA,CAC1C,IACCC,EACAC,EACAjB,EAHGkB,EAAkB,CAAA,EAItB,IAAKlB,KAAKQ,EACLR,GAAK,MAAOgB,EAAMR,EAAMR,CAAAA,EACnBA,GAAK,MAAOiB,EAAMT,EAAMR,CAAAA,EAC5BkB,EAAgBlB,CAAAA,EAAKQ,EAAMR,CAAAA,EAUjC,GAPImB,UAAUC,OAAS,IACtBF,EAAgBH,SACfI,UAAUC,OAAS,EAAIhC,GAAMiC,KAAKF,UAAW,CAAA,EAAKJ,GAKjC,OAARD,GAAQ,YAAcA,EAAKQ,cHjBnB,KGkBlB,IAAKtB,KAAKc,EAAKQ,aACVJ,EAAgBlB,CAAAA,GHlBEuB,OGmBrBL,EAAgBlB,CAAAA,EAAKc,EAAKQ,aAAatB,CAAAA,GAK1C,OAAOwB,GAAYV,EAAMI,EAAiBF,EAAKC,EHzB5B,IAAA,CG0BpB,CAcgB,SAAAO,GAAYV,EAAMN,EAAOQ,EAAKC,EAAKQ,EAAAA,CAIlD,IAAMC,EAAQ,CACbZ,KAAAA,EACAN,MAAAA,EACAQ,IAAAA,EACAC,IAAAA,EACAU,IHjDkB,KGkDlBC,GHlDkB,KGmDlBC,IAAQ,EACRC,IHpDkB,KGqDlBC,IHrDkB,KGsDlBC,YAAAA,OACAC,IAAWR,GHvDO,KGuDPA,EAAqBnC,GAAUmC,EAC1CS,IAAAA,GACAC,IAAQ,CAAA,EAMT,OAFIV,GH7De,MG6DKpC,GAAQqC,OH7Db,MG6D4BrC,GAAQqC,MAAMA,CAAAA,EAEtDA,CACR,CAMgB,SAAAU,GAASC,EAAAA,CACxB,OAAOA,EAAMC,QACd,CC3EO,SAASC,GAAcF,EAAOG,EAAAA,CACpCC,KAAKJ,MAAQA,EACbI,KAAKD,QAAUA,CAChB,CAAA,SA0EgBE,GAAcC,EAAOC,EAAAA,CACpC,GAAIA,GJ3Ee,KI6ElB,OAAOD,EAAKE,GACTH,GAAcC,EAAKE,GAAUF,EAAKG,IAAU,CAAA,EJ9E7B,KImFnB,QADIC,EACGH,EAAaD,EAAKK,IAAWC,OAAQL,IAG3C,IAFAG,EAAUJ,EAAKK,IAAWJ,CAAAA,IJpFR,MIsFKG,EAAOG,KJtFZ,KI0FjB,OAAOH,EAAOG,IAShB,OAA4B,OAAdP,EAAMQ,MAAQ,WAAaT,GAAcC,CAAAA,EJnGpC,IIoGpB,CA2CA,SAASS,GAAwBT,EAAAA,CAAjC,IAGWU,EACJC,EAHN,IAAKX,EAAQA,EAAKE,KJhJC,MIgJoBF,EAAKY,KJhJzB,KIgJ8C,CAEhE,IADAZ,EAAKO,IAAQP,EAAKY,IAAYC,KJjJZ,KIkJTH,EAAI,EAAGA,EAAIV,EAAKK,IAAWC,OAAQI,IAE3C,IADIC,EAAQX,EAAKK,IAAWK,CAAAA,IJnJX,MIoJIC,EAAKJ,KJpJT,KIoJwB,CACxCP,EAAKO,IAAQP,EAAKY,IAAYC,KAAOF,EAAKJ,IAC1C,KACD,CAGD,OAAOE,GAAwBT,CAAAA,CAChC,CACD,CA4BgB,SAAAc,GAAcC,EAAAA,EAAAA,CAE1BA,EAACC,MACDD,EAACC,IAAAA,KACFC,GAAcC,KAAKH,CAAAA,GAAAA,CAClBI,GAAOC,OACTC,IAAgBC,GAAQC,sBAExBF,GAAeC,GAAQC,oBACNC,IAAOL,EAAAA,CAE1B,CASA,SAASA,IAAAA,CAMR,QALIJ,EAnGoBU,EAOjBC,EANHC,EACHC,EACAC,EACAC,EAgGAC,EAAI,EAIEd,GAAcX,QAOhBW,GAAcX,OAASyB,GAC1Bd,GAAce,KAAKC,EAAAA,EAGpBlB,EAAIE,GAAciB,MAAAA,EAClBH,EAAId,GAAcX,OAEdS,EAACC,MA/GCU,EAAAA,OALNE,GADGD,GADoBF,EAuHNV,GAtHMoB,KACN5B,IACjBsB,EAAc,CAAA,EACdC,EAAW,CAAA,EAERL,EAASW,OACNV,EAAWW,GAAO,CAAA,EAAIV,CAAAA,GACpBQ,IAAaR,EAAQQ,IAAa,EACtCb,GAAQtB,OAAOsB,GAAQtB,MAAM0B,CAAAA,EAEjCY,GACCb,EAASW,IACTV,EACAC,EACAF,EAASc,IACTd,EAASW,IAAYI,aJzII,GI0IzBb,EAAQc,IAAyB,CAACb,CAAAA,EJ3HjB,KI4HjBC,EACAD,GJ7HiB,KI6HA7B,GAAc4B,CAAAA,EAAYC,EAAAA,CAAAA,EJ5IlB,GI6ItBD,EAAQc,KACXX,CAAAA,EAGDJ,EAAQS,IAAaR,EAAQQ,IAC7BT,EAAQxB,GAAAG,IAAmBqB,EAAQvB,GAAAA,EAAWuB,EAC9CgB,GAAWb,EAAaH,EAAUI,CAAAA,EAE9BJ,EAAQnB,KAASqB,GACpBnB,GAAwBiB,CAAAA,IA6F1BP,GAAOC,IAAkB,CAC1B,CAAA,SG3MgBuB,GACfC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACArB,EACAD,EACAuB,EACArB,EAAAA,CAAAA,IAEIpB,EAEHiB,EAEAyB,EAEAC,EAEAC,EAiCIC,EA5BDC,EAAeT,GAAkBA,EAAc1C,KAAeoD,GAE9DC,EAAoBb,EAAavC,OAUrC,IARAsB,EAAS+B,GACRb,EACAD,EACAW,EACA5B,EACA8B,CAAAA,EAGIhD,EAAI,EAAGA,EAAIgD,EAAmBhD,KAClC0C,EAAaN,EAAczC,IAAWK,CAAAA,IPjEpB,OOuEjBiB,EADGyB,EAAUjD,KACbwB,GAAWiC,GAEAJ,EAAYJ,EAAUjD,GAAAA,GAAYyD,GAI9CR,EAAUjD,IAAUO,EAGhB6C,EAASjB,GACZM,EACAQ,EACAzB,EACAqB,EACAC,EACAC,EACArB,EACAD,EACAuB,EACArB,CAAAA,EAIDuB,EAASD,EAAU7C,IACf6C,EAAWS,KAAOlC,EAASkC,KAAOT,EAAWS,MAC5ClC,EAASkC,KACZC,GAASnC,EAASkC,IPjGF,KOiGaT,CAAAA,EAE9BtB,EAASZ,KACRkC,EAAWS,IACXT,EAAUxC,KAAeyC,EACzBD,CAAAA,GAIEE,GP1Gc,MO0GWD,GP1GX,OO2GjBC,EAAgBD,GPtHS,EO0HzBD,EAAUX,KACVd,EAAQtB,MAAe+C,EAAU/C,IAEjCuB,EAASmC,GAAOX,EAAYxB,EAAQgB,CAAAA,EACA,OAAnBQ,EAAW5C,MAAQ,YAAc+C,IAAtB/C,OAC5BoB,EAAS2B,EACCF,IACVzB,EAASyB,EAAOW,aAIjBZ,EAAUX,KAAAA,IAKX,OAFAK,EAAcvC,IAAQ+C,EAEf1B,CACR,CAOA,SAAS+B,GACRb,EACAD,EACAW,EACA5B,EACA8B,EAAAA,CALD,IAQKhD,EAEA0C,EAEAzB,EA8DGsC,EAOAC,EAnEHC,EAAoBX,EAAYlD,OACnC8D,EAAuBD,EAEpBE,EAAO,EAGX,IADAvB,EAAczC,IAAa,IAAIiE,MAAMZ,CAAAA,EAChChD,EAAI,EAAGA,EAAIgD,EAAmBhD,KAGlC0C,EAAaP,EAAanC,CAAAA,IP9JR,MOkKI,OAAd0C,GAAc,WACA,OAAdA,GAAc,YA8ChBa,EAAcvD,EAAI2D,GA/BvBjB,EAAaN,EAAczC,IAAWK,CAAAA,EANjB,OAAd0C,GAAc,UACA,OAAdA,GAAc,UAEA,OAAdA,GAAc,UACrBA,EAAWmB,aAAeC,OAEiBC,GPlL1B,KOoLhBrB,EPpLgB,KAAA,KAAA,IAAA,EOyLPsB,GAAQtB,CAAAA,EACyBqB,GAC1ChF,GACA,CAAEE,SAAUyD,CAAAA,EP5LI,KAAA,KAAA,IAAA,EOiMPA,EAAWmB,aPhMCI,MOgM2BvB,EAAUwB,IAAU,EAK1BH,GAC1CrB,EAAW5C,KACX4C,EAAW1D,MACX0D,EAAWyB,IACXzB,EAAWS,IAAMT,EAAWS,IP1MZ,KO2MhBT,EAAUjB,GAAAA,EAGgCiB,GAIlClD,GAAW4C,EACrBM,EAAUwB,IAAU9B,EAAc8B,IAAU,EAY5CjD,EP/NkB,MOwNZuC,EAAiBd,EAAUjD,IAAU2E,GAC1C1B,EACAI,EACAS,EACAG,CAAAA,IP5NiB,KOkOjBA,KADAzC,EAAW6B,EAAYU,CAAAA,KAGtBvC,EAAQc,KP7OW,IOoPFd,GP3OD,MO2OqBA,EAAQQ,KP3O7B,MO8Ob+B,GAH0C/B,KAkBzCuB,EAAoBS,EACvBE,IACUX,EAAoBS,GAC9BE,KAK4B,OAAnBjB,EAAW5C,MAAQ,aAC7B4C,EAAUX,KPjRc,IOmRfyB,GAAiBD,IAiBvBC,GAAiBD,EAAc,EAClCI,IACUH,GAAiBD,EAAc,EACzCI,KAEIH,EAAgBD,EACnBI,IAEAA,IAMDjB,EAAUX,KPlTc,KOgLzBK,EAAczC,IAAWK,CAAAA,EPrKR,KOgTnB,GAAI0D,EACH,IAAK1D,EAAI,EAAGA,EAAIyD,EAAmBzD,KAClCiB,EAAW6B,EAAY9C,CAAAA,IPlTN,OATG,EO4TKiB,EAAQc,MAAsB,IAClDd,EAAQpB,KAASqB,IACpBA,EAAS7B,GAAc4B,CAAAA,GAGxBoD,GAAQpD,EAAUA,CAAAA,GAKrB,OAAOC,CACR,CAQA,SAASmC,GAAOiB,EAAapD,EAAQgB,EAAAA,CAArC,IAIMjD,EACKe,EAFV,GAA+B,OAApBsE,EAAYxE,MAAQ,WAAY,CAE1C,IADIb,EAAWqF,EAAW3E,IACjBK,EAAI,EAAGf,GAAYe,EAAIf,EAASW,OAAQI,IAC5Cf,EAASe,CAAAA,IAKZf,EAASe,CAAAA,EAAER,GAAW8E,EACtBpD,EAASmC,GAAOpE,EAASe,CAAAA,EAAIkB,EAAQgB,CAAAA,GAIvC,OAAOhB,CACR,CAAWoD,EAAWzE,KAASqB,IAC1BA,GAAUoD,EAAYxE,MAAAA,CAASoC,EAAUqC,SAASrD,CAAAA,IACrDA,EAAS7B,GAAciF,CAAAA,GAExBpC,EAAUsC,aAAaF,EAAWzE,IAAOqB,GP3VvB,IAAA,EO4VlBA,EAASoD,EAAWzE,KAGrB,GACCqB,EAASA,GAAUA,EAAOoC,kBAClBpC,GPjWU,MOiWQA,EAAOuD,UAAY,GAE9C,OAAOvD,CACR,CA4BA,SAASwD,GACRC,EACAC,EACAC,EACAC,EAAAA,CAJD,IAmCMC,EACAC,EA9BCC,EAAMN,EAAWM,IACjBC,EAAOP,EAAWO,KACpBC,EAAWP,EAAYC,CAAAA,EAkB3B,GACEM,IP3ZiB,MO2ZIR,EAAWM,KAAO,MACvCE,GACAF,GAAOE,EAASF,KAChBC,GAAQC,EAASD,OPvaG,EOwanBC,EAAQC,MAAsB,EAEhC,OAAOP,EAAAA,GAVPC,GACCK,GPxZiB,OATG,EOiaCA,EAAQC,MAAsB,EAAI,EAAI,GAa5D,IAFIL,EAAIF,EAAc,EAClBG,EAAIH,EAAc,EACfE,GAAK,GAAKC,EAAIJ,EAAYS,QAAQ,CACxC,GAAIN,GAAK,EAAG,CAEX,IADAI,EAAWP,EAAYG,CAAAA,KPhbJ,EOmbjBI,EAAQC,MAAsB,GAC/BH,GAAOE,EAASF,KAChBC,GAAQC,EAASD,KAEjB,OAAOH,EAERA,GACD,CAEA,GAAIC,EAAIJ,EAAYS,OAAQ,CAE3B,IADAF,EAAWP,EAAYI,CAAAA,KP7bJ,EOgcjBG,EAAQC,MAAsB,GAC/BH,GAAOE,EAASF,KAChBC,GAAQC,EAASD,KAEjB,OAAOF,EAERA,GACD,CACD,CAGD,MAAA,EACD,CFhdA,SAASM,GAASC,EAAON,EAAKO,EAAAA,CACzBP,EAAI,CAAA,GAAM,IACbM,EAAME,YAAYR,EAAKO,GLWL,KKXqB,GAAKA,CAAAA,EAE5CD,EAAMN,CAAAA,EADIO,GLUQ,KKTL,GACa,OAATA,GAAS,UAAYE,GAAmBC,KAAKV,CAAAA,EACjDO,EAEAA,EAAQ,IAEvB,CAyBgB,SAAAC,GAAYG,EAAKC,EAAML,EAAOM,EAAUC,EAAAA,CACvD,IAAIC,EAEJC,EAAG,GAAIJ,GAAQ,QACd,GAAoB,OAATL,GAAS,SACnBI,EAAIL,MAAMW,QAAUV,MACd,CAKN,GAJuB,OAAZM,GAAY,WACtBF,EAAIL,MAAMW,QAAUJ,EAAW,IAG5BA,EACH,IAAKD,KAAQC,EACNN,GAASK,KAAQL,GACtBF,GAASM,EAAIL,MAAOM,EAAM,EAAA,EAK7B,GAAIL,EACH,IAAKK,KAAQL,EACPM,GAAYN,EAAMK,CAAAA,GAASC,EAASD,CAAAA,GACxCP,GAASM,EAAIL,MAAOM,EAAML,EAAMK,CAAAA,CAAAA,CAIpC,SAGQA,EAAK,CAAA,GAAM,KAAOA,EAAK,CAAA,GAAM,IACrCG,EAAaH,IAASA,EAAOA,EAAKM,QAAQC,GAAe,IAAA,GAQxDP,EAJAA,EAAKQ,YAAAA,IAAiBT,GACtBC,GAAQ,cACRA,GAAQ,YAEDA,EAAKQ,YAAAA,EAAcC,MAAM,CAAA,EACrBT,EAAKS,MAAM,CAAA,EAElBV,EAAGW,IAAaX,EAAGW,EAAc,CAAA,GACtCX,EAAGW,EAAYV,EAAOG,CAAAA,EAAcR,EAEhCA,EACEM,EAQJN,EAAMgB,EAAYV,EAASU,GAP3BhB,EAAMgB,EAAYC,GAClBb,EAAIc,iBACHb,EACAG,EAAaW,GAAoBC,GACjCZ,CAAAA,GAMFJ,EAAIiB,oBACHhB,EACAG,EAAaW,GAAoBC,GACjCZ,CAAAA,MAGI,CACN,GAAID,GLzFuB,6BK6F1BF,EAAOA,EAAKM,QAAQ,cAAe,GAAA,EAAKA,QAAQ,SAAU,GAAA,UAE1DN,GAAQ,SACRA,GAAQ,UACRA,GAAQ,QACRA,GAAQ,QACRA,GAAQ,QAGRA,GAAQ,YACRA,GAAQ,YACRA,GAAQ,WACRA,GAAQ,WACRA,GAAQ,QACRA,GAAQ,WACRA,KAAQD,EAER,GAAA,CACCA,EAAIC,CAAAA,EAAQL,GL3GI,KK2GY,GAAKA,EAEjC,MAAMS,CAAAA,OACEa,EAAAA,CAAAA,CAUU,OAATtB,GAAS,aAETA,GL1HO,MK0HWA,IAAlBA,IAAqCK,EAAK,CAAA,GAAM,IAG1DD,EAAImB,gBAAgBlB,CAAAA,EAFpBD,EAAIoB,aAAanB,EAAMA,GAAQ,WAAaL,GAAS,EAAO,GAAKA,CAAAA,EAInE,CACD,CAOA,SAASyB,GAAiBjB,EAAAA,CAMzB,OAAA,SAAiBc,EAAAA,CAChB,GAAII,KAAIX,EAAa,CACpB,IAAMY,EAAeD,KAAIX,EAAYO,EAAE5B,KAAOc,CAAAA,EAC9C,GAAIc,EAAEM,GLhJW,KKiJhBN,EAAEM,EAAcX,aAKNK,EAAEM,EAAcD,EAAaX,EACvC,OAED,OAAOW,EAAaE,GAAQC,MAAQD,GAAQC,MAAMR,CAAAA,EAAKA,CAAAA,CACxD,CACD,CACD,CAAA,SG5HgBS,GACfC,EACAC,EACAtC,EACAuC,EACA3B,EACA4B,EACAC,EACAC,EACAC,EACAC,EAAAA,CAAAA,IAGIC,EAkBEC,EAAGC,EAAOC,EAAUC,EAAUC,EAAUC,EACxCC,EACEC,EAMFC,EACAC,EAyGOC,EA4BPC,GACHC,GASSF,EA6BNG,EAgDOH,EAtPZI,EAAUtB,EAASvC,KAIpB,GAAIuC,EAASuB,aRjDWC,KQiDe,ORlDpB,KAbU,IQkEzB9D,EAAQC,MACX0C,EAAAA,CAAAA,ERrE0B,GQqET3C,EAAQC,KAEzBuC,EAAoB,CADpBE,EAASJ,EAAQyB,IAAQ/D,EAAQ+D,GAAAA,IAI7BlB,EAAMX,GAAO8B,MAASnB,EAAIP,CAAAA,EAE/B2B,EAAO,GAAsB,OAAXL,GAAW,WAC5B,GAAA,CAkEC,GAhEIR,EAAWd,EAAS4B,MAClBb,EACL,cAAeO,GAAWA,EAAQO,UAAUC,OAKzCd,GADJT,EAAMe,EAAQS,cACQ9B,EAAcM,EAAGyB,GAAAA,EACnCf,EAAmBV,EACpBS,EACCA,EAASY,MAAM7D,MACfwC,EAAG0B,GACJhC,EAGCvC,EAAQsE,IAEXnB,GADAL,EAAIR,EAAQgC,IAActE,EAAQsE,KACNC,GAAwBzB,EAAC0B,KAGjDnB,EAEHf,EAAQgC,IAAcxB,EAAI,IAAIc,EAAQR,EAAUG,CAAAA,GAGhDjB,EAAQgC,IAAcxB,EAAI,IAAI2B,GAC7BrB,EACAG,CAAAA,EAEDT,EAAEe,YAAcD,EAChBd,EAAEsB,OAASM,IAERpB,GAAUA,EAASqB,IAAI7B,CAAAA,EAE3BA,EAAEoB,MAAQd,EACLN,EAAE8B,QAAO9B,EAAE8B,MAAQ,CAAA,GACxB9B,EAAE+B,QAAUtB,EACZT,EAACgC,IAAkBvC,EACnBQ,EAAQD,EAACiC,IAAAA,GACTjC,EAACkC,IAAoB,CAAA,EACrBlC,EAACmC,IAAmB,CAAA,GAIjB5B,GAAoBP,EAACoC,KR5GR,OQ6GhBpC,EAACoC,IAAcpC,EAAE8B,OAGdvB,GAAoBO,EAAQuB,0BRhHf,OQiHZrC,EAACoC,KAAepC,EAAE8B,QACrB9B,EAACoC,IAAcE,GAAO,CAAA,EAAItC,EAACoC,GAAAA,GAG5BE,GACCtC,EAACoC,IACDtB,EAAQuB,yBAAyB/B,EAAUN,EAACoC,GAAAA,CAAAA,GAI9ClC,EAAWF,EAAEoB,MACbjB,EAAWH,EAAE8B,MACb9B,EAACuC,IAAU/C,EAGPS,EAEFM,GACAO,EAAQuB,0BRnIO,MQoIfrC,EAAEwC,oBRpIa,MQsIfxC,EAAEwC,mBAAAA,EAGCjC,GAAoBP,EAAEyC,mBRzIV,MQ0IfzC,EAACkC,IAAkBQ,KAAK1C,EAAEyC,iBAAAA,MAErB,CAUN,GARClC,GACAO,EAAQuB,0BR/IO,MQgJf/B,IAAaJ,GACbF,EAAE2C,2BRjJa,MQmJf3C,EAAE2C,0BAA0BrC,EAAUG,CAAAA,EAAAA,CAIpCT,EAACiB,KACFjB,EAAE4C,uBRxJY,MQyJd5C,EAAE4C,sBACDtC,EACAN,EAACoC,IACD3B,CAAAA,IAJCmC,IAMHpD,EAAQ+C,KAAcrF,EAAQqF,IAC7B,CAkBD,IAhBI/C,EAAQ+C,KAAcrF,EAAQqF,MAKjCvC,EAAEoB,MAAQd,EACVN,EAAE8B,MAAQ9B,EAACoC,IACXpC,EAACiC,IAAAA,IAGFzC,EAAQyB,IAAQ/D,EAAQ+D,IACxBzB,EAAQqD,IAAa3F,EAAQ2F,IAC7BrD,EAAQqD,IAAWC,KAAK,SAAAC,EAAAA,CACnBA,IAAOA,EAAKtB,GAAWjC,EAC5B,CAAA,EAESkB,EAAI,EAAGA,EAAIV,EAACmC,IAAiB/E,OAAQsD,IAC7CV,EAACkC,IAAkBQ,KAAK1C,EAACmC,IAAiBzB,CAAAA,CAAAA,EAE3CV,EAACmC,IAAmB,CAAA,EAEhBnC,EAACkC,IAAkB9E,QACtBuC,EAAY+C,KAAK1C,CAAAA,EAGlB,MAAMmB,CACP,CAEInB,EAAEgD,qBR7LU,MQ8LfhD,EAAEgD,oBAAoB1C,EAAUN,EAACoC,IAAa3B,CAAAA,EAG3CF,GAAoBP,EAAEiD,oBRjMV,MQkMfjD,EAACkC,IAAkBQ,KAAK,UAAA,CACvB1C,EAAEiD,mBAAmB/C,EAAUC,EAAUC,CAAAA,CAC1C,CAAA,CAEF,CASA,GAPAJ,EAAE+B,QAAUtB,EACZT,EAAEoB,MAAQd,EACVN,EAACkD,IAAc3D,EACfS,EAACiB,IAAAA,GAEGN,GAAavB,GAAO+D,IACvBvC,GAAQ,EACLL,EAAkB,CAQrB,IAPAP,EAAE8B,MAAQ9B,EAACoC,IACXpC,EAACiC,IAAAA,GAEGtB,IAAYA,GAAWnB,CAAAA,EAE3BO,EAAMC,EAAEsB,OAAOtB,EAAEoB,MAAOpB,EAAE8B,MAAO9B,EAAE+B,OAAAA,EAE1BrB,EAAI,EAAGA,EAAIV,EAACmC,IAAiB/E,OAAQsD,IAC7CV,EAACkC,IAAkBQ,KAAK1C,EAACmC,IAAiBzB,CAAAA,CAAAA,EAE3CV,EAACmC,IAAmB,CAAA,CACrB,KACC,IACCnC,EAACiC,IAAAA,GACGtB,IAAYA,GAAWnB,CAAAA,EAE3BO,EAAMC,EAAEsB,OAAOtB,EAAEoB,MAAOpB,EAAE8B,MAAO9B,EAAE+B,OAAAA,EAGnC/B,EAAE8B,MAAQ9B,EAACoC,UACHpC,EAACiC,KAAAA,EAAarB,GAAQ,IAIhCZ,EAAE8B,MAAQ9B,EAACoC,IAEPpC,EAAEoD,iBR1OW,OQ2OhB3D,EAAgB6C,GAAOA,GAAO,CAAE,EAAE7C,CAAAA,EAAgBO,EAAEoD,gBAAAA,CAAAA,GAGjD7C,GAAAA,CAAqBN,GAASD,EAAEqD,yBR9OnB,OQ+OhBjD,EAAWJ,EAAEqD,wBAAwBnD,EAAUC,CAAAA,GAK5CU,EAAed,EADlBA,GRnPgB,MQmPDA,EAAI9C,OAASqG,IAAYvD,EAAI/C,KRnP5B,OQuPhB6D,EAAe0C,GAAUxD,EAAIqB,MAAMoC,QAAAA,GAGpC5D,EAAS6D,GACRlE,EACAmE,GAAQ7C,CAAAA,EAAgBA,EAAe,CAACA,CAAAA,EACxCrB,EACAtC,EACAuC,EACA3B,EACA4B,EACAC,EACAC,EACAC,EACAC,CAAAA,EAGDE,EAAE2D,KAAOnE,EAAQyB,IAGjBzB,EAAQrC,KAAAA,KAEJ6C,EAACkC,IAAkB9E,QACtBuC,EAAY+C,KAAK1C,CAAAA,EAGdK,IACHL,EAAC0B,IAAiB1B,EAACyB,GRlRH,KQ6SlB,OAzBS5C,EAAAA,CAGR,GAFAW,EAAQ+C,IRrRS,KQuRb1C,GAAeH,GRvRF,KQwRhB,GAAIb,EAAE+E,KAAM,CAKX,IAJApE,EAAQrC,KAAW0C,EAChBgE,IRvSsB,IQ0SlBjE,GAAUA,EAAOkE,UAAY,GAAKlE,EAAOmE,aAC/CnE,EAASA,EAAOmE,YAGjBrE,EAAkBA,EAAkBsE,QAAQpE,CAAAA,CAAAA,ERjS7B,KQkSfJ,EAAQyB,IAAQrB,CACjB,KACC,KAASc,EAAIhB,EAAkBtC,OAAQsD,KACtCuD,GAAWvE,EAAkBgB,CAAAA,CAAAA,OAI/BlB,EAAQyB,IAAQ/D,EAAQ+D,IACxBzB,EAAQqD,IAAa3F,EAAQ2F,IAE9BzD,GAAO6B,IAAapC,EAAGW,EAAUtC,CAAAA,CAClC,MAEAwC,GR/SkB,MQgTlBF,EAAQ+C,KAAcrF,EAAQqF,KAE9B/C,EAAQqD,IAAa3F,EAAQ2F,IAC7BrD,EAAQyB,IAAQ/D,EAAQ+D,KAExBrB,EAASJ,EAAQyB,IAAQiD,GACxBhH,EAAQ+D,IACRzB,EACAtC,EACAuC,EACA3B,EACA4B,EACAC,EACAE,EACAC,CAAAA,EAMF,OAFKC,EAAMX,GAAQ+E,SAASpE,EAAIP,CAAAA,ER/UH,IQiVtBA,EAAQrC,IAAAA,OAAuCyC,CACvD,CAAA,SAOgBwE,GAAWzE,EAAa0E,EAAMvE,EAAAA,CAC7C,QAASY,EAAI,EAAGA,EAAIZ,EAAS1C,OAAQsD,IACpC4D,GAASxE,EAASY,CAAAA,EAAIZ,EAAAA,EAAWY,CAAAA,EAAIZ,EAAAA,EAAWY,CAAAA,CAAAA,EAG7CtB,GAAOoC,KAAUpC,GAAOoC,IAAS6C,EAAM1E,CAAAA,EAE3CA,EAAYmD,KAAK,SAAA9C,EAAAA,CAChB,GAAA,CAECL,EAAcK,EAACkC,IACflC,EAACkC,IAAoB,CAAA,EACrBvC,EAAYmD,KAAK,SAAAyB,EAAAA,CAEhBA,EAAGC,KAAKxE,CAAAA,CACT,CAAA,CAGD,OAFSnB,EAAAA,CACRO,GAAO6B,IAAapC,EAAGmB,EAACuC,GAAAA,CACzB,CACD,CAAA,CACD,CAEA,SAASgB,GAAUkB,EAAAA,CAClB,OACgB,OAARA,GAAQ,UACfA,GRrWkB,MQsWjBA,EAAIvD,KAAWuD,EAAIvD,IAAU,EAEvBuD,EAGJf,GAAQe,CAAAA,EACJA,EAAKC,IAAInB,EAAAA,EAGVjB,GAAO,CAAE,EAAEmC,CAAAA,CACnB,CAiBA,SAASP,GACRvG,EACA6B,EACAtC,EACAuC,EACA3B,EACA4B,EACAC,EACAE,EACAC,EAAAA,CATD,IAeKY,EAEAiE,EAEAC,EAEAC,EACAtH,EACAuH,EACAC,EAbA7E,EAAWhD,EAASkE,MACpBd,EAAWd,EAAS4B,MACpB0C,EAAkCtE,EAASvC,KAkB/C,GAJI6G,GAAY,MAAOhG,ERhaK,6BQianBgG,GAAY,OAAQhG,ER/ZA,qCQganBA,IAAWA,ERjaS,gCQma1B4B,GRhae,MQialB,IAAKgB,EAAI,EAAGA,EAAIhB,EAAkBtC,OAAQsD,IAMzC,IALAnD,EAAQmC,EAAkBgB,CAAAA,IAOzB,iBAAkBnD,GAAAA,CAAAA,CAAWuG,IAC5BA,EAAWvG,EAAMyH,WAAalB,EAAWvG,EAAMuG,UAAY,GAC3D,CACDnG,EAAMJ,EACNmC,EAAkBgB,CAAAA,ER7aF,KQ8ahB,KACD,EAIF,GAAI/C,GRnbe,KQmbF,CAChB,GAAImG,GRpbc,KQqbjB,OAAOmB,SAASC,eAAe5E,CAAAA,EAGhC3C,EAAMsH,SAASE,gBACdrH,EACAgG,EACAxD,EAAS8E,IAAM9E,CAAAA,EAKZT,IACCT,GAAOiG,KACVjG,GAAOiG,IAAoB7F,EAAUE,CAAAA,EACtCG,EAAAA,IAGDH,ERtckB,IQucnB,CAEA,GAAIoE,GRzce,KQ2cd5D,IAAaI,GAAcT,GAAelC,EAAI2H,MAAQhF,IACzD3C,EAAI2H,KAAOhF,OAEN,CASN,GAPAZ,EAAoBA,GAAqBrB,GAAMmG,KAAK7G,EAAI4H,UAAAA,EAExDrF,EAAWhD,EAASkE,OAASoE,GAAAA,CAKxB3F,GAAeH,GRvdF,KQydjB,IADAQ,EAAW,CAAA,EACNQ,EAAI,EAAGA,EAAI/C,EAAI8H,WAAWrI,OAAQsD,IAEtCR,GADA3C,EAAQI,EAAI8H,WAAW/E,CAAAA,GACR9C,IAAAA,EAAQL,EAAMA,MAI/B,IAAKmD,KAAKR,EAET,GADA3C,EAAQ2C,EAASQ,CAAAA,EACbA,GAAK,YACEA,GAAAA,GAAK,0BACfkE,EAAUrH,UACJ,EAAMmD,KAAKJ,GAAW,CAC5B,GACEI,GAAK,SAAW,iBAAkBJ,GAClCI,GAAK,WAAa,mBAAoBJ,EAEvC,SAED9C,GAAYG,EAAK+C,ER3eD,KQ2eUnD,EAAOO,CAAAA,CAClC,EAKD,IAAK4C,KAAKJ,EACT/C,EAAQ+C,EAASI,CAAAA,EACbA,GAAK,WACRmE,EAActH,EACJmD,GAAK,0BACfiE,EAAUpH,EACAmD,GAAK,QACfoE,EAAavH,EACHmD,GAAK,UACfqE,EAAUxH,EAERsC,GAA+B,OAATtC,GAAS,YACjC2C,EAASQ,CAAAA,IAAOnD,GAEhBC,GAAYG,EAAK+C,EAAGnD,EAAO2C,EAASQ,CAAAA,EAAI5C,CAAAA,EAK1C,GAAI6G,EAGD9E,GACC+E,IACAD,EAAOe,QAAWd,EAAOc,QAAWf,EAAOe,QAAW/H,EAAIgI,aAE5DhI,EAAIgI,UAAYhB,EAAOe,QAGxBlG,EAAQqD,IAAa,CAAA,UAEjB+B,IAASjH,EAAIgI,UAAY,IAE7BlC,GAECjE,EAASvC,MAAQ,WAAaU,EAAIiI,QAAUjI,EAC5C+F,GAAQmB,CAAAA,EAAeA,EAAc,CAACA,CAAAA,EACtCrF,EACAtC,EACAuC,EACAqE,GAAY,gBR5hBe,+BQ4hBqBhG,EAChD4B,EACAC,EACAD,EACGA,EAAkB,CAAA,EAClBxC,EAAQ2F,KAAcgD,GAAc3I,EAAU,CAAA,EACjD2C,EACAC,CAAAA,EAIGJ,GRpiBa,KQqiBhB,IAAKgB,EAAIhB,EAAkBtC,OAAQsD,KAClCuD,GAAWvE,EAAkBgB,CAAAA,CAAAA,EAM3Bb,IACJa,EAAI,QACAoD,GAAY,YAAcgB,GR9iBb,KQ+iBhBnH,EAAImB,gBAAgB,OAAA,EAEpBgG,GRhjBqB9D,OQqjBpB8D,IAAenH,EAAI+C,CAAAA,GAClBoD,GAAY,YAAZA,CAA2BgB,GAI3BhB,GAAY,UAAYgB,GAAc5E,EAASQ,CAAAA,IAEjDlD,GAAYG,EAAK+C,EAAGoE,EAAY5E,EAASQ,CAAAA,EAAI5C,CAAAA,EAG9C4C,EAAI,UACAqE,GRhkBkB/D,MQgkBM+D,GAAWpH,EAAI+C,CAAAA,GAC1ClD,GAAYG,EAAK+C,EAAGqE,EAAS7E,EAASQ,CAAAA,EAAI5C,CAAAA,EAG7C,CAEA,OAAOH,CACR,CAQgB,SAAA2G,GAASwB,EAAKvI,EAAOwF,EAAAA,CACpC,GAAA,CACC,GAAkB,OAAP+C,GAAO,WAAY,CAC7B,IAAIC,EAAuC,OAAhBD,EAAG3I,KAAa,WACvC4I,GAEHD,EAAG3I,IAAAA,EAGC4I,GAAiBxI,GRzlBL,OQ6lBhBuI,EAAG3I,IAAY2I,EAAIvI,CAAAA,EAErB,MAAOuI,EAAIE,QAAUzI,CAGtB,OAFSsB,EAAAA,CACRO,GAAO6B,IAAapC,EAAGkE,CAAAA,CACxB,CACD,CASgB,SAAAkD,GAAQlD,EAAOmD,EAAaC,EAAAA,CAA5B,IACXC,EAsBM1F,EAbV,GARItB,GAAQ6G,SAAS7G,GAAQ6G,QAAQlD,CAAAA,GAEhCqD,EAAIrD,EAAM+C,OACTM,EAAEJ,SAAWI,EAAEJ,SAAWjD,EAAK9B,KACnCqD,GAAS8B,ERlnBQ,KQknBCF,CAAAA,IAIfE,EAAIrD,EAAKvB,MRtnBK,KQsnBiB,CACnC,GAAI4E,EAAEC,qBACL,GAAA,CACCD,EAAEC,qBAAAA,CAGH,OAFSxH,EAAAA,CACRO,GAAO6B,IAAapC,EAAGqH,CAAAA,CACxB,CAGDE,EAAEzC,KAAOyC,EAAClD,IR/nBQ,IQgoBnB,CAEA,GAAKkD,EAAIrD,EAAKF,IACb,IAASnC,EAAI,EAAGA,EAAI0F,EAAEhJ,OAAQsD,IACzB0F,EAAE1F,CAAAA,GACLuF,GACCG,EAAE1F,CAAAA,EACFwF,EACAC,GAAmC,OAAdpD,EAAM9F,MAAQ,UAARA,EAM1BkJ,GACJlC,GAAWlB,EAAK9B,GAAAA,EAGjB8B,EAAKvB,IAAcuB,EAAKtB,GAAWsB,EAAK9B,IAAAA,MACzC,CAGA,SAASW,GAASR,EAAOU,EAAOC,EAAAA,CAC/B,OAAA,KAAYhB,YAAYK,EAAOW,CAAAA,CAChC,CC3pBO,SAAST,GAAOyB,EAAOxD,EAAW+G,EAAAA,CAAlC,IAWFzG,EAOA3C,EAQAyC,EACHG,EAzBGP,GAAa0F,WAChB1F,EAAY0F,SAASsB,iBAGlBnH,GAAOqC,IAAQrC,GAAOqC,GAAOsB,EAAOxD,CAAAA,EAYpCrC,GAPA2C,EAAoC,OAAfyG,GAAe,YTRrB,KSiBfA,GAAeA,EAAWzD,KAAetD,EAASsD,IAMlDlD,EAAc,CAAA,EACjBG,EAAW,CAAA,EACZR,GACCC,EAPDwD,GAAAA,CAAWlD,GAAeyG,GAAgB/G,GAASsD,IAClD2D,GAAclD,GTpBI,KSoBY,CAACP,CAAAA,CAAAA,EAU/B7F,GAAYsI,GACZA,GACAjG,EAAUkH,aAAAA,CACT5G,GAAeyG,EACb,CAACA,CAAAA,EACDpJ,ETnCe,KSqCdqC,EAAUmH,WACTrI,GAAMmG,KAAKjF,EAAUgG,UAAAA,ETtCR,KSwClB5F,EAAAA,CACCE,GAAeyG,EACbA,EACApJ,EACCA,EAAQ+D,IACR1B,EAAUmH,WACd7G,EACAC,CAAAA,EAIDsE,GAAWzE,EAAaoD,EAAOjD,CAAAA,CAChC,CRzCa6G,GAAQC,GAAUD,MChBzBE,GAAU,CACfC,ISDM,SAAqBC,EAAOC,EAAOC,EAAUC,EAAAA,CAQnD,QANIC,EAEHC,EAEAC,EAEOL,EAAQA,EAAKM,IACpB,IAAKH,EAAYH,EAAKO,MAAAA,CAAiBJ,EAASG,GAC/C,GAAA,CAcC,IAbAF,EAAOD,EAAUK,cAELJ,EAAKK,0BXRD,OWSfN,EAAUO,SAASN,EAAKK,yBAAyBV,CAAAA,CAAAA,EACjDM,EAAUF,EAASQ,KAGhBR,EAAUS,mBXbE,OWcfT,EAAUS,kBAAkBb,EAAOG,GAAa,CAAE,CAAA,EAClDG,EAAUF,EAASQ,KAIhBN,EACH,OAAQF,EAASU,IAAiBV,CAIpC,OAFSW,EAAAA,CACRf,EAAQe,CACT,CAIF,MAAMf,CACP,CAAA,ERzCIgB,GAAU,EA2FDC,GAAiB,SAAAhB,EAAAA,CAAK,OAClCA,GHhFmB,MGgFFA,EAAMQ,aH/ECS,IG+EuB,ECrEhDC,GAAcC,UAAUT,SAAW,SAAUU,EAAQC,EAAAA,CAEpD,IAAIC,EAEHA,EADGC,KAAIC,KJdW,MIcYD,KAAIC,KAAeD,KAAKE,MAClDF,KAAIC,IAEJD,KAAIC,IAAcE,GAAO,CAAE,EAAEH,KAAKE,KAAAA,EAGlB,OAAVL,GAAU,aAGpBA,EAASA,EAAOM,GAAO,CAAA,EAAIJ,CAAAA,EAAIC,KAAKI,KAAAA,GAGjCP,GACHM,GAAOJ,EAAGF,CAAAA,EAIPA,GJ/Be,MIiCfG,KAAIK,MACHP,GACHE,KAAIM,IAAiBC,KAAKT,CAAAA,EAE3BU,GAAcR,IAAAA,EAEhB,EAQAL,GAAcC,UAAUa,YAAc,SAAUX,EAAAA,CAC3CE,KAAIK,MAIPL,KAAIzB,IAAAA,GACAuB,GAAUE,KAAIU,IAAkBH,KAAKT,CAAAA,EACzCU,GAAcR,IAAAA,EAEhB,EAYAL,GAAcC,UAAUe,OAASC,GA8F7BC,GAAgB,CAAA,EAadC,GACa,OAAXC,SAAW,WACfA,QAAQnB,UAAUoB,KAAKC,KAAKF,QAAQG,QAAAA,CAAAA,EACpCC,WAuBEC,GAAY,SAACC,EAAGC,EAAAA,CAAAA,OAAMD,EAAChB,IAAAkB,IAAiBD,EAACjB,IAAAkB,GAAc,EA8B7DC,GAAOC,IAAkB,ECxOnBC,GAAgB,8BAalBC,GAAa,EAkJXC,GAAaC,GAAAA,EAAiB,EAC9BC,GAAoBD,GAAAA,EAAiB,EC5KhCE,GAAI,EMAf,IAAIC,GAGAC,GAGAC,GAmBAC,GAhBAC,GAAc,EAGdC,GAAoB,CAAA,EAGlBC,GAAuDC,GAEzDC,GAAgBF,GAAOG,IACvBC,GAAkBJ,GAAOK,IACzBC,GAAeN,GAAQO,OACvBC,GAAYR,GAAOS,IACnBC,GAAmBV,GAAQW,QAC3BC,GAAUZ,GAAOa,GA8GrB,SAASC,GAAaC,EAAOC,EAAAA,CACxBhB,GAAOiB,KACVjB,GAAOiB,IAAOtB,GAAkBoB,EAAOjB,IAAekB,CAAAA,EAEvDlB,GAAc,EAOd,IAAMoB,EACLvB,GAAgBwB,MACfxB,GAAgBwB,IAAW,CAC3BN,GAAO,CAAA,EACPI,IAAiB,CAAA,CAAA,GAOnB,OAJIF,GAASG,EAAKL,GAAOO,QACxBF,EAAKL,GAAOQ,KAAK,CAAE,CAAA,EAGbH,EAAKL,GAAOE,CAAAA,CACpB,CAOO,SAASO,GAASC,EAAAA,CAExB,OADAzB,GAAc,EACP0B,GAAWC,GAAgBF,CAAAA,CACnC,CAUgB,SAAAC,GAAWE,EAASH,EAAcI,EAAAA,CAEjD,IAAMC,EAAYd,GAAapB,KAAgB,CAAA,EAE/C,GADAkC,EAAUC,EAAWH,EAAAA,CAChBE,EAASnB,MACbmB,EAASf,GAAU,CACjBc,EAAiDA,EAAKJ,CAAAA,EAA/CE,GAAAA,OAA0BF,CAAAA,EAElC,SAAAO,EAAAA,CACC,IAAMC,EAAeH,EAASI,IAC3BJ,EAASI,IAAY,CAAA,EACrBJ,EAASf,GAAQ,CAAA,EACdoB,EAAYL,EAAUC,EAASE,EAAcD,CAAAA,EAE/CC,IAAiBE,IACpBL,EAASI,IAAc,CAACC,EAAWL,EAASf,GAAQ,CAAA,CAAA,EACpDe,EAASnB,IAAYyB,SAAS,CAAE,CAAA,EAElC,CAAA,EAGDN,EAASnB,IAAcd,GAAAA,CAElBA,GAAgBwC,KAAmB,CAAA,IAgC9BC,EAAT,SAAyBC,EAAGC,EAAGC,EAAAA,CAC9B,GAAA,CAAKX,EAASnB,IAAAU,IAAqB,MAAA,GAGnC,IACMqB,EACLZ,EAASnB,IAAAU,IAAAN,GAA0B4B,OAFhB,SAAAC,EAAAA,CAAC,MAAA,CAAA,CAAMA,EAACjC,GAAW,CAAA,EAOvC,GAHsB+B,EAAWG,MAAM,SAAAD,EAAAA,CAAC,MAAA,CAAKA,EAACV,GAAW,CAAA,EAIxD,MAAA,CAAOY,GAAUA,EAAQC,KAAKC,KAAMT,EAAGC,EAAGC,CAAAA,EAM3C,IAAIQ,EAAenB,EAASnB,IAAYuC,QAAUX,EAUlD,OATAG,EAAWS,QAAQ,SAAAC,EAAAA,CAClB,GAAIA,EAAQlB,IAAa,CACxB,IAAMD,EAAemB,EAAQrC,GAAQ,CAAA,EACrCqC,EAAQrC,GAAUqC,EAAQlB,IAC1BkB,EAAQlB,IAAAA,OACJD,IAAiBmB,EAAQrC,GAAQ,CAAA,IAAIkC,EAAAA,GAC1C,CACD,CAAA,EAEOH,GACJA,EAAQC,KAAKC,KAAMT,EAAGC,EAAGC,CAAAA,GACzBQ,CACJ,EA9DApD,GAAgBwC,IAAAA,GAChB,IAAIS,EAAUjD,GAAiBwD,sBACzBC,EAAUzD,GAAiB0D,oBAKjC1D,GAAiB0D,oBAAsB,SAAUhB,EAAGC,EAAGC,EAAAA,CACtD,GAAIO,KAAIQ,IAAS,CAChB,IAAIC,EAAMX,EAEVA,EAAAA,OACAR,EAAgBC,EAAGC,EAAGC,CAAAA,EACtBK,EAAUW,CACX,CAEIH,GAASA,EAAQP,KAAKC,KAAMT,EAAGC,EAAGC,CAAAA,CACvC,EA+CA5C,GAAiBwD,sBAAwBf,CAC1C,CAGD,OAAOR,EAASI,KAAeJ,EAASf,EACzC,CA6KA,SAAS2C,IAAAA,CAER,QADIC,EACIA,EAAYC,GAAkBC,MAAAA,GACrC,GAAKF,EAASG,KAAgBH,EAASI,IACvC,GAAA,CACCJ,EAASI,IAAAC,IAAyBC,QAAQC,EAAAA,EAC1CP,EAASI,IAAAC,IAAyBC,QAAQE,EAAAA,EAC1CR,EAASI,IAAAC,IAA2B,CAAA,CAIrC,OAHSI,EAAAA,CACRT,EAASI,IAAAC,IAA2B,CAAA,EACpCK,GAAOC,IAAaF,EAAGT,EAASY,GAAAA,CACjC,CAEF,CA1aAF,GAAOG,IAAS,SAAAC,EAAAA,CACfC,GAAmB,KACfC,IAAeA,GAAcF,CAAAA,CAClC,EAEAJ,GAAOO,GAAS,SAACH,EAAOI,EAAAA,CACnBJ,GAASI,EAASC,KAAcD,EAASC,IAAAC,MAC5CN,EAAKM,IAASF,EAASC,IAAAC,KAGpBC,IAASA,GAAQP,EAAOI,CAAAA,CAC7B,EAGAR,GAAOY,IAAW,SAAAR,EAAAA,CACbS,IAAiBA,GAAgBT,CAAAA,EAGrCU,GAAe,EAEf,IAAMC,GAHNV,GAAmBD,EAAKY,KAGMtB,IAC1BqB,IACCE,KAAsBZ,IACzBU,EAAKpB,IAAmB,CAAA,EACxBU,GAAgBV,IAAoB,CAAA,EACpCoB,EAAKR,GAAOX,QAAQ,SAAAsB,EAAAA,CACfA,EAAQC,MACXD,EAAQX,GAAUW,EAAQC,KAE3BD,EAASE,EAAeF,EAAQC,IAAAA,MACjC,CAAA,IAEAJ,EAAKpB,IAAiBC,QAAQC,EAAAA,EAC9BkB,EAAKpB,IAAiBC,QAAQE,EAAAA,EAC9BiB,EAAKpB,IAAmB,CAAA,EACxBmB,GAAe,IAGjBG,GAAoBZ,EACrB,EAGAL,GAAQqB,OAAS,SAAAjB,EAAAA,CACZkB,IAAcA,GAAalB,CAAAA,EAE/B,IAAMmB,EAAInB,EAAKY,IACXO,GAAKA,EAAC7B,MACL6B,EAAC7B,IAAAC,IAAyB6B,SAAmBjC,GAAkBkC,KAAKF,CAAAA,IAgalD,GAAKG,KAAY1B,GAAQ2B,yBAC/CD,GAAU1B,GAAQ2B,wBACNC,IAAgBvC,EAAAA,GAja5BkC,EAAC7B,IAAAa,GAAeX,QAAQ,SAAAsB,EAAAA,CACnBA,EAASE,IACZF,EAAQxB,IAASwB,EAASE,GAE3BF,EAASE,EAAAA,MACV,CAAA,GAEDH,GAAoBZ,GAAmB,IACxC,EAIAL,GAAOgB,IAAW,SAACZ,EAAOyB,EAAAA,CACzBA,EAAYC,KAAK,SAAAxC,EAAAA,CAChB,GAAA,CACCA,EAASK,IAAkBC,QAAQC,EAAAA,EACnCP,EAASK,IAAoBL,EAASK,IAAkBoC,OAAO,SAAAC,EAAAA,CAAE,MAAA,CAChEA,EAAEzB,IAAUT,GAAakC,CAAAA,CAAU,CAAA,CAQrC,OANSjC,EAAAA,CACR8B,EAAYC,KAAK,SAAAP,EAAAA,CACZA,EAAC5B,MAAmB4B,EAAC5B,IAAoB,CAAA,EAC9C,CAAA,EACAkC,EAAc,CAAA,EACd7B,GAAOC,IAAaF,EAAGT,EAASY,GAAAA,CACjC,CACD,CAAA,EAEI+B,IAAWA,GAAU7B,EAAOyB,CAAAA,CACjC,EAGA7B,GAAQkC,QAAU,SAAA9B,EAAAA,CACb+B,IAAkBA,GAAiB/B,CAAAA,EAEvC,IAEKgC,EAFCb,EAAInB,EAAKY,IACXO,GAAKA,EAAC7B,MAET6B,EAAC7B,IAAAa,GAAeX,QAAQ,SAAAyC,EAAAA,CACvB,GAAA,CACCxC,GAAcwC,CAAAA,CAGf,OAFStC,EAAAA,CACRqC,EAAarC,CACd,CACD,CAAA,EACAwB,EAAC7B,IAAAA,OACG0C,GAAYpC,GAAOC,IAAamC,EAAYb,EAACrB,GAAAA,EAEnD,EA4UA,IAAIoC,GAA0C,OAAzBX,uBAAyB,WAY9C,SAASC,GAAeW,EAAAA,CACvB,IAOIC,EAPEC,EAAO,UAAA,CACZC,aAAaC,CAAAA,EACTL,IAASM,qBAAqBJ,CAAAA,EAClCK,WAAWN,CAAAA,CACZ,EACMI,EAAUE,WAAWJ,EAlcR,GAAA,EAqcfH,KACHE,EAAMb,sBAAsBc,CAAAA,EAE9B,CAqBA,SAAS5C,GAAciD,EAAAA,CAGtB,IAAMC,EAAO1C,GACT2C,EAAUF,EAAI9B,IACI,OAAXgC,GAAW,aACrBF,EAAI9B,IAAAA,OACJgC,EAAAA,GAGD3C,GAAmB0C,CACpB,CAOA,SAASjD,GAAagD,EAAAA,CAGrB,IAAMC,EAAO1C,GACbyC,EAAI9B,IAAY8B,EAAIvC,GAAAA,EACpBF,GAAmB0C,CACpB,CAqBA,SAASE,GAAeC,EAAKC,EAAAA,CAC5B,OAAmB,OAALA,GAAK,WAAaA,EAAED,CAAAA,EAAOC,CAC1C,CCviBM,SAAUC,GAAgBC,EAAc,CACxC,SAAS,aAAe,eAAiB,SAAS,aAAe,WACnEA,EAAE,EAEF,SAAS,iBAAiB,mBAAoB,IAAK,CACjDA,EAAE,CACJ,CAAC,CAEL,CCRA,IAAMC,GAA4C,CAChD,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEDC,GAAa,WAEnB,SAASC,GAAgBC,EAAS,CAChC,OAAOH,GAAkBG,CAAC,GAAKA,CACjC,CAKA,SAASC,GAAcC,EAAa,CAClC,OAAOA,GAAS,KAAO,GAAK,OAAOA,CAAK,EAAE,QAAQJ,GAAYC,EAAe,CAC/E,CAEA,SAASI,GAAYD,EAAc,CACjC,GAAIA,aAAiBE,GAEnB,OAAOF,EAAM,SAAQ,EAChB,GAAI,MAAM,QAAQA,CAAK,EAC5B,OAAOA,EAAM,IAAKG,GAAQF,GAAYE,CAAG,CAAC,EAAE,KAAK,EAAE,EAC9C,GACL,OAAOH,GAAU,UACjB,OAAOA,GAAU,UACjB,OAAOA,GAAU,UACjB,OAAOA,GAAU,UAEjB,OAAOD,GAAc,OAAOC,CAAK,CAAC,EAC7B,GAAIA,GAAS,KAElB,MAAO,GACF,MAAI,OAAOA,GAAU,SACpB,IAAI,MAAM,0CAA0C,KAAK,UAAUA,CAAK,CAAC,EAAE,EAG3E,IAAI,MACR,gCAAgC,OAAOA,CAAK,cAAc,KAAK,UAAUA,CAAK,CAAC,EAAE,CAGvF,CAGM,IAAOE,GAAP,KAAqB,CAIzB,YAAYE,EAA4BC,EAAiB,CAHxCC,GAAA,gBACAA,GAAA,eAGf,KAAK,QAAUF,EACf,KAAK,OAASC,CAChB,CAEA,UAAQ,CACN,OAAO,KAAK,OAAO,OAAe,CAACE,EAAKJ,EAAKK,IACpCD,EAAMN,GAAYE,CAAG,EAAI,KAAK,QAAQK,EAAI,CAAC,EACjD,KAAK,QAAQ,CAAC,CAAC,CACpB,GAaI,SAAUC,GAAKL,KAAkCC,EAAmB,CACxE,OAAO,IAAIH,GAAeE,EAASC,CAAM,CAC3C,CAOM,SAAUK,GAAWD,EAAoB,CAC7C,OAAOE,GAAWZ,GAAcU,EAAK,SAAQ,CAAE,CAAC,CAClD,CASM,SAAUE,GAAWX,EAAa,CACtC,OAAO,IAAIE,GAAe,CAACF,CAAK,EAAG,CAAA,CAAE,CACvC,CC9EM,SAAUY,GACdC,EACAC,EACAC,EAAwB,CAExB,OAAO,QAAQA,CAAU,EAAE,QAAQ,CAAC,CAACC,EAAiBC,CAAc,IAAK,CACvE,IAAMC,EAAiBL,EAAO,aAAaG,CAAe,EAC1D,GAAIE,GAAkB,KAAM,CAC1B,QAAQ,MAAM,cAAcF,CAAe,+BAA+B,EAC1E,MACF,CAEA,IAAMG,EAAUL,EAAO,iBAAiBG,CAAc,EACtD,GAAIE,EAAQ,SAAW,EAAG,CACxB,QAAQ,MAAM,wCAAwCF,CAAc,GAAG,EACvE,MACF,CAEAE,EAAQ,QAASC,GAAiB,CAChC,GAAIA,aAAyB,iBAC3B,GAAIA,EAAc,OAAS,WAAY,CACrC,IAAMC,EAAkB,KAAK,MAAMH,CAAc,EACjDE,EAAc,QAAU,CAAC,CAACC,EAG1BD,EAAc,cAAc,IAAI,MAAM,SAAU,CAAE,QAAS,EAAI,CAAE,CAAC,CACpE,MACEA,EAAc,MAAQF,UAEfE,aAAyB,kBAAmB,CACrD,IAAME,EAAI,MAAM,KAAKF,EAAc,OAAO,EAAE,UAAWG,GAAMA,EAAE,QAAUL,CAAc,EACnFI,GAAK,GACPF,EAAc,cAAgBE,EAG9BF,EAAc,cAAc,IAAI,MAAM,SAAU,CAAE,QAAS,EAAI,CAAE,CAAC,GAElE,QAAQ,MAAM,qCAAqCF,CAAc,GAAG,CAExE,MACEE,EAAc,YAAcF,CAEhC,CAAC,CACH,CAAC,CACH,CC7DA,IAAAM,GAAkB,WAWZ,SAAUC,GACdC,EACAC,EACA,CACE,UAAAC,EAAY,GACZ,OAAAC,EAAS,GACT,UAAAC,EAAY,EAAK,EACiD,CAAA,EAAE,CAEtE,IAAMC,EAAsC,CAC1C,SAAAJ,EACA,UAAW,MACX,KAAM,UACN,MAAO,UACP,IAAK,UACL,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,uBAAwBG,EAAY,EAAI,OACxC,aAAcD,EAAS,OAAS,SAE5BG,KAAQ,GAAAC,SAAM,IAAI,KAAK,eAAe,QAASF,CAAO,EAAE,cAAcL,CAAI,EAAIQ,GAAMA,EAAE,IAAI,EAC5FC,EAAgB,GAAGH,EAAM,KAAK,KAAK,IAAIA,EAAM,MAAM,KAAK,IAAIA,EAAM,IAAI,KAAK,IAAIA,EAAM,KAAK,KAAK,IAAIA,EAAM,OAAO,KAAK,IAAIA,EAAM,OAAO,KAAK,GAC/I,OAAIF,IACFK,EAAgB,GAAGA,CAAa,IAAIH,EAAM,iBAAiB,KAAK,IAE9DJ,IACFO,EAAgB,GAAGA,CAAa,KAAKH,EAAM,aAAa,KAAK,KAExDG,CACT,CCvCO,SAASC,GACdC,EACA,CACE,SAAAC,EAAW,MACX,SAAAC,EAAW,OACX,QAAAC,EAAU,EACZ,EAAgE,CAAC,EACjE,CACA,OAAIH,GAAS,KAAa,GACnBI;AAAA;AAAA,8CAEqCD,CAAO;AAAA,0BAC3BF,CAAQ,gBAAgBC,CAAQ;AAAA;AAAA,2DAEC,KAAK,MAAM,KAAK,IAAI,IAAKF,CAAK,CAAC,CAAC;AAAA,UACjFA,GAAS,GAAK,GAAG,KAAK,MAAMA,CAAK,CAAC,IAAM,EAAE;AAAA;AAAA;AAAA;AAAA,wBAI5B,IAAM,KAAK,MAAM,KAAK,IAAI,IAAKA,CAAK,CAAC,CAAC;AAAA;AAAA,UAEpDA,GAAS,GAAK,GAAK,GAAG,KAAK,MAAMA,CAAK,CAAC,GAAG;AAAA;AAAA;AAAA,GAIpD,CCbO,SAASK,GAA8BC,EAA4C,CACxF,IAAMC,EAAYD,EAAU,aAAa,IAAI,EAC7C,OAAKC,EAEkB,SAAS,cAA2B,sBAAsBA,CAAS,IAAI,EAFvE,IAIzB,CEAa,IChBTC,GAAU,EAERC,GAAUC,MAAMD,QAsBtB,SAASE,EAAYC,EAAMC,EAAOC,EAAKC,EAAkBC,EAAUC,EAAAA,CAC7DJ,IAAOA,EAAQ,CAAA,GAIpB,IACCK,EACAC,EAFGC,EAAkBP,EAItB,GAAI,QAASO,EAEZ,IAAKD,KADLC,EAAkB,CAAE,EACVP,EACLM,GAAK,MACRD,EAAML,EAAMM,CAAAA,EAEZC,EAAgBD,CAAAA,EAAKN,EAAMM,CAAAA,EAM9B,IAAME,EAAQ,CACbT,KAAAA,EACAC,MAAOO,EACPN,IAAAA,EACAI,IAAAA,EACAI,IAAW,KACXC,GAAS,KACTC,IAAQ,EACRC,IAAM,KACNC,IAAY,KACZC,YAAAA,OACAC,IAAAA,EAAapB,GACbqB,IAAAA,GACAC,IAAQ,EACRd,SAAAA,EACAC,OAAAA,CAAAA,EAKD,GAAoB,OAATL,GAAS,aAAeM,EAAMN,EAAKmB,cAC7C,IAAKZ,KAAKD,EACEE,EAAgBD,CAAAA,IADlBD,SAERE,EAAgBD,CAAAA,EAAKD,EAAIC,CAAAA,GAK5B,OADIa,GAAQX,OAAOW,GAAQX,MAAMA,CAAAA,EAC1BA,CACR,CCvDAY,GAAgB,IAAM,CAvBtB,IAAAC,EAAAC,EAwBE,IAAMC,GAAUF,EAAA,SAAS,eAAe,YAAY,IAApC,YAAAA,EAAuC,QACvD,GAAI,CAACE,EACH,OAEF,GAAM,CAAE,kBAAAC,EAAmB,iBAAAC,EAAkB,UAAAC,EAAW,UAAAC,CAAU,EAAIJ,EAChEK,EAAsBL,EAAQ,sBAAwB,OACtDM,EAA6BN,EAAQ,6BAA+B,OACpEO,EAAkCP,EAAQ,kCAAoC,OAC9EQ,GAAWT,EAAAC,EAAQ,WAAR,KAAAD,EAAoB,MAE/BU,EAAU,EAAE,aAAa,EAAE,eAAe,CAG9C,YAAa,KACb,MAAO,CACL,QAAS,UACT,YAAa,WACb,QAAS,eACX,EAEA,QAAS,CACP,aAAc,CACZ,KAAM,gBACN,KAAM,mBACN,WAAY,CAAE,MAAO,6BAA8B,EACnD,MAAO,IAAM,CACX,IAAMC,EAAQ,EAAE,aAAa,EACvBC,EAAW,CAACD,EAAM,KAAK,qBAAqB,EAClDA,EAAM,KAAK,sBAAuBC,CAAQ,EAE1C,EAAE,oCAAoC,EAAE,YAAY,SAAUA,CAAQ,EAEtED,EAAM,eAAe,WAAYC,EAAW,CAAE,KAAM,SAAU,EAAI,CAAC,CAAC,CACtE,CACF,CACF,EACA,WAAY,CACV,EAAE,iBAAiB,EAAE,KAAK,CAC5B,EACA,aAAc,CACZ,EAAE,iBAAiB,EAAE,KAAK,EAE1BC,GAAa,EAAE,aAAa,EAAE,eAAe,SAAS,CAAC,EAEvD,EAAE,yBAAyB,EACxB,QAAQ,CACP,SAAU,GACV,OAAQ,CACN,IAAMC,EAAM,EAAE,IAAI,EAAE,KAAK,KAAK,EAC9B,OAAOA,EAAI,SAAW,qBAClB,qBACAA,EAAI,KACF,oBACA,kBACR,EACA,UAAW,OACX,KAAM,GACN,QAAS,QACT,QAASC,EACT,YAAa,sBACf,CAAC,EACA,GAAG,kBAAmB,UAAY,CACjC,EAAE,IAAI,EAAE,KAAK,oBAAoB,EAAE,QAAQ,QAAQ,CACrD,CAAC,CACL,EACA,aAAc,CACZC,EACAC,EACAC,IAEOF,EAAK,OAAQF,GAAQ,CA9FlC,IAAAf,EAAAC,EAAAmB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EA+FQ,IAAMC,EAASR,EAAW,YAAY,EACtC,OAAOX,GACF,EAACY,GAAA,MAAAA,EAAQ,SAAQnB,EAAAe,EAAI,cAAJ,YAAAf,EAAiB,SAASmB,EAAO,YAChDlB,EAAAc,EAAI,aAAJ,YAAAd,EAAgB,cAAc,SAASyB,OACtCN,EAAAL,EAAI,WAAJ,YAAAK,EAAc,KAAMO,GAAQA,EAAI,YAAY,EAAE,SAASD,CAAM,OAC7DL,EAAAN,EAAI,iBAAJ,YAAAM,EAAoB,KAAMO,GAASA,GAAA,YAAAA,EAAM,cAAc,SAASF,QAChEJ,EAAAP,EAAI,cAAJ,YAAAO,EAAiB,KAAMO,GAASA,EAAK,YAAY,EAAE,SAASH,CAAM,MACrE,EAACP,GAAA,MAAAA,EAAQ,OAAQJ,EAAI,OAASI,EAAO,UACnCI,EAAAR,EAAI,MAAJ,YAAAQ,EAAS,cAAc,SAASG,OAC/BF,EAAAT,EAAI,OAAJ,YAAAS,EAAU,cAAc,SAASE,OACjCD,EAAAV,EAAI,OAAJ,YAAAU,EAAU,cAAc,SAASC,IAC3C,CAAC,EAEH,QAASI,EAAavB,CAAmB,CAC3C,CAAC,EAEDwB,GAAG,SAAU,uBAAyBC,GAAU,CAC9C,GAAI,CAACA,EAAM,cAAe,OAE1BA,EAAM,eAAe,EACrB,EAAE,KACA,OAAO,SAAS,SAChB,EAAEA,EAAM,aAAa,EAAE,UAAU,EACjC,UAAY,CACVC,EAAa,CACf,EACA,MACF,EAMA,IAAMC,EAAUF,EAAM,cAAc,QAAqB,UAAU,EACnE,GAAIE,EAAS,CACX,IAAMC,EAAUC,GAA8BF,CAAO,EACjDC,GACF,EAAEA,CAAO,EAAE,QAAQ,MAAM,CAE7B,CACF,CAAC,EAED,EAAE,QAAQ,EAAE,GAAG,UAAYH,GAAU,EAEhCA,EAAM,SAAWA,EAAM,UACxB,OAAO,aAAaA,EAAM,KAAK,EAAE,YAAY,IAAM,KACnD,EAAE,oCAAoC,EAAE,CAAC,IAAM,SAAS,gBAExD,EAAE,oCAAoC,EAAE,QAAQ,OAAO,EACvDA,EAAM,eAAe,EAEzB,CAAC,EAED,EAAE,gCAAgC,EAAE,GAAG,gBAAiB,SAAUA,EAAO,CACvE,IAAMK,EAAQ,EAAE,IAAI,EAEpBA,EACG,QAAQ,MAAM,EACd,IAAI,QAAQ,EACZ,GAAG,SAAWC,GAAM,CA1J3B,IAAAtC,EA2JQsC,EAAE,eAAe,EACjB,EAAE,MACAtC,EAAA,EAAEsC,EAAE,MAAM,EAAE,KAAK,QAAQ,IAAzB,KAAAtC,EAA8B,GAC9B,EAAEsC,EAAE,MAAM,EAAE,UAAU,EACtB,UAAY,CACVL,EAAa,CACf,EACA,MACF,EACAI,EAAM,MAAM,MAAM,CACpB,CAAC,EAGH,GAAM,CAAE,cAAAE,CAAc,EAAIP,EAEtBO,GACFC,GAAuBD,EAAeF,EAAM,CAAC,EAAG,CAC9C,WAAY,aACZ,YAAa,cACb,kBAAmB,oBACnB,gBAAiB,kBACjB,cAAe,gBACf,sBAAuB,cACvB,kBAAmB,oBACnB,8BAA+B,+BACjC,CAAC,CAEL,CAAC,EAED,EAAE,oCAAoC,EAAE,GAAG,gBAAiB,UAAY,CACtE,IAAMA,EAAQ,EAAE,IAAI,EAEpBA,EACG,QAAQ,MAAM,EACd,IAAI,QAAQ,EACZ,GAAG,SAAWC,GAAM,CA9L3B,IAAAtC,EA+LQsC,EAAE,eAAe,EACjB,EAAE,MACAtC,EAAA,EAAEsC,EAAE,MAAM,EAAE,KAAK,QAAQ,IAAzB,KAAAtC,EAA8B,GAC9B,EAAEsC,EAAE,MAAM,EAAE,UAAU,EACtB,UAAY,CACVL,EAAa,CACf,EACA,MACF,EACAI,EAAM,MAAM,MAAM,CACpB,CAAC,CACL,CAAC,EAED,EAAE,0BAA0B,EAAE,GAAG,QAAS,SAAUC,EAAG,CACrDA,EAAE,gBAAgB,EAClB,EAAE,EAAEA,EAAE,aAAa,EAAE,KAAK,QAAQ,CAAC,EAAE,MAAM,MAAM,CACnD,CAAC,EAED,SAASR,EAAavB,EAA8B,CAClD,MAAO,CACL,CACE,MAAO,yBACP,MAAO,2DACP,SAAU,GACV,OAAQkC,EACR,UAAWC,EACX,MAAO,yCACP,WAAY,EACd,EACA,GAAInC,EACA,CACE,CACE,MAAO,aACP,MAAO,OACP,QAAS,GACT,SAAU,GACV,MAAO,eACP,WAAY,GACZ,UAAYoC,GAAkBC,KAAOD,CAAK,GAAG,SAAS,CACxD,EACA,CACE,MAAO,WACP,MAAO,gBACP,SAAU,GACV,MAAO,qCACP,UAAWE,EACX,WAAY,EACd,EACA,CACE,MAAO,iBACP,MAAO,oBACP,SAAU,GACV,QAAS,GACT,MAAO,qCACP,UAAWA,EACX,WAAY,EACd,EACA,CACE,MAAO,cACP,MAAOD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAYP,SAAU,GACV,MAAO,qCACP,UAAWE,EACX,WAAY,EACd,CACF,EACA,CACE,CACE,MAAO,MACP,MAAO,MACP,QAAS,GACT,SAAU,GACV,MAAO,2BACP,WAAY,GACZ,UAAYH,GAAkBC,KAAOD,CAAK,GAAG,SAAS,CACxD,EACA,CACE,MAAO,OACP,MAAO,OACP,SAAU,GACV,MAAO,2BACP,WAAY,GACZ,UAAYA,GAAkBC,KAAOD,CAAK,GAAG,SAAS,CACxD,EACA,CACE,MAAO,OACP,MAAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAYP,SAAU,GACV,MAAO,uCACP,WAAY,EACd,CACF,EACJ,CACE,MAAO,SACP,MAAO,WACP,QAAS,GACT,SAAU,GACV,MAAO,2BACP,WAAY,EACd,EACA,CACE,MAAO,aACP,MAAO,QACP,SAAU,GACV,MAAO,2BACP,UAAWG,EACX,WAAY,EACd,EACA,CACE,MAAO,iBACP,MAAO,eACP,SAAU,GACV,SAAU,OACV,MAAO,uCACP,WAAY,EACd,EACA,CACE,MAAO,WACP,MAAOH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAYP,SAAU,GACV,SAAU,gBACV,MAAO,uCACP,WAAY,EACd,EACA,CACE,MAAO,iBACP,MAAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAYP,SAAU,GACV,SAAU,qBACV,OAAQI,EACR,UAAWC,EACX,MAAO,uCACP,WAAY,EACd,EACA,CACE,MAAO,aACP,MAAO,mBACP,QAAS,GACT,SAAU,GACV,SAAU,iBACV,UAAWA,EACX,MAAO,2BACP,WAAY,EACd,EACA,CACE,MAAO,qCACP,MAAOL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAYP,MAAO,2BAEP,QAAS,CAACrC,EACV,WAAY,GACZ,SAAU,EACZ,EACA,CACE,MAAO,gBACP,MAAO,UACP,UAAW2C,GACX,MAAO,2BACP,WAAY,EACd,CACF,CACF,CAEA,SAASjB,GAAe,CACtBtB,EAAQ,eAAe,UAAW,CAAE,OAAQ,EAAK,CAAC,CACpD,CAEA,SAASwC,EAAqB,CAAE,OAAAC,CAAO,EAAgC,CACrE,IAAIC,EAAc,GAClB,OAAID,IAAW,YACbC,EACE,+HACOD,IAAW,UACpBC,EACE,8GACOD,IAAW,YACpBC,EAAc,2DACLD,IAAW,MACpBC,EAAc,sEACLD,IAAW,WACpBC,EAAc,6EACLD,IAAW,SACpBC,EAAc,uEACLD,IAAW,WACpBC,EACE,8FAEGC,EAAC,SAAM,MAAM,uBAAwB,SAAAD,EAAY,CAC1D,CAEA,SAASE,EAAqB,CAC5B,IAAAxC,CACF,EAaG,CAncL,IAAAf,EAocI,GAAM,CAACwD,EAAMC,CAAO,EAAIC,GAAS,CAC/B,OAAQ,MACR,SAAU,EACV,KAAMC,GAAS,IAAI,iBAAiBjD,CAAQ,EAAE,gBAAgB,EAAE,SAAS,EAAE,MAAM,EAAG,EAAE,EACtF,cAAe,GACf,qBAAsB,EACxB,CAAC,EACKkD,EACJ7C,EAAI,SAAW,sBAAwBA,EAAI,MAAQ,CAACyC,EAAK,qBAE3D,SAASK,EAA6CC,EAAQnB,EAAyB,CACrFc,EAAQM,GAAAC,GAAA,GACHR,GADG,CAEN,CAACM,CAAG,EAAGnB,CACT,EAAC,CACH,CAEA,SAASsB,GAAsB,CAC7B,IAAMC,EAAY,KAAK,MAAMnD,EAAI,cAAc,EAE3CoD,EAAYR,GAAS,QAAQ,KAAK5C,EAAI,IAAI,EAAE,mBAAmBL,CAAQ,EAC3E,OAAI8C,EAAK,SAAW,YAClBW,EAAYA,EAAU,IAAI,CAAE,QAASX,EAAK,QAAS,CAAC,EAC3CA,EAAK,SAAW,UACzBW,EAAYR,GAAS,IAAI,iBAAiBjD,CAAQ,EAAE,IAAI,CAAE,QAAS8C,EAAK,QAAS,CAAC,EACzEA,EAAK,SAAW,MACzBW,EAAYA,EAAU,IAAI,CAAE,QAASD,CAAU,CAAC,EAAE,IAAI,CAAE,QAASV,EAAK,QAAS,CAAC,EACvEA,EAAK,SAAW,aACzBW,EAAYA,EAAU,IAAI,CAAE,QAASD,CAAU,CAAC,EAAE,SAAS,CAAE,QAASV,EAAK,QAAS,CAAC,GAGhFY,GAAW,IAAI,KAAKD,EAAU,iBAAiB,EAAGzD,CAAQ,CACnE,CAEA,OACE4C,EAAC,QAAK,KAAK,sBAAsB,MAAM,kBAAkB,OAAO,OAC9D,UAAAA,EAAC,SAAM,KAAK,SAAS,KAAK,WAAW,OAAOtD,EAAAe,EAAI,SAAJ,KAAAf,EAAc,iBAAkB,EAC5EsD,EAAC,SAAM,KAAK,SAAS,KAAK,eAAe,MAAOjD,EAAW,EAC1DU,EAAI,uBACHuC,EAAC,SAAM,KAAK,SAAS,KAAK,yBAAyB,MAAOvC,EAAI,uBAAwB,EACpF,KACHA,EAAI,SAAW,sBAAwB,CAACA,EAAI,KAC3CuC,EAAC,OACC,UAAAA,EAAC,OAAI,MAAM,aACT,UAAAA,EAAC,SACC,MAAM,mBACN,KAAK,QACL,KAAK,uBACL,GAAG,uBACH,MAAM,OACN,QAASE,EAAK,qBACd,QAAS,IAAMK,EAAgB,uBAAwB,EAAI,EAC7D,EACAP,EAAC,SAAM,MAAM,mBAAmB,IAAI,uBAAuB,sCAE3D,GACF,EACAA,EAAC,OAAI,MAAM,aACT,UAAAA,EAAC,SACC,MAAM,mBACN,KAAK,QACL,KAAK,uBACL,GAAG,oBACH,MAAM,QACN,QAAS,CAACE,EAAK,qBACf,QAAS,IAAMK,EAAgB,uBAAwB,EAAK,EAC9D,EACAP,EAAC,SAAM,MAAM,mBAAmB,IAAI,oBAAoB,mCAExD,GACF,GACF,EACE,KACJA,EAAC,KAAE,+BACkBvC,EAAI,WACvBuC,EAAC,OAAG,EAAE,mBACWvC,EAAI,gBACvB,EACC6C,EACCN,EAAC,KACC,UAAAA,EAAC,UACC,MAAM,gCACN,KAAK,SACL,aAAW,qBACX,SAAWhB,GAAMuB,EAAgB,SAAUvB,EAAE,cAAc,KAAwB,EAElF,UAAAvB,EAAI,qBAAuB,KAC1BA,EAAI,kBACFuC,EAAAe,GAAA,CACE,UAAAf,EAAC,UAAO,MAAM,MAAM,4CAAgC,EACpDA,EAAC,UAAO,MAAM,WAAW,mDAAuC,GAClE,EAEAA,EAAAe,GAAA,CACE,UAAAf,EAAC,UAAO,MAAM,MAAM,eAAG,EACvBA,EAAC,UAAO,MAAM,WAAW,oBAAQ,GACnC,EAEA,KACJA,EAAC,UAAO,MAAM,YAAY,gCAAoB,EAC9CA,EAAC,UAAO,MAAM,UAAU,8BAAkB,EAC1CA,EAAC,UAAO,MAAM,YAAY,kCAAsB,EAC/CvC,EAAI,SAAW,uBACfA,EAAI,MAAQA,EAAI,kBAAoB,uBACnCuC,EAAC,UAAO,MAAM,SAAS,6BAAiB,EACtC,KACHvC,EAAI,MAAQA,EAAI,iBAAmB,UAClCuC,EAAC,UAAO,MAAM,SAAS,6BAAiB,EACtC,MACN,EACAA,EAACH,EAAA,CAAqB,OAAQK,EAAK,OAAQ,GAC7C,EACE,KACHI,GACDJ,EAAK,SAAW,aAChBA,EAAK,SAAW,UAChBA,EAAK,SAAW,SACdF,EAAC,OAAI,MAAM,mBACT,UAAAA,EAAC,SACC,MAAM,gCACN,KAAK,SACL,KAAK,WACL,aAAW,aACX,MAAOE,EAAK,SACZ,SAAWlB,GAAMuB,EAAgB,WAAY,WAAWvB,EAAE,cAAc,KAAK,CAAC,EAChF,EACAgB,EAAC,QAAK,MAAM,oCAAoC,mBAAO,GACzD,EACE,KACHM,GAAwBJ,EAAK,SAAW,YACvCF,EAAC,OAAI,MAAM,+BACT,UAAAA,EAAC,SACC,MAAM,2BACN,KAAK,iBACL,KAAK,OACL,MAAOE,EAAK,KACZ,SAAWlB,GAAMuB,EAAgB,OAAQvB,EAAE,cAAc,KAAK,EAChE,EACAgB,EAAC,QAAK,MAAM,+BAAgC,SAAA5C,EAAS,GACvD,EACE,MACFK,EAAI,MAAQ,CAACyC,EAAK,wBACnBA,EAAK,SAAW,aACfA,EAAK,SAAW,WAChBA,EAAK,SAAW,OAChBA,EAAK,SAAW,YAChBF,EAAC,KAAE,oCAAwBW,EAAoB,GAAE,EAC/C,KACJX,EAAC,KACE,SAAAvC,EAAI,oBACHuC,EAAC,OAAI,MAAM,aACT,UAAAA,EAAC,SACC,MAAM,mBACN,KAAK,WACL,KAAK,gBACL,MAAM,OACN,QAASE,EAAK,cACd,GAAG,gBACH,SAAWlB,GAAMuB,EAAgB,gBAAiBvB,EAAE,cAAc,OAAO,EAC3E,EACAgB,EAAC,SAAM,MAAM,mBAAmB,IAAI,gBAAgB,yCAEpD,GACF,EACE,KACN,EACAA,EAAC,OAAI,MAAM,kCACT,UAAAA,EAAC,UAAO,KAAK,SAAS,MAAM,yBAAyB,kBAAgB,UAAU,kBAE/E,EACAA,EAAC,UAAO,KAAK,SAAS,MAAM,kBAAkB,eAE9C,GACF,GACF,CAEJ,CAEA,SAAStC,GAAuC,CAC9C,IAAMsD,EAAM,SAAS,cAAc,KAAK,EAExC,OAAAC,GAAOjB,EAACC,EAAA,CAAqB,IAAK,EAAE,IAAI,EAAE,KAAK,KAAK,EAAG,EAAIe,CAAG,EAEvDA,CACT,CAEA,SAASvB,EAAkByB,EAAsB,CAC/C,OAAOC,GAASD,CAAK,EAAE,SAAS,CAClC,CAEA,SAAS3B,EAAc6B,EAAgB,CACrC,OAAI,CAACA,GAAQ,CAACA,EAAK,CAAC,KAAGA,EAAO,CAAC,SAAS,GACjC9B,YAAc8B,EAAK,KAAK,IAAI,CAAC,UACtC,CAEA,SAAS5B,EAAoB4B,EAAgB,EACvC,CAACA,GAAQ,CAACA,EAAK,CAAC,KAAGA,EAAO,CAAC,SAAS,GACxC,IAAMC,EAAO,MAAM,KAAK,IAAI,IAAID,CAAI,CAAC,EACrC,OAAO9B,YAAc+B,EAAK,KAAK,IAAI,CAAC,UACtC,CAEA,SAAS1B,EAA4BN,EAAe5B,EAA4B,CAC9E,OAAO6B;AAAA,QACHD,CAAK;AAAA;AAAA;AAAA;AAAA,mBAIM5B,EAAI,sBAAsB;AAAA;AAAA,sBAEvB,KAAK,UAAUA,CAAG,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMnC,SAAS,CACb,CAEA,SAAS2B,EAAqBC,EAAe5B,EAA4B,CACvE,IAAMa,EAAOrB,EAAsBQ,EAAI,WAAaA,EAAI,IAEpD6D,EACJ,OAAKpE,IACHoE,EAAS7D,EAAI,SAAW,EAAI,GAAK,IAAIA,EAAI,MAAM,IAE1C6B;AAAA,iBACMtC,CAAS,wBAAwBqC,CAAK;AAAA,UAC7CxC,CAAiB,GAAGC,CAAgB,GAAGwE,CAAM,QAAQhD,CAAI;AAAA;AAAA,MAE7D,SAAS,CACb,CAEA,SAASa,EACPoC,EACAC,EACAC,EACAC,EACA,CAjrBJ,IAAAhF,EAAAC,EAAAmB,EAAAC,EAAAC,EAAAC,EAkrBI,IAAM0D,EAAU1E,EAAsB,aAAe,MAC/C2E,EAAQ3E,EAAsB,WAAa,UAE3C4E,EAAQJ,EAAKE,CAAO,EACpBG,EAAQJ,EAAKC,CAAO,EACpBI,GAAMrF,EAAA+E,EAAKG,CAAK,IAAV,KAAAlF,EAAe,GACrBsF,GAAMrF,EAAA+E,EAAKE,CAAK,IAAV,KAAAjF,EAAe,GAIvBsF,EAAUJ,GAAA,YAAAA,EAAO,cAAcC,GAAA,KAAAA,EAAS,IAC5C,OAAKG,IAASA,IAAWnE,EAAA,SAASiE,CAAG,IAAZ,KAAAjE,EAAiB,KAAMC,EAAA,SAASiE,CAAG,IAAZ,KAAAjE,EAAiB,IAC5DkE,IAASA,IAAWjE,EAAAyD,EAAK,SAAL,KAAAzD,EAAe,KAAMC,EAAAyD,EAAK,SAAL,KAAAzD,EAAe,IACxDgE,IAASA,EAAUV,EAASC,GAC1BS,CACT,CAEA,SAASvC,EACP6B,EACAC,EACAC,EACAC,EACA,CAGA,OAAO,OAAOD,EAAK,IAAI,EAAI,OAAOC,EAAK,IAAI,IAAMH,GAAA,KAAAA,EAAU,MAAaC,GAAA,KAAAA,EAAU,IACpF,CAEA,SAAS5B,GAAsBsC,EAAgBzE,EAA4B,CA9sB7E,IAAAf,EAAAC,EA+sBI,IAAMwF,EAAQ,SAAS1E,EAAI,sBAAsB,EACjD,GAAI,CAACV,EACH,MAAM,IAAI,MAAM,sBAAsB,EAExC,OAAOuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAcGnC,EACEmC;AAAA;AAAA;AAAA;AAAA;AAAA,gCAKgB7B,EAAI,GAAG;AAAA,iCACNA,EAAI,IAAI;AAAA,mCACNA,EAAI,MAAM;AAAA,2CACFA,EAAI,cAAc;AAAA,uCACtBA,EAAI,UAAU;AAAA,uCAChBf,EAAAe,EAAI,WAAJ,YAAAf,EAAc,KAAK,QAAS,OAAO;AAAA,uCACjC,KAAK,OAAMC,EAAAc,EAAI,aAAJ,KAAAd,EAAkB,CAAC,CAAC;AAAA,mDACnBc,EAAI,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMlCA,EAAI,KAAO,GAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,uCAK9B2E,GAAWC,GAAU,CAAE,UAAAtF,EAAW,MAAAoF,CAAM,CAAC,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAOtC1E,EAAI,KAAY,WAAL,EAAe;AAAA,sCAChC0E,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAWJC,GAAWE,GAAY,CAAE,UAAAvF,EAAW,MAAAoF,CAAM,CAAC,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOpE7C,iFAAmF;AAAA;AAAA;AAAA;AAAA,KAKjG,CAEA,SAAS9B,GAAaG,EAA+B,CACnD,IAAI4E,EAAuC,IAAI,OAC3CC,EAAqB,EACrBC,EAAqB,EACrBC,EAAoB,GACpBC,EAAsB,GAE1BhF,EAAK,QAAQ,SAAUF,EAAK,CAC1B,GAAI,CAACA,EAAI,KACPkF,EAAsB,WACblF,EAAI,qBAAuB,KACpCiF,EAAoB,OACf,CACL,GAAIjF,EAAI,iBAAmB,KACzB,OAEIA,EAAI,kBAAkB8E,IAC1BA,EAAgB9E,EAAI,cAAc,EAAIA,EAAI,aAExC+E,IAAuB,GAAKA,EAAqB/E,EAAI,sBACvD+E,EAAqB/E,EAAI,qBAEvBgF,IAAuB,GAAKA,EAAqBhF,EAAI,sBACvDgF,EAAqBhF,EAAI,mBAE7B,CACF,CAAC,EAED8E,EAAkB,OAAO,OAAOA,CAAe,EAC3CA,EAAgB,OAAS,GAC3BA,EAAgB,OAAO,EAAGA,EAAgB,OAAS,EAAG,KAAK,EAE7D,IAAMK,EAAoB,CACxB,WAAYL,EAAgB,OAAS,EAAIA,EAAgB,KAAK,IAAI,EAAI,iBACtE,mBAAoBE,EACpB,kBAAAC,EACA,oBAAAC,EACA,OAAQ,qBACR,eAAgB,EAClB,EACIH,IAAuB,KACzBI,EAAkB,eAAiB,iBAC1BH,EAAqB,GAC9BG,EAAkB,eAAiB,qBAC1BJ,EAAqB,GAC9BI,EAAkB,eAAiB,SAAW,KAAK,MAAMH,EAAqB,EAAE,EAAI,OAC3E,KAAK,MAAMD,EAAqB,EAAE,IAAM,KAAK,MAAMC,EAAqB,EAAE,EACnFG,EAAkB,eAAiB,KAAK,MAAMJ,EAAqB,EAAE,EAAI,OAEzEI,EAAkB,eAChB,WACA,KAAK,MAAMJ,EAAqB,EAAE,EAClC,QACA,KAAK,MAAMC,EAAqB,EAAE,EAClC,OAGJ,EAAE,6BAA6B,EAAE,KAAK,MAAOG,CAAiB,CAChE,CACF,CAAC,EAED,SAASP,GAAU,CAAE,UAAAtF,EAAW,MAAAoF,CAAM,EAAyC,CAC7E,OAAO7C;AAAA;AAAA;AAAA,wDAG+CvC,CAAS;AAAA,kEACCoF,CAAK;AAAA;AAAA;AAAA;AAAA,GAKvE,CAEA,SAASG,GAAY,CAAE,UAAAvF,EAAW,MAAAoF,CAAM,EAAyC,CAC/E,OAAO7C;AAAA;AAAA;AAAA,wDAG+CvC,CAAS;AAAA,kEACCoF,CAAK;AAAA;AAAA;AAAA;AAAA,GAKvE",
  "names": ["Math", "imul", "clz32", "JSBI", "abs", "max", "floor", "length", "sign", "i", "_", "a", "u", "setPrototypeOf", "prototype", "__kMaxLength", "RangeError", "g", "e", "c", "l", "result", "B", "digit", "t", "push", "toString", "join", "radix", "__toStringBasePowerOfTwo", "__toStringGeneric", "Error", "newLength", "last", "pop", "__clz30", "__digit", "multiplier", "summand", "mLow", "mHigh", "carry", "high", "d", "dLow", "dHigh", "pLow", "__imul", "pMid1", "pMid2", "pHigh", "v", "o", "__setDigit", "startIndex", "halfDigits", "sum", "__halfDigit", "__setHalfDigit", "subtrahend", "borrow", "current", "r0", "sub", "r15", "n", "D", "shift", "len", "__unsignedDigit", "value", "digitIndex", "previous", "updated", "arg", "Number", "isFinite", "__zero", "__isOneDigitInt", "__oneDigit", "__fromDouble", "__fromString", "SyntaxError", "_typeof", "constructor", "primitive", "__toPrimitive", "BigInt", "TypeError", "x", "xLength", "xMsd", "msdLeadingZeros", "xBitLength", "exponent", "currentDigit", "mantissaHigh", "r", "mantissaHighBitsUnset", "mantissaLow", "mantissaLowBitsUnset", "h", "b", "rounding", "__decideRounding", "signBit", "__kBitConversionInts", "__kBitConversionDouble", "__copy", "__absoluteSubOne", "__trim", "__absoluteAddOne", "y", "unaryMinus", "expValue", "__kMaxLengthBits", "neededDigits", "__initializeDigits", "msd", "runningSquare", "multiply", "resultLength", "__clzmsd", "__multiplyAccumulate", "__absoluteCompare", "quotient", "resultSign", "divisor", "__absoluteDivSmall", "__absoluteDivLarge", "remainderDigit", "__absoluteModSmall", "remainder", "__absoluteAdd", "__absoluteSub", "__rightShiftByAbsolute", "__leftShiftByAbsolute", "__compareToBigInt", "equal", "__absoluteAnd", "y1", "__absoluteOr", "__absoluteAndNot", "__absoluteXor", "neededLength", "topDigit", "compareDigit", "__truncateToNBits", "__truncateAndSubFromPowerOfTwo", "bitsInTopDigit", "__toNumeric", "__isBigInt", "add", "__compare", "EQ", "__equalToNumber", "dataview", "byteOffset", "littleEndian", "asIntN", "DataViewGetBigUint64", "getUint32", "low", "s", "DataViewSetBigUint64", "asUintN", "d1", "setUint32", "mantissaBitsUnset", "topUnconsumedBit", "mask", "rawExponent", "digits", "kMantissaHighTopBit", "msdTopBit", "remainingMantissaBits", "string", "cursor", "charCodeAt", "__isWhitespace", "chars", "bitsPerChar", "__kMaxBitsPerChar", "roundup", "__kBitsPerCharTableMultiplier", "bitsMin", "__kBitsPerCharTableShift", "limDigit", "limAlpha", "parts", "partsBits", "done", "part", "bits", "f", "p", "__fillFromParts", "charsSoFar", "S", "k", "m", "I", "digitsSoFar", "__inplaceMultiplyAdd", "bitsInDigit", "partBits", "charMask", "charsRequired", "Array", "pos", "availableBits", "newDigit", "__kConversionChars", "consumedBits", "isRecursiveCall", "bitLength", "maxBitsPerChar", "minBitsPerChar", "secondHalf", "secondHalfChars", "conqueror", "exponentiate", "input", "divisionResult", "firstHalf", "leftNegative", "bothNegative", "xSign", "__unequalSign", "__absoluteGreater", "__absoluteLess", "ySign", "yAbs", "xDigit", "__compareToDouble", "yBitLength", "compareMantissa", "op", "__comparisonResultToBool", "__compareToNumber", "inputLength", "__setDigitGrow", "yLength", "numPairs", "tmp", "tmpLength", "diff", "multiplicand", "accumulator", "accumulatorIndex", "m2Low", "m2High", "acc", "m1", "m1Low", "m1High", "rLow", "rMid1", "rMid2", "rHigh", "source", "factor", "rx", "ry", "upperHalf", "lowerHalf", "dividend", "wantQuotient", "wantRemainder", "__halfDigitLength", "n2", "q", "qhatv", "__clz15", "__specialLeftShift", "vn1", "halfDigitBuffer", "j", "qhat", "ujn", "rhat", "vn2", "ujn2", "__internalMultiplyAdd", "__inplaceSub", "__inplaceAdd", "__inplaceRightShift", "addDigit", "__toShiftAmount", "digitShift", "bitsShift", "grow", "__rightShiftByMaximum", "mustRoundDown", "obj", "hint", "Symbol", "toPrimitive", "exoticToPrim", "valueOf", "call", "drop", "min", "limit", "resultMsd", "msdBitsConsumed", "minuendMsd", "base", "ArrayBuffer", "Float64Array", "__kBitConversionBuffer", "Int32Array", "LN2", "log", "require_freeGlobal", "__commonJSMin", "exports", "module", "freeGlobal", "require_root", "__commonJSMin", "exports", "module", "freeGlobal", "freeSelf", "root", "require_Symbol", "__commonJSMin", "exports", "module", "root", "Symbol", "require_getRawTag", "__commonJSMin", "exports", "module", "Symbol", "objectProto", "hasOwnProperty", "nativeObjectToString", "symToStringTag", "getRawTag", "value", "isOwn", "tag", "unmasked", "e", "result", "require_objectToString", "__commonJSMin", "exports", "module", "objectProto", "nativeObjectToString", "objectToString", "value", "require_baseGetTag", "__commonJSMin", "exports", "module", "Symbol", "getRawTag", "objectToString", "nullTag", "undefinedTag", "symToStringTag", "baseGetTag", "value", "require_isObject", "__commonJSMin", "exports", "module", "isObject", "value", "type", "require_isFunction", "__commonJSMin", "exports", "module", "baseGetTag", "isObject", "asyncTag", "funcTag", "genTag", "proxyTag", "isFunction", "value", "tag", "require_coreJsData", "__commonJSMin", "exports", "module", "root", "coreJsData", "require_isMasked", "__commonJSMin", "exports", "module", "coreJsData", "maskSrcKey", "uid", "isMasked", "func", "require_toSource", "__commonJSMin", "exports", "module", "funcProto", "funcToString", "toSource", "func", "require_baseIsNative", "__commonJSMin", "exports", "module", "isFunction", "isMasked", "isObject", "toSource", "reRegExpChar", "reIsHostCtor", "funcProto", "objectProto", "funcToString", "hasOwnProperty", "reIsNative", "baseIsNative", "value", "pattern", "require_getValue", "__commonJSMin", "exports", "module", "getValue", "object", "key", "require_getNative", "__commonJSMin", "exports", "module", "baseIsNative", "getValue", "getNative", "object", "key", "value", "require_defineProperty", "__commonJSMin", "exports", "module", "getNative", "defineProperty", "func", "require_baseAssignValue", "__commonJSMin", "exports", "module", "defineProperty", "baseAssignValue", "object", "key", "value", "require_arrayAggregator", "__commonJSMin", "exports", "module", "arrayAggregator", "array", "setter", "iteratee", "accumulator", "index", "length", "value", "require_createBaseFor", "__commonJSMin", "exports", "module", "createBaseFor", "fromRight", "object", "iteratee", "keysFunc", "index", "iterable", "props", "length", "key", "require_baseFor", "__commonJSMin", "exports", "module", "createBaseFor", "baseFor", "require_baseTimes", "__commonJSMin", "exports", "module", "baseTimes", "n", "iteratee", "index", "result", "require_isObjectLike", "__commonJSMin", "exports", "module", "isObjectLike", "value", "require_baseIsArguments", "__commonJSMin", "exports", "module", "baseGetTag", "isObjectLike", "argsTag", "baseIsArguments", "value", "require_isArguments", "__commonJSMin", "exports", "module", "baseIsArguments", "isObjectLike", "objectProto", "hasOwnProperty", "propertyIsEnumerable", "isArguments", "value", "require_isArray", "__commonJSMin", "exports", "module", "isArray", "require_stubFalse", "__commonJSMin", "exports", "module", "stubFalse", "require_isBuffer", "__commonJSMin", "exports", "module", "root", "stubFalse", "freeExports", "freeModule", "moduleExports", "Buffer", "nativeIsBuffer", "isBuffer", "require_isIndex", "__commonJSMin", "exports", "module", "MAX_SAFE_INTEGER", "reIsUint", "isIndex", "value", "length", "type", "require_isLength", "__commonJSMin", "exports", "module", "MAX_SAFE_INTEGER", "isLength", "value", "require_baseIsTypedArray", "__commonJSMin", "exports", "module", "baseGetTag", "isLength", "isObjectLike", "argsTag", "arrayTag", "boolTag", "dateTag", "errorTag", "funcTag", "mapTag", "numberTag", "objectTag", "regexpTag", "setTag", "stringTag", "weakMapTag", "arrayBufferTag", "dataViewTag", "float32Tag", "float64Tag", "int8Tag", "int16Tag", "int32Tag", "uint8Tag", "uint8ClampedTag", "uint16Tag", "uint32Tag", "typedArrayTags", "baseIsTypedArray", "value", "require_baseUnary", "__commonJSMin", "exports", "module", "baseUnary", "func", "value", "require_nodeUtil", "__commonJSMin", "exports", "module", "freeGlobal", "freeExports", "freeModule", "moduleExports", "freeProcess", "nodeUtil", "types", "require_isTypedArray", "__commonJSMin", "exports", "module", "baseIsTypedArray", "baseUnary", "nodeUtil", "nodeIsTypedArray", "isTypedArray", "require_arrayLikeKeys", "__commonJSMin", "exports", "module", "baseTimes", "isArguments", "isArray", "isBuffer", "isIndex", "isTypedArray", "objectProto", "hasOwnProperty", "arrayLikeKeys", "value", "inherited", "isArr", "isArg", "isBuff", "isType", "skipIndexes", "result", "length", "key", "require_isPrototype", "__commonJSMin", "exports", "module", "objectProto", "isPrototype", "value", "Ctor", "proto", "require_overArg", "__commonJSMin", "exports", "module", "overArg", "func", "transform", "arg", "require_nativeKeys", "__commonJSMin", "exports", "module", "overArg", "nativeKeys", "require_baseKeys", "__commonJSMin", "exports", "module", "isPrototype", "nativeKeys", "objectProto", "hasOwnProperty", "baseKeys", "object", "result", "key", "require_isArrayLike", "__commonJSMin", "exports", "module", "isFunction", "isLength", "isArrayLike", "value", "require_keys", "__commonJSMin", "exports", "module", "arrayLikeKeys", "baseKeys", "isArrayLike", "keys", "object", "require_baseForOwn", "__commonJSMin", "exports", "module", "baseFor", "keys", "baseForOwn", "object", "iteratee", "require_createBaseEach", "__commonJSMin", "exports", "module", "isArrayLike", "createBaseEach", "eachFunc", "fromRight", "collection", "iteratee", "length", "index", "iterable", "require_baseEach", "__commonJSMin", "exports", "module", "baseForOwn", "createBaseEach", "baseEach", "require_baseAggregator", "__commonJSMin", "exports", "module", "baseEach", "baseAggregator", "collection", "setter", "iteratee", "accumulator", "value", "key", "require_listCacheClear", "__commonJSMin", "exports", "module", "listCacheClear", "require_eq", "__commonJSMin", "exports", "module", "eq", "value", "other", "require_assocIndexOf", "__commonJSMin", "exports", "module", "eq", "assocIndexOf", "array", "key", "length", "require_listCacheDelete", "__commonJSMin", "exports", "module", "assocIndexOf", "arrayProto", "splice", "listCacheDelete", "key", "data", "index", "lastIndex", "require_listCacheGet", "__commonJSMin", "exports", "module", "assocIndexOf", "listCacheGet", "key", "data", "index", "require_listCacheHas", "__commonJSMin", "exports", "module", "assocIndexOf", "listCacheHas", "key", "require_listCacheSet", "__commonJSMin", "exports", "module", "assocIndexOf", "listCacheSet", "key", "value", "data", "index", "require_ListCache", "__commonJSMin", "exports", "module", "listCacheClear", "listCacheDelete", "listCacheGet", "listCacheHas", "listCacheSet", "ListCache", "entries", "index", "length", "entry", "require_stackClear", "__commonJSMin", "exports", "module", "ListCache", "stackClear", "require_stackDelete", "__commonJSMin", "exports", "module", "stackDelete", "key", "data", "result", "require_stackGet", "__commonJSMin", "exports", "module", "stackGet", "key", "require_stackHas", "__commonJSMin", "exports", "module", "stackHas", "key", "require_Map", "__commonJSMin", "exports", "module", "getNative", "root", "Map", "require_nativeCreate", "__commonJSMin", "exports", "module", "getNative", "nativeCreate", "require_hashClear", "__commonJSMin", "exports", "module", "nativeCreate", "hashClear", "require_hashDelete", "__commonJSMin", "exports", "module", "hashDelete", "key", "result", "require_hashGet", "__commonJSMin", "exports", "module", "nativeCreate", "HASH_UNDEFINED", "objectProto", "hasOwnProperty", "hashGet", "key", "data", "result", "require_hashHas", "__commonJSMin", "exports", "module", "nativeCreate", "objectProto", "hasOwnProperty", "hashHas", "key", "data", "require_hashSet", "__commonJSMin", "exports", "module", "nativeCreate", "HASH_UNDEFINED", "hashSet", "key", "value", "data", "require_Hash", "__commonJSMin", "exports", "module", "hashClear", "hashDelete", "hashGet", "hashHas", "hashSet", "Hash", "entries", "index", "length", "entry", "require_mapCacheClear", "__commonJSMin", "exports", "module", "Hash", "ListCache", "Map", "mapCacheClear", "require_isKeyable", "__commonJSMin", "exports", "module", "isKeyable", "value", "type", "require_getMapData", "__commonJSMin", "exports", "module", "isKeyable", "getMapData", "map", "key", "data", "require_mapCacheDelete", "__commonJSMin", "exports", "module", "getMapData", "mapCacheDelete", "key", "result", "require_mapCacheGet", "__commonJSMin", "exports", "module", "getMapData", "mapCacheGet", "key", "require_mapCacheHas", "__commonJSMin", "exports", "module", "getMapData", "mapCacheHas", "key", "require_mapCacheSet", "__commonJSMin", "exports", "module", "getMapData", "mapCacheSet", "key", "value", "data", "size", "require_MapCache", "__commonJSMin", "exports", "module", "mapCacheClear", "mapCacheDelete", "mapCacheGet", "mapCacheHas", "mapCacheSet", "MapCache", "entries", "index", "length", "entry", "require_stackSet", "__commonJSMin", "exports", "module", "ListCache", "Map", "MapCache", "LARGE_ARRAY_SIZE", "stackSet", "key", "value", "data", "pairs", "require_Stack", "__commonJSMin", "exports", "module", "ListCache", "stackClear", "stackDelete", "stackGet", "stackHas", "stackSet", "Stack", "entries", "data", "require_setCacheAdd", "__commonJSMin", "exports", "module", "HASH_UNDEFINED", "setCacheAdd", "value", "require_setCacheHas", "__commonJSMin", "exports", "module", "setCacheHas", "value", "require_SetCache", "__commonJSMin", "exports", "module", "MapCache", "setCacheAdd", "setCacheHas", "SetCache", "values", "index", "length", "require_arraySome", "__commonJSMin", "exports", "module", "arraySome", "array", "predicate", "index", "length", "require_cacheHas", "__commonJSMin", "exports", "module", "cacheHas", "cache", "key", "require_equalArrays", "__commonJSMin", "exports", "module", "SetCache", "arraySome", "cacheHas", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "equalArrays", "array", "other", "bitmask", "customizer", "equalFunc", "stack", "isPartial", "arrLength", "othLength", "arrStacked", "othStacked", "index", "result", "seen", "arrValue", "othValue", "compared", "othIndex", "require_Uint8Array", "__commonJSMin", "exports", "module", "root", "Uint8Array", "require_mapToArray", "__commonJSMin", "exports", "module", "mapToArray", "map", "index", "result", "value", "key", "require_setToArray", "__commonJSMin", "exports", "module", "setToArray", "set", "index", "result", "value", "require_equalByTag", "__commonJSMin", "exports", "module", "Symbol", "Uint8Array", "eq", "equalArrays", "mapToArray", "setToArray", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "boolTag", "dateTag", "errorTag", "mapTag", "numberTag", "regexpTag", "setTag", "stringTag", "symbolTag", "arrayBufferTag", "dataViewTag", "symbolProto", "symbolValueOf", "equalByTag", "object", "other", "tag", "bitmask", "customizer", "equalFunc", "stack", "convert", "isPartial", "stacked", "result", "require_arrayPush", "__commonJSMin", "exports", "module", "arrayPush", "array", "values", "index", "length", "offset", "require_baseGetAllKeys", "__commonJSMin", "exports", "module", "arrayPush", "isArray", "baseGetAllKeys", "object", "keysFunc", "symbolsFunc", "result", "require_arrayFilter", "__commonJSMin", "exports", "module", "arrayFilter", "array", "predicate", "index", "length", "resIndex", "result", "value", "require_stubArray", "__commonJSMin", "exports", "module", "stubArray", "require_getSymbols", "__commonJSMin", "exports", "module", "arrayFilter", "stubArray", "objectProto", "propertyIsEnumerable", "nativeGetSymbols", "getSymbols", "object", "symbol", "require_getAllKeys", "__commonJSMin", "exports", "module", "baseGetAllKeys", "getSymbols", "keys", "getAllKeys", "object", "require_equalObjects", "__commonJSMin", "exports", "module", "getAllKeys", "COMPARE_PARTIAL_FLAG", "objectProto", "hasOwnProperty", "equalObjects", "object", "other", "bitmask", "customizer", "equalFunc", "stack", "isPartial", "objProps", "objLength", "othProps", "othLength", "index", "key", "objStacked", "othStacked", "result", "skipCtor", "objValue", "othValue", "compared", "objCtor", "othCtor", "require_DataView", "__commonJSMin", "exports", "module", "getNative", "root", "DataView", "require_Promise", "__commonJSMin", "exports", "module", "getNative", "root", "Promise", "require_Set", "__commonJSMin", "exports", "module", "getNative", "root", "Set", "require_WeakMap", "__commonJSMin", "exports", "module", "getNative", "root", "WeakMap", "require_getTag", "__commonJSMin", "exports", "module", "DataView", "Map", "Promise", "Set", "WeakMap", "baseGetTag", "toSource", "mapTag", "objectTag", "promiseTag", "setTag", "weakMapTag", "dataViewTag", "dataViewCtorString", "mapCtorString", "promiseCtorString", "setCtorString", "weakMapCtorString", "getTag", "value", "result", "Ctor", "ctorString", "require_baseIsEqualDeep", "__commonJSMin", "exports", "module", "Stack", "equalArrays", "equalByTag", "equalObjects", "getTag", "isArray", "isBuffer", "isTypedArray", "COMPARE_PARTIAL_FLAG", "argsTag", "arrayTag", "objectTag", "objectProto", "hasOwnProperty", "baseIsEqualDeep", "object", "other", "bitmask", "customizer", "equalFunc", "stack", "objIsArr", "othIsArr", "objTag", "othTag", "objIsObj", "othIsObj", "isSameTag", "objIsWrapped", "othIsWrapped", "objUnwrapped", "othUnwrapped", "require_baseIsEqual", "__commonJSMin", "exports", "module", "baseIsEqualDeep", "isObjectLike", "baseIsEqual", "value", "other", "bitmask", "customizer", "stack", "require_baseIsMatch", "__commonJSMin", "exports", "module", "Stack", "baseIsEqual", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "baseIsMatch", "object", "source", "matchData", "customizer", "index", "length", "noCustomizer", "data", "key", "objValue", "srcValue", "stack", "result", "require_isStrictComparable", "__commonJSMin", "exports", "module", "isObject", "isStrictComparable", "value", "require_getMatchData", "__commonJSMin", "exports", "module", "isStrictComparable", "keys", "getMatchData", "object", "result", "length", "key", "value", "require_matchesStrictComparable", "__commonJSMin", "exports", "module", "matchesStrictComparable", "key", "srcValue", "object", "require_baseMatches", "__commonJSMin", "exports", "module", "baseIsMatch", "getMatchData", "matchesStrictComparable", "baseMatches", "source", "matchData", "object", "require_isSymbol", "__commonJSMin", "exports", "module", "baseGetTag", "isObjectLike", "symbolTag", "isSymbol", "value", "require_isKey", "__commonJSMin", "exports", "module", "isArray", "isSymbol", "reIsDeepProp", "reIsPlainProp", "isKey", "value", "object", "type", "require_memoize", "__commonJSMin", "exports", "module", "MapCache", "FUNC_ERROR_TEXT", "memoize", "func", "resolver", "memoized", "args", "key", "cache", "result", "require_memoizeCapped", "__commonJSMin", "exports", "module", "memoize", "MAX_MEMOIZE_SIZE", "memoizeCapped", "func", "result", "key", "cache", "require_stringToPath", "__commonJSMin", "exports", "module", "memoizeCapped", "rePropName", "reEscapeChar", "stringToPath", "string", "result", "match", "number", "quote", "subString", "require_arrayMap", "__commonJSMin", "exports", "module", "arrayMap", "array", "iteratee", "index", "length", "result", "require_baseToString", "__commonJSMin", "exports", "module", "Symbol", "arrayMap", "isArray", "isSymbol", "INFINITY", "symbolProto", "symbolToString", "baseToString", "value", "result", "require_toString", "__commonJSMin", "exports", "module", "baseToString", "toString", "value", "require_castPath", "__commonJSMin", "exports", "module", "isArray", "isKey", "stringToPath", "toString", "castPath", "value", "object", "require_toKey", "__commonJSMin", "exports", "module", "isSymbol", "INFINITY", "toKey", "value", "result", "require_baseGet", "__commonJSMin", "exports", "module", "castPath", "toKey", "baseGet", "object", "path", "index", "length", "require_get", "__commonJSMin", "exports", "module", "baseGet", "get", "object", "path", "defaultValue", "result", "require_baseHasIn", "__commonJSMin", "exports", "module", "baseHasIn", "object", "key", "require_hasPath", "__commonJSMin", "exports", "module", "castPath", "isArguments", "isArray", "isIndex", "isLength", "toKey", "hasPath", "object", "path", "hasFunc", "index", "length", "result", "key", "require_hasIn", "__commonJSMin", "exports", "module", "baseHasIn", "hasPath", "hasIn", "object", "path", "require_baseMatchesProperty", "__commonJSMin", "exports", "module", "baseIsEqual", "get", "hasIn", "isKey", "isStrictComparable", "matchesStrictComparable", "toKey", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "baseMatchesProperty", "path", "srcValue", "object", "objValue", "require_identity", "__commonJSMin", "exports", "module", "identity", "value", "require_baseProperty", "__commonJSMin", "exports", "module", "baseProperty", "key", "object", "require_basePropertyDeep", "__commonJSMin", "exports", "module", "baseGet", "basePropertyDeep", "path", "object", "require_property", "__commonJSMin", "exports", "module", "baseProperty", "basePropertyDeep", "isKey", "toKey", "property", "path", "require_baseIteratee", "__commonJSMin", "exports", "module", "baseMatches", "baseMatchesProperty", "identity", "isArray", "property", "baseIteratee", "value", "require_createAggregator", "__commonJSMin", "exports", "module", "arrayAggregator", "baseAggregator", "baseIteratee", "isArray", "createAggregator", "setter", "initializer", "collection", "iteratee", "func", "accumulator", "require_keyBy", "__commonJSMin", "exports", "module", "baseAssignValue", "createAggregator", "keyBy", "result", "value", "key", "ZERO", "JSBI", "BigInt", "ONE", "TWO", "TEN", "TWENTY_FOUR", "SIXTY", "THOUSAND", "MILLION", "BILLION", "HOUR_NANOS", "multiply", "MINUTE_NANOS_JSBI", "DAY_NANOS_JSBI", "ensureJSBI", "value", "toString", "isEven", "equal", "remainder", "abs", "x", "lessThan", "unaryMinus", "compare", "y", "greaterThan", "divmod", "quotient", "divide", "w", "v", "EPOCHNANOSECONDS", "ISO_DATE", "ISO_DATE_TIME", "TIME", "CALENDAR", "DATE_BRAND", "YEAR_MONTH_BRAND", "MONTH_DAY_BRAND", "TIME_ZONE", "YEARS", "MONTHS", "WEEKS", "DAYS", "HOURS", "MINUTES", "SECONDS", "MILLISECONDS", "MICROSECONDS", "NANOSECONDS", "DATE", "YM", "MD", "TIME_FMT", "DATETIME", "INST", "ORIGINAL", "TZ_CANONICAL", "TZ_ORIGINAL", "CAL_ID", "LOCALE", "OPTIONS", "globalSlots", "WeakMap", "GetSlotsSymbol", "Symbol", "for", "_a", "globalThis", "container", "get", "GetSlots", "CreateSlotsSymbol", "_b", "set", "Object", "create", "CreateSlots", "HasSlot", "ids", "myslots", "every", "id", "GetSlot", "TypeError", "SetSlot", "slots", "INTRINSICS", "MakeIntrinsicClass", "Class", "name", "defineProperty", "prototype", "toStringTag", "writable", "enumerable", "configurable", "staticNames", "getOwnPropertyNames", "i", "length", "prop", "desc", "getOwnPropertyDescriptor", "protoNames", "DefineIntrinsic", "key", "Error", "GetIntrinsic", "intrinsic", "TruncatingDivModByPowerOf10", "xParam", "p", "div", "mod", "sign", "Math", "xDigits", "trunc", "log10", "xStr", "toPrecision", "Number", "parseInt", "slice", "FMAPowerOf10", "zParam", "z", "repeat", "resStr", "padStart", "GetUnsignedRoundingMode", "mode", "isNegative", "ApplyUnsignedRoundingMode", "r1", "r2", "cmp", "evenCardinality", "unsignedRoundingMode", "TimeDuration", "constructor", "totalNs", "this", "sec", "toNumber", "subsec", "static", "operation", "MAX", "RangeError", "epochNs1", "epochNs2", "diff", "subtract", "h", "min", "s", "ms", "ns", "add", "validateNew", "other", "add24HourDays", "days", "addToEpochNs", "epochNs", "n", "fdiv", "nParam", "nBigInt", "decimalDigits", "digit", "push", "join", "isZero", "round", "incrementParam", "increment", "rounded", "result", "tzComponent", "timeZoneID", "RegExp", "source", "yearpart", "monthpart", "daypart", "datesplit", "timesplit", "offset", "offsetpart", "annotation", "zoneddatetime", "time", "yearmonth", "monthday", "fraction", "durationTime", "duration", "DAY_MS", "DAY_NANOS", "MINUTE_NANOS", "MS_MAX", "NS_MAX", "epochMsToNs", "NS_MIN", "DATETIME_NS_MIN", "DATETIME_NS_MAX", "MS_IN_400_YEAR_CYCLE", "YEAR_MIN", "YEAR_MAX", "BEFORE_FIRST_DST", "Date", "UTC", "BUILTIN_CALENDAR_IDS", "ICU_LEGACY_TIME_ZONE_IDS", "Set", "IsObject", "ToNumber", "ToString", "String", "ToIntegerWithTruncation", "number", "isNaN", "Infinity", "integer", "ToPositiveIntegerWithTruncation", "valueParam", "property", "ToIntegerIfIntegral", "argument", "absValue", "floor", "ToZeroPaddedDecimalString", "minLength", "RequireString", "ToPrimitive", "preferredType", "CALENDAR_FIELD_KEYS", "BUILTIN_CASTS", "era", "eraYear", "year", "month", "monthCode", "indexOf", "day", "hour", "minute", "second", "millisecond", "microsecond", "nanosecond", "ParseDateTimeUTCOffset", "timeZone", "ToTemporalTimeZoneIdentifier", "BUILTIN_DEFAULTS", "TEMPORAL_UNITS", "SINGULAR_FOR", "fromEntries", "map", "e", "PLURAL_FOR", "UNITS_DESCENDING", "NS_PER_TIME_UNIT", "DURATION_FIELDS", "OriginalIntlDateTimeFormat", "Intl", "DateTimeFormat", "IntlDateTimeFormatEnUsCache", "Map", "getIntlDateTimeFormatEnUsForTimeZone", "timeZoneIdentifier", "lowercaseIdentifier", "ASCIILowercase", "instance", "hour12", "IsTemporalInstant", "item", "IsTemporalDuration", "IsTemporalDate", "IsTemporalTime", "IsTemporalDateTime", "IsTemporalYearMonth", "IsTemporalMonthDay", "IsTemporalZonedDateTime", "CheckReceiver", "test", "RejectTemporalLikeObject", "calendar", "FormatCalendarAnnotation", "showCalendar", "processAnnotations", "annotations", "match", "calendarWasCritical", "PARSE.annotation", "lastIndex", "exec", "critical", "ParseISODateTime", "isoString", "PARSE.zoneddatetime", "yearString", "hasTime", "tzAnnotation", "RejectDateTime", "ParseTemporalTimeString", "PARSE.time", "RejectTime", "ParseTemporalMonthDayString", "RejectISODate", "ParseTemporalYearMonthString", "PARSE.yearmonth", "referenceISODay", "PARSE.monthday", "referenceISOYear", "TIMEZONE_IDENTIFIER", "PARSE.timeZoneID", "OFFSET_IDENTIFIER", "throwBadTimeZoneStringError", "timeZoneString", "msg", "OFFSET", "ParseTimeZoneIdentifier", "identifier", "offsetMinutes", "tzName", "RegulateISODate", "yearParam", "monthParam", "dayParam", "overflow", "ConstrainISODate", "RegulateTime", "hourParam", "minuteParam", "secondParam", "millisecondParam", "microsecondParam", "nanosecondParam", "ConstrainToRange", "ToTemporalPartialDurationRecord", "temporalDurationLike", "years", "months", "weeks", "hours", "minutes", "seconds", "milliseconds", "microseconds", "nanoseconds", "undefined", "any", "index", "AdjustDateDurationRecord", "newDays", "newWeeks", "newMonths", "CombineISODateAndTimeRecord", "isoDate", "GetTemporalOverflowOption", "options", "GetOption", "GetTemporalDisambiguationOption", "GetRoundingModeOption", "fallback", "GetTemporalOffsetOption", "GetTemporalShowCalendarNameOption", "GetTemporalRoundingIncrementOption", "roundingIncrement", "integerIncrement", "ValidateTemporalRoundingIncrement", "dividend", "inclusive", "maximum", "GetTemporalFractionalSecondDigitsOption", "normalizedOptions", "digitsValue", "fractionalSecondDigits", "digitCount", "isFinite", "ToSecondsStringPrecisionRecord", "smallestUnit", "precision", "unit", "REQUIRED", "GetTemporalUnitValuedOption", "unitGroup", "requiredOrDefault", "extraValues", "allowedSingular", "unitInfo", "singular", "category", "concat", "defaultVal", "allowedValues", "plural", "retval", "GetTemporalRelativeToOption", "relativeTo", "offsetBehaviour", "matchMinutes", "zonedRelativeTo", "plainRelativeTo", "CreateTemporalDate", "GetTemporalCalendarIdentifierWithISODefault", "fields", "PrepareCalendarFields", "InterpretTemporalDateTimeFields", "CanonicalizeCalendar", "CreateTemporalZonedDateTime", "InterpretISODateTimeOffset", "DefaultTemporalLargestUnit", "LargerOfTwoTemporalUnits", "unit1", "unit2", "IsCalendarUnit", "TemporalUnitCategory", "calendarImplForID", "calendarImplForObj", "temporalObj", "ISODateToFields", "type", "calendarDate", "isoToDate", "bag", "calendarFieldNames", "nonCalendarFieldNames", "requiredFields", "extraFieldNames", "extraFields", "sort", "includes", "ToTemporalTimeRecord", "completeness", "field", "ToTemporalDate", "GetOptionsObject", "isoDateTime", "GetISODateTimeFor", "CalendarDateFromFields", "ToTemporalDateTime", "CreateTemporalDateTime", "deltaDays", "ToTemporalDuration", "TemporalDuration", "PARSE.duration", "part", "fHours", "minutesStr", "fMinutes", "secondsStr", "fSeconds", "excessNanoseconds", "RejectDuration", "partial", "ToTemporalInstant", "itemParam", "CreateTemporalInstant", "balanced", "BalanceISODateTime", "CheckISODaysRange", "GetUTCEpochNanoseconds", "ToTemporalMonthDay", "CreateTemporalMonthDay", "ToTemporalCalendarIdentifier", "CalendarMonthDayFromFields", "RejectDateRange", "ToTemporalTime", "CreateTemporalTime", "ToTimeRecordOrMidnight", "ToTemporalYearMonth", "CreateTemporalYearMonth", "CalendarYearMonthFromFields", "RejectYearMonthRange", "offsetNs", "disambiguation", "offsetOpt", "matchMinute", "GetStartOfDay", "dt", "GetEpochNanosecondsFor", "ValidateEpochNanoseconds", "utcEpochNs", "possibleEpochNs", "GetPossibleEpochNanoseconds", "candidate", "candidateOffset", "roundedCandidateOffset", "RoundNumberToIncrement", "offsetStr", "FormatUTCOffsetNanoseconds", "dtStr", "ISODateTimeToString", "DisambiguatePossibleEpochNanoseconds", "ToTemporalZonedDateTime", "resolvedOptions", "CreateTemporalDateSlots", "TemporalPlainDate", "CreateTemporalDateTimeSlots", "RejectDateTimeRange", "TemporalPlainDateTime", "CreateTemporalMonthDaySlots", "TemporalPlainMonthDay", "CreateTemporalTimeSlots", "TemporalPlainTime", "CreateTemporalYearMonthSlots", "TemporalPlainYearMonth", "CreateTemporalInstantSlots", "epochNanoseconds", "TemporalInstant", "CreateTemporalZonedDateTimeSlots", "TemporalZonedDateTime", "CalendarFieldKeysPresent", "filter", "CalendarMergeFields", "additionalFields", "additionalKeys", "overriddenKeys", "fieldKeysToIgnore", "merged", "fieldsKeys", "ix", "propValue", "CalendarDateAdd", "dateDuration", "dateAdd", "CalendarDateUntil", "isoOtherDate", "largestUnit", "dateUntil", "calendarLike", "CalendarEquals", "one", "two", "calendarImpl", "resolveFields", "dateToISO", "monthDayToISOReferenceDate", "temporalTimeZoneLike", "stringIdent", "FormatOffsetTimeZoneIdentifier", "record", "GetAvailableNamedTimeZoneIdentifier", "TimeZoneEquals", "offsetMinutes1", "offsetMinutes2", "idRecord2", "idRecord1", "primaryIdentifier", "GetOffsetNanosecondsFor", "GetNamedTimeZoneOffsetNanoseconds", "absoluteNs", "subSecondNs", "FormatTimeString", "GetISOPartsFromEpoch", "numInstants", "utcns", "dayBefore", "offsetBefore", "dayAfter", "timeDuration", "fromComponents", "earlierTime", "AddTime", "BalanceISODate", "laterTime", "possible", "nsEarlier", "nsLater", "earlierOffsetNs", "laterOffsetNs", "offsetNanoseconds", "parts", "epochMilliseconds", "GetFormatterParts", "CompareISODateTime", "GetNamedTimeZoneNextTransition", "ISOYearString", "ISODateTimePartString", "FormatFractionalSeconds", "subSecondNanoseconds", "replace", "TemporalInstantToString", "instant", "outputTimeZone", "dateTimeString", "FormatDateTimeUTCOffsetRounded", "TemporalDurationToString", "DurationSign", "datePart", "timePart", "secondsDuration", "TemporalDateToString", "date", "TimeRecordToString", "TemporalMonthDayToString", "monthDay", "resultString", "calendarString", "TemporalYearMonthToString", "yearMonth", "TemporalZonedDateTimeToString", "zdt", "showTimeZone", "showOffset", "roundingMode", "RoundTemporalInstant", "tz", "IsOffsetTimeZoneIdentifier", "string", "OFFSET_WITH_PARTS", "canonicalTimeZoneIdsCache", "isTZIDSep", "assign", "_", "canonicalTimeZoneIds", "supportedValuesOf", "lower", "has", "segments", "c", "toUpperCase", "split", "specialCases", "GetNamedTimeZoneOffsetNanosecondsImpl", "GetUTCEpochMilliseconds", "epochNsToMs", "absoluteMinutes", "offsetNanosecondsParam", "reducedYear", "yearCycles", "legacyDate", "setUTCHours", "setUTCFullYear", "getTime", "subMs", "nanos", "getUTCFullYear", "getUTCMonth", "getUTCDate", "getUTCHours", "getUTCMinutes", "getUTCSeconds", "getUTCMilliseconds", "now", "uppercap", "max", "leftMs", "leftOffsetNs", "rightMs", "rightOffsetNs", "bisect", "epochMs", "GetNamedTimeZonePreviousTransition", "lookahead", "prevBeforeLookahead", "lastPrecomputed", "datetime", "splits", "format", "LeapYear", "ISODaysInMonth", "standard", "leapyear", "DateDurationSign", "fieldNames", "InternalDurationSign", "dateSign", "BalanceISOYearMonth", "daysIn400YearCycle", "nCycles", "daysInYear", "testYear", "BalanceTime", "DateDurationDays", "yearsMonthsWeeksDuration", "later", "epochDaysEarlier", "ISODateToEpochDays", "yearsMonthsWeeksInDays", "CreateNegatedTemporalDuration", "RejectToRange", "AssertISODateTimeWithinLimits", "mon", "d", "propSign", "msResult", "m", "nsResult", "remainderSec", "totalSec", "isSafeInteger", "ToInternalDurationRecord", "ToInternalDurationRecordWith24HourDays", "ToDateDurationRecordWithoutTime", "internalDuration", "__spreadProps", "__spreadValues", "TemporalDurationFromInternal", "CombineDateAndTimeDuration", "DifferenceTime", "time1", "time2", "DifferenceInstant", "ns1", "ns2", "fromEpochNsDiff", "RoundTimeDuration", "DifferenceISODateTime", "isoDateTime1", "isoDateTime2", "timeSign", "CompareISODate", "adjustedDate", "dateLargestUnit", "dateDifference", "DifferenceZonedDateTime", "nsDiff", "isoDtStart", "isoDtEnd", "intermediateDateTime", "dayCorrection", "maxDayCorrection", "intermediateNs", "NudgeToCalendarUnit", "durationParam", "destEpochNs", "startDuration", "endDuration", "yearsMonths", "weeksStart", "untilResult", "start", "end", "startEpochNs", "endEpochNs", "startDateTime", "endDateTime", "numerator", "denominator", "even", "roundedUnit", "total", "didExpandCalendarUnit", "nudgeResult", "nudgedEpochNs", "RoundRelativeDuration", "largestUnitParam", "irregularLengthUnit", "daySpan", "unitIncrement", "roundedTimeDuration", "beyondDaySpan", "didRoundBeyondDay", "dayDelta", "roundedTime", "diffTime", "wholeDays", "roundedWholeDays", "didExpandDays", "largestUnitIndex", "unitIndex", "TotalRelativeDuration", "TotalTimeDuration", "DifferencePlainDateTimeWithRounding", "DifferenceZonedDateTimeWithRounding", "GetDifferenceSettings", "op", "group", "disallowed", "fallbackSmallest", "smallestLargestDefaultUnit", "ALLOWED_UNITS", "reduce", "allowed", "defaultLargestUnit", "DifferenceTemporalInstant", "otherParam", "settings", "DifferenceTemporalPlainDate", "plainDate", "otherCalendar", "Duration", "isoOther", "DifferenceTemporalPlainDateTime", "plainDateTime", "DifferenceTemporalPlainTime", "plainTime", "DifferenceTemporalPlainYearMonth", "thisFields", "thisDate", "otherFields", "otherDate", "DifferenceTemporalZonedDateTime", "zonedDateTime", "AddInstant", "AddZonedDateTime", "AddDurations", "d1", "d2", "AddDurationToInstant", "durationLike", "AddDurationToDate", "AddDurationToDateTime", "dateTime", "timeResult", "AddDurationToTime", "temporalTime", "AddDurationToYearMonth", "startDate", "nextMonth", "durationToAdd", "AddDurationToZonedDateTime", "quantity", "ComparisonResult", "incrementNs", "quantityParam", "RoundISODateTime", "RoundTime", "nsPerUnit", "divisor", "isoDate1", "isoDate2", "CompareTimeRecord", "dateResult", "ToBigIntExternal", "arg", "jsbiBI", "ToBigInt", "epochNanosecondsParam", "isInteger", "prim", "toPrimFn", "toPrimitive", "call", "SystemUTCEpochNanoSeconds", "DefaultTimeZone", "CreateOnePropObject", "propName", "o", "idParam", "str", "lowercase", "code", "charCodeAt", "fromCharCode", "ValueOfThrows", "constructorName", "PARSE.offset", "getState", "leftParam", "rightParam", "lstateParam", "rstateParam", "left", "right", "lstate", "rstate", "middle", "mstate", "arrayFromSet", "src", "calendarDateWeekOfYear", "impl", "yow", "dayOfWeek", "dayOfYear", "fdow", "getFirstDayOfWeek", "mdow", "getMinimalDaysInFirstWeek", "relDow", "relDowJan1", "woy", "firstDayOfWeek", "minimalDaysInFirstWeek", "desiredDay", "periodStartDayOfWeek", "weekNo", "lastRelDow", "week", "ISODateSurpasses", "y1", "m1", "nonLeapMonthCodeNumberPart", "startsWith", "buildMonthCode", "leap", "resolveNonLunisolarMonth", "monthsPerYear", "ES.RejectToRange", "ES.ConstrainToRange", "numberPart", "ES.RegulateISODate", "keys", "ES.BalanceISOYearMonth", "ES.BalanceISODate", "ES.CompareISODate", "intermediate", "candidateYears", "candidateMonths", "constrained", "ES.ConstrainISODate", "ES.ISODateToEpochDays", "requestedFields", "daysInWeek", "monthsInYear", "shiftedMonth", "shiftedYear", "century", "yearInCentury", "dow", "ES.ISODaysInMonth", "weekOfYear", "daysInMonth", "inLeapYear", "ES.LeapYear", "OneObjectCache", "cacheToClone", "calls", "hits", "misses", "entry", "entries", "MAX_CACHE_ENTRIES", "report", "setObject", "obj", "objectMap", "cache", "toUtcIsoDateString", "isoYear", "isoMonth", "isoDay", "ES.ISOYearString", "ES.ISODateTimePartString", "simpleDateDiff", "HelperBase", "eras", "hasEra", "erasBeginMidYear", "getFormatter", "formatter", "getCalendarParts", "dateTimeFormat", "locale", "formatToParts", "isoToCalendarDate", "JSON", "stringify", "func", "cached", "matches", "monthExtra", "normalize", "toLowerCase", "replacement", "find", "genericName", "reviseIntlEra", "checkIcuBugs", "adjustCalendarDate", "forEach", "keyReverse", "validateCalendarDate", "calendarDateParam", "fromLegacyDate", "calendarType", "largestMonth", "regulateMonthDayNaive", "maximumMonthLength", "calendarToIsoDate", "dateParam", "originalDate", "keyOriginal", "isoEstimate", "estimateIsoDate", "calculateSameMonthResult", "diffDays", "testIsoEstimate", "addDaysIso", "minimumMonthLength", "testCalendarDate", "roundtripEstimate", "diffTotalDaysEstimate", "compareCalendarDates", "oldRoundtripEstimate", "oldSign", "date1", "date2", "ES.ComparisonResult", "regulateDate", "addDaysCalendar", "addedIso", "addMonthsCalendar", "absMonths", "oldCalendarDate", "daysInPreviousMonth", "monthsInOldYear", "addCalendar", "addedYears", "addedMonths", "initialDays", "untilCalendar", "calendarOne", "calendarTwo", "calendarDaysUntil", "totalDays", "diffYears", "diffInYearSign", "current", "next", "addedIsoDate", "addedCalendarDate", "endOfMonthIso", "previousMonthDate", "previousMonth", "lastDayOfPreviousMonthIso", "startOfCalendarYear", "startOfCalendarMonth", "oneIso", "twoIso", "monthDaySearchStartYear", "monthDayFromFields", "closestCalendar", "closestIso", "startDateIso", "calendarOfStartDateIso", "calendarYear", "roundTripCalendarDate", "maxDayForMonthCode", "maxLengthOfMonthCodeInAnyYear", "HebrewHelper", "Tishri", "regular", "Heshvan", "Kislev", "Tevet", "Shevat", "Adar", "Nisan", "Iyar", "Sivan", "Tamuz", "Av", "Elul", "minMaxMonthLength", "minOrMax", "getMonthCode", "monthInfo", "endsWith", "IslamicBaseHelper", "DAYS_PER_ISLAMIC_YEAR", "DAYS_PER_ISO_YEAR", "startOfYearCalendar", "startOfNextYearCalendar", "IslamicHelper", "IslamicUmalquraHelper", "IslamicTblaHelper", "IslamicCivilHelper", "IslamicRgsaHelper", "IslamicCcHelper", "PersianHelper", "IndianHelper", "nextYear", "vulnerableToBceBug", "toLocaleDateString", "isGregorianLeapYear", "getMonthInfo", "GregorianBaseHelperFixedEpoch", "isoEpoch", "super", "GregorianBaseHelper", "originalEras", "anchorEra", "erasParam", "reverseOf", "isAnchor", "anchorEpoch", "hasYearZero", "reversedEra", "e1", "e2", "lastEraReversed", "completeEraYear", "checkField", "names", "currentValue", "preferredName", "eraFromYear", "adjustedCalendarDate", "matchingEra", "eraNames", "matchData", "SameMonthDayAsGregorianBaseHelper", "OrthodoxOps", "OrthodoxBaseHelperFixedEpoch", "OrthodoxBaseHelper", "EthioaaHelper", "CopticHelper", "EthiopicHelper", "RocHelper", "BuddhistHelper", "GregoryHelper", "JapaneseHelper", "ChineseBaseHelper", "getMonthList", "M01L", "M02L", "M03L", "M04L", "M05L", "M06L", "M07L", "M08L", "M09L", "M10L", "M11L", "M12L", "getCalendarDate", "daysPastFeb1", "isoStringFeb1", "setUTCDate", "newYearGuess", "calendarMonthString", "tv", "calendarDay", "calendarYearPartToVerify", "calendarYearToVerify", "isoDaysDelta", "oldCalendarDay", "oldMonthString", "monthIndex", "done", "monthString", "ch", "withoutML", "monthEntries", "matchingMonthEntry", "ChineseHelper", "DangiHelper", "NonIsoCalendar", "helper", "getCacheForObject", "added", "isoAdded", "cacheOne", "cacheTwo", "startOfYear", "Helper", "getSlotLazy", "slot", "val", "IsPatchedDateTimeFormat", "DateTimeFormatImpl", "locales", "dtf", "optionsParam", "hasOptions", "props", "newOptions", "hasOwnProperty", "original", "ro", "clonedResolved", "hourCycle", "dateAmend", "yearMonthAmend", "monthDayAmend", "timeAmend", "datetimeAmend", "instantAmend", "timeZoneOption", "ES.ToString", "ES.ToTemporalTimeZoneIdentifier", "ES.CheckReceiver", "boundFormat", "bind", "defineProperties", "formatRange", "a", "b", "rest", "formatRangeToParts", "resolved", "formatArgs", "overrides", "extractOverrides", "ES.epochNsToMs", "aParam", "bParam", "toDateTimeFormattable", "isTemporalObject", "sameTemporalType", "aa", "aformatter", "bb", "bformatter", "amend", "amended", "opt", "originalOptions", "weekday", "timeZoneName", "dateStyle", "timeStyle", "hasTimeOptions", "hasAnyDateTimeOptions", "dateStyleHacks", "short", "medium", "long", "full", "dayPeriod", "style", "hasDateOptions", "ES.IsTemporalDate", "ES.IsTemporalTime", "ES.IsTemporalDateTime", "ES.IsTemporalZonedDateTime", "ES.IsTemporalYearMonth", "ES.IsTemporalMonthDay", "ES.IsTemporalInstant", "ES.ToNumber", "main", "ES.GetEpochNanosecondsFor", "mainCalendar", "ES.CombineISODateAndTimeRecord", "temporalDurationToCompatibilityRecord", "supportedLocalesOf", "IntlDurationFormatPrototypeFormat", "IntlDurationFormatPrototypeFormatToParts", "DurationFormat", "ModifiedIntlDurationFormatPrototypeFormat", "ES.ToTemporalDuration", "ki", "di", "ji", "Instant", "arguments", "ES.CreateTemporalInstantSlots", "ES.ToBigInt", "ES.ToBigIntExternal", "ES.AddDurationToInstant", "until", "ES.DifferenceTemporalInstant", "since", "roundToParam", "roundTo", "ES.CreateOnePropObject", "ES.GetOptionsObject", "ES.GetTemporalRoundingIncrementOption", "ES.GetRoundingModeOption", "ES.GetTemporalUnitValuedOption", "ES.REQUIRED", "ES.ValidateTemporalRoundingIncrement", "ES.CreateTemporalInstant", "ES.RoundTemporalInstant", "equals", "ES.ToTemporalInstant", "digits", "ES.GetTemporalFractionalSecondDigitsOption", "ES.ToSecondsStringPrecisionRecord", "ES.TemporalInstantToString", "toJSON", "toLocaleString", "valueOf", "ES.ValueOfThrows", "toZonedDateTimeISO", "timeZoneParam", "ES.CreateTemporalZonedDateTime", "ES.epochMsToNs", "oneParam", "twoParam", "oneNs", "twoNs", "PlainDate", "calendarParam", "ES.ToIntegerWithTruncation", "ES.CanonicalizeCalendar", "ES.RequireString", "ES.RejectISODate", "ES.CreateTemporalDateSlots", "calendarId", "getCalendarProperty", "yearOfWeek", "with", "temporalDateLike", "ES.IsObject", "ES.RejectTemporalLikeObject", "ES.ISODateToFields", "ES.CalendarMergeFields", "ES.PrepareCalendarFields", "ES.CreateTemporalDate", "ES.CalendarDateFromFields", "ES.GetTemporalOverflowOption", "withCalendar", "ES.ToTemporalCalendarIdentifier", "ES.AddDurationToDate", "ES.DifferenceTemporalPlainDate", "ES.ToTemporalDate", "ES.CalendarEquals", "ES.TemporalDateToString", "ES.GetTemporalShowCalendarNameOption", "toPlainDateTime", "ES.ToTimeRecordOrMidnight", "ES.CreateTemporalDateTime", "toZonedDateTime", "timeZoneLike", "ES.GetStartOfDay", "ES.ToTemporalTime", "toPlainYearMonth", "ES.CreateTemporalYearMonth", "ES.CalendarYearMonthFromFields", "toPlainMonthDay", "ES.CreateTemporalMonthDay", "ES.CalendarMonthDayFromFields", "ES.calendarImplForObj", "PlainDateTime", "ES.RejectDateTime", "ES.CreateTemporalDateTimeSlots", "getTimeProperty", "temporalDateTimeLike", "ES.InterpretTemporalDateTimeFields", "withPlainTime", "ES.AddDurationToDateTime", "ES.DifferenceTemporalPlainDateTime", "ES.RoundISODateTime", "ES.ToTemporalDateTime", "ES.CompareISODateTime", "ES.RejectDateTimeRange", "ES.ISODateTimeToString", "ES.GetTemporalDisambiguationOption", "toPlainDate", "toPlainTime", "ES.CreateTemporalTime", "yearsParam", "monthsParam", "weeksParam", "daysParam", "hoursParam", "minutesParam", "secondsParam", "millisecondsParam", "microsecondsParam", "nanosecondsParam", "ES.ToIntegerIfIntegral", "ES.RejectDuration", "ES.IsTemporalDuration", "ES.DurationSign", "blank", "partialDuration", "ES.ToTemporalPartialDurationRecord", "negated", "ES.CreateNegatedTemporalDuration", "ES.AddDurations", "existingLargestUnit", "ES.DefaultTemporalLargestUnit", "ES.GetTemporalRelativeToOption", "smallestUnitPresent", "ES.LargerOfTwoTemporalUnits", "largestUnitPresent", "ES.TemporalUnitCategory", "ES.ToInternalDurationRecord", "relativeEpochNs", "ES.DifferenceZonedDateTimeWithRounding", "ES.AddZonedDateTime", "ES.TemporalDurationFromInternal", "ES.ToInternalDurationRecordWith24HourDays", "targetTime", "ES.AddTime", "isoRelativeToDate", "targetDate", "ES.CalendarDateAdd", "ES.AdjustDateDurationRecord", "ES.DifferencePlainDateTimeWithRounding", "ES.IsCalendarUnit", "ES.DAY_NANOS", "ES.TotalTimeDuration", "ES.RoundNumberToIncrement", "ES.CombineDateAndTimeDuration", "ES.RoundTimeDuration", "ES.TemporalDurationToString", "console", "warn", "largestUnit1", "largestUnit2", "duration1", "duration2", "after1", "after2", "ES.DateDurationDays", "timeDuration1", "timeDuration2", "PlainMonthDay", "ES.CreateTemporalMonthDaySlots", "temporalMonthDayLike", "ES.ToTemporalMonthDay", "ES.TemporalMonthDayToString", "md", "SystemDateTime", "ES.GetISODateTimeFor", "ES.SystemUTCEpochNanoSeconds", "Now", "plainDateTimeISO", "ES.DefaultTimeZone", "plainDateISO", "plainTimeISO", "timeZoneId", "zonedDateTimeISO", "PlainTime", "isoHour", "isoMinute", "isoSecond", "isoMillisecond", "isoMicrosecond", "isoNanosecond", "ES.RejectTime", "ES.CreateTemporalTimeSlots", "temporalTimeLike", "partialTime", "ES.ToTemporalTimeRecord", "ES.RegulateTime", "ES.AddDurationToTime", "ES.DifferenceTemporalPlainTime", "ES.RoundTime", "ES.CompareTimeRecord", "ES.TimeRecordToString", "PlainYearMonth", "ES.CreateTemporalYearMonthSlots", "temporalYearMonthLike", "ES.AddDurationToYearMonth", "ES.DifferenceTemporalPlainYearMonth", "ES.ToTemporalYearMonth", "ES.TemporalYearMonthToString", "ym", "customResolvedOptions", "ZonedDateTime", "ES.ParseTimeZoneIdentifier", "ES.GetAvailableNamedTimeZoneIdentifier", "ES.FormatOffsetTimeZoneIdentifier", "ES.CreateTemporalZonedDateTimeSlots", "hoursInDay", "today", "tomorrow", "todayNs", "tomorrowNs", "ES.FormatUTCOffsetNanoseconds", "ES.GetOffsetNanosecondsFor", "temporalZonedDateTimeLike", "ES.GetTemporalOffsetOption", "newDateTime", "newOffsetNs", "ES.ParseDateTimeUTCOffset", "ES.InterpretISODateTimeOffset", "temporalTimeParam", "iso", "withTimeZone", "ES.AddDurationToZonedDateTime", "ES.DifferenceTemporalZonedDateTime", "thisNs", "dateStart", "dateEnd", "startNs", "endNs", "dayLengthNs", "roundedDateTime", "ES.ToTemporalZonedDateTime", "ES.TimeZoneEquals", "ES.TemporalZonedDateTimeToString", "optionsCopy", "target", "excludedKeys", "excludedValues", "Reflect", "ownKeys", "nextKey", "some", "is", "propertyIsEnumerable", "ES.IsOffsetTimeZoneIdentifier", "localeCalendarIdentifier", "calendarIdentifier", "startOfDay", "getTimeZoneTransition", "directionParam", "direction", "thisEpochNanoseconds", "ES.GetNamedTimeZoneNextTransition", "ES.GetNamedTimeZonePreviousTransition", "toInstant", "qi", "Bi", "toTemporalInstant", "LegacyDateImpl", "types", "Temporal.Instant", "Temporal.PlainDate", "Temporal.PlainDateTime", "Temporal.Duration", "Temporal.PlainMonthDay", "Temporal.PlainTime", "Temporal.PlainYearMonth", "Temporal.ZonedDateTime", "descriptor", "SelectorSet", "docElem", "matches", "el", "selector", "selectors", "context", "idRe", "sel", "m", "classRe", "className", "tagRe", "Map", "key", "value", "chunker", "parseSelectorIndexes", "allIndexes", "allIndexesLen", "i", "j", "dup", "rest", "index", "indexes", "findByPrototype", "ary", "proto", "len", "item", "data", "obj", "indexProto", "objs", "selectorIndexes", "selectorIndex", "selectorObjects", "k", "selIndex", "removedIds", "removeAll", "sortById", "a", "b", "results", "els", "len2", "match", "len3", "keys", "id", "matchedIds", "bubbleEvents", "captureEvents", "propagationStopped", "immediatePropagationStopped", "currentTargets", "currentTargetDesc", "before", "subject", "verb", "fn", "source", "matches", "selectors", "target", "reverse", "queue", "node", "_matches", "matched", "trackPropagation", "trackImmediate", "getCurrentTarget", "defineCurrentTarget", "event", "getter", "canDispatch", "_", "dispatch", "events", "i", "len1", "j", "len2", "on", "name", "selector", "options", "capture", "SelectorSet", "slice", "options", "vnodeId", "isValidElement", "rerenderQueue", "prevDebounce", "defer", "depthSort", "CAPTURE_REGEX", "eventClock", "eventProxy", "eventProxyCapture", "i", "EMPTY_OBJ", "EMPTY_ARR", "IS_NON_DIMENSIONAL", "isArray", "Array", "assign", "obj", "props", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "call", "defaultProps", "undefined", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__c", "constructor", "__v", "__i", "__u", "Fragment", "props", "children", "BaseComponent", "context", "this", "getDomSibling", "vnode", "childIndex", "__", "__i", "sibling", "__k", "length", "__e", "type", "updateParentDomPointers", "i", "child", "__c", "base", "enqueueRender", "c", "__d", "rerenderQueue", "push", "process", "__r", "prevDebounce", "options", "debounceRendering", "defer", "component", "newVNode", "oldVNode", "oldDom", "commitQueue", "refQueue", "l", "sort", "depthSort", "shift", "__v", "__P", "assign", "diff", "__n", "namespaceURI", "__u", "commitRoot", "diffChildren", "parentDom", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "namespace", "excessDomChildren", "isHydrating", "childVNode", "newDom", "firstChildDom", "result", "oldChildren", "EMPTY_ARR", "newChildrenLength", "constructNewChildrenArray", "EMPTY_OBJ", "ref", "applyRef", "insert", "nextSibling", "skewedIndex", "matchingIndex", "oldChildrenLength", "remainingOldChildren", "skew", "Array", "constructor", "String", "createVNode", "isArray", "undefined", "__b", "key", "findMatchingIndex", "unmount", "parentVNode", "contains", "insertBefore", "nodeType", "findMatchingIndex", "childVNode", "oldChildren", "skewedIndex", "remainingOldChildren", "x", "y", "key", "type", "oldVNode", "__u", "length", "setStyle", "style", "value", "setProperty", "IS_NON_DIMENSIONAL", "test", "dom", "name", "oldValue", "namespace", "useCapture", "o", "cssText", "replace", "CAPTURE_REGEX", "toLowerCase", "slice", "l", "_attached", "eventClock", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "createEventProxy", "this", "eventHandler", "_dispatched", "options", "event", "diff", "parentDom", "newVNode", "globalContext", "excessDomChildren", "commitQueue", "oldDom", "isHydrating", "refQueue", "tmp", "c", "isNew", "oldProps", "oldState", "snapshot", "clearProcessingException", "newProps", "isClassComponent", "provider", "componentContext", "i", "renderHook", "count", "renderResult", "newType", "constructor", "undefined", "__e", "__b", "outer", "props", "prototype", "render", "contextType", "__c", "__", "__E", "BaseComponent", "doRender", "sub", "state", "context", "__n", "__d", "__h", "_sb", "__s", "getDerivedStateFromProps", "assign", "__v", "componentWillMount", "componentDidMount", "push", "componentWillReceiveProps", "shouldComponentUpdate", "__k", "some", "vnode", "componentWillUpdate", "componentDidUpdate", "__P", "__r", "getChildContext", "getSnapshotBeforeUpdate", "Fragment", "cloneNode", "children", "diffChildren", "isArray", "base", "then", "MODE_HYDRATE", "nodeType", "nextSibling", "indexOf", "removeNode", "diffElementNodes", "diffed", "commitRoot", "root", "applyRef", "cb", "call", "node", "map", "newHtml", "oldHtml", "newChildren", "inputValue", "checked", "localName", "document", "createTextNode", "createElementNS", "is", "__m", "data", "childNodes", "EMPTY_OBJ", "attributes", "__html", "innerHTML", "content", "getDomSibling", "ref", "hasRefUnmount", "current", "unmount", "parentVNode", "skipRemove", "r", "componentWillUnmount", "replaceNode", "documentElement", "createElement", "namespaceURI", "firstChild", "slice", "EMPTY_ARR", "options", "__e", "error", "vnode", "oldVNode", "errorInfo", "component", "ctor", "handled", "__", "__c", "constructor", "getDerivedStateFromError", "setState", "__d", "componentDidCatch", "__E", "e", "vnodeId", "isValidElement", "undefined", "BaseComponent", "prototype", "update", "callback", "s", "this", "__s", "state", "assign", "props", "__v", "_sb", "push", "enqueueRender", "forceUpdate", "__h", "render", "Fragment", "rerenderQueue", "defer", "Promise", "then", "bind", "resolve", "setTimeout", "depthSort", "a", "b", "__b", "process", "__r", "CAPTURE_REGEX", "eventClock", "eventProxy", "createEventProxy", "eventProxyCapture", "i", "currentIndex", "currentComponent", "previousComponent", "prevRaf", "currentHook", "afterPaintEffects", "options", "_options", "oldBeforeDiff", "__b", "oldBeforeRender", "__r", "oldAfterDiff", "diffed", "oldCommit", "__c", "oldBeforeUnmount", "unmount", "oldRoot", "__", "getHookState", "index", "type", "__h", "hooks", "__H", "length", "push", "useState", "initialState", "useReducer", "invokeOrReturn", "reducer", "init", "hookState", "_reducer", "action", "currentValue", "__N", "nextValue", "setState", "__f", "updateHookState", "p", "s", "c", "stateHooks", "filter", "x", "every", "prevScu", "call", "this", "shouldUpdate", "props", "forEach", "hookItem", "shouldComponentUpdate", "prevCWU", "componentWillUpdate", "__e", "tmp", "flushAfterPaintEffects", "component", "afterPaintEffects", "shift", "__P", "__H", "__h", "forEach", "invokeCleanup", "invokeEffect", "e", "options", "__e", "__v", "__b", "vnode", "currentComponent", "oldBeforeDiff", "__", "parentDom", "__k", "__m", "oldRoot", "__r", "oldBeforeRender", "currentIndex", "hooks", "__c", "previousComponent", "hookItem", "__N", "_pendingArgs", "diffed", "oldAfterDiff", "c", "length", "push", "prevRaf", "requestAnimationFrame", "afterNextFrame", "commitQueue", "some", "filter", "cb", "oldCommit", "unmount", "oldBeforeUnmount", "hasErrored", "s", "HAS_RAF", "callback", "raf", "done", "clearTimeout", "timeout", "cancelAnimationFrame", "setTimeout", "hook", "comp", "cleanup", "invokeOrReturn", "arg", "f", "onDocumentReady", "fn", "ENCODE_HTML_RULES", "MATCH_HTML", "encodeCharacter", "c", "escapeHtmlRaw", "value", "escapeValue", "HtmlSafeString", "val", "strings", "values", "__publicField", "acc", "i", "html", "escapeHtml", "unsafeHtml", "templateFromAttributes", "source", "target", "attributes", "sourceAttribute", "targetSelector", "attributeValue", "targets", "targetElement", "attributeParsed", "i", "o", "import_keyBy", "formatDate", "date", "timeZone", "includeTz", "longTz", "includeMs", "options", "parts", "keyBy", "x", "dateFormatted", "Scorebar", "score", "minWidth", "maxWidth", "classes", "html", "getPopoverTriggerForContainer", "container", "popoverId", "vnodeId", "isArray", "Array", "createVNode", "type", "props", "key", "isStaticChildren", "__source", "__self", "ref", "i", "normalizedProps", "vnode", "__k", "__", "__b", "__e", "__c", "constructor", "__v", "__i", "__u", "defaultProps", "options", "onDocumentReady", "_a", "_b", "dataset", "assessmentSetAbbr", "assessmentNumber", "csrfToken", "urlPrefix", "assessmentGroupWork", "assessmentMultipleInstance", "hasCourseInstancePermissionEdit", "timezone", "bsTable", "table", "filterOn", "updateTotals", "row", "timeLimitEditPopoverContent", "data", "searchText", "filter", "_c", "_d", "_e", "_f", "_g", "_h", "search", "uid", "name", "role", "tableColumns", "on", "event", "refreshTable", "popover", "trigger", "getPopoverTriggerForContainer", "modal", "e", "relatedTarget", "templateFromAttributes", "detailsLinkSorter", "detailsLinkFormatter", "value", "html", "listFormatter", "uniqueListFormatter", "scorebarFormatter", "timeRemainingLimitSorter", "timeRemainingLimitFormatter", "actionButtonFormatter", "TimeLimitExplanation", "action", "explanation", "u", "TimeLimitEditPopover", "form", "setForm", "d", "qi", "showTimeLimitOptions", "updateFormState", "key", "__spreadProps", "__spreadValues", "proposedClosingTime", "totalTime", "startDate", "formatDate", "k", "div", "E", "score", "Scorebar", "list", "uniq", "number", "valueA", "valueB", "rowA", "rowB", "nameKey", "idKey", "nameA", "nameB", "idA", "idB", "compare", "_value", "ai_id", "escapeHtml", "CloseForm", "RegradeForm", "time_limit_list", "remaining_time_min", "remaining_time_max", "has_open_instance", "has_closed_instance", "time_limit_totals"]
}
