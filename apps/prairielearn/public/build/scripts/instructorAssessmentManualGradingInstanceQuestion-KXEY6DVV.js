"use strict";(()=>{var ue=Object.create;var U=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var de=Object.getOwnPropertyNames;var fe=Object.getPrototypeOf,me=Object.prototype.hasOwnProperty;var pe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ye=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of de(t))!me.call(e,i)&&i!==n&&U(e,i,{get:()=>t[i],enumerable:!(o=le(t,i))||o.enumerable});return e};var ge=(e,t,n)=>(n=e!=null?ue(fe(e)):{},ye(t||!e||!e.__esModule?U(n,"default",{value:e,enumerable:!0}):n,e));var V=pe((P,J)=>{(function(t,n){typeof P=="object"&&typeof J=="object"?J.exports=n():typeof define=="function"&&define.amd?define([],n):typeof P=="object"?P.ClipboardJS=n():t.ClipboardJS=n()})(P,function(){return function(){var e={686:function(o,i,r){"use strict";r.d(i,{default:function(){return se}});var s=r(279),l=r.n(s),d=r(370),v=r.n(d),h=r(817),S=r.n(h);function u(y){try{return document.execCommand(y)}catch(c){return!1}}var g=function(c){var a=S()(c);return u("cut"),a},m=g;function w(y){var c=document.documentElement.getAttribute("dir")==="rtl",a=document.createElement("textarea");a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[c?"right":"left"]="-9999px";var f=window.pageYOffset||document.documentElement.scrollTop;return a.style.top="".concat(f,"px"),a.setAttribute("readonly",""),a.value=y,a}var x=function(c,a){var f=w(c);a.container.appendChild(f);var p=S()(f);return u("copy"),f.remove(),p},A=function(c){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},f="";return typeof c=="string"?f=x(c,a):c instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(c==null?void 0:c.type)?f=x(c.value,a):(f=S()(c),u("copy")),f},q=A;function E(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(a){return typeof a}:E=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},E(y)}var K=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=c.action,f=a===void 0?"copy":a,p=c.container,b=c.target,j=c.text;if(f!=="copy"&&f!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(b!==void 0)if(b&&E(b)==="object"&&b.nodeType===1){if(f==="copy"&&b.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(f==="cut"&&(b.hasAttribute("readonly")||b.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(j)return q(j,{container:p});if(b)return f==="cut"?m(b):q(b,{container:p})},Z=K;function L(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(a){return typeof a}:L=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},L(y)}function ee(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function B(y,c){for(var a=0;a<c.length;a++){var f=c[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}function te(y,c,a){return c&&B(y.prototype,c),a&&B(y,a),y}function re(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),c&&D(y,c)}function D(y,c){return D=Object.setPrototypeOf||function(f,p){return f.__proto__=p,f},D(y,c)}function ne(y){var c=ae();return function(){var f=M(y),p;if(c){var b=M(this).constructor;p=Reflect.construct(f,arguments,b)}else p=f.apply(this,arguments);return oe(this,p)}}function oe(y,c){return c&&(L(c)==="object"||typeof c=="function")?c:ie(y)}function ie(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function ae(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}function M(y){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},M(y)}function H(y,c){var a="data-clipboard-".concat(y);if(c.hasAttribute(a))return c.getAttribute(a)}var ce=function(y){re(a,y);var c=ne(a);function a(f,p){var b;return ee(this,a),b=c.call(this),b.resolveOptions(p),b.listenClick(f),b}return te(a,[{key:"resolveOptions",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof p.action=="function"?p.action:this.defaultAction,this.target=typeof p.target=="function"?p.target:this.defaultTarget,this.text=typeof p.text=="function"?p.text:this.defaultText,this.container=L(p.container)==="object"?p.container:document.body}},{key:"listenClick",value:function(p){var b=this;this.listener=v()(p,"click",function(j){return b.onClick(j)})}},{key:"onClick",value:function(p){var b=p.delegateTarget||p.currentTarget,j=this.action(b)||"copy",k=Z({action:j,container:this.container,target:this.target(b),text:this.text(b)});this.emit(k?"success":"error",{action:j,text:k,trigger:b,clearSelection:function(){b&&b.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(p){return H("action",p)}},{key:"defaultTarget",value:function(p){var b=H("target",p);if(b)return document.querySelector(b)}},{key:"defaultText",value:function(p){return H("text",p)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return q(p,b)}},{key:"cut",value:function(p){return m(p)}},{key:"isSupported",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],b=typeof p=="string"?[p]:p,j=!!document.queryCommandSupported;return b.forEach(function(k){j=j&&!!document.queryCommandSupported(k)}),j}}]),a}(l()),se=ce},828:function(o){var i=9;if(typeof Element!="undefined"&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}function s(l,d){for(;l&&l.nodeType!==i;){if(typeof l.matches=="function"&&l.matches(d))return l;l=l.parentNode}}o.exports=s},438:function(o,i,r){var s=r(828);function l(h,S,u,g,m){var w=v.apply(this,arguments);return h.addEventListener(u,w,m),{destroy:function(){h.removeEventListener(u,w,m)}}}function d(h,S,u,g,m){return typeof h.addEventListener=="function"?l.apply(null,arguments):typeof u=="function"?l.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(w){return l(w,S,u,g,m)}))}function v(h,S,u,g){return function(m){m.delegateTarget=s(m.target,S),m.delegateTarget&&g.call(h,m)}}o.exports=d},879:function(o,i){i.node=function(r){return r!==void 0&&r instanceof HTMLElement&&r.nodeType===1},i.nodeList=function(r){var s=Object.prototype.toString.call(r);return r!==void 0&&(s==="[object NodeList]"||s==="[object HTMLCollection]")&&"length"in r&&(r.length===0||i.node(r[0]))},i.string=function(r){return typeof r=="string"||r instanceof String},i.fn=function(r){var s=Object.prototype.toString.call(r);return s==="[object Function]"}},370:function(o,i,r){var s=r(879),l=r(438);function d(u,g,m){if(!u&&!g&&!m)throw new Error("Missing required arguments");if(!s.string(g))throw new TypeError("Second argument must be a String");if(!s.fn(m))throw new TypeError("Third argument must be a Function");if(s.node(u))return v(u,g,m);if(s.nodeList(u))return h(u,g,m);if(s.string(u))return S(u,g,m);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function v(u,g,m){return u.addEventListener(g,m),{destroy:function(){u.removeEventListener(g,m)}}}function h(u,g,m){return Array.prototype.forEach.call(u,function(w){w.addEventListener(g,m)}),{destroy:function(){Array.prototype.forEach.call(u,function(w){w.removeEventListener(g,m)})}}}function S(u,g,m){return l(document.body,u,g,m)}o.exports=d},817:function(o){function i(r){var s;if(r.nodeName==="SELECT")r.focus(),s=r.value;else if(r.nodeName==="INPUT"||r.nodeName==="TEXTAREA"){var l=r.hasAttribute("readonly");l||r.setAttribute("readonly",""),r.select(),r.setSelectionRange(0,r.value.length),l||r.removeAttribute("readonly"),s=r.value}else{r.hasAttribute("contenteditable")&&r.focus();var d=window.getSelection(),v=document.createRange();v.selectNodeContents(r),d.removeAllRanges(),d.addRange(v),s=d.toString()}return s}o.exports=i},279:function(o){function i(){}i.prototype={on:function(r,s,l){var d=this.e||(this.e={});return(d[r]||(d[r]=[])).push({fn:s,ctx:l}),this},once:function(r,s,l){var d=this;function v(){d.off(r,v),s.apply(l,arguments)}return v._=s,this.on(r,v,l)},emit:function(r){var s=[].slice.call(arguments,1),l=((this.e||(this.e={}))[r]||[]).slice(),d=0,v=l.length;for(d;d<v;d++)l[d].fn.apply(l[d].ctx,s);return this},off:function(r,s){var l=this.e||(this.e={}),d=l[r],v=[];if(d&&s)for(var h=0,S=d.length;h<S;h++)d[h].fn!==s&&d[h].fn._!==s&&v.push(d[h]);return v.length?l[r]=v:delete l[r],this}},o.exports=i,o.exports.TinyEmitter=i}},t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}return function(){n.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(i,{a:i}),i}}(),function(){n.d=function(o,i){for(var r in i)n.o(i,r)&&!n.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:i[r]})}}(),function(){n.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)}}(),n(686)}().default})});var Y=ge(V(),1);var he="output/svg",F=new Promise((e,t)=>{window.MathJax={options:{ignoreHtmlClass:"mathjax_ignore|tex2jax_ignore"},tex:{inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"local"},loader:{load:["input/tex","ui/menu",he]},onReady:o=>{F.then(o)},typesetPromise:C,startup:{promise:F,ready:()=>{window.MathJax.startup.defaultReady(),window.MathJax.Hub={Queue(){console.warn("MathJax.Hub.Queue() has been deprecated in 3.0, please use MathJax.typesetPromise()"),window.MathJax.typesetPromise()}}},pageReady:()=>window.MathJax.startup.defaultPageReady().then(()=>e(),o=>t(o))}};let n=window.MathJax;Object.defineProperty(window,"MathJax",{set:o=>{n=o,n.typesetPromise=C},get(){return n},configurable:!0,enumerable:!0})});async function C(){return await F,window.MathJax.typesetPromise()}$(()=>{Q(),document.addEventListener("keypress",t=>{t.repeat||!["TEXTAREA","SELECT"].includes(t.target.tagName)&&(t.target.tagName!=="INPUT"||["radio","button","submit","checkbox"].includes(t.target.type))&&!t.target.isContentEditable&&document.querySelectorAll(`.js-selectable-rubric-item[data-key-binding="${t.key}"]:not(:disabled)`).forEach(n=>n.dispatchEvent(new MouseEvent("click")))});let e=document.querySelector("#conflictGradingJobModal");e&&$(e).on("shown.bs.modal",function(){e.querySelectorAll(".js-submission-feedback").forEach(t=>t.dispatchEvent(new Event("input")))}).modal("show")});function Q(){document.querySelectorAll(".js-rubric-settings-modal").forEach(e=>{new Y.default(e.querySelectorAll(".js-copy-on-click"),{container:e}).on("success",n=>{n.trigger.animate([{backgroundColor:"",color:"",offset:0},{backgroundColor:"#000",color:"#fff",offset:.5},{backgroundColor:"",color:"",offset:1}],500),$(n.trigger).popover({content:"Copied!",placement:"right"}).popover("show"),window.setTimeout(function(){$(n.trigger).popover("hide")},1e3)})}),document.querySelectorAll(".js-manual-grading-pts-perc-select").forEach(e=>{e.addEventListener("change",function(){let t=this.checked;document.querySelectorAll(".js-manual-grading-pts-perc-select").forEach(n=>{n.checked=t}),document.querySelectorAll(".js-manual-grading-points").forEach(n=>{n.style.display=t?"none":""}),document.querySelectorAll(".js-manual-grading-percentage").forEach(n=>{n.style.display=t?"":"none"}),window.localStorage.manual_grading_score_use=t?"percentage":"points",X(null)}),e.checked=window.localStorage.manual_grading_score_use==="percentage",e.dispatchEvent(new Event("change"))}),document.querySelectorAll(".js-enable-auto-score-edit").forEach(e=>{e.addEventListener("click",function(){let t=this.closest("form");t.querySelectorAll(".js-auto-score-value-info").forEach(n=>{n.style.display="none"}),t.querySelectorAll(".js-auto-score-value-input").forEach(n=>{var o;n.classList.remove("d-none"),n.style.display="",(o=n.querySelector("input"))==null||o.focus()})})}),document.querySelectorAll(".js-submission-feedback").forEach(e=>{e.addEventListener("input",()=>R(e)),R(e)}),document.querySelectorAll(".js-show-rubric-settings-button").forEach(e=>e.addEventListener("click",function(){$(".js-rubric-settings-modal").modal("show")})),document.querySelectorAll(".js-selectable-rubric-item").forEach(e=>e.addEventListener("change",N)),document.querySelectorAll(".js-grading-score-input").forEach(e=>e.addEventListener("input",()=>N(e))),document.querySelectorAll(".js-adjust-points-enable").forEach(e=>e.addEventListener("click",function(){var n,o;this.style.display="none";let t=(n=this.closest(".js-adjust-points"))==null?void 0:n.querySelector(".js-adjust-points-input-container");t&&(t.style.display="",t.classList.remove("d-none"),(o=t.querySelector("input"))==null||o.focus())})),document.querySelectorAll(".js-adjust-points-points").forEach(e=>e.addEventListener("input",function(){var n,o;let t=(n=this.closest(".js-adjust-points"))==null?void 0:n.querySelector(".js-adjust-points-percentage");t&&(t.value=`${+this.value*100/+((o=this.dataset.maxPoints)!=null?o:0)}`,N())})),document.querySelectorAll(".js-adjust-points-percentage").forEach(e=>e.addEventListener("input",function(){var n,o;let t=(n=this.closest(".js-adjust-points"))==null?void 0:n.querySelector(".js-adjust-points-points");t&&(t.value=`${+this.value*+((o=this.dataset.maxPoints)!=null?o:0)/100}`,N())})),document.querySelectorAll(".js-add-rubric-item-button").forEach(e=>e.addEventListener("click",xe)),document.querySelectorAll(".js-replace-auto-points-input").forEach(e=>{e.addEventListener("change",z)}),z(),document.querySelectorAll(".js-rubric-settings-modal form").forEach(e=>e.addEventListener("submit",G)),document.querySelectorAll(".js-disable-rubric-button").forEach(e=>e.addEventListener("click",t=>{let n=e.closest("form");n&&G.bind(n)(t,"false")})),W(),_(),N()}function R(e){if(e.style.height="",e.scrollHeight){let t=window.getComputedStyle(e);e.style.height=e.scrollHeight+parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+"px"}}function z(){let e=document.querySelector(".js-rubric-settings-modal form");if(!e)return;let t=e.querySelector(".js-replace-auto-points-input:checked"),n=Number((t!=null?t:e).dataset.maxPoints),o=n===1?"1 point":`${n} points`;e.querySelectorAll(".js-negative-grading").forEach(i=>{i.value=`${n}`}),e.querySelectorAll(".js-rubric-max-points-info").forEach(i=>{i.innerText=o}),e.querySelectorAll(".js-rubric-max-points-positive").forEach(i=>{i.style.display=n?"":"none"}),e.querySelectorAll(".js-rubric-max-points-zero").forEach(i=>{i.style.display=n?"none":""}),O()}function O(){var h,S,u,g,m;let e=document.querySelector(".js-rubric-settings-modal form");if(!e)return;let t=Number((S=(h=e.querySelector('[name="starting_points"]:checked'))==null?void 0:h.value)!=null?S:0),[n,o]=Array.from(e.querySelectorAll(".js-rubric-item-points")).map(w=>Number(w.value)).reduce(([w,x],A)=>A>0?[w+A,x]:[w,x+A],[t,t]),i=e.querySelector('[name="min_points"]'),r=e.querySelector('[name="max_extra_points"]'),s=e.querySelector(".js-negative-grading");if(!i||!r||!s)throw Error("Missing a required input");let l=Number((u=i.value)!=null?u:0),d=Number((g=r.value)!=null?g:0)+Number((m=s.value)!=null?m:0),v=e.querySelector(".js-settings-points-warning-placeholder");v&&(v.innerHTML=""),n<d&&I(e.querySelector(".js-settings-points-warning-placeholder"),`Rubric item points reach at most ${n} points. ${d-n} left to reach maximum.`,["alert-warning"]),o>l&&I(e.querySelector(".js-settings-points-warning-placeholder"),`Minimum grade from rubric item penalties is ${o} points.`,["alert-warning"])}function G(e,t){var d,v;e.preventDefault();let n=this.closest(".modal"),o=document.querySelector(".js-main-grading-panel form[name=manual-grading-form]");if(!o)return;let i=Array.from(new FormData(o).entries()),r=(v=(d=o.querySelector("[name=__csrf_token]"))==null?void 0:d.value)!=null?v:"",s=this.querySelector(".js-settings-error-alert-placeholder");s&&(s.innerHTML="");let l=new URLSearchParams(new FormData(this));t!=null&&l.set("use_rubric",t),fetch(this.action,{method:"POST",body:l}).catch(h=>({err:h})).then(async h=>{let S=await h.json().catch(()=>({err:`Error: ${h.statusText}`}));if(S.err)return console.error(S),I(this.querySelector(".js-settings-error-alert-placeholder"),S.err);if($(n).modal("hide"),S.gradingPanel){document.querySelector(".js-main-grading-panel").innerHTML=S.gradingPanel;let u=document.querySelector(".js-main-grading-panel form[name=manual-grading-form]");u==null||u.querySelectorAll('input[type="checkbox"]').forEach(g=>{g.checked=!1}),i.forEach(([g,m])=>{u==null||u.querySelectorAll(`[name="${g}"]`).forEach(w=>{w.name==="modified_at"||(w.type!=="checkbox"&&!(m instanceof File)?w.value=m:w.value===m&&(w.checked=!0))})})}if(S.rubricSettings){let u=document.querySelector(".js-rubric-settings-modal");u&&(u.outerHTML=S.rubricSettings)}document.querySelectorAll("input[name=__csrf_token]").forEach(u=>{u.value=r}),Q(),await C()})}function I(e,t,n=["alert-danger"]){if(!e)return;let o=document.createElement("div");o.classList.add("alert","alert-dismissible","fade","show"),n&&o.classList.add(...n),o.setAttribute("role","alert"),o.innerText=t;let i=document.createElement("button");i.classList.add("btn-close"),i.dataset.bsDismiss="alert",i.setAttribute("aria-label","Close"),o.appendChild(i),e.appendChild(o)}function W(){document.querySelectorAll(".js-rubric-items-table tbody tr").forEach(e=>e.addEventListener("dragover",je)),document.querySelectorAll(".js-rubric-item-move-button").forEach(e=>e.addEventListener("dragstart",we)),document.querySelectorAll(".js-rubric-item-long-text-field").forEach(e=>e.addEventListener("click",be)),document.querySelectorAll(".js-rubric-item-move-down-button").forEach(e=>e.addEventListener("click",ve)),document.querySelectorAll(".js-rubric-item-move-up-button").forEach(e=>e.addEventListener("click",Se)),document.querySelectorAll(".js-rubric-item-delete").forEach(e=>e.addEventListener("click",Ee)),document.querySelectorAll(".js-rubric-item-points, .js-rubric-item-limits").forEach(e=>e.addEventListener("input",O))}function T(e){return Math.round(Number(e)*100)/100}function X(e){document.querySelectorAll("form[name=manual-grading-form]").forEach(t=>{var S,u,g,m,w,x,A,q;let n=Number(t.dataset.maxAutoPoints),o=Number(t.dataset.maxManualPoints),i=Number(t.dataset.maxPoints),r=T((S=e==null?void 0:e.classList)!=null&&S.contains("js-auto-score-value-input-percentage")?+((u=e==null?void 0:e.value)!=null?u:0)*n/100:+((m=(g=t.querySelector(".js-auto-score-value-input-points"))==null?void 0:g.value)!=null?m:0))||0,s=T((w=e==null?void 0:e.classList)!=null&&w.contains("js-manual-score-value-input-percentage")?+((x=e==null?void 0:e.value)!=null?x:0)*o/100:+((q=(A=t.querySelector(".js-manual-score-value-input-points"))==null?void 0:A.value)!=null?q:0))||0,l=T(r+s),d=T(r*100/(n||i)),v=T(s*100/(o||i)),h=T(l*100/i);t.querySelectorAll(".js-auto-score-value-input-points").forEach(E=>E!==e&&(E.value=`${r}`)),t.querySelectorAll(".js-auto-score-value-input-percentage").forEach(E=>E!==e&&(E.value=`${d}`)),t.querySelectorAll(".js-manual-score-value-input-points").forEach(E=>E!==e&&(E.value=`${s}`)),t.querySelectorAll(".js-manual-score-value-input-percentage").forEach(E=>E!==e&&(E.value=`${v}`)),t.querySelectorAll(".js-value-manual-points").forEach(E=>E.innerText=`${s}`),t.querySelectorAll(".js-value-auto-points").forEach(E=>E.innerText=`${r}`),t.querySelectorAll(".js-value-total-points").forEach(E=>E.innerText=`${l}`),t.querySelectorAll(".js-value-manual-percentage").forEach(E=>E.innerText=`${v}`),t.querySelectorAll(".js-value-auto-percentage").forEach(E=>E.innerText=`${d}`),t.querySelectorAll(".js-value-total-percentage").forEach(E=>E.innerText=`${h}`)})}function N(e=null){document.querySelectorAll("form[name=manual-grading-form]").forEach(t=>{var n,o,i,r,s;if(t instanceof HTMLFormElement&&t.dataset.rubricActive==="true"){let l=t.querySelector(".js-manual-score-value-input-points");if(!l)return;let d=t.dataset.rubricReplaceAutoPoints==="true",v=Number((n=t.dataset.rubricStartingPoints)!=null?n:0),h=Array.from(t.querySelectorAll(".js-selectable-rubric-item:checked")).map(g=>Number(g.dataset.rubricItemPoints)).reduce((g,m)=>g+m,v),u=Math.min(Math.max(Math.round(h*100)/100,Number(t.dataset.rubricMinPoints)),Number(d?t.dataset.maxPoints:t.dataset.maxManualPoints)+Number(t.dataset.rubricMaxExtraPoints))+Number((i=(o=t.querySelector('input[name="score_manual_adjust_points"]'))==null?void 0:o.value)!=null?i:0)-(d?Number((s=(r=t.querySelector(".js-auto-score-value-input-points"))==null?void 0:r.value)!=null?s:0):0);l.value=`${u}`}}),X(e)}function be(e){if(!(e.currentTarget instanceof HTMLElement))return;let t=e.currentTarget.closest("td"),n=t.querySelector("label"),o=t.querySelector("button");if(!t||!o)return;let i=document.createElement("textarea");i.classList.add("form-control"),i.name=o.dataset.inputName,i.setAttribute("maxlength",1e4),i.textContent=o.dataset.currentValue||"",t.insertBefore(i,o),n==null||n.remove(),o.remove(),i.focus(),i.addEventListener("input",()=>R(i)),R(i)}function _(){document.querySelectorAll(".js-rubric-item-row-order").forEach((e,t)=>{e.value=`${t}`})}function ve(e){if(!(e.currentTarget instanceof HTMLElement))return;let t=e.currentTarget.closest("tr");!t||!t.parentNode||!t.nextElementSibling||(t.parentNode.insertBefore(t.nextElementSibling,t),_())}function Se(e){if(!(e.currentTarget instanceof HTMLElement))return;let t=e.currentTarget.closest("tr");!t||!t.parentNode||!t.nextElementSibling||!t.previousElementSibling||(t.parentNode.insertBefore(t.previousElementSibling,t.nextElementSibling),_())}function Ee(e){var n,o,i;if(!(e.currentTarget instanceof HTMLElement))return;let t=e.currentTarget.closest("table");(n=e.currentTarget.closest("tr"))==null||n.remove(),(o=t==null?void 0:t.querySelectorAll(".js-rubric-item-row-order"))!=null&&o.length||(i=t.querySelector(".js-no-rubric-item-note"))==null||i.classList.remove("d-none"),_(),O()}function we(e){var t;e.currentTarget instanceof HTMLElement&&(window.rubricItemRowDragging=e.currentTarget.closest("tr"),(t=e.originalEvent)!=null&&t.dataTransfer&&(e.originalEvent.dataTransfer.effectAllowed="move"))}function je(e){var r,s;if(!(e.currentTarget instanceof HTMLElement))return;let t=e.currentTarget.closest("tr");if(!t||t.parent!==window.rubricItemRowDragging.parent)return;let n=Array.from((s=(r=t.parentNode)==null?void 0:r.childNodes)!=null?s:[]),o=n.indexOf(window.rubricItemRowDragging),i=n.indexOf(t);e.preventDefault(),i<o?t.parentNode.insertBefore(window.rubricItemRowDragging,t):t.nextSibling?t.parentNode.insertBefore(window.rubricItemRowDragging,t.nextSibling):t.parentNode.appendChild(window.rubricItemRowDragging),_()}function xe(){var S,u,g,m,w;let e=this.closest(".modal");if(!e)return;let t=e.querySelector(".js-rubric-items-table");if(!t)return;let n=Number((S=t.dataset.nextNewId)!=null?S:0)+1,o=(u=e.querySelector(".js-negative-grading"))!=null&&u.checked?-1:1;t.dataset.nextNewId=`${n}`;let i=e.querySelector(".js-new-row-rubric-item"),r=(g=i==null?void 0:i.content.firstElementChild)==null?void 0:g.cloneNode(!0);if(!r||!(r instanceof HTMLTableRowElement))return;t.querySelector("tbody").appendChild(r);let s=r.querySelector(".js-rubric-item-row-order");s&&(s.name=`rubric_item[new${n}][order]`);let l=r.querySelector(".js-rubric-item-points");l&&(l.name=`rubric_item[new${n}][points]`,l.value=`${o}`);let d=r.querySelector(".js-rubric-item-description");d&&(d.name=`rubric_item[new${n}][description]`);let v=r.querySelector(".js-rubric-item-explanation");v&&(v.dataset.inputName=`rubric_item[new${n}][explanation]`);let h=r.querySelector(".js-rubric-item-grader-note");h&&(h.dataset.inputName=`rubric_item[new${n}][grader_note]`),r.querySelectorAll(".js-rubric-item-always-show").forEach(x=>x.name=`rubric_item[new${n}][always_show_to_students]`),(m=r.querySelector(".js-rubric-item-points"))==null||m.focus(),(w=t.querySelector(".js-no-rubric-item-note"))==null||w.classList.add("d-none"),W(),_(),O()}})();
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT © Zeno Rocha
   *)
*/
//# sourceMappingURL=instructorAssessmentManualGradingInstanceQuestion-KXEY6DVV.js.map
