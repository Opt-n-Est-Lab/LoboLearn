{
  "version": 3,
  "sources": ["../../../../../packages/browser-utils/src/on-document-ready.ts", "../../../../../node_modules/js-base64/base64.mjs", "../../../../../packages/html/src/index.ts", "../../../../../packages/browser-utils/src/encode-data.ts", "../../../src/components/AssessmentBadge.html.ts", "../../../../../node_modules/ansi_up/ansi_up.js", "../../../../../node_modules/chalk/source/vendor/ansi-styles/index.js", "../../../../../node_modules/chalk/source/vendor/supports-color/browser.js", "../../../../../node_modules/chalk/source/utilities.js", "../../../../../node_modules/chalk/source/index.js", "../../../src/lib/chalk.ts", "../../../src/components/SyncProblemButton.html.ts", "../../../src/components/TagBadge.html.ts", "../../../src/components/TopicBadge.html.ts", "../../../assets/scripts/lib/questionsTable.ts"],
  "sourcesContent": ["export function onDocumentReady(fn: () => void): void {\n  if (document.readyState === 'interactive' || document.readyState === 'complete') {\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      fn();\n    });\n  }\n}\n", "/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.7';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));\nconst _mkUriSafe = (src) => src\n    .replace(/=/g, '').replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = typeof btoa === 'function' ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 \u00A75\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 \u00A75.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = typeof atob === 'function' ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n", "const ENCODE_HTML_RULES: Record<string, string> = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;',\n};\nconst MATCH_HTML = /[&<>'\"]/g;\n\nfunction encodeCharacter(c: string) {\n  return ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Based on the `escapeXML` function from the `ejs` library.\n */\nfunction escapeHtmlRaw(value: string): string {\n  return value == null ? '' : String(value).replace(MATCH_HTML, encodeCharacter);\n}\n\nfunction escapeValue(value: unknown): string {\n  if (value instanceof HtmlSafeString) {\n    // Already escaped!\n    return value.toString();\n  } else if (Array.isArray(value)) {\n    return value.map((val) => escapeValue(val)).join('');\n  } else if (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    typeof value === 'bigint' ||\n    typeof value === 'boolean'\n  ) {\n    return escapeHtmlRaw(String(value));\n  } else if (value == null) {\n    // undefined or null -- render nothing\n    return '';\n  } else if (typeof value === 'object') {\n    throw new Error(`Cannot interpolate object in template: ${JSON.stringify(value)}`);\n  } else {\n    // There shouldn't be any other types\n    throw new Error(\n      `Unexpected type in template: ${typeof value} for value ${JSON.stringify(value)}`,\n    );\n  }\n}\n\n// Based on https://github.com/Janpot/escape-html-template-tag\nexport class HtmlSafeString {\n  private readonly strings: readonly string[];\n  private readonly values: unknown[];\n\n  constructor(strings: readonly string[], values: unknown[]) {\n    this.strings = strings;\n    this.values = values;\n  }\n\n  toString(): string {\n    return this.values.reduce<string>((acc, val, i) => {\n      return acc + escapeValue(val) + this.strings[i + 1];\n    }, this.strings[0]);\n  }\n}\n\nexport type HtmlValue =\n  | string\n  | number\n  | boolean\n  | bigint\n  | HtmlSafeString\n  | undefined\n  | null\n  | HtmlValue[];\n\nexport function html(strings: TemplateStringsArray, ...values: HtmlValue[]): HtmlSafeString {\n  return new HtmlSafeString(strings, values);\n}\n\n/**\n * Pre-escapes the rendered HTML. Useful for when you want to inline the HTML\n * in something else, for instance in a `data-bs-content` attribute for a Bootstrap\n * popover.\n */\nexport function escapeHtml(html: HtmlSafeString): HtmlSafeString {\n  return unsafeHtml(escapeHtmlRaw(html.toString()));\n}\n\n/**\n * Will render the provided value without any additional escaping. Use carefully\n * with user-provided data.\n *\n * @param value The value to render.\n * @returns An {@link HtmlSafeString} representing the provided value.\n */\nexport function unsafeHtml(value: string): HtmlSafeString {\n  return new HtmlSafeString([value], []);\n}\n\n/**\n * Joins a list of HTML values with a separator.\n *\n * @param values The values to join.\n * @param separator The separator to use between values.\n */\nexport function joinHtml(values: HtmlValue[], separator: HtmlValue = ''): HtmlSafeString {\n  return unsafeHtml(values.map(escapeValue).join(escapeValue(separator)));\n}\n", "import { decode, encode } from 'js-base64';\n\nimport { type HtmlSafeString, html, unsafeHtml } from '@prairielearn/html';\n\n/**\n * Use this function as an HTML component encode data that will be passed to the client.\n *\n * @param data The data to encode.\n * @param elementId The element ID to use for the encoded data.\n *\n */\nexport function EncodedData<T = unknown>(data: T, elementId: string): HtmlSafeString {\n  const encodedData = unsafeHtml(encode(JSON.stringify(data)));\n  return html`<script id=\"${elementId}\" type=\"application/base64\">\n    ${encodedData}\n  </script>`;\n}\n\n/**\n * Decode data that was passed to the client from in HTML component using EncodeData().\n *\n * @param elementId The element ID that stores the encoded data, from from EncodedData().\n * @returns The decoded data.\n */\nexport function decodeData<T = any>(elementId: string): T {\n  const base64Data = document.getElementById(elementId)?.textContent;\n  if (base64Data == null) {\n    throw new Error(`No data found in element with ID \"${elementId}\"`);\n  }\n  const jsonData = decode(base64Data);\n  const data = JSON.parse(jsonData);\n  return data;\n}\n", "import { html } from '@prairielearn/html';\n\nexport function AssessmentBadge({\n  assessment,\n  hideLink = false,\n  urlPrefix,\n  plainUrlPrefix,\n  course_instance_id,\n  publicURL = false,\n}: {\n  assessment: { assessment_id: string; color: string; label: string };\n  hideLink?: boolean;\n  publicURL?: boolean;\n} & ( // If urlPrefix is not provided, then plainUrlPrefix and course_instance_id must be provided and the appropriate URL prefix will be constructed\n  | {\n      urlPrefix: string;\n      plainUrlPrefix?: undefined;\n      course_instance_id?: undefined;\n    }\n  | { urlPrefix?: undefined; plainUrlPrefix: string; course_instance_id: string }\n)) {\n  if (hideLink) {\n    return html`<span class=\"badge color-${assessment.color}\">${assessment.label}</span>`;\n  }\n\n  if (publicURL) {\n    urlPrefix = `${plainUrlPrefix}/public/course_instance/${course_instance_id}`;\n  } else if (urlPrefix === undefined) {\n    // Construct the URL prefix with the appropriate course instance\n    urlPrefix = `${plainUrlPrefix}/course_instance/${course_instance_id}/instructor`;\n  }\n  return html`\n    <a\n      href=\"${urlPrefix}/assessment/${assessment.assessment_id}\"\n      class=\"btn btn-badge color-${assessment.color}\"\n    >\n      ${assessment.label}\n    </a>\n  `;\n}\n", "\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar PacketKind;\n(function (PacketKind) {\n    PacketKind[PacketKind[\"EOS\"] = 0] = \"EOS\";\n    PacketKind[PacketKind[\"Text\"] = 1] = \"Text\";\n    PacketKind[PacketKind[\"Incomplete\"] = 2] = \"Incomplete\";\n    PacketKind[PacketKind[\"ESC\"] = 3] = \"ESC\";\n    PacketKind[PacketKind[\"Unknown\"] = 4] = \"Unknown\";\n    PacketKind[PacketKind[\"SGR\"] = 5] = \"SGR\";\n    PacketKind[PacketKind[\"OSCURL\"] = 6] = \"OSCURL\";\n})(PacketKind || (PacketKind = {}));\nexport class AnsiUp {\n    constructor() {\n        this.VERSION = \"6.0.5\";\n        this.setup_palettes();\n        this._use_classes = false;\n        this.bold = false;\n        this.faint = false;\n        this.italic = false;\n        this.underline = false;\n        this.fg = this.bg = null;\n        this._buffer = '';\n        this._url_allowlist = { 'http': 1, 'https': 1 };\n        this._escape_html = true;\n        this.boldStyle = 'font-weight:bold';\n        this.faintStyle = 'opacity:0.7';\n        this.italicStyle = 'font-style:italic';\n        this.underlineStyle = 'text-decoration:underline';\n    }\n    set use_classes(arg) {\n        this._use_classes = arg;\n    }\n    get use_classes() {\n        return this._use_classes;\n    }\n    set url_allowlist(arg) {\n        this._url_allowlist = arg;\n    }\n    get url_allowlist() {\n        return this._url_allowlist;\n    }\n    set escape_html(arg) {\n        this._escape_html = arg;\n    }\n    get escape_html() {\n        return this._escape_html;\n    }\n    set boldStyle(arg) { this._boldStyle = arg; }\n    get boldStyle() { return this._boldStyle; }\n    set faintStyle(arg) { this._faintStyle = arg; }\n    get faintStyle() { return this._faintStyle; }\n    set italicStyle(arg) { this._italicStyle = arg; }\n    get italicStyle() { return this._italicStyle; }\n    set underlineStyle(arg) { this._underlineStyle = arg; }\n    get underlineStyle() { return this._underlineStyle; }\n    setup_palettes() {\n        this.ansi_colors =\n            [\n                [\n                    { rgb: [0, 0, 0], class_name: \"ansi-black\" },\n                    { rgb: [187, 0, 0], class_name: \"ansi-red\" },\n                    { rgb: [0, 187, 0], class_name: \"ansi-green\" },\n                    { rgb: [187, 187, 0], class_name: \"ansi-yellow\" },\n                    { rgb: [0, 0, 187], class_name: \"ansi-blue\" },\n                    { rgb: [187, 0, 187], class_name: \"ansi-magenta\" },\n                    { rgb: [0, 187, 187], class_name: \"ansi-cyan\" },\n                    { rgb: [255, 255, 255], class_name: \"ansi-white\" }\n                ],\n                [\n                    { rgb: [85, 85, 85], class_name: \"ansi-bright-black\" },\n                    { rgb: [255, 85, 85], class_name: \"ansi-bright-red\" },\n                    { rgb: [0, 255, 0], class_name: \"ansi-bright-green\" },\n                    { rgb: [255, 255, 85], class_name: \"ansi-bright-yellow\" },\n                    { rgb: [85, 85, 255], class_name: \"ansi-bright-blue\" },\n                    { rgb: [255, 85, 255], class_name: \"ansi-bright-magenta\" },\n                    { rgb: [85, 255, 255], class_name: \"ansi-bright-cyan\" },\n                    { rgb: [255, 255, 255], class_name: \"ansi-bright-white\" }\n                ]\n            ];\n        this.palette_256 = [];\n        this.ansi_colors.forEach(palette => {\n            palette.forEach(rec => {\n                this.palette_256.push(rec);\n            });\n        });\n        let levels = [0, 95, 135, 175, 215, 255];\n        for (let r = 0; r < 6; ++r) {\n            for (let g = 0; g < 6; ++g) {\n                for (let b = 0; b < 6; ++b) {\n                    let col = { rgb: [levels[r], levels[g], levels[b]], class_name: 'truecolor' };\n                    this.palette_256.push(col);\n                }\n            }\n        }\n        let grey_level = 8;\n        for (let i = 0; i < 24; ++i, grey_level += 10) {\n            let gry = { rgb: [grey_level, grey_level, grey_level], class_name: 'truecolor' };\n            this.palette_256.push(gry);\n        }\n    }\n    escape_txt_for_html(txt) {\n        if (!this._escape_html)\n            return txt;\n        return txt.replace(/[&<>\"']/gm, (str) => {\n            if (str === \"&\")\n                return \"&amp;\";\n            if (str === \"<\")\n                return \"&lt;\";\n            if (str === \">\")\n                return \"&gt;\";\n            if (str === \"\\\"\")\n                return \"&quot;\";\n            if (str === \"'\")\n                return \"&#x27;\";\n        });\n    }\n    append_buffer(txt) {\n        var str = this._buffer + txt;\n        this._buffer = str;\n    }\n    get_next_packet() {\n        var pkt = {\n            kind: PacketKind.EOS,\n            text: '',\n            url: ''\n        };\n        var len = this._buffer.length;\n        if (len == 0)\n            return pkt;\n        var pos = this._buffer.indexOf(\"\\x1B\");\n        if (pos == -1) {\n            pkt.kind = PacketKind.Text;\n            pkt.text = this._buffer;\n            this._buffer = '';\n            return pkt;\n        }\n        if (pos > 0) {\n            pkt.kind = PacketKind.Text;\n            pkt.text = this._buffer.slice(0, pos);\n            this._buffer = this._buffer.slice(pos);\n            return pkt;\n        }\n        if (pos == 0) {\n            if (len < 3) {\n                pkt.kind = PacketKind.Incomplete;\n                return pkt;\n            }\n            var next_char = this._buffer.charAt(1);\n            if ((next_char != '[') && (next_char != ']') && (next_char != '(')) {\n                pkt.kind = PacketKind.ESC;\n                pkt.text = this._buffer.slice(0, 1);\n                this._buffer = this._buffer.slice(1);\n                return pkt;\n            }\n            if (next_char == '[') {\n                if (!this._csi_regex) {\n                    this._csi_regex = rgx(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n                        ^                           # beginning of line\\n                                                    #\\n                                                    # First attempt\\n                        (?:                         # legal sequence\\n                          \\u001B[                      # CSI\\n                          ([<-?]?)              # private-mode char\\n                          ([d;]*)                    # any digits or semicolons\\n                          ([ -/]?               # an intermediate modifier\\n                          [@-~])                # the command\\n                        )\\n                        |                           # alternate (second attempt)\\n                        (?:                         # illegal sequence\\n                          \\u001B[                      # CSI\\n                          [ -~]*                # anything legal\\n                          ([\\0-\\u001F:])              # anything illegal\\n                        )\\n                    \"], [\"\\n                        ^                           # beginning of line\\n                                                    #\\n                                                    # First attempt\\n                        (?:                         # legal sequence\\n                          \\\\x1b\\\\[                      # CSI\\n                          ([\\\\x3c-\\\\x3f]?)              # private-mode char\\n                          ([\\\\d;]*)                    # any digits or semicolons\\n                          ([\\\\x20-\\\\x2f]?               # an intermediate modifier\\n                          [\\\\x40-\\\\x7e])                # the command\\n                        )\\n                        |                           # alternate (second attempt)\\n                        (?:                         # illegal sequence\\n                          \\\\x1b\\\\[                      # CSI\\n                          [\\\\x20-\\\\x7e]*                # anything legal\\n                          ([\\\\x00-\\\\x1f:])              # anything illegal\\n                        )\\n                    \"])));\n                }\n                let match = this._buffer.match(this._csi_regex);\n                if (match === null) {\n                    pkt.kind = PacketKind.Incomplete;\n                    return pkt;\n                }\n                if (match[4]) {\n                    pkt.kind = PacketKind.ESC;\n                    pkt.text = this._buffer.slice(0, 1);\n                    this._buffer = this._buffer.slice(1);\n                    return pkt;\n                }\n                if ((match[1] != '') || (match[3] != 'm'))\n                    pkt.kind = PacketKind.Unknown;\n                else\n                    pkt.kind = PacketKind.SGR;\n                pkt.text = match[2];\n                var rpos = match[0].length;\n                this._buffer = this._buffer.slice(rpos);\n                return pkt;\n            }\n            else if (next_char == ']') {\n                if (len < 4) {\n                    pkt.kind = PacketKind.Incomplete;\n                    return pkt;\n                }\n                if ((this._buffer.charAt(2) != '8')\n                    || (this._buffer.charAt(3) != ';')) {\n                    pkt.kind = PacketKind.ESC;\n                    pkt.text = this._buffer.slice(0, 1);\n                    this._buffer = this._buffer.slice(1);\n                    return pkt;\n                }\n                if (!this._osc_st) {\n                    this._osc_st = rgxG(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n                        (?:                         # legal sequence\\n                          (\\u001B\\\\)                    # ESC                           |                           # alternate\\n                          (\\u0007)                      # BEL (what xterm did)\\n                        )\\n                        |                           # alternate (second attempt)\\n                        (                           # illegal sequence\\n                          [\\0-\\u0006]                 # anything illegal\\n                          |                           # alternate\\n                          [\\b-\\u001A]                 # anything illegal\\n                          |                           # alternate\\n                          [\\u001C-\\u001F]                 # anything illegal\\n                        )\\n                    \"], [\"\\n                        (?:                         # legal sequence\\n                          (\\\\x1b\\\\\\\\)                    # ESC \\\\\\n                          |                           # alternate\\n                          (\\\\x07)                      # BEL (what xterm did)\\n                        )\\n                        |                           # alternate (second attempt)\\n                        (                           # illegal sequence\\n                          [\\\\x00-\\\\x06]                 # anything illegal\\n                          |                           # alternate\\n                          [\\\\x08-\\\\x1a]                 # anything illegal\\n                          |                           # alternate\\n                          [\\\\x1c-\\\\x1f]                 # anything illegal\\n                        )\\n                    \"])));\n                }\n                this._osc_st.lastIndex = 0;\n                {\n                    let match = this._osc_st.exec(this._buffer);\n                    if (match === null) {\n                        pkt.kind = PacketKind.Incomplete;\n                        return pkt;\n                    }\n                    if (match[3]) {\n                        pkt.kind = PacketKind.ESC;\n                        pkt.text = this._buffer.slice(0, 1);\n                        this._buffer = this._buffer.slice(1);\n                        return pkt;\n                    }\n                }\n                {\n                    let match = this._osc_st.exec(this._buffer);\n                    if (match === null) {\n                        pkt.kind = PacketKind.Incomplete;\n                        return pkt;\n                    }\n                    if (match[3]) {\n                        pkt.kind = PacketKind.ESC;\n                        pkt.text = this._buffer.slice(0, 1);\n                        this._buffer = this._buffer.slice(1);\n                        return pkt;\n                    }\n                }\n                if (!this._osc_regex) {\n                    this._osc_regex = rgx(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n                        ^                           # beginning of line\\n                                                    #\\n                        \\u001B]8;                    # OSC Hyperlink\\n                        [ -:<-~]*       # params (excluding ;)\\n                        ;                           # end of params\\n                        ([!-~]{0,512})        # URL capture\\n                        (?:                         # ST\\n                          (?:\\u001B\\\\)                  # ESC                           |                           # alternate\\n                          (?:\\u0007)                    # BEL (what xterm did)\\n                        )\\n                        ([ -~]+)              # TEXT capture\\n                        \\u001B]8;;                   # OSC Hyperlink End\\n                        (?:                         # ST\\n                          (?:\\u001B\\\\)                  # ESC                           |                           # alternate\\n                          (?:\\u0007)                    # BEL (what xterm did)\\n                        )\\n                    \"], [\"\\n                        ^                           # beginning of line\\n                                                    #\\n                        \\\\x1b\\\\]8;                    # OSC Hyperlink\\n                        [\\\\x20-\\\\x3a\\\\x3c-\\\\x7e]*       # params (excluding ;)\\n                        ;                           # end of params\\n                        ([\\\\x21-\\\\x7e]{0,512})        # URL capture\\n                        (?:                         # ST\\n                          (?:\\\\x1b\\\\\\\\)                  # ESC \\\\\\n                          |                           # alternate\\n                          (?:\\\\x07)                    # BEL (what xterm did)\\n                        )\\n                        ([\\\\x20-\\\\x7e]+)              # TEXT capture\\n                        \\\\x1b\\\\]8;;                   # OSC Hyperlink End\\n                        (?:                         # ST\\n                          (?:\\\\x1b\\\\\\\\)                  # ESC \\\\\\n                          |                           # alternate\\n                          (?:\\\\x07)                    # BEL (what xterm did)\\n                        )\\n                    \"])));\n                }\n                let match = this._buffer.match(this._osc_regex);\n                if (match === null) {\n                    pkt.kind = PacketKind.ESC;\n                    pkt.text = this._buffer.slice(0, 1);\n                    this._buffer = this._buffer.slice(1);\n                    return pkt;\n                }\n                pkt.kind = PacketKind.OSCURL;\n                pkt.url = match[1];\n                pkt.text = match[2];\n                var rpos = match[0].length;\n                this._buffer = this._buffer.slice(rpos);\n                return pkt;\n            }\n            else if (next_char == '(') {\n                pkt.kind = PacketKind.Unknown;\n                this._buffer = this._buffer.slice(3);\n                return pkt;\n            }\n        }\n    }\n    ansi_to_html(txt) {\n        this.append_buffer(txt);\n        var blocks = [];\n        while (true) {\n            var packet = this.get_next_packet();\n            if ((packet.kind == PacketKind.EOS)\n                || (packet.kind == PacketKind.Incomplete))\n                break;\n            if ((packet.kind == PacketKind.ESC)\n                || (packet.kind == PacketKind.Unknown))\n                continue;\n            if (packet.kind == PacketKind.Text)\n                blocks.push(this.transform_to_html(this.with_state(packet)));\n            else if (packet.kind == PacketKind.SGR)\n                this.process_ansi(packet);\n            else if (packet.kind == PacketKind.OSCURL)\n                blocks.push(this.process_hyperlink(packet));\n        }\n        return blocks.join(\"\");\n    }\n    with_state(pkt) {\n        return { bold: this.bold, faint: this.faint, italic: this.italic, underline: this.underline, fg: this.fg, bg: this.bg, text: pkt.text };\n    }\n    process_ansi(pkt) {\n        let sgr_cmds = pkt.text.split(';');\n        while (sgr_cmds.length > 0) {\n            let sgr_cmd_str = sgr_cmds.shift();\n            let num = parseInt(sgr_cmd_str, 10);\n            if (isNaN(num) || num === 0) {\n                this.fg = null;\n                this.bg = null;\n                this.bold = false;\n                this.faint = false;\n                this.italic = false;\n                this.underline = false;\n            }\n            else if (num === 1) {\n                this.bold = true;\n            }\n            else if (num === 2) {\n                this.faint = true;\n            }\n            else if (num === 3) {\n                this.italic = true;\n            }\n            else if (num === 4) {\n                this.underline = true;\n            }\n            else if (num === 21) {\n                this.bold = false;\n            }\n            else if (num === 22) {\n                this.faint = false;\n                this.bold = false;\n            }\n            else if (num === 23) {\n                this.italic = false;\n            }\n            else if (num === 24) {\n                this.underline = false;\n            }\n            else if (num === 39) {\n                this.fg = null;\n            }\n            else if (num === 49) {\n                this.bg = null;\n            }\n            else if ((num >= 30) && (num < 38)) {\n                this.fg = this.ansi_colors[0][(num - 30)];\n            }\n            else if ((num >= 40) && (num < 48)) {\n                this.bg = this.ansi_colors[0][(num - 40)];\n            }\n            else if ((num >= 90) && (num < 98)) {\n                this.fg = this.ansi_colors[1][(num - 90)];\n            }\n            else if ((num >= 100) && (num < 108)) {\n                this.bg = this.ansi_colors[1][(num - 100)];\n            }\n            else if (num === 38 || num === 48) {\n                if (sgr_cmds.length > 0) {\n                    let is_foreground = (num === 38);\n                    let mode_cmd = sgr_cmds.shift();\n                    if (mode_cmd === '5' && sgr_cmds.length > 0) {\n                        let palette_index = parseInt(sgr_cmds.shift(), 10);\n                        if (palette_index >= 0 && palette_index <= 255) {\n                            if (is_foreground)\n                                this.fg = this.palette_256[palette_index];\n                            else\n                                this.bg = this.palette_256[palette_index];\n                        }\n                    }\n                    if (mode_cmd === '2' && sgr_cmds.length > 2) {\n                        let r = parseInt(sgr_cmds.shift(), 10);\n                        let g = parseInt(sgr_cmds.shift(), 10);\n                        let b = parseInt(sgr_cmds.shift(), 10);\n                        if ((r >= 0 && r <= 255) && (g >= 0 && g <= 255) && (b >= 0 && b <= 255)) {\n                            let c = { rgb: [r, g, b], class_name: 'truecolor' };\n                            if (is_foreground)\n                                this.fg = c;\n                            else\n                                this.bg = c;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    transform_to_html(fragment) {\n        let txt = fragment.text;\n        if (txt.length === 0)\n            return txt;\n        txt = this.escape_txt_for_html(txt);\n        if (!fragment.bold && !fragment.italic && !fragment.faint && !fragment.underline && fragment.fg === null && fragment.bg === null)\n            return txt;\n        let styles = [];\n        let classes = [];\n        let fg = fragment.fg;\n        let bg = fragment.bg;\n        if (fragment.bold)\n            styles.push(this._boldStyle);\n        if (fragment.faint)\n            styles.push(this._faintStyle);\n        if (fragment.italic)\n            styles.push(this._italicStyle);\n        if (fragment.underline)\n            styles.push(this._underlineStyle);\n        if (!this._use_classes) {\n            if (fg)\n                styles.push(`color:rgb(${fg.rgb.join(',')})`);\n            if (bg)\n                styles.push(`background-color:rgb(${bg.rgb})`);\n        }\n        else {\n            if (fg) {\n                if (fg.class_name !== 'truecolor') {\n                    classes.push(`${fg.class_name}-fg`);\n                }\n                else {\n                    styles.push(`color:rgb(${fg.rgb.join(',')})`);\n                }\n            }\n            if (bg) {\n                if (bg.class_name !== 'truecolor') {\n                    classes.push(`${bg.class_name}-bg`);\n                }\n                else {\n                    styles.push(`background-color:rgb(${bg.rgb.join(',')})`);\n                }\n            }\n        }\n        let class_string = '';\n        let style_string = '';\n        if (classes.length)\n            class_string = ` class=\"${classes.join(' ')}\"`;\n        if (styles.length)\n            style_string = ` style=\"${styles.join(';')}\"`;\n        return `<span${style_string}${class_string}>${txt}</span>`;\n    }\n    ;\n    process_hyperlink(pkt) {\n        let parts = pkt.url.split(':');\n        if (parts.length < 1)\n            return '';\n        if (!this._url_allowlist[parts[0]])\n            return '';\n        let result = `<a href=\"${this.escape_txt_for_html(pkt.url)}\">${this.escape_txt_for_html(pkt.text)}</a>`;\n        return result;\n    }\n}\nfunction rgx(tmplObj, ...subst) {\n    let regexText = tmplObj.raw[0];\n    let wsrgx = /^\\s+|\\s+\\n|\\s*#[\\s\\S]*?\\n|\\n/gm;\n    let txt2 = regexText.replace(wsrgx, '');\n    return new RegExp(txt2);\n}\nfunction rgxG(tmplObj, ...subst) {\n    let regexText = tmplObj.raw[0];\n    let wsrgx = /^\\s+|\\s+\\n|\\s*#[\\s\\S]*?\\n|\\n/gm;\n    let txt2 = regexText.replace(wsrgx, '');\n    return new RegExp(txt2, 'g');\n}\nvar templateObject_1, templateObject_2, templateObject_3;\n", "const ANSI_BACKGROUND_OFFSET = 10;\n\nconst wrapAnsi16 = (offset = 0) => code => `\\u001B[${code + offset}m`;\n\nconst wrapAnsi256 = (offset = 0) => code => `\\u001B[${38 + offset};5;${code}m`;\n\nconst wrapAnsi16m = (offset = 0) => (red, green, blue) => `\\u001B[${38 + offset};2;${red};${green};${blue}m`;\n\nconst styles = {\n\tmodifier: {\n\t\treset: [0, 0],\n\t\t// 21 isn't widely supported and 22 does the same thing\n\t\tbold: [1, 22],\n\t\tdim: [2, 22],\n\t\titalic: [3, 23],\n\t\tunderline: [4, 24],\n\t\toverline: [53, 55],\n\t\tinverse: [7, 27],\n\t\thidden: [8, 28],\n\t\tstrikethrough: [9, 29],\n\t},\n\tcolor: {\n\t\tblack: [30, 39],\n\t\tred: [31, 39],\n\t\tgreen: [32, 39],\n\t\tyellow: [33, 39],\n\t\tblue: [34, 39],\n\t\tmagenta: [35, 39],\n\t\tcyan: [36, 39],\n\t\twhite: [37, 39],\n\n\t\t// Bright color\n\t\tblackBright: [90, 39],\n\t\tgray: [90, 39], // Alias of `blackBright`\n\t\tgrey: [90, 39], // Alias of `blackBright`\n\t\tredBright: [91, 39],\n\t\tgreenBright: [92, 39],\n\t\tyellowBright: [93, 39],\n\t\tblueBright: [94, 39],\n\t\tmagentaBright: [95, 39],\n\t\tcyanBright: [96, 39],\n\t\twhiteBright: [97, 39],\n\t},\n\tbgColor: {\n\t\tbgBlack: [40, 49],\n\t\tbgRed: [41, 49],\n\t\tbgGreen: [42, 49],\n\t\tbgYellow: [43, 49],\n\t\tbgBlue: [44, 49],\n\t\tbgMagenta: [45, 49],\n\t\tbgCyan: [46, 49],\n\t\tbgWhite: [47, 49],\n\n\t\t// Bright color\n\t\tbgBlackBright: [100, 49],\n\t\tbgGray: [100, 49], // Alias of `bgBlackBright`\n\t\tbgGrey: [100, 49], // Alias of `bgBlackBright`\n\t\tbgRedBright: [101, 49],\n\t\tbgGreenBright: [102, 49],\n\t\tbgYellowBright: [103, 49],\n\t\tbgBlueBright: [104, 49],\n\t\tbgMagentaBright: [105, 49],\n\t\tbgCyanBright: [106, 49],\n\t\tbgWhiteBright: [107, 49],\n\t},\n};\n\nexport const modifierNames = Object.keys(styles.modifier);\nexport const foregroundColorNames = Object.keys(styles.color);\nexport const backgroundColorNames = Object.keys(styles.bgColor);\nexport const colorNames = [...foregroundColorNames, ...backgroundColorNames];\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`,\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false,\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false,\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tstyles.color.ansi = wrapAnsi16();\n\tstyles.color.ansi256 = wrapAnsi256();\n\tstyles.color.ansi16m = wrapAnsi16m();\n\tstyles.bgColor.ansi = wrapAnsi16(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);\n\n\t// From https://github.com/Qix-/color-convert/blob/3f0e0d4e92e235796ccb17f6e85c72094a651f49/conversions.js\n\tObject.defineProperties(styles, {\n\t\trgbToAnsi256: {\n\t\t\tvalue(red, green, blue) {\n\t\t\t\t// We use the extended greyscale palette here, with the exception of\n\t\t\t\t// black and white. normal palette only has 4 greyscale shades.\n\t\t\t\tif (red === green && green === blue) {\n\t\t\t\t\tif (red < 8) {\n\t\t\t\t\t\treturn 16;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (red > 248) {\n\t\t\t\t\t\treturn 231;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Math.round(((red - 8) / 247) * 24) + 232;\n\t\t\t\t}\n\n\t\t\t\treturn 16\n\t\t\t\t\t+ (36 * Math.round(red / 255 * 5))\n\t\t\t\t\t+ (6 * Math.round(green / 255 * 5))\n\t\t\t\t\t+ Math.round(blue / 255 * 5);\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToRgb: {\n\t\t\tvalue(hex) {\n\t\t\t\tconst matches = /[a-f\\d]{6}|[a-f\\d]{3}/i.exec(hex.toString(16));\n\t\t\t\tif (!matches) {\n\t\t\t\t\treturn [0, 0, 0];\n\t\t\t\t}\n\n\t\t\t\tlet [colorString] = matches;\n\n\t\t\t\tif (colorString.length === 3) {\n\t\t\t\t\tcolorString = [...colorString].map(character => character + character).join('');\n\t\t\t\t}\n\n\t\t\t\tconst integer = Number.parseInt(colorString, 16);\n\n\t\t\t\treturn [\n\t\t\t\t\t/* eslint-disable no-bitwise */\n\t\t\t\t\t(integer >> 16) & 0xFF,\n\t\t\t\t\t(integer >> 8) & 0xFF,\n\t\t\t\t\tinteger & 0xFF,\n\t\t\t\t\t/* eslint-enable no-bitwise */\n\t\t\t\t];\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi256: {\n\t\t\tvalue: hex => styles.rgbToAnsi256(...styles.hexToRgb(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t\tansi256ToAnsi: {\n\t\t\tvalue(code) {\n\t\t\t\tif (code < 8) {\n\t\t\t\t\treturn 30 + code;\n\t\t\t\t}\n\n\t\t\t\tif (code < 16) {\n\t\t\t\t\treturn 90 + (code - 8);\n\t\t\t\t}\n\n\t\t\t\tlet red;\n\t\t\t\tlet green;\n\t\t\t\tlet blue;\n\n\t\t\t\tif (code >= 232) {\n\t\t\t\t\tred = (((code - 232) * 10) + 8) / 255;\n\t\t\t\t\tgreen = red;\n\t\t\t\t\tblue = red;\n\t\t\t\t} else {\n\t\t\t\t\tcode -= 16;\n\n\t\t\t\t\tconst remainder = code % 36;\n\n\t\t\t\t\tred = Math.floor(code / 36) / 5;\n\t\t\t\t\tgreen = Math.floor(remainder / 6) / 5;\n\t\t\t\t\tblue = (remainder % 6) / 5;\n\t\t\t\t}\n\n\t\t\t\tconst value = Math.max(red, green, blue) * 2;\n\n\t\t\t\tif (value === 0) {\n\t\t\t\t\treturn 30;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tlet result = 30 + ((Math.round(blue) << 2) | (Math.round(green) << 1) | Math.round(red));\n\n\t\t\t\tif (value === 2) {\n\t\t\t\t\tresult += 60;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\trgbToAnsi: {\n\t\t\tvalue: (red, green, blue) => styles.ansi256ToAnsi(styles.rgbToAnsi256(red, green, blue)),\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi: {\n\t\t\tvalue: hex => styles.ansi256ToAnsi(styles.hexToAnsi256(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t});\n\n\treturn styles;\n}\n\nconst ansiStyles = assembleStyles();\n\nexport default ansiStyles;\n", "/* eslint-env browser */\n\nconst level = (() => {\n\tif (!('navigator' in globalThis)) {\n\t\treturn 0;\n\t}\n\n\tif (globalThis.navigator.userAgentData) {\n\t\tconst brand = navigator.userAgentData.brands.find(({brand}) => brand === 'Chromium');\n\t\tif (brand && brand.version > 93) {\n\t\t\treturn 3;\n\t\t}\n\t}\n\n\tif (/\\b(Chrome|Chromium)\\//.test(globalThis.navigator.userAgent)) {\n\t\treturn 1;\n\t}\n\n\treturn 0;\n})();\n\nconst colorSupport = level !== 0 && {\n\tlevel,\n\thasBasic: true,\n\thas256: level >= 2,\n\thas16m: level >= 3,\n};\n\nconst supportsColor = {\n\tstdout: colorSupport,\n\tstderr: colorSupport,\n};\n\nexport default supportsColor;\n", "// TODO: When targeting Node.js 16, use `String.prototype.replaceAll`.\nexport function stringReplaceAll(string, substring, replacer) {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.slice(endIndex, index) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n\nexport function stringEncaseCRLFWithFirstIndex(string, prefix, postfix, index) {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.slice(endIndex, (gotCR ? index - 1 : index)) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n", "import ansiStyles from '#ansi-styles';\nimport supportsColor from '#supports-color';\nimport { // eslint-disable-line import/order\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex,\n} from './utilities.js';\n\nconst {stdout: stdoutColor, stderr: stderrColor} = supportsColor;\n\nconst GENERATOR = Symbol('GENERATOR');\nconst STYLER = Symbol('STYLER');\nconst IS_EMPTY = Symbol('IS_EMPTY');\n\n// `supportsColor.level` \u2192 `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m',\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nexport class Chalk {\n\tconstructor(options) {\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = (...strings) => strings.join(' ');\n\tapplyOptions(chalk, options);\n\n\tObject.setPrototypeOf(chalk, createChalk.prototype);\n\n\treturn chalk;\n};\n\nfunction createChalk(options) {\n\treturn chalkFactory(options);\n}\n\nObject.setPrototypeOf(createChalk.prototype, Function.prototype);\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this[STYLER]), this[IS_EMPTY]);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t},\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this[STYLER], true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t},\n};\n\nconst getModelAnsi = (model, level, type, ...arguments_) => {\n\tif (model === 'rgb') {\n\t\tif (level === 'ansi16m') {\n\t\t\treturn ansiStyles[type].ansi16m(...arguments_);\n\t\t}\n\n\t\tif (level === 'ansi256') {\n\t\t\treturn ansiStyles[type].ansi256(ansiStyles.rgbToAnsi256(...arguments_));\n\t\t}\n\n\t\treturn ansiStyles[type].ansi(ansiStyles.rgbToAnsi(...arguments_));\n\t}\n\n\tif (model === 'hex') {\n\t\treturn getModelAnsi('rgb', level, type, ...ansiStyles.hexToRgb(...arguments_));\n\t}\n\n\treturn ansiStyles[type][model](...arguments_);\n};\n\nconst usedModels = ['rgb', 'hex', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'color', ...arguments_), ansiStyles.color.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'bgColor', ...arguments_), ansiStyles.bgColor.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this[GENERATOR].level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis[GENERATOR].level = level;\n\t\t},\n\t},\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent,\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\t// Single argument is hot path, implicit coercion is faster than anything\n\t// eslint-disable-next-line no-implicit-coercion\n\tconst builder = (...arguments_) => applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\n\t// We alter the prototype because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tObject.setPrototypeOf(builder, proto);\n\n\tbuilder[GENERATOR] = self;\n\tbuilder[STYLER] = _styler;\n\tbuilder[IS_EMPTY] = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self[IS_EMPTY] ? '' : string;\n\t}\n\n\tlet styler = self[STYLER];\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.includes('\\u001B')) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nObject.defineProperties(createChalk.prototype, styles);\n\nconst chalk = createChalk();\nexport const chalkStderr = createChalk({level: stderrColor ? stderrColor.level : 0});\n\nexport {\n\tmodifierNames,\n\tforegroundColorNames,\n\tbackgroundColorNames,\n\tcolorNames,\n\n\t// TODO: Remove these aliases in the next major version\n\tmodifierNames as modifiers,\n\tforegroundColorNames as foregroundColors,\n\tbackgroundColorNames as backgroundColors,\n\tcolorNames as colors,\n} from './vendor/ansi-styles/index.js';\n\nexport {\n\tstdoutColor as supportsColor,\n\tstderrColor as supportsColorStderr,\n};\n\nexport default chalk;\n", "import { AnsiUp } from 'ansi_up';\nimport { Chalk } from 'chalk';\nexport const chalk = new Chalk({ level: 3 });\n\nconst ansiUp = new AnsiUp();\n// Set a custom style for faint text that allows it to be hidden. This only\n// affects pages that set `--verbose-display` to a specific value, pages that\n// don't set this variable will not be affected and will use the default CSS\n// display value.\nansiUp.faintStyle = 'opacity: 0.7; display: var(--verbose-display);';\n\nexport function ansiToHtml(ansiString: string | null): string {\n  const htmlString = ansiUp.ansi_to_html(ansiString ?? '');\n  // We want to be able to hide whole lines of output, so we need to ensure the line breaks are inside spans.\n  return htmlString.replaceAll('</span>\\n', '\\n</span>');\n}\n", "import { escapeHtml, html, unsafeHtml } from '@prairielearn/html';\n\nimport { ansiToHtml } from '../lib/chalk.js';\n\nexport function SyncProblemButton({ output, type }: { output: string; type: 'error' | 'warning' }) {\n  const title = type === 'error' ? 'Sync Errors' : 'Sync Warnings';\n  const classes =\n    type === 'error' ? 'fa-times text-danger' : 'fa-exclamation-triangle text-warning';\n\n  const popoverContent = html`<pre\n    class=\"text-white rounded p-3 mb-0\"\n    style=\"background-color: black;\"\n  >\n${unsafeHtml(ansiToHtml(output))}</pre\n  >`;\n\n  return html`\n    <button\n      class=\"btn btn-xs btn-ghost me-1\"\n      data-bs-toggle=\"popover\"\n      data-bs-container=\"body\"\n      data-bs-html=\"true\"\n      data-bs-title=\"${title}\"\n      data-bs-content=\"${escapeHtml(popoverContent)}\"\n      data-bs-custom-class=\"popover-wide\"\n    >\n      <i class=\"fa ${classes}\" aria-hidden=\"true\"></i>\n    </button>\n  `;\n}\n", "import { html, joinHtml } from '@prairielearn/html';\n\nimport type { Tag } from '../lib/db-types.js';\n\nexport function TagBadge(tag: Pick<Tag, 'color' | 'name'>) {\n  return html`<span class=\"badge color-${tag.color}\">${tag.name}</span>`;\n}\n\nexport function TagBadgeList(tags: Pick<Tag, 'color' | 'name'>[] | null) {\n  return joinHtml(tags?.map(TagBadge) ?? [], ' ');\n}\n", "import { html } from '@prairielearn/html';\n\nimport type { Topic } from '../lib/db-types.js';\n\nexport function TopicBadge(topic: Topic) {\n  return html`<span class=\"badge color-${topic.color}\">${topic.name}</span>`;\n}\n", "import { decodeData, onDocumentReady } from '@prairielearn/browser-utils';\nimport { html, joinHtml } from '@prairielearn/html';\n\nimport { AssessmentBadge } from '../../../src/components/AssessmentBadge.html.js';\nimport { SyncProblemButton } from '../../../src/components/SyncProblemButton.html.js';\nimport { TagBadgeList } from '../../../src/components/TagBadge.html.js';\nimport { TopicBadge } from '../../../src/components/TopicBadge.html.js';\nimport { type Topic } from '../../../src/lib/db-types.js';\nimport { type QuestionsPageData } from '../../../src/models/questions.js';\n\nimport { type ExtendedBootstrapTableOptions } from './bootstrapTable.js';\n\n// Allows records like 'Prefix...Suffix'. If key extends `${P}${K}${S}`, allowed, otherwise never.\ntype PrefixSuffixObjectKeys<T extends Record<string, any>, P extends string, S extends string> = {\n  [K in keyof T as K extends string ? `${P}${K}${S}` : never]: T[K];\n};\n\ntype AssessmentGlobals = PrefixSuffixObjectKeys<Record<string, any>, 'assessments', 'Formatter'> &\n  PrefixSuffixObjectKeys<Record<string, any>, 'assessments', 'List'>;\n\ndeclare global {\n  interface Window extends AssessmentGlobals {\n    topicList: () => any;\n    tagsList: () => any;\n    sharingSetsList: () => any;\n    versionList: () => any;\n    qidFormatter: (_qid: any, question: QuestionsPageData) => any;\n    topicFormatter: (_topic: any, question: QuestionsPageData) => any;\n    tagsFormatter: (_tags: any, question: QuestionsPageData) => any;\n    sharingSetFormatter: (_sharing_sets: any, question: QuestionsPageData) => any;\n    versionFormatter: (_version: any, question: QuestionsPageData) => any;\n    topicSorter: (topicA: Topic, topicB: Topic) => any;\n    genericFilterSearch: (search: string, value: string) => any;\n    badgeFilterSearch: (search: string, value: string) => any;\n  }\n}\n\nonDocumentReady(() => {\n  const {\n    course_instance_ids,\n    showAddQuestionButton,\n    showAiGenerateQuestionButton,\n    qidPrefix,\n    urlPrefix,\n    plainUrlPrefix,\n  } = decodeData('questions-table-data');\n\n  window.topicList = function () {\n    const data = $('#questionsTable').bootstrapTable('getData') as QuestionsPageData[];\n    return Object.fromEntries(data.map(({ topic }) => [topic.name, topic.name]));\n  };\n\n  window.tagsList = function () {\n    const data = $('#questionsTable').bootstrapTable('getData') as QuestionsPageData[];\n    return Object.fromEntries(\n      data.flatMap((row) => row.tags ?? []).map(({ name }) => [name, name]),\n    );\n  };\n\n  window.sharingSetsList = function () {\n    const data = $('#questionsTable').bootstrapTable('getData') as QuestionsPageData[];\n    const sharing_sets = Object.fromEntries(\n      data.flatMap((row) => row.sharing_sets ?? []).map(({ name }) => [name, name]),\n    );\n    sharing_sets['Public'] = 'Public';\n    sharing_sets['Public source'] = 'Public source';\n    return sharing_sets;\n  };\n\n  window.versionList = function () {\n    const data = $('#questionsTable').bootstrapTable('getData') as QuestionsPageData[];\n    return Object.fromEntries(data.map(({ display_type }) => [display_type, display_type]));\n  };\n\n  window.qidFormatter = function (_qid: any, question: QuestionsPageData) {\n    let text = '';\n    if (question.sync_errors) {\n      text += SyncProblemButton({\n        type: 'error',\n        output: question.sync_errors,\n      });\n    } else if (question.sync_warnings) {\n      text += SyncProblemButton({\n        type: 'warning',\n        output: question.sync_warnings,\n      });\n    }\n\n    // We only want to show the sharing name prefix for publicly-shared questions.\n    // Those that only have their source shared publicly (and thus that are not\n    // available to be imported by other courses) won't show the prefix.\n    const prefix = qidPrefix && question.share_publicly ? qidPrefix : '';\n\n    text += html`\n      <a class=\"formatter-data\" href=\"${urlPrefix}/question/${question.id}/preview\">\n        ${prefix}${question.qid}\n      </a>\n    `;\n    if (question.open_issue_count > 0) {\n      text += html`<a\n        class=\"badge rounded-pill text-bg-danger ms-1\"\n        href=\"${urlPrefix}/course_admin/issues?q=is%3Aopen+qid%3A${encodeURIComponent(\n          question.qid ?? '',\n        )}\"\n        >${question.open_issue_count}</a\n      >`;\n    }\n    return text.toString();\n  };\n\n  window.topicFormatter = function (_topic: any, question: QuestionsPageData) {\n    return TopicBadge(question.topic).toString();\n  };\n\n  window.tagsFormatter = function (_tags: any, question: QuestionsPageData) {\n    return TagBadgeList(question.tags).toString();\n  };\n\n  window.sharingSetFormatter = function (_sharing_sets: any, question: QuestionsPageData) {\n    const items = [];\n    if (question.share_publicly) {\n      items.push(html`<span class=\"badge color-green3\">Public</span>`);\n    }\n    if (question.share_source_publicly) {\n      items.push(html`<span class=\"badge color-green3\">Public source</span>`);\n    }\n    items.push(\n      ...(question.sharing_sets ?? []).map(\n        (sharing_set) => html`<span class=\"badge color-gray1\">${sharing_set.name}</span>`,\n      ),\n    );\n    return joinHtml(items, ' ').toString();\n  };\n\n  window.versionFormatter = function (_version: any, question: QuestionsPageData) {\n    return html`<span class=\"badge color-${question.display_type === 'v3' ? 'green1' : 'red1'}\"\n      >${question.display_type}</span\n    >`.toString();\n  };\n\n  window.topicSorter = function (topicA: Topic, topicB: Topic) {\n    return topicA.name?.localeCompare(topicB.name ?? '');\n  };\n\n  window.genericFilterSearch = function (search: string, value: string) {\n    return $('<div>')\n      .html(value)\n      .find('.formatter-data')\n      .text()\n      .toUpperCase()\n      .includes(search.toUpperCase());\n  };\n\n  window.badgeFilterSearch = function (search: string, value: string) {\n    if (search === '(none)') {\n      return value === '';\n    }\n    const values = $('<div>')\n      .html(value)\n      .find('.badge, .btn-badge')\n      .filter(\n        (i, elem) => $(elem).text().trim().toUpperCase() === search.trim().toUpperCase(),\n      ).length;\n    return !!values;\n  };\n\n  const assessmentsByCourseInstanceFormatter = function (\n    course_instance_id: string,\n    question: QuestionsPageData,\n  ) {\n    return (question.assessments ?? [])\n      .filter(\n        (assessment) => assessment.course_instance_id.toString() === course_instance_id.toString(),\n      )\n      .map((assessment) =>\n        AssessmentBadge({ plainUrlPrefix, course_instance_id, assessment }).toString(),\n      )\n      .join(' ');\n  };\n\n  const assessmentsByCourseInstanceList = function (ci_id: string) {\n    const data = $('#questionsTable').bootstrapTable('getData') as QuestionsPageData[];\n    const assessments = data\n      .flatMap((row) => row.assessments ?? [])\n      .filter((row) => row && row.course_instance_id === ci_id);\n    return {\n      ...Object.fromEntries(assessments.map(({ label }) => [label, label])),\n      '(None)': '(None)',\n    };\n  };\n\n  course_instance_ids.forEach((courseInstanceId: string) => {\n    window[`assessments${courseInstanceId}List`] = function () {\n      return assessmentsByCourseInstanceList(courseInstanceId);\n    };\n\n    window[`assessments${courseInstanceId}Formatter`] = function (\n      _: any,\n      question: QuestionsPageData,\n    ) {\n      return assessmentsByCourseInstanceFormatter(courseInstanceId, question);\n    };\n  });\n\n  const tableSettings: ExtendedBootstrapTableOptions = {\n    // TODO: If we can pick up the following change, we can drop the `icons` config here:\n    // https://github.com/wenzhixin/bootstrap-table/pull/7190\n    iconsPrefix: 'fa',\n    icons: {\n      columns: 'fa-table-list',\n    },\n\n    buttons: {\n      clearFilters: {\n        text: 'Clear filters',\n        icon: 'fa-times',\n        attributes: { title: 'Clear all set question filters' },\n        event: () => {\n          $('#questionsTable').bootstrapTable('clearFilterControl');\n        },\n      },\n    },\n\n    onResetView() {\n      const searchInputs = document.querySelectorAll(\n        '#questionsTable .form-control, #questionsTable .form-select',\n      );\n      searchInputs.forEach((searchInput) => {\n        searchInput.setAttribute(\n          'aria-label',\n          `Filter by ${searchInput.closest('th')?.querySelector('div.th-inner')?.textContent?.trim()}`,\n        );\n      });\n    },\n  };\n\n  if (showAddQuestionButton) {\n    tableSettings.buttons.addQuestion = {\n      text: 'Add Question',\n      icon: 'fa-plus',\n      attributes: { title: 'Create a new question' },\n      event: () => {\n        $('#createQuestionModal').modal('show');\n      },\n    };\n  }\n\n  if (showAiGenerateQuestionButton) {\n    tableSettings.buttons.aiGenerateQuestion = {\n      html: html`\n        <a class=\"btn btn-secondary\" href=\"${urlPrefix}/ai_generate_question_drafts\">\n          <i class=\"fa fa-wand-magic-sparkles\" aria-hidden=\"true\"></i>\n          Generate Question with AI\n        </a>\n      `.toString(),\n    };\n  }\n\n  $('#questionsTable').bootstrapTable(tableSettings);\n\n  // The startFromInput either has value 'Template' or 'Empty question'\n  const startFromInput = document.querySelector<HTMLInputElement>('#start_from');\n\n  // The templateQuestionInput lets the user select the template question to start from, and is only\n  // enabled when the startFromInput is set to 'Template'\n  const templateQuestionInput = document.querySelector<HTMLInputElement>('#template_qid');\n\n  // The templateContainerDiv is hidden when the startFromInput is set to 'Empty question',\n  // otherwise it is shown.\n  const templateContainerDiv = document.querySelector<HTMLDivElement>('#templateContainer');\n\n  if (!startFromInput || !templateQuestionInput || !templateContainerDiv) {\n    return;\n  }\n\n  startFromInput.addEventListener('change', () => {\n    // If the startFromInput is set to 'Template', the templateQuestionInput should be visible and enabled\n    // Otherwise, it should be hidden and disabled.\n    templateQuestionInput.disabled = startFromInput.value !== 'Template';\n    templateContainerDiv.hidden = startFromInput.value !== 'Template';\n  });\n\n  $(document).keydown((event) => {\n    if (\n      (event.ctrlKey || event.metaKey) &&\n      String.fromCharCode(event.which).toLowerCase() === 'f'\n    ) {\n      if ($('.sticky-header-container:visible input.bootstrap-table-filter-control-qid').length) {\n        $('.sticky-header-container:visible input.bootstrap-table-filter-control-qid').focus();\n      } else {\n        $('input.bootstrap-table-filter-control-qid').focus();\n      }\n      event.preventDefault();\n    }\n  });\n});\n"],
  "mappings": "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",
  "names": ["onDocumentReady", "fn", "_hasBuffer", "_TD", "_TE", "b64ch", "b64chs", "b64tab", "a", "tab", "c", "i", "b64re", "_fromCC", "_U8Afrom", "it", "_tidyB64", "s", "re_btou", "cb_btou", "cccc", "cp", "offset", "_fromCC", "btou", "b", "atobPolyfill", "asc", "b64re", "u24", "bin", "r1", "r2", "i", "b64tab", "_atob", "_tidyB64", "_hasBuffer", "_toUint8Array", "a", "_U8Afrom", "c", "_decode", "_hasBuffer", "a", "_TD", "_toUint8Array", "btou", "_atob", "_unURI", "_tidyB64", "m0", "decode", "src", "ENCODE_HTML_RULES", "MATCH_HTML", "encodeCharacter", "c", "escapeHtmlRaw", "value", "escapeValue", "HtmlSafeString", "val", "strings", "values", "__publicField", "acc", "i", "html", "escapeHtml", "unsafeHtml", "joinHtml", "separator", "decodeData", "elementId", "_a", "base64Data", "jsonData", "decode", "AssessmentBadge", "assessment", "hideLink", "urlPrefix", "plainUrlPrefix", "course_instance_id", "publicURL", "html", "__makeTemplateObject", "cooked", "raw", "PacketKind", "AnsiUp", "arg", "palette", "rec", "levels", "g", "b", "col", "grey_level", "i", "gry", "txt", "str", "pkt", "len", "pos", "next_char", "rgx", "templateObject_1", "match", "rpos", "rgxG", "templateObject_2", "templateObject_3", "blocks", "packet", "sgr_cmds", "sgr_cmd_str", "num", "is_foreground", "mode_cmd", "palette_index", "r", "c", "fragment", "styles", "classes", "fg", "bg", "class_string", "style_string", "parts", "tmplObj", "subst", "regexText", "wsrgx", "txt2", "wrapAnsi16", "offset", "code", "wrapAnsi256", "wrapAnsi16m", "red", "green", "blue", "styles", "modifierNames", "foregroundColorNames", "backgroundColorNames", "colorNames", "assembleStyles", "codes", "groupName", "group", "styleName", "style", "hex", "matches", "colorString", "character", "integer", "remainder", "value", "result", "ansiStyles", "ansi_styles_default", "level", "brand", "colorSupport", "supportsColor", "browser_default", "stringReplaceAll", "string", "substring", "replacer", "index", "substringLength", "endIndex", "returnValue", "stringEncaseCRLFWithFirstIndex", "prefix", "postfix", "gotCR", "stdoutColor", "stderrColor", "browser_default", "GENERATOR", "STYLER", "IS_EMPTY", "levelMapping", "styles", "applyOptions", "object", "options", "colorLevel", "Chalk", "chalkFactory", "chalk", "strings", "createChalk", "styleName", "style", "ansi_styles_default", "builder", "createBuilder", "createStyler", "getModelAnsi", "model", "level", "type", "arguments_", "usedModels", "styler", "bgModel", "proto", "__spreadProps", "__spreadValues", "open", "close", "parent", "openAll", "closeAll", "self", "_styler", "_isEmpty", "applyStyle", "string", "stringReplaceAll", "lfIndex", "stringEncaseCRLFWithFirstIndex", "chalkStderr", "chalk", "Chalk", "ansiUp", "AnsiUp", "ansiToHtml", "ansiString", "SyncProblemButton", "output", "type", "title", "classes", "popoverContent", "html", "unsafeHtml", "ansiToHtml", "escapeHtml", "TagBadge", "tag", "html", "TagBadgeList", "tags", "_a", "joinHtml", "TopicBadge", "topic", "html", "onDocumentReady", "course_instance_ids", "showAddQuestionButton", "showAiGenerateQuestionButton", "qidPrefix", "urlPrefix", "plainUrlPrefix", "decodeData", "data", "topic", "row", "_a", "name", "sharing_sets", "display_type", "_qid", "question", "text", "SyncProblemButton", "prefix", "html", "_topic", "TopicBadge", "_tags", "TagBadgeList", "_sharing_sets", "items", "sharing_set", "joinHtml", "_version", "topicA", "topicB", "_b", "search", "value", "i", "elem", "assessmentsByCourseInstanceFormatter", "course_instance_id", "assessment", "AssessmentBadge", "assessmentsByCourseInstanceList", "ci_id", "assessments", "__spreadProps", "__spreadValues", "label", "courseInstanceId", "_", "tableSettings", "searchInput", "_c", "startFromInput", "templateQuestionInput", "templateContainerDiv", "event"]
}
