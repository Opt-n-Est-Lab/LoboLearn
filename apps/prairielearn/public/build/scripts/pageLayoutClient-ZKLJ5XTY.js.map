{
  "version": 3,
  "sources": ["../../../../../packages/browser-utils/src/on-document-ready.ts", "../../../assets/scripts/pageLayoutClient.ts"],
  "sourcesContent": ["export function onDocumentReady(fn: () => void): void {\n  if (document.readyState === 'interactive' || document.readyState === 'complete') {\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      fn();\n    });\n  }\n}\n", "import { onDocumentReady } from '@prairielearn/browser-utils';\n\n// Handle when the user expands or collapses the side nav\nonDocumentReady(async () => {\n  const sideNavTogglerButton = document.querySelector<HTMLButtonElement>('#side-nav-toggler');\n  const sideNavTogglerIcon = document.querySelector<HTMLElement>('#side-nav-toggler-icon');\n  const appContainerDiv = document.querySelector<HTMLDivElement>('#app-container');\n\n  if (!sideNavTogglerButton || !appContainerDiv || !sideNavTogglerIcon) return;\n\n  sideNavTogglerButton.addEventListener('click', async () => {\n    const sideNavExpanded = !appContainerDiv.classList.contains('collapsed');\n\n    const sideNavButtons = document.querySelectorAll<HTMLButtonElement>('.side-nav-link');\n\n    if (sideNavExpanded) {\n      // Collapse the side nav\n      appContainerDiv.classList.add('collapsed');\n\n      // Add tab name tooltips\n      sideNavButtons.forEach((button) => {\n        button.setAttribute('data-bs-toggle', 'tooltip');\n      });\n\n      // Update the side nav toggler button tooltip and icon\n      sideNavTogglerButton.setAttribute('data-bs-title', 'Expand side nav');\n      sideNavTogglerIcon.classList.replace('bi-arrow-bar-left', 'bi-arrow-bar-right');\n\n      // Bootstrap does not update aria-label when data-bs-title changes, so we update it explicitly\n      sideNavTogglerButton.setAttribute('aria-label', 'Expand side nav');\n    } else {\n      // Expand the side nav\n      appContainerDiv.classList.remove('collapsed');\n\n      // Remove tab name tooltips\n      sideNavButtons.forEach((button) => {\n        button.removeAttribute('data-bs-toggle');\n      });\n\n      // Update the side nav toggler button tooltip and icon\n      sideNavTogglerButton.setAttribute('data-bs-title', 'Collapse side nav');\n      sideNavTogglerIcon.classList.replace('bi-arrow-bar-right', 'bi-arrow-bar-left');\n\n      // Bootstrap does not update aria-label when data-bs-title changes, so we update it explicitly\n      sideNavTogglerButton.setAttribute('aria-label', 'Collapse side nav');\n    }\n\n    // Update the tooltip title\n    const tooltip = window.bootstrap.Tooltip.getInstance(sideNavTogglerButton);\n    if (tooltip) {\n      // Dispose the current tooltip instance\n      tooltip.dispose();\n      // Re-initialize the tooltip\n      new window.bootstrap.Tooltip(sideNavTogglerButton);\n    }\n\n    // Update the side nav expanded state\n    await fetch('/pl/side_nav/settings', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        side_nav_expanded: !sideNavExpanded,\n      }),\n    });\n  });\n});\n"],
  "mappings": "mBAAM,SAAUA,EAAgBC,EAAc,CACxC,SAAS,aAAe,eAAiB,SAAS,aAAe,WACnEA,EAAE,EAEF,SAAS,iBAAiB,mBAAoB,IAAK,CACjDA,EAAE,CACJ,CAAC,CAEL,CCLAC,EAAgB,SAAY,CAC1B,IAAMC,EAAuB,SAAS,cAAiC,mBAAmB,EACpFC,EAAqB,SAAS,cAA2B,wBAAwB,EACjFC,EAAkB,SAAS,cAA8B,gBAAgB,EAE3E,CAACF,GAAwB,CAACE,GAAmB,CAACD,GAElDD,EAAqB,iBAAiB,QAAS,SAAY,CACzD,IAAMG,EAAkB,CAACD,EAAgB,UAAU,SAAS,WAAW,EAEjEE,EAAiB,SAAS,iBAAoC,gBAAgB,EAEhFD,GAEFD,EAAgB,UAAU,IAAI,WAAW,EAGzCE,EAAe,QAASC,GAAW,CACjCA,EAAO,aAAa,iBAAkB,SAAS,CACjD,CAAC,EAGDL,EAAqB,aAAa,gBAAiB,iBAAiB,EACpEC,EAAmB,UAAU,QAAQ,oBAAqB,oBAAoB,EAG9ED,EAAqB,aAAa,aAAc,iBAAiB,IAGjEE,EAAgB,UAAU,OAAO,WAAW,EAG5CE,EAAe,QAASC,GAAW,CACjCA,EAAO,gBAAgB,gBAAgB,CACzC,CAAC,EAGDL,EAAqB,aAAa,gBAAiB,mBAAmB,EACtEC,EAAmB,UAAU,QAAQ,qBAAsB,mBAAmB,EAG9ED,EAAqB,aAAa,aAAc,mBAAmB,GAIrE,IAAMM,EAAU,OAAO,UAAU,QAAQ,YAAYN,CAAoB,EACrEM,IAEFA,EAAQ,QAAQ,EAEhB,IAAI,OAAO,UAAU,QAAQN,CAAoB,GAInD,MAAM,MAAM,wBAAyB,CACnC,OAAQ,MACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAU,CACnB,kBAAmB,CAACG,CACtB,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC",
  "names": ["onDocumentReady", "fn", "onDocumentReady", "sideNavTogglerButton", "sideNavTogglerIcon", "appContainerDiv", "sideNavExpanded", "sideNavButtons", "button", "tooltip"]
}
